!function(t) {
    var e = {};
    function n(r) {
        if (e[r])
            return e[r].exports;
        var i = e[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return t[r].call(i.exports, i, i.exports, n),
        i.l = !0,
        i.exports
    }
    n.m = t,
    n.c = e,
    n.d = function(t, e, r) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: r
        })
    }
    ,
    n.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }
    ,
    n.t = function(t, e) {
        if (1 & e && (t = n(t)),
        8 & e)
            return t;
        if (4 & e && "object" == typeof t && t && t.__esModule)
            return t;
        var r = Object.create(null);
        if (n.r(r),
        Object.defineProperty(r, "default", {
            enumerable: !0,
            value: t
        }),
        2 & e && "string" != typeof t)
            for (var i in t)
                n.d(r, i, function(e) {
                    return t[e]
                }
                .bind(null, i));
        return r
    }
    ,
    n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        }
        : function() {
            return t
        }
        ;
        return n.d(e, "a", e),
        e
    }
    ,
    n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    n.p = "",
    n(n.s = 187)
}([function(t, e, n) {
    var r = n(3)
      , i = n(9)
      , o = n(19)
      , a = n(16)
      , s = n(22)
      , u = function t(e, n, u) {
        var c, l, h, f, p = e & t.F, d = e & t.G, m = e & t.P, v = e & t.B, g = d ? r : e & t.S ? r[n] || (r[n] = {}) : (r[n] || {}).prototype, y = d ? i : i[n] || (i[n] = {}), b = y.prototype || (y.prototype = {});
        for (c in d && (u = n),
        u)
            h = ((l = !p && g && void 0 !== g[c]) ? g : u)[c],
            f = v && l ? s(h, r) : m && "function" == typeof h ? s(Function.call, h) : h,
            g && a(g, c, h, e & t.U),
            y[c] != h && o(y, c, f),
            m && b[c] != h && (b[c] = h)
    };
    r.core = i,
    u.F = 1,
    u.G = 2,
    u.S = 4,
    u.P = 8,
    u.B = 16,
    u.W = 32,
    u.U = 64,
    u.R = 128,
    t.exports = u
}
, function(t, e, n) {
    "use strict";
    var r;
    function i(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n,
        t
    }
    function o(t) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function a(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    function s(t, e) {
        return !e || "object" !== o(e) && "function" != typeof e ? u(t) : e
    }
    function u(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function c(t) {
        return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function l(t, e) {
        if ("function" != typeof e && null !== e)
            throw new TypeError("Super expression must either be null or a function");
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                writable: !0,
                configurable: !0
            }
        }),
        e && h(t, e)
    }
    function h(t, e) {
        return (h = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    n.r(e),
    n.d(e, "ACESFilmicToneMapping", (function() {
        return dt
    }
    )),
    n.d(e, "AddEquation", (function() {
        return N
    }
    )),
    n.d(e, "AddOperation", (function() {
        return ut
    }
    )),
    n.d(e, "AdditiveBlending", (function() {
        return C
    }
    )),
    n.d(e, "AlphaFormat", (function() {
        return Yt
    }
    )),
    n.d(e, "AlwaysDepth", (function() {
        return $
    }
    )),
    n.d(e, "AlwaysStencilFunc", (function() {
        return In
    }
    )),
    n.d(e, "AmbientLight", (function() {
        return vh
    }
    )),
    n.d(e, "AmbientLightProbe", (function() {
        return Fh
    }
    )),
    n.d(e, "AnimationClip", (function() {
        return Ml
    }
    )),
    n.d(e, "AnimationLoader", (function() {
        return Rl
    }
    )),
    n.d(e, "AnimationMixer", (function() {
        return vf
    }
    )),
    n.d(e, "AnimationObjectGroup", (function() {
        return df
    }
    )),
    n.d(e, "AnimationUtils", (function() {
        return ll
    }
    )),
    n.d(e, "ArcCurve", (function() {
        return Fl
    }
    )),
    n.d(e, "ArrayCamera", (function() {
        return Ds
    }
    )),
    n.d(e, "ArrowHelper", (function() {
        return ip
    }
    )),
    n.d(e, "Audio", (function() {
        return Zh
    }
    )),
    n.d(e, "AudioAnalyser", (function() {
        return ef
    }
    )),
    n.d(e, "AudioContext", (function() {
        return Dh
    }
    )),
    n.d(e, "AudioListener", (function() {
        return Yh
    }
    )),
    n.d(e, "AudioLoader", (function() {
        return kh
    }
    )),
    n.d(e, "AxesHelper", (function() {
        return op
    }
    )),
    n.d(e, "AxisHelper", (function() {
        return dd
    }
    )),
    n.d(e, "BackSide", (function() {
        return T
    }
    )),
    n.d(e, "BasicDepthPacking", (function() {
        return dn
    }
    )),
    n.d(e, "BasicShadowMap", (function() {
        return _
    }
    )),
    n.d(e, "BinaryTextureLoader", (function() {
        return bd
    }
    )),
    n.d(e, "Bone", (function() {
        return fu
    }
    )),
    n.d(e, "BooleanKeyframeTrack", (function() {
        return vl
    }
    )),
    n.d(e, "BoundingBoxHelper", (function() {
        return md
    }
    )),
    n.d(e, "Box2", (function() {
        return Ef
    }
    )),
    n.d(e, "Box3", (function() {
        return qr
    }
    )),
    n.d(e, "Box3Helper", (function() {
        return $f
    }
    )),
    n.d(e, "BoxBufferGeometry", (function() {
        return So
    }
    )),
    n.d(e, "BoxGeometry", (function() {
        return Mo
    }
    )),
    n.d(e, "BoxHelper", (function() {
        return Kf
    }
    )),
    n.d(e, "BufferAttribute", (function() {
        return Ri
    }
    )),
    n.d(e, "BufferGeometry", (function() {
        return Ji
    }
    )),
    n.d(e, "BufferGeometryLoader", (function() {
        return wh
    }
    )),
    n.d(e, "ByteType", (function() {
        return zt
    }
    )),
    n.d(e, "Cache", (function() {
        return El
    }
    )),
    n.d(e, "Camera", (function() {
        return Lo
    }
    )),
    n.d(e, "CameraHelper", (function() {
        return Zf
    }
    )),
    n.d(e, "CanvasRenderer", (function() {
        return wd
    }
    )),
    n.d(e, "CanvasTexture", (function() {
        return ju
    }
    )),
    n.d(e, "CatmullRomCurve3", (function() {
        return Wl
    }
    )),
    n.d(e, "CineonToneMapping", (function() {
        return pt
    }
    )),
    n.d(e, "CircleBufferGeometry", (function() {
        return Qc
    }
    )),
    n.d(e, "CircleGeometry", (function() {
        return Jc
    }
    )),
    n.d(e, "ClampToEdgeWrapping", (function() {
        return St
    }
    )),
    n.d(e, "Clock", (function() {
        return Hh
    }
    )),
    n.d(e, "ClosedSplineCurve3", (function() {
        return hd
    }
    )),
    n.d(e, "Color", (function() {
        return wi
    }
    )),
    n.d(e, "ColorKeyframeTrack", (function() {
        return gl
    }
    )),
    n.d(e, "CompressedTexture", (function() {
        return zu
    }
    )),
    n.d(e, "CompressedTextureLoader", (function() {
        return Cl
    }
    )),
    n.d(e, "ConeBufferGeometry", (function() {
        return Zc
    }
    )),
    n.d(e, "ConeGeometry", (function() {
        return Yc
    }
    )),
    n.d(e, "CubeCamera", (function() {
        return Ro
    }
    )),
    n.d(e, "CubeGeometry", (function() {
        return Mo
    }
    )),
    n.d(e, "CubeReflectionMapping", (function() {
        return vt
    }
    )),
    n.d(e, "CubeRefractionMapping", (function() {
        return gt
    }
    )),
    n.d(e, "CubeTexture", (function() {
        return ea
    }
    )),
    n.d(e, "CubeTextureLoader", (function() {
        return kl
    }
    )),
    n.d(e, "CubeUVReflectionMapping", (function() {
        return _t
    }
    )),
    n.d(e, "CubeUVRefractionMapping", (function() {
        return wt
    }
    )),
    n.d(e, "CubicBezierCurve", (function() {
        return Zl
    }
    )),
    n.d(e, "CubicBezierCurve3", (function() {
        return Jl
    }
    )),
    n.d(e, "CubicInterpolant", (function() {
        return fl
    }
    )),
    n.d(e, "CullFaceBack", (function() {
        return v
    }
    )),
    n.d(e, "CullFaceFront", (function() {
        return g
    }
    )),
    n.d(e, "CullFaceFrontBack", (function() {
        return y
    }
    )),
    n.d(e, "CullFaceNone", (function() {
        return m
    }
    )),
    n.d(e, "Curve", (function() {
        return zl
    }
    )),
    n.d(e, "CurvePath", (function() {
        return rh
    }
    )),
    n.d(e, "CustomBlending", (function() {
        return k
    }
    )),
    n.d(e, "CylinderBufferGeometry", (function() {
        return Xc
    }
    )),
    n.d(e, "CylinderGeometry", (function() {
        return qc
    }
    )),
    n.d(e, "Cylindrical", (function() {
        return Mf
    }
    )),
    n.d(e, "DataTexture", (function() {
        return Io
    }
    )),
    n.d(e, "DataTexture2DArray", (function() {
        return na
    }
    )),
    n.d(e, "DataTexture3D", (function() {
        return ra
    }
    )),
    n.d(e, "DataTextureLoader", (function() {
        return Il
    }
    )),
    n.d(e, "DecrementStencilOp", (function() {
        return wn
    }
    )),
    n.d(e, "DecrementWrapStencilOp", (function() {
        return Sn
    }
    )),
    n.d(e, "DefaultLoadingManager", (function() {
        return Al
    }
    )),
    n.d(e, "DepthFormat", (function() {
        return te
    }
    )),
    n.d(e, "DepthStencilFormat", (function() {
        return ee
    }
    )),
    n.d(e, "DepthTexture", (function() {
        return Fu
    }
    )),
    n.d(e, "DirectionalLight", (function() {
        return mh
    }
    )),
    n.d(e, "DirectionalLightHelper", (function() {
        return qf
    }
    )),
    n.d(e, "DirectionalLightShadow", (function() {
        return dh
    }
    )),
    n.d(e, "DiscreteInterpolant", (function() {
        return dl
    }
    )),
    n.d(e, "DodecahedronBufferGeometry", (function() {
        return Ku
    }
    )),
    n.d(e, "DodecahedronGeometry", (function() {
        return Qu
    }
    )),
    n.d(e, "DoubleSide", (function() {
        return A
    }
    )),
    n.d(e, "DstAlphaFactor", (function() {
        return X
    }
    )),
    n.d(e, "DstColorFactor", (function() {
        return Z
    }
    )),
    n.d(e, "DynamicBufferAttribute", (function() {
        return ed
    }
    )),
    n.d(e, "DynamicCopyUsage", (function() {
        return Un
    }
    )),
    n.d(e, "DynamicDrawUsage", (function() {
        return kn
    }
    )),
    n.d(e, "DynamicReadUsage", (function() {
        return jn
    }
    )),
    n.d(e, "EdgesGeometry", (function() {
        return Wc
    }
    )),
    n.d(e, "EdgesHelper", (function() {
        return vd
    }
    )),
    n.d(e, "EllipseCurve", (function() {
        return jl
    }
    )),
    n.d(e, "EqualDepth", (function() {
        return nt
    }
    )),
    n.d(e, "EqualStencilFunc", (function() {
        return Pn
    }
    )),
    n.d(e, "EquirectangularReflectionMapping", (function() {
        return yt
    }
    )),
    n.d(e, "EquirectangularRefractionMapping", (function() {
        return bt
    }
    )),
    n.d(e, "Euler", (function() {
        return vr
    }
    )),
    n.d(e, "EventDispatcher", (function() {
        return Hn
    }
    )),
    n.d(e, "ExtrudeBufferGeometry", (function() {
        return Rc
    }
    )),
    n.d(e, "ExtrudeGeometry", (function() {
        return Oc
    }
    )),
    n.d(e, "Face3", (function() {
        return Ti
    }
    )),
    n.d(e, "Face4", (function() {
        return Bp
    }
    )),
    n.d(e, "FaceColors", (function() {
        return Vp
    }
    )),
    n.d(e, "FileLoader", (function() {
        return Ol
    }
    )),
    n.d(e, "FlatShading", (function() {
        return P
    }
    )),
    n.d(e, "Float32Attribute", (function() {
        return cd
    }
    )),
    n.d(e, "Float32BufferAttribute", (function() {
        return Fi
    }
    )),
    n.d(e, "Float64Attribute", (function() {
        return ld
    }
    )),
    n.d(e, "Float64BufferAttribute", (function() {
        return Bi
    }
    )),
    n.d(e, "FloatType", (function() {
        return Gt
    }
    )),
    n.d(e, "Fog", (function() {
        return Fs
    }
    )),
    n.d(e, "FogExp2", (function() {
        return js
    }
    )),
    n.d(e, "Font", (function() {
        return Rh
    }
    )),
    n.d(e, "FontLoader", (function() {
        return Ih
    }
    )),
    n.d(e, "FrontFaceDirectionCCW", (function() {
        return x
    }
    )),
    n.d(e, "FrontFaceDirectionCW", (function() {
        return b
    }
    )),
    n.d(e, "FrontSide", (function() {
        return E
    }
    )),
    n.d(e, "Frustum", (function() {
        return No
    }
    )),
    n.d(e, "GammaEncoding", (function() {
        return un
    }
    )),
    n.d(e, "Geometry", (function() {
        return wo
    }
    )),
    n.d(e, "GeometryUtils", (function() {
        return _d
    }
    )),
    n.d(e, "GreaterDepth", (function() {
        return it
    }
    )),
    n.d(e, "GreaterEqualDepth", (function() {
        return rt
    }
    )),
    n.d(e, "GreaterEqualStencilFunc", (function() {
        return Cn
    }
    )),
    n.d(e, "GreaterStencilFunc", (function() {
        return On
    }
    )),
    n.d(e, "GridHelper", (function() {
        return Uf
    }
    )),
    n.d(e, "Group", (function() {
        return ks
    }
    )),
    n.d(e, "HalfFloatType", (function() {
        return Ht
    }
    )),
    n.d(e, "HemisphereLight", (function() {
        return sh
    }
    )),
    n.d(e, "HemisphereLightHelper", (function() {
        return Bf
    }
    )),
    n.d(e, "HemisphereLightProbe", (function() {
        return jh
    }
    )),
    n.d(e, "IcosahedronBufferGeometry", (function() {
        return Ju
    }
    )),
    n.d(e, "IcosahedronGeometry", (function() {
        return Zu
    }
    )),
    n.d(e, "ImageBitmapLoader", (function() {
        return Lh
    }
    )),
    n.d(e, "ImageLoader", (function() {
        return Dl
    }
    )),
    n.d(e, "ImageUtils", (function() {
        return Jn
    }
    )),
    n.d(e, "ImmediateRenderObject", (function() {
        return Lf
    }
    )),
    n.d(e, "IncrementStencilOp", (function() {
        return _n
    }
    )),
    n.d(e, "IncrementWrapStencilOp", (function() {
        return Mn
    }
    )),
    n.d(e, "InstancedBufferAttribute", (function() {
        return _h
    }
    )),
    n.d(e, "InstancedBufferGeometry", (function() {
        return xh
    }
    )),
    n.d(e, "InstancedInterleavedBuffer", (function() {
        return yf
    }
    )),
    n.d(e, "InstancedMesh", (function() {
        return gu
    }
    )),
    n.d(e, "Int16Attribute", (function() {
        return od
    }
    )),
    n.d(e, "Int16BufferAttribute", (function() {
        return ki
    }
    )),
    n.d(e, "Int32Attribute", (function() {
        return sd
    }
    )),
    n.d(e, "Int32BufferAttribute", (function() {
        return zi
    }
    )),
    n.d(e, "Int8Attribute", (function() {
        return nd
    }
    )),
    n.d(e, "Int8BufferAttribute", (function() {
        return Ci
    }
    )),
    n.d(e, "IntType", (function() {
        return Bt
    }
    )),
    n.d(e, "InterleavedBuffer", (function() {
        return Bs
    }
    )),
    n.d(e, "InterleavedBufferAttribute", (function() {
        return Hs
    }
    )),
    n.d(e, "Interpolant", (function() {
        return hl
    }
    )),
    n.d(e, "InterpolateDiscrete", (function() {
        return Je
    }
    )),
    n.d(e, "InterpolateLinear", (function() {
        return Qe
    }
    )),
    n.d(e, "InterpolateSmooth", (function() {
        return Ke
    }
    )),
    n.d(e, "InvertStencilOp", (function() {
        return En
    }
    )),
    n.d(e, "JSONLoader", (function() {
        return Md
    }
    )),
    n.d(e, "KeepStencilOp", (function() {
        return bn
    }
    )),
    n.d(e, "KeyframeTrack", (function() {
        return ml
    }
    )),
    n.d(e, "LOD", (function() {
        return su
    }
    )),
    n.d(e, "LatheBufferGeometry", (function() {
        return Uc
    }
    )),
    n.d(e, "LatheGeometry", (function() {
        return Bc
    }
    )),
    n.d(e, "Layers", (function() {
        return gr
    }
    )),
    n.d(e, "LensFlare", (function() {
        return Ed
    }
    )),
    n.d(e, "LessDepth", (function() {
        return tt
    }
    )),
    n.d(e, "LessEqualDepth", (function() {
        return et
    }
    )),
    n.d(e, "LessEqualStencilFunc", (function() {
        return Ln
    }
    )),
    n.d(e, "LessStencilFunc", (function() {
        return An
    }
    )),
    n.d(e, "Light", (function() {
        return ah
    }
    )),
    n.d(e, "LightProbe", (function() {
        return zh
    }
    )),
    n.d(e, "LightShadow", (function() {
        return uh
    }
    )),
    n.d(e, "Line", (function() {
        return Su
    }
    )),
    n.d(e, "Line3", (function() {
        return Pf
    }
    )),
    n.d(e, "LineBasicMaterial", (function() {
        return yu
    }
    )),
    n.d(e, "LineCurve", (function() {
        return Ql
    }
    )),
    n.d(e, "LineCurve3", (function() {
        return Kl
    }
    )),
    n.d(e, "LineDashedMaterial", (function() {
        return ul
    }
    )),
    n.d(e, "LineLoop", (function() {
        return Pu
    }
    )),
    n.d(e, "LinePieces", (function() {
        return Gp
    }
    )),
    n.d(e, "LineSegments", (function() {
        return Au
    }
    )),
    n.d(e, "LineStrip", (function() {
        return Up
    }
    )),
    n.d(e, "LinearEncoding", (function() {
        return an
    }
    )),
    n.d(e, "LinearFilter", (function() {
        return Rt
    }
    )),
    n.d(e, "LinearInterpolant", (function() {
        return pl
    }
    )),
    n.d(e, "LinearMipMapLinearFilter", (function() {
        return kt
    }
    )),
    n.d(e, "LinearMipMapNearestFilter", (function() {
        return It
    }
    )),
    n.d(e, "LinearMipmapLinearFilter", (function() {
        return Dt
    }
    )),
    n.d(e, "LinearMipmapNearestFilter", (function() {
        return Ct
    }
    )),
    n.d(e, "LinearToneMapping", (function() {
        return lt
    }
    )),
    n.d(e, "Loader", (function() {
        return Pl
    }
    )),
    n.d(e, "LoaderUtils", (function() {
        return bh
    }
    )),
    n.d(e, "LoadingManager", (function() {
        return Tl
    }
    )),
    n.d(e, "LogLuvEncoding", (function() {
        return ln
    }
    )),
    n.d(e, "LoopOnce", (function() {
        return Xe
    }
    )),
    n.d(e, "LoopPingPong", (function() {
        return Ze
    }
    )),
    n.d(e, "LoopRepeat", (function() {
        return Ye
    }
    )),
    n.d(e, "LuminanceAlphaFormat", (function() {
        return Kt
    }
    )),
    n.d(e, "LuminanceFormat", (function() {
        return Qt
    }
    )),
    n.d(e, "MOUSE", (function() {
        return p
    }
    )),
    n.d(e, "Material", (function() {
        return Pi
    }
    )),
    n.d(e, "MaterialLoader", (function() {
        return yh
    }
    )),
    n.d(e, "Math", (function() {
        return Xn
    }
    )),
    n.d(e, "MathUtils", (function() {
        return Xn
    }
    )),
    n.d(e, "Matrix3", (function() {
        return Zn
    }
    )),
    n.d(e, "Matrix4", (function() {
        return pr
    }
    )),
    n.d(e, "MaxEquation", (function() {
        return B
    }
    )),
    n.d(e, "Mesh", (function() {
        return mo
    }
    )),
    n.d(e, "MeshBasicMaterial", (function() {
        return Li
    }
    )),
    n.d(e, "MeshDepthMaterial", (function() {
        return Ps
    }
    )),
    n.d(e, "MeshDistanceMaterial", (function() {
        return Ls
    }
    )),
    n.d(e, "MeshFaceMaterial", (function() {
        return qp
    }
    )),
    n.d(e, "MeshLambertMaterial", (function() {
        return al
    }
    )),
    n.d(e, "MeshMatcapMaterial", (function() {
        return sl
    }
    )),
    n.d(e, "MeshNormalMaterial", (function() {
        return ol
    }
    )),
    n.d(e, "MeshPhongMaterial", (function() {
        return rl
    }
    )),
    n.d(e, "MeshPhysicalMaterial", (function() {
        return nl
    }
    )),
    n.d(e, "MeshStandardMaterial", (function() {
        return el
    }
    )),
    n.d(e, "MeshToonMaterial", (function() {
        return il
    }
    )),
    n.d(e, "MinEquation", (function() {
        return F
    }
    )),
    n.d(e, "MirroredRepeatWrapping", (function() {
        return Et
    }
    )),
    n.d(e, "MixOperation", (function() {
        return st
    }
    )),
    n.d(e, "MultiMaterial", (function() {
        return Xp
    }
    )),
    n.d(e, "MultiplyBlending", (function() {
        return D
    }
    )),
    n.d(e, "MultiplyOperation", (function() {
        return at
    }
    )),
    n.d(e, "NearestFilter", (function() {
        return Tt
    }
    )),
    n.d(e, "NearestMipMapLinearFilter", (function() {
        return Ot
    }
    )),
    n.d(e, "NearestMipMapNearestFilter", (function() {
        return Pt
    }
    )),
    n.d(e, "NearestMipmapLinearFilter", (function() {
        return Lt
    }
    )),
    n.d(e, "NearestMipmapNearestFilter", (function() {
        return At
    }
    )),
    n.d(e, "NeverDepth", (function() {
        return K
    }
    )),
    n.d(e, "NeverStencilFunc", (function() {
        return Tn
    }
    )),
    n.d(e, "NoBlending", (function() {
        return O
    }
    )),
    n.d(e, "NoColors", (function() {
        return Hp
    }
    )),
    n.d(e, "NoToneMapping", (function() {
        return ct
    }
    )),
    n.d(e, "NormalBlending", (function() {
        return R
    }
    )),
    n.d(e, "NotEqualDepth", (function() {
        return ot
    }
    )),
    n.d(e, "NotEqualStencilFunc", (function() {
        return Rn
    }
    )),
    n.d(e, "NumberKeyframeTrack", (function() {
        return yl
    }
    )),
    n.d(e, "Object3D", (function() {
        return Rr
    }
    )),
    n.d(e, "ObjectLoader", (function() {
        return Sh
    }
    )),
    n.d(e, "ObjectSpaceNormalMap", (function() {
        return gn
    }
    )),
    n.d(e, "OctahedronBufferGeometry", (function() {
        return Yu
    }
    )),
    n.d(e, "OctahedronGeometry", (function() {
        return Xu
    }
    )),
    n.d(e, "OneFactor", (function() {
        return G
    }
    )),
    n.d(e, "OneMinusDstAlphaFactor", (function() {
        return Y
    }
    )),
    n.d(e, "OneMinusDstColorFactor", (function() {
        return J
    }
    )),
    n.d(e, "OneMinusSrcAlphaFactor", (function() {
        return q
    }
    )),
    n.d(e, "OneMinusSrcColorFactor", (function() {
        return V
    }
    )),
    n.d(e, "OrthographicCamera", (function() {
        return ph
    }
    )),
    n.d(e, "PCFShadowMap", (function() {
        return w
    }
    )),
    n.d(e, "PCFSoftShadowMap", (function() {
        return M
    }
    )),
    n.d(e, "PMREMGenerator", (function() {
        return Pp
    }
    )),
    n.d(e, "ParametricBufferGeometry", (function() {
        return Gu
    }
    )),
    n.d(e, "ParametricGeometry", (function() {
        return Uu
    }
    )),
    n.d(e, "Particle", (function() {
        return Zp
    }
    )),
    n.d(e, "ParticleBasicMaterial", (function() {
        return Kp
    }
    )),
    n.d(e, "ParticleSystem", (function() {
        return Jp
    }
    )),
    n.d(e, "ParticleSystemMaterial", (function() {
        return $p
    }
    )),
    n.d(e, "Path", (function() {
        return ih
    }
    )),
    n.d(e, "PerspectiveCamera", (function() {
        return Oo
    }
    )),
    n.d(e, "Plane", (function() {
        return si
    }
    )),
    n.d(e, "PlaneBufferGeometry", (function() {
        return Uo
    }
    )),
    n.d(e, "PlaneGeometry", (function() {
        return Bo
    }
    )),
    n.d(e, "PlaneHelper", (function() {
        return tp
    }
    )),
    n.d(e, "PointCloud", (function() {
        return Yp
    }
    )),
    n.d(e, "PointCloudMaterial", (function() {
        return Qp
    }
    )),
    n.d(e, "PointLight", (function() {
        return fh
    }
    )),
    n.d(e, "PointLightHelper", (function() {
        return Nf
    }
    )),
    n.d(e, "Points", (function() {
        return Du
    }
    )),
    n.d(e, "PointsMaterial", (function() {
        return Lu
    }
    )),
    n.d(e, "PolarGridHelper", (function() {
        return Gf
    }
    )),
    n.d(e, "PolyhedronBufferGeometry", (function() {
        return Vu
    }
    )),
    n.d(e, "PolyhedronGeometry", (function() {
        return Hu
    }
    )),
    n.d(e, "PositionalAudio", (function() {
        return tf
    }
    )),
    n.d(e, "PropertyBinding", (function() {
        return pf
    }
    )),
    n.d(e, "PropertyMixer", (function() {
        return nf
    }
    )),
    n.d(e, "QuadraticBezierCurve", (function() {
        return $l
    }
    )),
    n.d(e, "QuadraticBezierCurve3", (function() {
        return th
    }
    )),
    n.d(e, "Quaternion", (function() {
        return nr
    }
    )),
    n.d(e, "QuaternionKeyframeTrack", (function() {
        return xl
    }
    )),
    n.d(e, "QuaternionLinearInterpolant", (function() {
        return bl
    }
    )),
    n.d(e, "REVISION", (function() {
        return f
    }
    )),
    n.d(e, "RGBADepthPacking", (function() {
        return mn
    }
    )),
    n.d(e, "RGBAFormat", (function() {
        return Jt
    }
    )),
    n.d(e, "RGBAIntegerFormat", (function() {
        return se
    }
    )),
    n.d(e, "RGBA_ASTC_10x10_Format", (function() {
        return Oe
    }
    )),
    n.d(e, "RGBA_ASTC_10x5_Format", (function() {
        return Ae
    }
    )),
    n.d(e, "RGBA_ASTC_10x6_Format", (function() {
        return Pe
    }
    )),
    n.d(e, "RGBA_ASTC_10x8_Format", (function() {
        return Le
    }
    )),
    n.d(e, "RGBA_ASTC_12x10_Format", (function() {
        return Re
    }
    )),
    n.d(e, "RGBA_ASTC_12x12_Format", (function() {
        return Ce
    }
    )),
    n.d(e, "RGBA_ASTC_4x4_Format", (function() {
        return be
    }
    )),
    n.d(e, "RGBA_ASTC_5x4_Format", (function() {
        return xe
    }
    )),
    n.d(e, "RGBA_ASTC_5x5_Format", (function() {
        return _e
    }
    )),
    n.d(e, "RGBA_ASTC_6x5_Format", (function() {
        return we
    }
    )),
    n.d(e, "RGBA_ASTC_6x6_Format", (function() {
        return Me
    }
    )),
    n.d(e, "RGBA_ASTC_8x5_Format", (function() {
        return Se
    }
    )),
    n.d(e, "RGBA_ASTC_8x6_Format", (function() {
        return Ee
    }
    )),
    n.d(e, "RGBA_ASTC_8x8_Format", (function() {
        return Te
    }
    )),
    n.d(e, "RGBA_ETC2_EAC_Format", (function() {
        return ye
    }
    )),
    n.d(e, "RGBA_PVRTC_2BPPV1_Format", (function() {
        return me
    }
    )),
    n.d(e, "RGBA_PVRTC_4BPPV1_Format", (function() {
        return de
    }
    )),
    n.d(e, "RGBA_S3TC_DXT1_Format", (function() {
        return ce
    }
    )),
    n.d(e, "RGBA_S3TC_DXT3_Format", (function() {
        return le
    }
    )),
    n.d(e, "RGBA_S3TC_DXT5_Format", (function() {
        return he
    }
    )),
    n.d(e, "RGBDEncoding", (function() {
        return pn
    }
    )),
    n.d(e, "RGBEEncoding", (function() {
        return cn
    }
    )),
    n.d(e, "RGBEFormat", (function() {
        return $t
    }
    )),
    n.d(e, "RGBFormat", (function() {
        return Zt
    }
    )),
    n.d(e, "RGBIntegerFormat", (function() {
        return ae
    }
    )),
    n.d(e, "RGBM16Encoding", (function() {
        return fn
    }
    )),
    n.d(e, "RGBM7Encoding", (function() {
        return hn
    }
    )),
    n.d(e, "RGB_ETC1_Format", (function() {
        return ve
    }
    )),
    n.d(e, "RGB_ETC2_Format", (function() {
        return ge
    }
    )),
    n.d(e, "RGB_PVRTC_2BPPV1_Format", (function() {
        return pe
    }
    )),
    n.d(e, "RGB_PVRTC_4BPPV1_Format", (function() {
        return fe
    }
    )),
    n.d(e, "RGB_S3TC_DXT1_Format", (function() {
        return ue
    }
    )),
    n.d(e, "RGFormat", (function() {
        return ie
    }
    )),
    n.d(e, "RGIntegerFormat", (function() {
        return oe
    }
    )),
    n.d(e, "RawShaderMaterial", (function() {
        return tl
    }
    )),
    n.d(e, "Ray", (function() {
        return ri
    }
    )),
    n.d(e, "Raycaster", (function() {
        return bf
    }
    )),
    n.d(e, "RectAreaLight", (function() {
        return gh
    }
    )),
    n.d(e, "RedFormat", (function() {
        return ne
    }
    )),
    n.d(e, "RedIntegerFormat", (function() {
        return re
    }
    )),
    n.d(e, "ReinhardToneMapping", (function() {
        return ht
    }
    )),
    n.d(e, "RepeatWrapping", (function() {
        return Mt
    }
    )),
    n.d(e, "ReplaceStencilOp", (function() {
        return xn
    }
    )),
    n.d(e, "ReverseSubtractEquation", (function() {
        return j
    }
    )),
    n.d(e, "RingBufferGeometry", (function() {
        return Fc
    }
    )),
    n.d(e, "RingGeometry", (function() {
        return jc
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_10x10_Format", (function() {
        return Ve
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_10x5_Format", (function() {
        return Ue
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_10x6_Format", (function() {
        return Ge
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_10x8_Format", (function() {
        return He
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_12x10_Format", (function() {
        return We
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_12x12_Format", (function() {
        return qe
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_4x4_Format", (function() {
        return Ie
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_5x4_Format", (function() {
        return De
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_5x5_Format", (function() {
        return ke
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_6x5_Format", (function() {
        return Ne
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_6x6_Format", (function() {
        return ze
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_8x5_Format", (function() {
        return je
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_8x6_Format", (function() {
        return Fe
    }
    )),
    n.d(e, "SRGB8_ALPHA8_ASTC_8x8_Format", (function() {
        return Be
    }
    )),
    n.d(e, "Scene", (function() {
        return Cr
    }
    )),
    n.d(e, "SceneUtils", (function() {
        return Sd
    }
    )),
    n.d(e, "ShaderChunk", (function() {
        return Go
    }
    )),
    n.d(e, "ShaderLib", (function() {
        return Ho
    }
    )),
    n.d(e, "ShaderMaterial", (function() {
        return Po
    }
    )),
    n.d(e, "ShadowMaterial", (function() {
        return $c
    }
    )),
    n.d(e, "Shape", (function() {
        return oh
    }
    )),
    n.d(e, "ShapeBufferGeometry", (function() {
        return Hc
    }
    )),
    n.d(e, "ShapeGeometry", (function() {
        return Gc
    }
    )),
    n.d(e, "ShapePath", (function() {
        return Oh
    }
    )),
    n.d(e, "ShapeUtils", (function() {
        return Ac
    }
    )),
    n.d(e, "ShortType", (function() {
        return jt
    }
    )),
    n.d(e, "Skeleton", (function() {
        return hu
    }
    )),
    n.d(e, "SkeletonHelper", (function() {
        return kf
    }
    )),
    n.d(e, "SkinnedMesh", (function() {
        return uu
    }
    )),
    n.d(e, "SmoothShading", (function() {
        return L
    }
    )),
    n.d(e, "Sphere", (function() {
        return Zr
    }
    )),
    n.d(e, "SphereBufferGeometry", (function() {
        return zc
    }
    )),
    n.d(e, "SphereGeometry", (function() {
        return Nc
    }
    )),
    n.d(e, "Spherical", (function() {
        return wf
    }
    )),
    n.d(e, "SphericalHarmonics3", (function() {
        return Nh
    }
    )),
    n.d(e, "SphericalReflectionMapping", (function() {
        return xt
    }
    )),
    n.d(e, "Spline", (function() {
        return pd
    }
    )),
    n.d(e, "SplineCurve", (function() {
        return eh
    }
    )),
    n.d(e, "SplineCurve3", (function() {
        return fd
    }
    )),
    n.d(e, "SpotLight", (function() {
        return lh
    }
    )),
    n.d(e, "SpotLightHelper", (function() {
        return Rf
    }
    )),
    n.d(e, "SpotLightShadow", (function() {
        return ch
    }
    )),
    n.d(e, "Sprite", (function() {
        return ru
    }
    )),
    n.d(e, "SpriteMaterial", (function() {
        return Vs
    }
    )),
    n.d(e, "SrcAlphaFactor", (function() {
        return W
    }
    )),
    n.d(e, "SrcAlphaSaturateFactor", (function() {
        return Q
    }
    )),
    n.d(e, "SrcColorFactor", (function() {
        return H
    }
    )),
    n.d(e, "StaticCopyUsage", (function() {
        return Bn
    }
    )),
    n.d(e, "StaticDrawUsage", (function() {
        return Dn
    }
    )),
    n.d(e, "StaticReadUsage", (function() {
        return zn
    }
    )),
    n.d(e, "StereoCamera", (function() {
        return Gh
    }
    )),
    n.d(e, "StreamCopyUsage", (function() {
        return Gn
    }
    )),
    n.d(e, "StreamDrawUsage", (function() {
        return Nn
    }
    )),
    n.d(e, "StreamReadUsage", (function() {
        return Fn
    }
    )),
    n.d(e, "StringKeyframeTrack", (function() {
        return _l
    }
    )),
    n.d(e, "SubtractEquation", (function() {
        return z
    }
    )),
    n.d(e, "SubtractiveBlending", (function() {
        return I
    }
    )),
    n.d(e, "TOUCH", (function() {
        return d
    }
    )),
    n.d(e, "TangentSpaceNormalMap", (function() {
        return vn
    }
    )),
    n.d(e, "TetrahedronBufferGeometry", (function() {
        return qu
    }
    )),
    n.d(e, "TetrahedronGeometry", (function() {
        return Wu
    }
    )),
    n.d(e, "TextBufferGeometry", (function() {
        return kc
    }
    )),
    n.d(e, "TextGeometry", (function() {
        return Dc
    }
    )),
    n.d(e, "Texture", (function() {
        return Kn
    }
    )),
    n.d(e, "TextureLoader", (function() {
        return Nl
    }
    )),
    n.d(e, "TorusBufferGeometry", (function() {
        return ic
    }
    )),
    n.d(e, "TorusGeometry", (function() {
        return rc
    }
    )),
    n.d(e, "TorusKnotBufferGeometry", (function() {
        return nc
    }
    )),
    n.d(e, "TorusKnotGeometry", (function() {
        return ec
    }
    )),
    n.d(e, "Triangle", (function() {
        return yi
    }
    )),
    n.d(e, "TriangleFanDrawMode", (function() {
        return on
    }
    )),
    n.d(e, "TriangleStripDrawMode", (function() {
        return rn
    }
    )),
    n.d(e, "TrianglesDrawMode", (function() {
        return nn
    }
    )),
    n.d(e, "TubeBufferGeometry", (function() {
        return tc
    }
    )),
    n.d(e, "TubeGeometry", (function() {
        return $u
    }
    )),
    n.d(e, "UVMapping", (function() {
        return mt
    }
    )),
    n.d(e, "Uint16Attribute", (function() {
        return ad
    }
    )),
    n.d(e, "Uint16BufferAttribute", (function() {
        return Ni
    }
    )),
    n.d(e, "Uint32Attribute", (function() {
        return ud
    }
    )),
    n.d(e, "Uint32BufferAttribute", (function() {
        return ji
    }
    )),
    n.d(e, "Uint8Attribute", (function() {
        return rd
    }
    )),
    n.d(e, "Uint8BufferAttribute", (function() {
        return Ii
    }
    )),
    n.d(e, "Uint8ClampedAttribute", (function() {
        return id
    }
    )),
    n.d(e, "Uint8ClampedBufferAttribute", (function() {
        return Di
    }
    )),
    n.d(e, "Uncharted2ToneMapping", (function() {
        return ft
    }
    )),
    n.d(e, "Uniform", (function() {
        return gf
    }
    )),
    n.d(e, "UniformsLib", (function() {
        return zo
    }
    )),
    n.d(e, "UniformsUtils", (function() {
        return Ao
    }
    )),
    n.d(e, "UnsignedByteType", (function() {
        return Nt
    }
    )),
    n.d(e, "UnsignedInt248Type", (function() {
        return Xt
    }
    )),
    n.d(e, "UnsignedIntType", (function() {
        return Ut
    }
    )),
    n.d(e, "UnsignedShort4444Type", (function() {
        return Vt
    }
    )),
    n.d(e, "UnsignedShort5551Type", (function() {
        return Wt
    }
    )),
    n.d(e, "UnsignedShort565Type", (function() {
        return qt
    }
    )),
    n.d(e, "UnsignedShortType", (function() {
        return Ft
    }
    )),
    n.d(e, "VSMShadowMap", (function() {
        return S
    }
    )),
    n.d(e, "Vector2", (function() {
        return Yn
    }
    )),
    n.d(e, "Vector3", (function() {
        return or
    }
    )),
    n.d(e, "Vector4", (function() {
        return $n
    }
    )),
    n.d(e, "VectorKeyframeTrack", (function() {
        return wl
    }
    )),
    n.d(e, "Vertex", (function() {
        return td
    }
    )),
    n.d(e, "VertexColors", (function() {
        return Wp
    }
    )),
    n.d(e, "VideoTexture", (function() {
        return Nu
    }
    )),
    n.d(e, "WebGLCubeRenderTarget", (function() {
        return Co
    }
    )),
    n.d(e, "WebGLMultisampleRenderTarget", (function() {
        return er
    }
    )),
    n.d(e, "WebGLRenderTarget", (function() {
        return tr
    }
    )),
    n.d(e, "WebGLRenderTargetCube", (function() {
        return xd
    }
    )),
    n.d(e, "WebGLRenderer", (function() {
        return zs
    }
    )),
    n.d(e, "WebGLUtils", (function() {
        return Is
    }
    )),
    n.d(e, "WireframeGeometry", (function() {
        return Bu
    }
    )),
    n.d(e, "WireframeHelper", (function() {
        return gd
    }
    )),
    n.d(e, "WrapAroundEnding", (function() {
        return en
    }
    )),
    n.d(e, "XHRLoader", (function() {
        return yd
    }
    )),
    n.d(e, "ZeroCurvatureEnding", (function() {
        return $e
    }
    )),
    n.d(e, "ZeroFactor", (function() {
        return U
    }
    )),
    n.d(e, "ZeroSlopeEnding", (function() {
        return tn
    }
    )),
    n.d(e, "ZeroStencilOp", (function() {
        return yn
    }
    )),
    n.d(e, "sRGBEncoding", (function() {
        return sn
    }
    )),
    void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)),
    void 0 === Number.isInteger && (Number.isInteger = function(t) {
        return "number" == typeof t && isFinite(t) && Math.floor(t) === t
    }
    ),
    void 0 === Math.sign && (Math.sign = function(t) {
        return t < 0 ? -1 : t > 0 ? 1 : +t
    }
    ),
    "name"in Function.prototype == !1 && Object.defineProperty(Function.prototype, "name", {
        get: function() {
            return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
        }
    }),
    void 0 === Object.assign && (Object.assign = function(t) {
        if (null == t)
            throw new TypeError("Cannot convert undefined or null to object");
        for (var e = Object(t), n = 1; n < arguments.length; n++) {
            var r = arguments[n];
            if (null != r)
                for (var i in r)
                    Object.prototype.hasOwnProperty.call(r, i) && (e[i] = r[i])
        }
        return e
    }
    );
    var f = "114"
      , p = {
        LEFT: 0,
        MIDDLE: 1,
        RIGHT: 2,
        ROTATE: 0,
        DOLLY: 1,
        PAN: 2
    }
      , d = {
        ROTATE: 0,
        PAN: 1,
        DOLLY_PAN: 2,
        DOLLY_ROTATE: 3
    }
      , m = 0
      , v = 1
      , g = 2
      , y = 3
      , b = 0
      , x = 1
      , _ = 0
      , w = 1
      , M = 2
      , S = 3
      , E = 0
      , T = 1
      , A = 2
      , P = 1
      , L = 2
      , O = 0
      , R = 1
      , C = 2
      , I = 3
      , D = 4
      , k = 5
      , N = 100
      , z = 101
      , j = 102
      , F = 103
      , B = 104
      , U = 200
      , G = 201
      , H = 202
      , V = 203
      , W = 204
      , q = 205
      , X = 206
      , Y = 207
      , Z = 208
      , J = 209
      , Q = 210
      , K = 0
      , $ = 1
      , tt = 2
      , et = 3
      , nt = 4
      , rt = 5
      , it = 6
      , ot = 7
      , at = 0
      , st = 1
      , ut = 2
      , ct = 0
      , lt = 1
      , ht = 2
      , ft = 3
      , pt = 4
      , dt = 5
      , mt = 300
      , vt = 301
      , gt = 302
      , yt = 303
      , bt = 304
      , xt = 305
      , _t = 306
      , wt = 307
      , Mt = 1e3
      , St = 1001
      , Et = 1002
      , Tt = 1003
      , At = 1004
      , Pt = 1004
      , Lt = 1005
      , Ot = 1005
      , Rt = 1006
      , Ct = 1007
      , It = 1007
      , Dt = 1008
      , kt = 1008
      , Nt = 1009
      , zt = 1010
      , jt = 1011
      , Ft = 1012
      , Bt = 1013
      , Ut = 1014
      , Gt = 1015
      , Ht = 1016
      , Vt = 1017
      , Wt = 1018
      , qt = 1019
      , Xt = 1020
      , Yt = 1021
      , Zt = 1022
      , Jt = 1023
      , Qt = 1024
      , Kt = 1025
      , $t = Jt
      , te = 1026
      , ee = 1027
      , ne = 1028
      , re = 1029
      , ie = 1030
      , oe = 1031
      , ae = 1032
      , se = 1033
      , ue = 33776
      , ce = 33777
      , le = 33778
      , he = 33779
      , fe = 35840
      , pe = 35841
      , de = 35842
      , me = 35843
      , ve = 36196
      , ge = 37492
      , ye = 37496
      , be = 37808
      , xe = 37809
      , _e = 37810
      , we = 37811
      , Me = 37812
      , Se = 37813
      , Ee = 37814
      , Te = 37815
      , Ae = 37816
      , Pe = 37817
      , Le = 37818
      , Oe = 37819
      , Re = 37820
      , Ce = 37821
      , Ie = 37840
      , De = 37841
      , ke = 37842
      , Ne = 37843
      , ze = 37844
      , je = 37845
      , Fe = 37846
      , Be = 37847
      , Ue = 37848
      , Ge = 37849
      , He = 37850
      , Ve = 37851
      , We = 37852
      , qe = 37853
      , Xe = 2200
      , Ye = 2201
      , Ze = 2202
      , Je = 2300
      , Qe = 2301
      , Ke = 2302
      , $e = 2400
      , tn = 2401
      , en = 2402
      , nn = 0
      , rn = 1
      , on = 2
      , an = 3e3
      , sn = 3001
      , un = 3007
      , cn = 3002
      , ln = 3003
      , hn = 3004
      , fn = 3005
      , pn = 3006
      , dn = 3200
      , mn = 3201
      , vn = 0
      , gn = 1
      , yn = 0
      , bn = 7680
      , xn = 7681
      , _n = 7682
      , wn = 7683
      , Mn = 34055
      , Sn = 34056
      , En = 5386
      , Tn = 512
      , An = 513
      , Pn = 514
      , Ln = 515
      , On = 516
      , Rn = 517
      , Cn = 518
      , In = 519
      , Dn = 35044
      , kn = 35048
      , Nn = 35040
      , zn = 35045
      , jn = 35049
      , Fn = 35041
      , Bn = 35046
      , Un = 35050
      , Gn = 35042;
    function Hn() {}
    Object.assign(Hn.prototype, {
        addEventListener: function(t, e) {
            void 0 === this._listeners && (this._listeners = {});
            var n = this._listeners;
            void 0 === n[t] && (n[t] = []),
            -1 === n[t].indexOf(e) && n[t].push(e)
        },
        hasEventListener: function(t, e) {
            if (void 0 === this._listeners)
                return !1;
            var n = this._listeners;
            return void 0 !== n[t] && -1 !== n[t].indexOf(e)
        },
        removeEventListener: function(t, e) {
            if (void 0 !== this._listeners) {
                var n = this._listeners[t];
                if (void 0 !== n) {
                    var r = n.indexOf(e);
                    -1 !== r && n.splice(r, 1)
                }
            }
        },
        dispatchEvent: function(t) {
            if (void 0 !== this._listeners) {
                var e = this._listeners[t.type];
                if (void 0 !== e) {
                    t.target = this;
                    for (var n = e.slice(0), r = 0, i = n.length; r < i; r++)
                        n[r].call(this, t)
                }
            }
        }
    });
    for (var Vn = [], Wn = 0; Wn < 256; Wn++)
        Vn[Wn] = (Wn < 16 ? "0" : "") + Wn.toString(16);
    var qn, Xn = {
        DEG2RAD: Math.PI / 180,
        RAD2DEG: 180 / Math.PI,
        generateUUID: function() {
            var t = 4294967295 * Math.random() | 0
              , e = 4294967295 * Math.random() | 0
              , n = 4294967295 * Math.random() | 0
              , r = 4294967295 * Math.random() | 0;
            return (Vn[255 & t] + Vn[t >> 8 & 255] + Vn[t >> 16 & 255] + Vn[t >> 24 & 255] + "-" + Vn[255 & e] + Vn[e >> 8 & 255] + "-" + Vn[e >> 16 & 15 | 64] + Vn[e >> 24 & 255] + "-" + Vn[63 & n | 128] + Vn[n >> 8 & 255] + "-" + Vn[n >> 16 & 255] + Vn[n >> 24 & 255] + Vn[255 & r] + Vn[r >> 8 & 255] + Vn[r >> 16 & 255] + Vn[r >> 24 & 255]).toUpperCase()
        },
        clamp: function(t, e, n) {
            return Math.max(e, Math.min(n, t))
        },
        euclideanModulo: function(t, e) {
            return (t % e + e) % e
        },
        mapLinear: function(t, e, n, r, i) {
            return r + (t - e) * (i - r) / (n - e)
        },
        lerp: function(t, e, n) {
            return (1 - n) * t + n * e
        },
        smoothstep: function(t, e, n) {
            return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * (3 - 2 * t)
        },
        smootherstep: function(t, e, n) {
            return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * t * (t * (6 * t - 15) + 10)
        },
        randInt: function(t, e) {
            return t + Math.floor(Math.random() * (e - t + 1))
        },
        randFloat: function(t, e) {
            return t + Math.random() * (e - t)
        },
        randFloatSpread: function(t) {
            return t * (.5 - Math.random())
        },
        degToRad: function(t) {
            return t * Xn.DEG2RAD
        },
        radToDeg: function(t) {
            return t * Xn.RAD2DEG
        },
        isPowerOfTwo: function(t) {
            return 0 == (t & t - 1) && 0 !== t
        },
        ceilPowerOfTwo: function(t) {
            return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2))
        },
        floorPowerOfTwo: function(t) {
            return Math.pow(2, Math.floor(Math.log(t) / Math.LN2))
        },
        setQuaternionFromProperEuler: function(t, e, n, r, i) {
            var o = Math.cos
              , a = Math.sin
              , s = o(n / 2)
              , u = a(n / 2)
              , c = o((e + r) / 2)
              , l = a((e + r) / 2)
              , h = o((e - r) / 2)
              , f = a((e - r) / 2)
              , p = o((r - e) / 2)
              , d = a((r - e) / 2);
            "XYX" === i ? t.set(s * l, u * h, u * f, s * c) : "YZY" === i ? t.set(u * f, s * l, u * h, s * c) : "ZXZ" === i ? t.set(u * h, u * f, s * l, s * c) : "XZX" === i ? t.set(s * l, u * d, u * p, s * c) : "YXY" === i ? t.set(u * p, s * l, u * d, s * c) : "ZYZ" === i ? t.set(u * d, u * p, s * l, s * c) : console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")
        }
    };
    function Yn(t, e) {
        this.x = t || 0,
        this.y = e || 0
    }
    function Zn() {
        this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1],
        arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
    }
    Object.defineProperties(Yn.prototype, {
        width: {
            get: function() {
                return this.x
            },
            set: function(t) {
                this.x = t
            }
        },
        height: {
            get: function() {
                return this.y
            },
            set: function(t) {
                this.y = t
            }
        }
    }),
    Object.assign(Yn.prototype, {
        isVector2: !0,
        set: function(t, e) {
            return this.x = t,
            this.y = e,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this
        },
        multiply: function(t) {
            return this.x *= t.x,
            this.y *= t.y,
            this
        },
        multiplyScalar: function(t) {
            return this.x *= t,
            this.y *= t,
            this
        },
        divide: function(t) {
            return this.x /= t.x,
            this.y /= t.y,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        applyMatrix3: function(t) {
            var e = this.x
              , n = this.y
              , r = t.elements;
            return this.x = r[0] * e + r[3] * n + r[6],
            this.y = r[1] * e + r[4] * n + r[7],
            this
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this
        },
        clampScalar: function(t, e) {
            return this.x = Math.max(t, Math.min(e, this.x)),
            this.y = Math.max(t, Math.min(e, this.y)),
            this
        },
        clampLength: function(t, e) {
            var n = this.length();
            return this.divideScalar(n || 1).multiplyScalar(Math.max(t, Math.min(e, n)))
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y
        },
        cross: function(t) {
            return this.x * t.y - this.y * t.x
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        angle: function() {
            var t = Math.atan2(-this.y, -this.x) + Math.PI;
            return t
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x
              , n = this.y - t.y;
            return e * e + n * n
        },
        manhattanDistanceTo: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t
        },
        fromBufferAttribute: function(t, e, n) {
            return void 0 !== n && console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),
            this.x = t.getX(e),
            this.y = t.getY(e),
            this
        },
        rotateAround: function(t, e) {
            var n = Math.cos(e)
              , r = Math.sin(e)
              , i = this.x - t.x
              , o = this.y - t.y;
            return this.x = i * n - o * r + t.x,
            this.y = i * r + o * n + t.y,
            this
        }
    }),
    Object.assign(Zn.prototype, {
        isMatrix3: !0,
        set: function(t, e, n, r, i, o, a, s, u) {
            var c = this.elements;
            return c[0] = t,
            c[1] = r,
            c[2] = a,
            c[3] = e,
            c[4] = i,
            c[5] = s,
            c[6] = n,
            c[7] = o,
            c[8] = u,
            this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1),
            this
        },
        clone: function() {
            return (new this.constructor).fromArray(this.elements)
        },
        copy: function(t) {
            var e = this.elements
              , n = t.elements;
            return e[0] = n[0],
            e[1] = n[1],
            e[2] = n[2],
            e[3] = n[3],
            e[4] = n[4],
            e[5] = n[5],
            e[6] = n[6],
            e[7] = n[7],
            e[8] = n[8],
            this
        },
        extractBasis: function(t, e, n) {
            return t.setFromMatrix3Column(this, 0),
            e.setFromMatrix3Column(this, 1),
            n.setFromMatrix3Column(this, 2),
            this
        },
        setFromMatrix4: function(t) {
            var e = t.elements;
            return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]),
            this
        },
        multiply: function(t) {
            return this.multiplyMatrices(this, t)
        },
        premultiply: function(t) {
            return this.multiplyMatrices(t, this)
        },
        multiplyMatrices: function(t, e) {
            var n = t.elements
              , r = e.elements
              , i = this.elements
              , o = n[0]
              , a = n[3]
              , s = n[6]
              , u = n[1]
              , c = n[4]
              , l = n[7]
              , h = n[2]
              , f = n[5]
              , p = n[8]
              , d = r[0]
              , m = r[3]
              , v = r[6]
              , g = r[1]
              , y = r[4]
              , b = r[7]
              , x = r[2]
              , _ = r[5]
              , w = r[8];
            return i[0] = o * d + a * g + s * x,
            i[3] = o * m + a * y + s * _,
            i[6] = o * v + a * b + s * w,
            i[1] = u * d + c * g + l * x,
            i[4] = u * m + c * y + l * _,
            i[7] = u * v + c * b + l * w,
            i[2] = h * d + f * g + p * x,
            i[5] = h * m + f * y + p * _,
            i[8] = h * v + f * b + p * w,
            this
        },
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t,
            e[3] *= t,
            e[6] *= t,
            e[1] *= t,
            e[4] *= t,
            e[7] *= t,
            e[2] *= t,
            e[5] *= t,
            e[8] *= t,
            this
        },
        determinant: function() {
            var t = this.elements
              , e = t[0]
              , n = t[1]
              , r = t[2]
              , i = t[3]
              , o = t[4]
              , a = t[5]
              , s = t[6]
              , u = t[7]
              , c = t[8];
            return e * o * c - e * a * u - n * i * c + n * a * s + r * i * u - r * o * s
        },
        getInverse: function(t, e) {
            t && t.isMatrix4 && console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");
            var n = t.elements
              , r = this.elements
              , i = n[0]
              , o = n[1]
              , a = n[2]
              , s = n[3]
              , u = n[4]
              , c = n[5]
              , l = n[6]
              , h = n[7]
              , f = n[8]
              , p = f * u - c * h
              , d = c * l - f * s
              , m = h * s - u * l
              , v = i * p + o * d + a * m;
            if (0 === v) {
                var g = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
                if (!0 === e)
                    throw new Error(g);
                return console.warn(g),
                this.identity()
            }
            var y = 1 / v;
            return r[0] = p * y,
            r[1] = (a * h - f * o) * y,
            r[2] = (c * o - a * u) * y,
            r[3] = d * y,
            r[4] = (f * i - a * l) * y,
            r[5] = (a * s - c * i) * y,
            r[6] = m * y,
            r[7] = (o * l - h * i) * y,
            r[8] = (u * i - o * s) * y,
            this
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1],
            e[1] = e[3],
            e[3] = t,
            t = e[2],
            e[2] = e[6],
            e[6] = t,
            t = e[5],
            e[5] = e[7],
            e[7] = t,
            this
        },
        getNormalMatrix: function(t) {
            return this.setFromMatrix4(t).getInverse(this).transpose()
        },
        transposeIntoArray: function(t) {
            var e = this.elements;
            return t[0] = e[0],
            t[1] = e[3],
            t[2] = e[6],
            t[3] = e[1],
            t[4] = e[4],
            t[5] = e[7],
            t[6] = e[2],
            t[7] = e[5],
            t[8] = e[8],
            this
        },
        setUvTransform: function(t, e, n, r, i, o, a) {
            var s = Math.cos(i)
              , u = Math.sin(i);
            this.set(n * s, n * u, -n * (s * o + u * a) + o + t, -r * u, r * s, -r * (-u * o + s * a) + a + e, 0, 0, 1)
        },
        scale: function(t, e) {
            var n = this.elements;
            return n[0] *= t,
            n[3] *= t,
            n[6] *= t,
            n[1] *= e,
            n[4] *= e,
            n[7] *= e,
            this
        },
        rotate: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t)
              , r = this.elements
              , i = r[0]
              , o = r[3]
              , a = r[6]
              , s = r[1]
              , u = r[4]
              , c = r[7];
            return r[0] = e * i + n * s,
            r[3] = e * o + n * u,
            r[6] = e * a + n * c,
            r[1] = -n * i + e * s,
            r[4] = -n * o + e * u,
            r[7] = -n * a + e * c,
            this
        },
        translate: function(t, e) {
            var n = this.elements;
            return n[0] += t * n[2],
            n[3] += t * n[5],
            n[6] += t * n[8],
            n[1] += e * n[2],
            n[4] += e * n[5],
            n[7] += e * n[8],
            this
        },
        equals: function(t) {
            for (var e = this.elements, n = t.elements, r = 0; r < 9; r++)
                if (e[r] !== n[r])
                    return !1;
            return !0
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var n = 0; n < 9; n++)
                this.elements[n] = t[n + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []),
            void 0 === e && (e = 0);
            var n = this.elements;
            return t[e] = n[0],
            t[e + 1] = n[1],
            t[e + 2] = n[2],
            t[e + 3] = n[3],
            t[e + 4] = n[4],
            t[e + 5] = n[5],
            t[e + 6] = n[6],
            t[e + 7] = n[7],
            t[e + 8] = n[8],
            t
        }
    });
    var Jn = {
        getDataURL: function(t) {
            var e;
            if ("undefined" == typeof HTMLCanvasElement)
                return t.src;
            if (t instanceof HTMLCanvasElement)
                e = t;
            else {
                void 0 === qn && (qn = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")),
                qn.width = t.width,
                qn.height = t.height;
                var n = qn.getContext("2d");
                t instanceof ImageData ? n.putImageData(t, 0, 0) : n.drawImage(t, 0, 0, t.width, t.height),
                e = qn
            }
            return e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png")
        }
    }
      , Qn = 0;
    function Kn(t, e, n, r, i, o, a, s, u, c) {
        Object.defineProperty(this, "id", {
            value: Qn++
        }),
        this.uuid = Xn.generateUUID(),
        this.name = "",
        this.image = void 0 !== t ? t : Kn.DEFAULT_IMAGE,
        this.mipmaps = [],
        this.mapping = void 0 !== e ? e : Kn.DEFAULT_MAPPING,
        this.wrapS = void 0 !== n ? n : St,
        this.wrapT = void 0 !== r ? r : St,
        this.magFilter = void 0 !== i ? i : Rt,
        this.minFilter = void 0 !== o ? o : Dt,
        this.anisotropy = void 0 !== u ? u : 1,
        this.format = void 0 !== a ? a : Jt,
        this.internalFormat = null,
        this.type = void 0 !== s ? s : Nt,
        this.offset = new Yn(0,0),
        this.repeat = new Yn(1,1),
        this.center = new Yn(0,0),
        this.rotation = 0,
        this.matrixAutoUpdate = !0,
        this.matrix = new Zn,
        this.generateMipmaps = !0,
        this.premultiplyAlpha = !1,
        this.flipY = !0,
        this.unpackAlignment = 4,
        this.encoding = void 0 !== c ? c : an,
        this.version = 0,
        this.onUpdate = null
    }
    function $n(t, e, n, r) {
        this.x = t || 0,
        this.y = e || 0,
        this.z = n || 0,
        this.w = void 0 !== r ? r : 1
    }
    function tr(t, e, n) {
        this.width = t,
        this.height = e,
        this.scissor = new $n(0,0,t,e),
        this.scissorTest = !1,
        this.viewport = new $n(0,0,t,e),
        n = n || {},
        this.texture = new Kn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),
        this.texture.image = {},
        this.texture.image.width = t,
        this.texture.image.height = e,
        this.texture.generateMipmaps = void 0 !== n.generateMipmaps && n.generateMipmaps,
        this.texture.minFilter = void 0 !== n.minFilter ? n.minFilter : Rt,
        this.depthBuffer = void 0 === n.depthBuffer || n.depthBuffer,
        this.stencilBuffer = void 0 === n.stencilBuffer || n.stencilBuffer,
        this.depthTexture = void 0 !== n.depthTexture ? n.depthTexture : null
    }
    function er(t, e, n) {
        tr.call(this, t, e, n),
        this.samples = 4
    }
    function nr(t, e, n, r) {
        this._x = t || 0,
        this._y = e || 0,
        this._z = n || 0,
        this._w = void 0 !== r ? r : 1
    }
    Kn.DEFAULT_IMAGE = void 0,
    Kn.DEFAULT_MAPPING = mt,
    Kn.prototype = Object.assign(Object.create(Hn.prototype), {
        constructor: Kn,
        isTexture: !0,
        updateMatrix: function() {
            this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.name = t.name,
            this.image = t.image,
            this.mipmaps = t.mipmaps.slice(0),
            this.mapping = t.mapping,
            this.wrapS = t.wrapS,
            this.wrapT = t.wrapT,
            this.magFilter = t.magFilter,
            this.minFilter = t.minFilter,
            this.anisotropy = t.anisotropy,
            this.format = t.format,
            this.internalFormat = t.internalFormat,
            this.type = t.type,
            this.offset.copy(t.offset),
            this.repeat.copy(t.repeat),
            this.center.copy(t.center),
            this.rotation = t.rotation,
            this.matrixAutoUpdate = t.matrixAutoUpdate,
            this.matrix.copy(t.matrix),
            this.generateMipmaps = t.generateMipmaps,
            this.premultiplyAlpha = t.premultiplyAlpha,
            this.flipY = t.flipY,
            this.unpackAlignment = t.unpackAlignment,
            this.encoding = t.encoding,
            this
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t;
            if (!e && void 0 !== t.textures[this.uuid])
                return t.textures[this.uuid];
            var n = {
                metadata: {
                    version: 4.5,
                    type: "Texture",
                    generator: "Texture.toJSON"
                },
                uuid: this.uuid,
                name: this.name,
                mapping: this.mapping,
                repeat: [this.repeat.x, this.repeat.y],
                offset: [this.offset.x, this.offset.y],
                center: [this.center.x, this.center.y],
                rotation: this.rotation,
                wrap: [this.wrapS, this.wrapT],
                format: this.format,
                type: this.type,
                encoding: this.encoding,
                minFilter: this.minFilter,
                magFilter: this.magFilter,
                anisotropy: this.anisotropy,
                flipY: this.flipY,
                premultiplyAlpha: this.premultiplyAlpha,
                unpackAlignment: this.unpackAlignment
            };
            if (void 0 !== this.image) {
                var r = this.image;
                if (void 0 === r.uuid && (r.uuid = Xn.generateUUID()),
                !e && void 0 === t.images[r.uuid]) {
                    var i;
                    if (Array.isArray(r)) {
                        i = [];
                        for (var o = 0, a = r.length; o < a; o++)
                            i.push(Jn.getDataURL(r[o]))
                    } else
                        i = Jn.getDataURL(r);
                    t.images[r.uuid] = {
                        uuid: r.uuid,
                        url: i
                    }
                }
                n.image = r.uuid
            }
            return e || (t.textures[this.uuid] = n),
            n
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        },
        transformUv: function(t) {
            if (this.mapping !== mt)
                return t;
            if (t.applyMatrix3(this.matrix),
            t.x < 0 || t.x > 1)
                switch (this.wrapS) {
                case Mt:
                    t.x = t.x - Math.floor(t.x);
                    break;
                case St:
                    t.x = t.x < 0 ? 0 : 1;
                    break;
                case Et:
                    1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x)
                }
            if (t.y < 0 || t.y > 1)
                switch (this.wrapT) {
                case Mt:
                    t.y = t.y - Math.floor(t.y);
                    break;
                case St:
                    t.y = t.y < 0 ? 0 : 1;
                    break;
                case Et:
                    1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y)
                }
            return this.flipY && (t.y = 1 - t.y),
            t
        }
    }),
    Object.defineProperty(Kn.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }),
    Object.defineProperties($n.prototype, {
        width: {
            get: function() {
                return this.z
            },
            set: function(t) {
                this.z = t
            }
        },
        height: {
            get: function() {
                return this.w
            },
            set: function(t) {
                this.w = t
            }
        }
    }),
    Object.assign($n.prototype, {
        isVector4: !0,
        set: function(t, e, n, r) {
            return this.x = t,
            this.y = e,
            this.z = n,
            this.w = r,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this.z = t,
            this.w = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setZ: function(t) {
            return this.z = t,
            this
        },
        setW: function(t) {
            return this.w = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            case 2:
                this.z = e;
                break;
            case 3:
                this.w = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            case 3:
                return this.w;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z,this.w)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this.z = t.z,
            this.w = void 0 !== t.w ? t.w : 1,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this.z += t.z,
            this.w += t.w,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this.z += t,
            this.w += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this.z = t.z + e.z,
            this.w = t.w + e.w,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this.z += t.z * e,
            this.w += t.w * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this.z -= t.z,
            this.w -= t.w,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this.z -= t,
            this.w -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this.z = t.z - e.z,
            this.w = t.w - e.w,
            this
        },
        multiplyScalar: function(t) {
            return this.x *= t,
            this.y *= t,
            this.z *= t,
            this.w *= t,
            this
        },
        applyMatrix4: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = this.w
              , o = t.elements;
            return this.x = o[0] * e + o[4] * n + o[8] * r + o[12] * i,
            this.y = o[1] * e + o[5] * n + o[9] * r + o[13] * i,
            this.z = o[2] * e + o[6] * n + o[10] * r + o[14] * i,
            this.w = o[3] * e + o[7] * n + o[11] * r + o[15] * i,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        setAxisAngleFromQuaternion: function(t) {
            this.w = 2 * Math.acos(t.w);
            var e = Math.sqrt(1 - t.w * t.w);
            return e < 1e-4 ? (this.x = 1,
            this.y = 0,
            this.z = 0) : (this.x = t.x / e,
            this.y = t.y / e,
            this.z = t.z / e),
            this
        },
        setAxisAngleFromRotationMatrix: function(t) {
            var e, n, r, i, o = t.elements, a = o[0], s = o[4], u = o[8], c = o[1], l = o[5], h = o[9], f = o[2], p = o[6], d = o[10];
            if (Math.abs(s - c) < .01 && Math.abs(u - f) < .01 && Math.abs(h - p) < .01) {
                if (Math.abs(s + c) < .1 && Math.abs(u + f) < .1 && Math.abs(h + p) < .1 && Math.abs(a + l + d - 3) < .1)
                    return this.set(1, 0, 0, 0),
                    this;
                e = Math.PI;
                var m = (a + 1) / 2
                  , v = (l + 1) / 2
                  , g = (d + 1) / 2
                  , y = (s + c) / 4
                  , b = (u + f) / 4
                  , x = (h + p) / 4;
                return m > v && m > g ? m < .01 ? (n = 0,
                r = .707106781,
                i = .707106781) : (r = y / (n = Math.sqrt(m)),
                i = b / n) : v > g ? v < .01 ? (n = .707106781,
                r = 0,
                i = .707106781) : (n = y / (r = Math.sqrt(v)),
                i = x / r) : g < .01 ? (n = .707106781,
                r = .707106781,
                i = 0) : (n = b / (i = Math.sqrt(g)),
                r = x / i),
                this.set(n, r, i, e),
                this
            }
            var _ = Math.sqrt((p - h) * (p - h) + (u - f) * (u - f) + (c - s) * (c - s));
            return Math.abs(_) < .001 && (_ = 1),
            this.x = (p - h) / _,
            this.y = (u - f) / _,
            this.z = (c - s) / _,
            this.w = Math.acos((a + l + d - 1) / 2),
            this
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this.z = Math.min(this.z, t.z),
            this.w = Math.min(this.w, t.w),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this.z = Math.max(this.z, t.z),
            this.w = Math.max(this.w, t.w),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this.z = Math.max(t.z, Math.min(e.z, this.z)),
            this.w = Math.max(t.w, Math.min(e.w, this.w)),
            this
        },
        clampScalar: function(t, e) {
            return this.x = Math.max(t, Math.min(e, this.x)),
            this.y = Math.max(t, Math.min(e, this.y)),
            this.z = Math.max(t, Math.min(e, this.z)),
            this.w = Math.max(t, Math.min(e, this.w)),
            this
        },
        clampLength: function(t, e) {
            var n = this.length();
            return this.divideScalar(n || 1).multiplyScalar(Math.max(t, Math.min(e, n)))
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this.z = Math.floor(this.z),
            this.w = Math.floor(this.w),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this.z = Math.ceil(this.z),
            this.w = Math.ceil(this.w),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this.z = Math.round(this.z),
            this.w = Math.round(this.w),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
            this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this.z = -this.z,
            this.w = -this.w,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this.z += (t.z - this.z) * e,
            this.w += (t.w - this.w) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this.z = t[e + 2],
            this.w = t[e + 3],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t[e + 2] = this.z,
            t[e + 3] = this.w,
            t
        },
        fromBufferAttribute: function(t, e, n) {
            return void 0 !== n && console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),
            this.x = t.getX(e),
            this.y = t.getY(e),
            this.z = t.getZ(e),
            this.w = t.getW(e),
            this
        }
    }),
    tr.prototype = Object.assign(Object.create(Hn.prototype), {
        constructor: tr,
        isWebGLRenderTarget: !0,
        setSize: function(t, e) {
            this.width === t && this.height === e || (this.width = t,
            this.height = e,
            this.texture.image.width = t,
            this.texture.image.height = e,
            this.dispose()),
            this.viewport.set(0, 0, t, e),
            this.scissor.set(0, 0, t, e)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.width = t.width,
            this.height = t.height,
            this.viewport.copy(t.viewport),
            this.texture = t.texture.clone(),
            this.depthBuffer = t.depthBuffer,
            this.stencilBuffer = t.stencilBuffer,
            this.depthTexture = t.depthTexture,
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }),
    er.prototype = Object.assign(Object.create(tr.prototype), {
        constructor: er,
        isWebGLMultisampleRenderTarget: !0,
        copy: function(t) {
            return tr.prototype.copy.call(this, t),
            this.samples = t.samples,
            this
        }
    }),
    Object.assign(nr, {
        slerp: function(t, e, n, r) {
            return n.copy(t).slerp(e, r)
        },
        slerpFlat: function(t, e, n, r, i, o, a) {
            var s = n[r + 0]
              , u = n[r + 1]
              , c = n[r + 2]
              , l = n[r + 3]
              , h = i[o + 0]
              , f = i[o + 1]
              , p = i[o + 2]
              , d = i[o + 3];
            if (l !== d || s !== h || u !== f || c !== p) {
                var m = 1 - a
                  , v = s * h + u * f + c * p + l * d
                  , g = v >= 0 ? 1 : -1
                  , y = 1 - v * v;
                if (y > Number.EPSILON) {
                    var b = Math.sqrt(y)
                      , x = Math.atan2(b, v * g);
                    m = Math.sin(m * x) / b,
                    a = Math.sin(a * x) / b
                }
                var _ = a * g;
                if (s = s * m + h * _,
                u = u * m + f * _,
                c = c * m + p * _,
                l = l * m + d * _,
                m === 1 - a) {
                    var w = 1 / Math.sqrt(s * s + u * u + c * c + l * l);
                    s *= w,
                    u *= w,
                    c *= w,
                    l *= w
                }
            }
            t[e] = s,
            t[e + 1] = u,
            t[e + 2] = c,
            t[e + 3] = l
        }
    }),
    Object.defineProperties(nr.prototype, {
        x: {
            get: function() {
                return this._x
            },
            set: function(t) {
                this._x = t,
                this._onChangeCallback()
            }
        },
        y: {
            get: function() {
                return this._y
            },
            set: function(t) {
                this._y = t,
                this._onChangeCallback()
            }
        },
        z: {
            get: function() {
                return this._z
            },
            set: function(t) {
                this._z = t,
                this._onChangeCallback()
            }
        },
        w: {
            get: function() {
                return this._w
            },
            set: function(t) {
                this._w = t,
                this._onChangeCallback()
            }
        }
    }),
    Object.assign(nr.prototype, {
        isQuaternion: !0,
        set: function(t, e, n, r) {
            return this._x = t,
            this._y = e,
            this._z = n,
            this._w = r,
            this._onChangeCallback(),
            this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._w)
        },
        copy: function(t) {
            return this._x = t.x,
            this._y = t.y,
            this._z = t.z,
            this._w = t.w,
            this._onChangeCallback(),
            this
        },
        setFromEuler: function(t, e) {
            if (!t || !t.isEuler)
                throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
            var n = t._x
              , r = t._y
              , i = t._z
              , o = t.order
              , a = Math.cos
              , s = Math.sin
              , u = a(n / 2)
              , c = a(r / 2)
              , l = a(i / 2)
              , h = s(n / 2)
              , f = s(r / 2)
              , p = s(i / 2);
            return "XYZ" === o ? (this._x = h * c * l + u * f * p,
            this._y = u * f * l - h * c * p,
            this._z = u * c * p + h * f * l,
            this._w = u * c * l - h * f * p) : "YXZ" === o ? (this._x = h * c * l + u * f * p,
            this._y = u * f * l - h * c * p,
            this._z = u * c * p - h * f * l,
            this._w = u * c * l + h * f * p) : "ZXY" === o ? (this._x = h * c * l - u * f * p,
            this._y = u * f * l + h * c * p,
            this._z = u * c * p + h * f * l,
            this._w = u * c * l - h * f * p) : "ZYX" === o ? (this._x = h * c * l - u * f * p,
            this._y = u * f * l + h * c * p,
            this._z = u * c * p - h * f * l,
            this._w = u * c * l + h * f * p) : "YZX" === o ? (this._x = h * c * l + u * f * p,
            this._y = u * f * l + h * c * p,
            this._z = u * c * p - h * f * l,
            this._w = u * c * l - h * f * p) : "XZY" === o && (this._x = h * c * l - u * f * p,
            this._y = u * f * l - h * c * p,
            this._z = u * c * p + h * f * l,
            this._w = u * c * l + h * f * p),
            !1 !== e && this._onChangeCallback(),
            this
        },
        setFromAxisAngle: function(t, e) {
            var n = e / 2
              , r = Math.sin(n);
            return this._x = t.x * r,
            this._y = t.y * r,
            this._z = t.z * r,
            this._w = Math.cos(n),
            this._onChangeCallback(),
            this
        },
        setFromRotationMatrix: function(t) {
            var e, n = t.elements, r = n[0], i = n[4], o = n[8], a = n[1], s = n[5], u = n[9], c = n[2], l = n[6], h = n[10], f = r + s + h;
            return f > 0 ? (e = .5 / Math.sqrt(f + 1),
            this._w = .25 / e,
            this._x = (l - u) * e,
            this._y = (o - c) * e,
            this._z = (a - i) * e) : r > s && r > h ? (e = 2 * Math.sqrt(1 + r - s - h),
            this._w = (l - u) / e,
            this._x = .25 * e,
            this._y = (i + a) / e,
            this._z = (o + c) / e) : s > h ? (e = 2 * Math.sqrt(1 + s - r - h),
            this._w = (o - c) / e,
            this._x = (i + a) / e,
            this._y = .25 * e,
            this._z = (u + l) / e) : (e = 2 * Math.sqrt(1 + h - r - s),
            this._w = (a - i) / e,
            this._x = (o + c) / e,
            this._y = (u + l) / e,
            this._z = .25 * e),
            this._onChangeCallback(),
            this
        },
        setFromUnitVectors: function(t, e) {
            var n = t.dot(e) + 1;
            return n < 1e-6 ? (n = 0,
            Math.abs(t.x) > Math.abs(t.z) ? (this._x = -t.y,
            this._y = t.x,
            this._z = 0,
            this._w = n) : (this._x = 0,
            this._y = -t.z,
            this._z = t.y,
            this._w = n)) : (this._x = t.y * e.z - t.z * e.y,
            this._y = t.z * e.x - t.x * e.z,
            this._z = t.x * e.y - t.y * e.x,
            this._w = n),
            this.normalize()
        },
        angleTo: function(t) {
            return 2 * Math.acos(Math.abs(Xn.clamp(this.dot(t), -1, 1)))
        },
        rotateTowards: function(t, e) {
            var n = this.angleTo(t);
            if (0 === n)
                return this;
            var r = Math.min(1, e / n);
            return this.slerp(t, r),
            this
        },
        inverse: function() {
            return this.conjugate()
        },
        conjugate: function() {
            return this._x *= -1,
            this._y *= -1,
            this._z *= -1,
            this._onChangeCallback(),
            this
        },
        dot: function(t) {
            return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
        },
        lengthSq: function() {
            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
        },
        length: function() {
            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
        },
        normalize: function() {
            var t = this.length();
            return 0 === t ? (this._x = 0,
            this._y = 0,
            this._z = 0,
            this._w = 1) : (t = 1 / t,
            this._x = this._x * t,
            this._y = this._y * t,
            this._z = this._z * t,
            this._w = this._w * t),
            this._onChangeCallback(),
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
            this.multiplyQuaternions(t, e)) : this.multiplyQuaternions(this, t)
        },
        premultiply: function(t) {
            return this.multiplyQuaternions(t, this)
        },
        multiplyQuaternions: function(t, e) {
            var n = t._x
              , r = t._y
              , i = t._z
              , o = t._w
              , a = e._x
              , s = e._y
              , u = e._z
              , c = e._w;
            return this._x = n * c + o * a + r * u - i * s,
            this._y = r * c + o * s + i * a - n * u,
            this._z = i * c + o * u + n * s - r * a,
            this._w = o * c - n * a - r * s - i * u,
            this._onChangeCallback(),
            this
        },
        slerp: function(t, e) {
            if (0 === e)
                return this;
            if (1 === e)
                return this.copy(t);
            var n = this._x
              , r = this._y
              , i = this._z
              , o = this._w
              , a = o * t._w + n * t._x + r * t._y + i * t._z;
            if (a < 0 ? (this._w = -t._w,
            this._x = -t._x,
            this._y = -t._y,
            this._z = -t._z,
            a = -a) : this.copy(t),
            a >= 1)
                return this._w = o,
                this._x = n,
                this._y = r,
                this._z = i,
                this;
            var s = 1 - a * a;
            if (s <= Number.EPSILON) {
                var u = 1 - e;
                return this._w = u * o + e * this._w,
                this._x = u * n + e * this._x,
                this._y = u * r + e * this._y,
                this._z = u * i + e * this._z,
                this.normalize(),
                this._onChangeCallback(),
                this
            }
            var c = Math.sqrt(s)
              , l = Math.atan2(c, a)
              , h = Math.sin((1 - e) * l) / c
              , f = Math.sin(e * l) / c;
            return this._w = o * h + this._w * f,
            this._x = n * h + this._x * f,
            this._y = r * h + this._y * f,
            this._z = i * h + this._z * f,
            this._onChangeCallback(),
            this
        },
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this._x = t[e],
            this._y = t[e + 1],
            this._z = t[e + 2],
            this._w = t[e + 3],
            this._onChangeCallback(),
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this._x,
            t[e + 1] = this._y,
            t[e + 2] = this._z,
            t[e + 3] = this._w,
            t
        },
        _onChange: function(t) {
            return this._onChangeCallback = t,
            this
        },
        _onChangeCallback: function() {}
    });
    var rr = new or
      , ir = new nr;
    function or(t, e, n) {
        this.x = t || 0,
        this.y = e || 0,
        this.z = n || 0
    }
    Object.assign(or.prototype, {
        isVector3: !0,
        set: function(t, e, n) {
            return this.x = t,
            this.y = e,
            this.z = n,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this.z = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setZ: function(t) {
            return this.z = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            case 2:
                this.z = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
            return this
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this.z = t.z,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this.z += t.z,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this.z += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this.z = t.z + e.z,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this.z += t.z * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this.z -= t.z,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this.z -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this.z = t.z - e.z,
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
            this.multiplyVectors(t, e)) : (this.x *= t.x,
            this.y *= t.y,
            this.z *= t.z,
            this)
        },
        multiplyScalar: function(t) {
            return this.x *= t,
            this.y *= t,
            this.z *= t,
            this
        },
        multiplyVectors: function(t, e) {
            return this.x = t.x * e.x,
            this.y = t.y * e.y,
            this.z = t.z * e.z,
            this
        },
        applyEuler: function(t) {
            return t && t.isEuler || console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),
            this.applyQuaternion(ir.setFromEuler(t))
        },
        applyAxisAngle: function(t, e) {
            return this.applyQuaternion(ir.setFromAxisAngle(t, e))
        },
        applyMatrix3: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements;
            return this.x = i[0] * e + i[3] * n + i[6] * r,
            this.y = i[1] * e + i[4] * n + i[7] * r,
            this.z = i[2] * e + i[5] * n + i[8] * r,
            this
        },
        applyNormalMatrix: function(t) {
            return this.applyMatrix3(t).normalize()
        },
        applyMatrix4: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements
              , o = 1 / (i[3] * e + i[7] * n + i[11] * r + i[15]);
            return this.x = (i[0] * e + i[4] * n + i[8] * r + i[12]) * o,
            this.y = (i[1] * e + i[5] * n + i[9] * r + i[13]) * o,
            this.z = (i[2] * e + i[6] * n + i[10] * r + i[14]) * o,
            this
        },
        applyQuaternion: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.x
              , o = t.y
              , a = t.z
              , s = t.w
              , u = s * e + o * r - a * n
              , c = s * n + a * e - i * r
              , l = s * r + i * n - o * e
              , h = -i * e - o * n - a * r;
            return this.x = u * s + h * -i + c * -a - l * -o,
            this.y = c * s + h * -o + l * -i - u * -a,
            this.z = l * s + h * -a + u * -o - c * -i,
            this
        },
        project: function(t) {
            return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)
        },
        unproject: function(t) {
            return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)
        },
        transformDirection: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements;
            return this.x = i[0] * e + i[4] * n + i[8] * r,
            this.y = i[1] * e + i[5] * n + i[9] * r,
            this.z = i[2] * e + i[6] * n + i[10] * r,
            this.normalize()
        },
        divide: function(t) {
            return this.x /= t.x,
            this.y /= t.y,
            this.z /= t.z,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this.z = Math.min(this.z, t.z),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this.z = Math.max(this.z, t.z),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this.z = Math.max(t.z, Math.min(e.z, this.z)),
            this
        },
        clampScalar: function(t, e) {
            return this.x = Math.max(t, Math.min(e, this.x)),
            this.y = Math.max(t, Math.min(e, this.y)),
            this.z = Math.max(t, Math.min(e, this.z)),
            this
        },
        clampLength: function(t, e) {
            var n = this.length();
            return this.divideScalar(n || 1).multiplyScalar(Math.max(t, Math.min(e, n)))
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this.z = Math.floor(this.z),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this.z = Math.ceil(this.z),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this.z = Math.round(this.z),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this.z = -this.z,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
        },
        manhattanLength: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
        },
        normalize: function() {
            return this.divideScalar(this.length() || 1)
        },
        setLength: function(t) {
            return this.normalize().multiplyScalar(t)
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this.z += (t.z - this.z) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        cross: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),
            this.crossVectors(t, e)) : this.crossVectors(this, t)
        },
        crossVectors: function(t, e) {
            var n = t.x
              , r = t.y
              , i = t.z
              , o = e.x
              , a = e.y
              , s = e.z;
            return this.x = r * s - i * a,
            this.y = i * o - n * s,
            this.z = n * a - r * o,
            this
        },
        projectOnVector: function(t) {
            var e = t.lengthSq();
            if (0 === e)
                return this.set(0, 0, 0);
            var n = t.dot(this) / e;
            return this.copy(t).multiplyScalar(n)
        },
        projectOnPlane: function(t) {
            return rr.copy(this).projectOnVector(t),
            this.sub(rr)
        },
        reflect: function(t) {
            return this.sub(rr.copy(t).multiplyScalar(2 * this.dot(t)))
        },
        angleTo: function(t) {
            var e = Math.sqrt(this.lengthSq() * t.lengthSq());
            if (0 === e)
                return Math.PI / 2;
            var n = this.dot(t) / e;
            return Math.acos(Xn.clamp(n, -1, 1))
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x
              , n = this.y - t.y
              , r = this.z - t.z;
            return e * e + n * n + r * r
        },
        manhattanDistanceTo: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
        },
        setFromSpherical: function(t) {
            return this.setFromSphericalCoords(t.radius, t.phi, t.theta)
        },
        setFromSphericalCoords: function(t, e, n) {
            var r = Math.sin(e) * t;
            return this.x = r * Math.sin(n),
            this.y = Math.cos(e) * t,
            this.z = r * Math.cos(n),
            this
        },
        setFromCylindrical: function(t) {
            return this.setFromCylindricalCoords(t.radius, t.theta, t.y)
        },
        setFromCylindricalCoords: function(t, e, n) {
            return this.x = t * Math.sin(e),
            this.y = n,
            this.z = t * Math.cos(e),
            this
        },
        setFromMatrixPosition: function(t) {
            var e = t.elements;
            return this.x = e[12],
            this.y = e[13],
            this.z = e[14],
            this
        },
        setFromMatrixScale: function(t) {
            var e = this.setFromMatrixColumn(t, 0).length()
              , n = this.setFromMatrixColumn(t, 1).length()
              , r = this.setFromMatrixColumn(t, 2).length();
            return this.x = e,
            this.y = n,
            this.z = r,
            this
        },
        setFromMatrixColumn: function(t, e) {
            return this.fromArray(t.elements, 4 * e)
        },
        setFromMatrix3Column: function(t, e) {
            return this.fromArray(t.elements, 3 * e)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this.z = t[e + 2],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t[e + 2] = this.z,
            t
        },
        fromBufferAttribute: function(t, e, n) {
            return void 0 !== n && console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),
            this.x = t.getX(e),
            this.y = t.getY(e),
            this.z = t.getZ(e),
            this
        }
    });
    var ar = new or
      , sr = new pr
      , ur = new or(0,0,0)
      , cr = new or(1,1,1)
      , lr = new or
      , hr = new or
      , fr = new or;
    function pr() {
        this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],
        arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
    }
    Object.assign(pr.prototype, {
        isMatrix4: !0,
        set: function(t, e, n, r, i, o, a, s, u, c, l, h, f, p, d, m) {
            var v = this.elements;
            return v[0] = t,
            v[4] = e,
            v[8] = n,
            v[12] = r,
            v[1] = i,
            v[5] = o,
            v[9] = a,
            v[13] = s,
            v[2] = u,
            v[6] = c,
            v[10] = l,
            v[14] = h,
            v[3] = f,
            v[7] = p,
            v[11] = d,
            v[15] = m,
            this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
            this
        },
        clone: function() {
            return (new pr).fromArray(this.elements)
        },
        copy: function(t) {
            var e = this.elements
              , n = t.elements;
            return e[0] = n[0],
            e[1] = n[1],
            e[2] = n[2],
            e[3] = n[3],
            e[4] = n[4],
            e[5] = n[5],
            e[6] = n[6],
            e[7] = n[7],
            e[8] = n[8],
            e[9] = n[9],
            e[10] = n[10],
            e[11] = n[11],
            e[12] = n[12],
            e[13] = n[13],
            e[14] = n[14],
            e[15] = n[15],
            this
        },
        copyPosition: function(t) {
            var e = this.elements
              , n = t.elements;
            return e[12] = n[12],
            e[13] = n[13],
            e[14] = n[14],
            this
        },
        extractBasis: function(t, e, n) {
            return t.setFromMatrixColumn(this, 0),
            e.setFromMatrixColumn(this, 1),
            n.setFromMatrixColumn(this, 2),
            this
        },
        makeBasis: function(t, e, n) {
            return this.set(t.x, e.x, n.x, 0, t.y, e.y, n.y, 0, t.z, e.z, n.z, 0, 0, 0, 0, 1),
            this
        },
        extractRotation: function(t) {
            var e = this.elements
              , n = t.elements
              , r = 1 / ar.setFromMatrixColumn(t, 0).length()
              , i = 1 / ar.setFromMatrixColumn(t, 1).length()
              , o = 1 / ar.setFromMatrixColumn(t, 2).length();
            return e[0] = n[0] * r,
            e[1] = n[1] * r,
            e[2] = n[2] * r,
            e[3] = 0,
            e[4] = n[4] * i,
            e[5] = n[5] * i,
            e[6] = n[6] * i,
            e[7] = 0,
            e[8] = n[8] * o,
            e[9] = n[9] * o,
            e[10] = n[10] * o,
            e[11] = 0,
            e[12] = 0,
            e[13] = 0,
            e[14] = 0,
            e[15] = 1,
            this
        },
        makeRotationFromEuler: function(t) {
            t && t.isEuler || console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
            var e = this.elements
              , n = t.x
              , r = t.y
              , i = t.z
              , o = Math.cos(n)
              , a = Math.sin(n)
              , s = Math.cos(r)
              , u = Math.sin(r)
              , c = Math.cos(i)
              , l = Math.sin(i);
            if ("XYZ" === t.order) {
                var h = o * c
                  , f = o * l
                  , p = a * c
                  , d = a * l;
                e[0] = s * c,
                e[4] = -s * l,
                e[8] = u,
                e[1] = f + p * u,
                e[5] = h - d * u,
                e[9] = -a * s,
                e[2] = d - h * u,
                e[6] = p + f * u,
                e[10] = o * s
            } else if ("YXZ" === t.order) {
                var m = s * c
                  , v = s * l
                  , g = u * c
                  , y = u * l;
                e[0] = m + y * a,
                e[4] = g * a - v,
                e[8] = o * u,
                e[1] = o * l,
                e[5] = o * c,
                e[9] = -a,
                e[2] = v * a - g,
                e[6] = y + m * a,
                e[10] = o * s
            } else if ("ZXY" === t.order) {
                m = s * c,
                v = s * l,
                g = u * c,
                y = u * l;
                e[0] = m - y * a,
                e[4] = -o * l,
                e[8] = g + v * a,
                e[1] = v + g * a,
                e[5] = o * c,
                e[9] = y - m * a,
                e[2] = -o * u,
                e[6] = a,
                e[10] = o * s
            } else if ("ZYX" === t.order) {
                h = o * c,
                f = o * l,
                p = a * c,
                d = a * l;
                e[0] = s * c,
                e[4] = p * u - f,
                e[8] = h * u + d,
                e[1] = s * l,
                e[5] = d * u + h,
                e[9] = f * u - p,
                e[2] = -u,
                e[6] = a * s,
                e[10] = o * s
            } else if ("YZX" === t.order) {
                var b = o * s
                  , x = o * u
                  , _ = a * s
                  , w = a * u;
                e[0] = s * c,
                e[4] = w - b * l,
                e[8] = _ * l + x,
                e[1] = l,
                e[5] = o * c,
                e[9] = -a * c,
                e[2] = -u * c,
                e[6] = x * l + _,
                e[10] = b - w * l
            } else if ("XZY" === t.order) {
                b = o * s,
                x = o * u,
                _ = a * s,
                w = a * u;
                e[0] = s * c,
                e[4] = -l,
                e[8] = u * c,
                e[1] = b * l + w,
                e[5] = o * c,
                e[9] = x * l - _,
                e[2] = _ * l - x,
                e[6] = a * c,
                e[10] = w * l + b
            }
            return e[3] = 0,
            e[7] = 0,
            e[11] = 0,
            e[12] = 0,
            e[13] = 0,
            e[14] = 0,
            e[15] = 1,
            this
        },
        makeRotationFromQuaternion: function(t) {
            return this.compose(ur, t, cr)
        },
        lookAt: function(t, e, n) {
            var r = this.elements;
            return fr.subVectors(t, e),
            0 === fr.lengthSq() && (fr.z = 1),
            fr.normalize(),
            lr.crossVectors(n, fr),
            0 === lr.lengthSq() && (1 === Math.abs(n.z) ? fr.x += 1e-4 : fr.z += 1e-4,
            fr.normalize(),
            lr.crossVectors(n, fr)),
            lr.normalize(),
            hr.crossVectors(fr, lr),
            r[0] = lr.x,
            r[4] = hr.x,
            r[8] = fr.x,
            r[1] = lr.y,
            r[5] = hr.y,
            r[9] = fr.y,
            r[2] = lr.z,
            r[6] = hr.z,
            r[10] = fr.z,
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
            this.multiplyMatrices(t, e)) : this.multiplyMatrices(this, t)
        },
        premultiply: function(t) {
            return this.multiplyMatrices(t, this)
        },
        multiplyMatrices: function(t, e) {
            var n = t.elements
              , r = e.elements
              , i = this.elements
              , o = n[0]
              , a = n[4]
              , s = n[8]
              , u = n[12]
              , c = n[1]
              , l = n[5]
              , h = n[9]
              , f = n[13]
              , p = n[2]
              , d = n[6]
              , m = n[10]
              , v = n[14]
              , g = n[3]
              , y = n[7]
              , b = n[11]
              , x = n[15]
              , _ = r[0]
              , w = r[4]
              , M = r[8]
              , S = r[12]
              , E = r[1]
              , T = r[5]
              , A = r[9]
              , P = r[13]
              , L = r[2]
              , O = r[6]
              , R = r[10]
              , C = r[14]
              , I = r[3]
              , D = r[7]
              , k = r[11]
              , N = r[15];
            return i[0] = o * _ + a * E + s * L + u * I,
            i[4] = o * w + a * T + s * O + u * D,
            i[8] = o * M + a * A + s * R + u * k,
            i[12] = o * S + a * P + s * C + u * N,
            i[1] = c * _ + l * E + h * L + f * I,
            i[5] = c * w + l * T + h * O + f * D,
            i[9] = c * M + l * A + h * R + f * k,
            i[13] = c * S + l * P + h * C + f * N,
            i[2] = p * _ + d * E + m * L + v * I,
            i[6] = p * w + d * T + m * O + v * D,
            i[10] = p * M + d * A + m * R + v * k,
            i[14] = p * S + d * P + m * C + v * N,
            i[3] = g * _ + y * E + b * L + x * I,
            i[7] = g * w + y * T + b * O + x * D,
            i[11] = g * M + y * A + b * R + x * k,
            i[15] = g * S + y * P + b * C + x * N,
            this
        },
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t,
            e[4] *= t,
            e[8] *= t,
            e[12] *= t,
            e[1] *= t,
            e[5] *= t,
            e[9] *= t,
            e[13] *= t,
            e[2] *= t,
            e[6] *= t,
            e[10] *= t,
            e[14] *= t,
            e[3] *= t,
            e[7] *= t,
            e[11] *= t,
            e[15] *= t,
            this
        },
        determinant: function() {
            var t = this.elements
              , e = t[0]
              , n = t[4]
              , r = t[8]
              , i = t[12]
              , o = t[1]
              , a = t[5]
              , s = t[9]
              , u = t[13]
              , c = t[2]
              , l = t[6]
              , h = t[10]
              , f = t[14];
            return t[3] * (+i * s * l - r * u * l - i * a * h + n * u * h + r * a * f - n * s * f) + t[7] * (+e * s * f - e * u * h + i * o * h - r * o * f + r * u * c - i * s * c) + t[11] * (+e * u * l - e * a * f - i * o * l + n * o * f + i * a * c - n * u * c) + t[15] * (-r * a * c - e * s * l + e * a * h + r * o * l - n * o * h + n * s * c)
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1],
            e[1] = e[4],
            e[4] = t,
            t = e[2],
            e[2] = e[8],
            e[8] = t,
            t = e[6],
            e[6] = e[9],
            e[9] = t,
            t = e[3],
            e[3] = e[12],
            e[12] = t,
            t = e[7],
            e[7] = e[13],
            e[13] = t,
            t = e[11],
            e[11] = e[14],
            e[14] = t,
            this
        },
        setPosition: function(t, e, n) {
            var r = this.elements;
            return t.isVector3 ? (r[12] = t.x,
            r[13] = t.y,
            r[14] = t.z) : (r[12] = t,
            r[13] = e,
            r[14] = n),
            this
        },
        getInverse: function(t, e) {
            var n = this.elements
              , r = t.elements
              , i = r[0]
              , o = r[1]
              , a = r[2]
              , s = r[3]
              , u = r[4]
              , c = r[5]
              , l = r[6]
              , h = r[7]
              , f = r[8]
              , p = r[9]
              , d = r[10]
              , m = r[11]
              , v = r[12]
              , g = r[13]
              , y = r[14]
              , b = r[15]
              , x = p * y * h - g * d * h + g * l * m - c * y * m - p * l * b + c * d * b
              , _ = v * d * h - f * y * h - v * l * m + u * y * m + f * l * b - u * d * b
              , w = f * g * h - v * p * h + v * c * m - u * g * m - f * c * b + u * p * b
              , M = v * p * l - f * g * l - v * c * d + u * g * d + f * c * y - u * p * y
              , S = i * x + o * _ + a * w + s * M;
            if (0 === S) {
                var E = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
                if (!0 === e)
                    throw new Error(E);
                return console.warn(E),
                this.identity()
            }
            var T = 1 / S;
            return n[0] = x * T,
            n[1] = (g * d * s - p * y * s - g * a * m + o * y * m + p * a * b - o * d * b) * T,
            n[2] = (c * y * s - g * l * s + g * a * h - o * y * h - c * a * b + o * l * b) * T,
            n[3] = (p * l * s - c * d * s - p * a * h + o * d * h + c * a * m - o * l * m) * T,
            n[4] = _ * T,
            n[5] = (f * y * s - v * d * s + v * a * m - i * y * m - f * a * b + i * d * b) * T,
            n[6] = (v * l * s - u * y * s - v * a * h + i * y * h + u * a * b - i * l * b) * T,
            n[7] = (u * d * s - f * l * s + f * a * h - i * d * h - u * a * m + i * l * m) * T,
            n[8] = w * T,
            n[9] = (v * p * s - f * g * s - v * o * m + i * g * m + f * o * b - i * p * b) * T,
            n[10] = (u * g * s - v * c * s + v * o * h - i * g * h - u * o * b + i * c * b) * T,
            n[11] = (f * c * s - u * p * s - f * o * h + i * p * h + u * o * m - i * c * m) * T,
            n[12] = M * T,
            n[13] = (f * g * a - v * p * a + v * o * d - i * g * d - f * o * y + i * p * y) * T,
            n[14] = (v * c * a - u * g * a - v * o * l + i * g * l + u * o * y - i * c * y) * T,
            n[15] = (u * p * a - f * c * a + f * o * l - i * p * l - u * o * d + i * c * d) * T,
            this
        },
        scale: function(t) {
            var e = this.elements
              , n = t.x
              , r = t.y
              , i = t.z;
            return e[0] *= n,
            e[4] *= r,
            e[8] *= i,
            e[1] *= n,
            e[5] *= r,
            e[9] *= i,
            e[2] *= n,
            e[6] *= r,
            e[10] *= i,
            e[3] *= n,
            e[7] *= r,
            e[11] *= i,
            this
        },
        getMaxScaleOnAxis: function() {
            var t = this.elements
              , e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2]
              , n = t[4] * t[4] + t[5] * t[5] + t[6] * t[6]
              , r = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
            return Math.sqrt(Math.max(e, n, r))
        },
        makeTranslation: function(t, e, n) {
            return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, n, 0, 0, 0, 1),
            this
        },
        makeRotationX: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(1, 0, 0, 0, 0, e, -n, 0, 0, n, e, 0, 0, 0, 0, 1),
            this
        },
        makeRotationY: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(e, 0, n, 0, 0, 1, 0, 0, -n, 0, e, 0, 0, 0, 0, 1),
            this
        },
        makeRotationZ: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(e, -n, 0, 0, n, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
            this
        },
        makeRotationAxis: function(t, e) {
            var n = Math.cos(e)
              , r = Math.sin(e)
              , i = 1 - n
              , o = t.x
              , a = t.y
              , s = t.z
              , u = i * o
              , c = i * a;
            return this.set(u * o + n, u * a - r * s, u * s + r * a, 0, u * a + r * s, c * a + n, c * s - r * o, 0, u * s - r * a, c * s + r * o, i * s * s + n, 0, 0, 0, 0, 1),
            this
        },
        makeScale: function(t, e, n) {
            return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, n, 0, 0, 0, 0, 1),
            this
        },
        makeShear: function(t, e, n) {
            return this.set(1, e, n, 0, t, 1, n, 0, t, e, 1, 0, 0, 0, 0, 1),
            this
        },
        compose: function(t, e, n) {
            var r = this.elements
              , i = e._x
              , o = e._y
              , a = e._z
              , s = e._w
              , u = i + i
              , c = o + o
              , l = a + a
              , h = i * u
              , f = i * c
              , p = i * l
              , d = o * c
              , m = o * l
              , v = a * l
              , g = s * u
              , y = s * c
              , b = s * l
              , x = n.x
              , _ = n.y
              , w = n.z;
            return r[0] = (1 - (d + v)) * x,
            r[1] = (f + b) * x,
            r[2] = (p - y) * x,
            r[3] = 0,
            r[4] = (f - b) * _,
            r[5] = (1 - (h + v)) * _,
            r[6] = (m + g) * _,
            r[7] = 0,
            r[8] = (p + y) * w,
            r[9] = (m - g) * w,
            r[10] = (1 - (h + d)) * w,
            r[11] = 0,
            r[12] = t.x,
            r[13] = t.y,
            r[14] = t.z,
            r[15] = 1,
            this
        },
        decompose: function(t, e, n) {
            var r = this.elements
              , i = ar.set(r[0], r[1], r[2]).length()
              , o = ar.set(r[4], r[5], r[6]).length()
              , a = ar.set(r[8], r[9], r[10]).length();
            this.determinant() < 0 && (i = -i),
            t.x = r[12],
            t.y = r[13],
            t.z = r[14],
            sr.copy(this);
            var s = 1 / i
              , u = 1 / o
              , c = 1 / a;
            return sr.elements[0] *= s,
            sr.elements[1] *= s,
            sr.elements[2] *= s,
            sr.elements[4] *= u,
            sr.elements[5] *= u,
            sr.elements[6] *= u,
            sr.elements[8] *= c,
            sr.elements[9] *= c,
            sr.elements[10] *= c,
            e.setFromRotationMatrix(sr),
            n.x = i,
            n.y = o,
            n.z = a,
            this
        },
        makePerspective: function(t, e, n, r, i, o) {
            void 0 === o && console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
            var a = this.elements
              , s = 2 * i / (e - t)
              , u = 2 * i / (n - r)
              , c = (e + t) / (e - t)
              , l = (n + r) / (n - r)
              , h = -(o + i) / (o - i)
              , f = -2 * o * i / (o - i);
            return a[0] = s,
            a[4] = 0,
            a[8] = c,
            a[12] = 0,
            a[1] = 0,
            a[5] = u,
            a[9] = l,
            a[13] = 0,
            a[2] = 0,
            a[6] = 0,
            a[10] = h,
            a[14] = f,
            a[3] = 0,
            a[7] = 0,
            a[11] = -1,
            a[15] = 0,
            this
        },
        makeOrthographic: function(t, e, n, r, i, o) {
            var a = this.elements
              , s = 1 / (e - t)
              , u = 1 / (n - r)
              , c = 1 / (o - i)
              , l = (e + t) * s
              , h = (n + r) * u
              , f = (o + i) * c;
            return a[0] = 2 * s,
            a[4] = 0,
            a[8] = 0,
            a[12] = -l,
            a[1] = 0,
            a[5] = 2 * u,
            a[9] = 0,
            a[13] = -h,
            a[2] = 0,
            a[6] = 0,
            a[10] = -2 * c,
            a[14] = -f,
            a[3] = 0,
            a[7] = 0,
            a[11] = 0,
            a[15] = 1,
            this
        },
        equals: function(t) {
            for (var e = this.elements, n = t.elements, r = 0; r < 16; r++)
                if (e[r] !== n[r])
                    return !1;
            return !0
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var n = 0; n < 16; n++)
                this.elements[n] = t[n + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []),
            void 0 === e && (e = 0);
            var n = this.elements;
            return t[e] = n[0],
            t[e + 1] = n[1],
            t[e + 2] = n[2],
            t[e + 3] = n[3],
            t[e + 4] = n[4],
            t[e + 5] = n[5],
            t[e + 6] = n[6],
            t[e + 7] = n[7],
            t[e + 8] = n[8],
            t[e + 9] = n[9],
            t[e + 10] = n[10],
            t[e + 11] = n[11],
            t[e + 12] = n[12],
            t[e + 13] = n[13],
            t[e + 14] = n[14],
            t[e + 15] = n[15],
            t
        }
    });
    var dr = new pr
      , mr = new nr;
    function vr(t, e, n, r) {
        this._x = t || 0,
        this._y = e || 0,
        this._z = n || 0,
        this._order = r || vr.DefaultOrder
    }
    function gr() {
        this.mask = 1
    }
    vr.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"],
    vr.DefaultOrder = "XYZ",
    Object.defineProperties(vr.prototype, {
        x: {
            get: function() {
                return this._x
            },
            set: function(t) {
                this._x = t,
                this._onChangeCallback()
            }
        },
        y: {
            get: function() {
                return this._y
            },
            set: function(t) {
                this._y = t,
                this._onChangeCallback()
            }
        },
        z: {
            get: function() {
                return this._z
            },
            set: function(t) {
                this._z = t,
                this._onChangeCallback()
            }
        },
        order: {
            get: function() {
                return this._order
            },
            set: function(t) {
                this._order = t,
                this._onChangeCallback()
            }
        }
    }),
    Object.assign(vr.prototype, {
        isEuler: !0,
        set: function(t, e, n, r) {
            return this._x = t,
            this._y = e,
            this._z = n,
            this._order = r || this._order,
            this._onChangeCallback(),
            this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._order)
        },
        copy: function(t) {
            return this._x = t._x,
            this._y = t._y,
            this._z = t._z,
            this._order = t._order,
            this._onChangeCallback(),
            this
        },
        setFromRotationMatrix: function(t, e, n) {
            var r = Xn.clamp
              , i = t.elements
              , o = i[0]
              , a = i[4]
              , s = i[8]
              , u = i[1]
              , c = i[5]
              , l = i[9]
              , h = i[2]
              , f = i[6]
              , p = i[10];
            return "XYZ" === (e = e || this._order) ? (this._y = Math.asin(r(s, -1, 1)),
            Math.abs(s) < .9999999 ? (this._x = Math.atan2(-l, p),
            this._z = Math.atan2(-a, o)) : (this._x = Math.atan2(f, c),
            this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-r(l, -1, 1)),
            Math.abs(l) < .9999999 ? (this._y = Math.atan2(s, p),
            this._z = Math.atan2(u, c)) : (this._y = Math.atan2(-h, o),
            this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(r(f, -1, 1)),
            Math.abs(f) < .9999999 ? (this._y = Math.atan2(-h, p),
            this._z = Math.atan2(-a, c)) : (this._y = 0,
            this._z = Math.atan2(u, o))) : "ZYX" === e ? (this._y = Math.asin(-r(h, -1, 1)),
            Math.abs(h) < .9999999 ? (this._x = Math.atan2(f, p),
            this._z = Math.atan2(u, o)) : (this._x = 0,
            this._z = Math.atan2(-a, c))) : "YZX" === e ? (this._z = Math.asin(r(u, -1, 1)),
            Math.abs(u) < .9999999 ? (this._x = Math.atan2(-l, c),
            this._y = Math.atan2(-h, o)) : (this._x = 0,
            this._y = Math.atan2(s, p))) : "XZY" === e ? (this._z = Math.asin(-r(a, -1, 1)),
            Math.abs(a) < .9999999 ? (this._x = Math.atan2(f, c),
            this._y = Math.atan2(s, o)) : (this._x = Math.atan2(-l, p),
            this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + e),
            this._order = e,
            !1 !== n && this._onChangeCallback(),
            this
        },
        setFromQuaternion: function(t, e, n) {
            return dr.makeRotationFromQuaternion(t),
            this.setFromRotationMatrix(dr, e, n)
        },
        setFromVector3: function(t, e) {
            return this.set(t.x, t.y, t.z, e || this._order)
        },
        reorder: function(t) {
            return mr.setFromEuler(this),
            this.setFromQuaternion(mr, t)
        },
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
        },
        fromArray: function(t) {
            return this._x = t[0],
            this._y = t[1],
            this._z = t[2],
            void 0 !== t[3] && (this._order = t[3]),
            this._onChangeCallback(),
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this._x,
            t[e + 1] = this._y,
            t[e + 2] = this._z,
            t[e + 3] = this._order,
            t
        },
        toVector3: function(t) {
            return t ? t.set(this._x, this._y, this._z) : new or(this._x,this._y,this._z)
        },
        _onChange: function(t) {
            return this._onChangeCallback = t,
            this
        },
        _onChangeCallback: function() {}
    }),
    Object.assign(gr.prototype, {
        set: function(t) {
            this.mask = 1 << t | 0
        },
        enable: function(t) {
            this.mask |= 1 << t | 0
        },
        enableAll: function() {
            this.mask = -1
        },
        toggle: function(t) {
            this.mask ^= 1 << t | 0
        },
        disable: function(t) {
            this.mask &= ~(1 << t | 0)
        },
        disableAll: function() {
            this.mask = 0
        },
        test: function(t) {
            return 0 != (this.mask & t.mask)
        }
    });
    var yr = 0
      , br = new or
      , xr = new nr
      , _r = new pr
      , wr = new or
      , Mr = new or
      , Sr = new or
      , Er = new nr
      , Tr = new or(1,0,0)
      , Ar = new or(0,1,0)
      , Pr = new or(0,0,1)
      , Lr = {
        type: "added"
    }
      , Or = {
        type: "removed"
    };
    function Rr() {
        Object.defineProperty(this, "id", {
            value: yr++
        }),
        this.uuid = Xn.generateUUID(),
        this.name = "",
        this.type = "Object3D",
        this.parent = null,
        this.children = [],
        this.up = Rr.DefaultUp.clone();
        var t = new or
          , e = new vr
          , n = new nr
          , r = new or(1,1,1);
        e._onChange((function() {
            n.setFromEuler(e, !1)
        }
        )),
        n._onChange((function() {
            e.setFromQuaternion(n, void 0, !1)
        }
        )),
        Object.defineProperties(this, {
            position: {
                configurable: !0,
                enumerable: !0,
                value: t
            },
            rotation: {
                configurable: !0,
                enumerable: !0,
                value: e
            },
            quaternion: {
                configurable: !0,
                enumerable: !0,
                value: n
            },
            scale: {
                configurable: !0,
                enumerable: !0,
                value: r
            },
            modelViewMatrix: {
                value: new pr
            },
            normalMatrix: {
                value: new Zn
            }
        }),
        this.matrix = new pr,
        this.matrixWorld = new pr,
        this.matrixAutoUpdate = Rr.DefaultMatrixAutoUpdate,
        this.matrixWorldNeedsUpdate = !1,
        this.layers = new gr,
        this.visible = !0,
        this.castShadow = !1,
        this.receiveShadow = !1,
        this.frustumCulled = !0,
        this.renderOrder = 0,
        this.userData = {}
    }
    function Cr() {
        Rr.call(this),
        this.type = "Scene",
        this.background = null,
        this.environment = null,
        this.fog = null,
        this.overrideMaterial = null,
        this.autoUpdate = !0,
        "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{
            detail: this
        }))
    }
    Rr.DefaultUp = new or(0,1,0),
    Rr.DefaultMatrixAutoUpdate = !0,
    Rr.prototype = Object.assign(Object.create(Hn.prototype), {
        constructor: Rr,
        isObject3D: !0,
        onBeforeRender: function() {},
        onAfterRender: function() {},
        applyMatrix4: function(t) {
            this.matrixAutoUpdate && this.updateMatrix(),
            this.matrix.premultiply(t),
            this.matrix.decompose(this.position, this.quaternion, this.scale)
        },
        applyQuaternion: function(t) {
            return this.quaternion.premultiply(t),
            this
        },
        setRotationFromAxisAngle: function(t, e) {
            this.quaternion.setFromAxisAngle(t, e)
        },
        setRotationFromEuler: function(t) {
            this.quaternion.setFromEuler(t, !0)
        },
        setRotationFromMatrix: function(t) {
            this.quaternion.setFromRotationMatrix(t)
        },
        setRotationFromQuaternion: function(t) {
            this.quaternion.copy(t)
        },
        rotateOnAxis: function(t, e) {
            return xr.setFromAxisAngle(t, e),
            this.quaternion.multiply(xr),
            this
        },
        rotateOnWorldAxis: function(t, e) {
            return xr.setFromAxisAngle(t, e),
            this.quaternion.premultiply(xr),
            this
        },
        rotateX: function(t) {
            return this.rotateOnAxis(Tr, t)
        },
        rotateY: function(t) {
            return this.rotateOnAxis(Ar, t)
        },
        rotateZ: function(t) {
            return this.rotateOnAxis(Pr, t)
        },
        translateOnAxis: function(t, e) {
            return br.copy(t).applyQuaternion(this.quaternion),
            this.position.add(br.multiplyScalar(e)),
            this
        },
        translateX: function(t) {
            return this.translateOnAxis(Tr, t)
        },
        translateY: function(t) {
            return this.translateOnAxis(Ar, t)
        },
        translateZ: function(t) {
            return this.translateOnAxis(Pr, t)
        },
        localToWorld: function(t) {
            return t.applyMatrix4(this.matrixWorld)
        },
        worldToLocal: function(t) {
            return t.applyMatrix4(_r.getInverse(this.matrixWorld))
        },
        lookAt: function(t, e, n) {
            t.isVector3 ? wr.copy(t) : wr.set(t, e, n);
            var r = this.parent;
            this.updateWorldMatrix(!0, !1),
            Mr.setFromMatrixPosition(this.matrixWorld),
            this.isCamera || this.isLight ? _r.lookAt(Mr, wr, this.up) : _r.lookAt(wr, Mr, this.up),
            this.quaternion.setFromRotationMatrix(_r),
            r && (_r.extractRotation(r.matrixWorld),
            xr.setFromRotationMatrix(_r),
            this.quaternion.premultiply(xr.inverse()))
        },
        add: function(t) {
            if (arguments.length > 1) {
                for (var e = 0; e < arguments.length; e++)
                    this.add(arguments[e]);
                return this
            }
            return t === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t),
            this) : (t && t.isObject3D ? (null !== t.parent && t.parent.remove(t),
            t.parent = this,
            this.children.push(t),
            t.dispatchEvent(Lr)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t),
            this)
        },
        remove: function(t) {
            if (arguments.length > 1) {
                for (var e = 0; e < arguments.length; e++)
                    this.remove(arguments[e]);
                return this
            }
            var n = this.children.indexOf(t);
            return -1 !== n && (t.parent = null,
            this.children.splice(n, 1),
            t.dispatchEvent(Or)),
            this
        },
        attach: function(t) {
            return this.updateWorldMatrix(!0, !1),
            _r.getInverse(this.matrixWorld),
            null !== t.parent && (t.parent.updateWorldMatrix(!0, !1),
            _r.multiply(t.parent.matrixWorld)),
            t.applyMatrix4(_r),
            t.updateWorldMatrix(!1, !1),
            this.add(t),
            this
        },
        getObjectById: function(t) {
            return this.getObjectByProperty("id", t)
        },
        getObjectByName: function(t) {
            return this.getObjectByProperty("name", t)
        },
        getObjectByProperty: function(t, e) {
            if (this[t] === e)
                return this;
            for (var n = 0, r = this.children.length; n < r; n++) {
                var i = this.children[n].getObjectByProperty(t, e);
                if (void 0 !== i)
                    return i
            }
        },
        getWorldPosition: function(t) {
            return void 0 === t && (console.warn("THREE.Object3D: .getWorldPosition() target is now required"),
            t = new or),
            this.updateMatrixWorld(!0),
            t.setFromMatrixPosition(this.matrixWorld)
        },
        getWorldQuaternion: function(t) {
            return void 0 === t && (console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),
            t = new nr),
            this.updateMatrixWorld(!0),
            this.matrixWorld.decompose(Mr, t, Sr),
            t
        },
        getWorldScale: function(t) {
            return void 0 === t && (console.warn("THREE.Object3D: .getWorldScale() target is now required"),
            t = new or),
            this.updateMatrixWorld(!0),
            this.matrixWorld.decompose(Mr, Er, t),
            t
        },
        getWorldDirection: function(t) {
            void 0 === t && (console.warn("THREE.Object3D: .getWorldDirection() target is now required"),
            t = new or),
            this.updateMatrixWorld(!0);
            var e = this.matrixWorld.elements;
            return t.set(e[8], e[9], e[10]).normalize()
        },
        raycast: function() {},
        traverse: function(t) {
            t(this);
            for (var e = this.children, n = 0, r = e.length; n < r; n++)
                e[n].traverse(t)
        },
        traverseVisible: function(t) {
            if (!1 !== this.visible) {
                t(this);
                for (var e = this.children, n = 0, r = e.length; n < r; n++)
                    e[n].traverseVisible(t)
            }
        },
        traverseAncestors: function(t) {
            var e = this.parent;
            null !== e && (t(e),
            e.traverseAncestors(t))
        },
        updateMatrix: function() {
            this.matrix.compose(this.position, this.quaternion, this.scale),
            this.matrixWorldNeedsUpdate = !0
        },
        updateMatrixWorld: function(t) {
            this.matrixAutoUpdate && this.updateMatrix(),
            (this.matrixWorldNeedsUpdate || t) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix),
            this.matrixWorldNeedsUpdate = !1,
            t = !0);
            for (var e = this.children, n = 0, r = e.length; n < r; n++)
                e[n].updateMatrixWorld(t)
        },
        updateWorldMatrix: function(t, e) {
            var n = this.parent;
            if (!0 === t && null !== n && n.updateWorldMatrix(!0, !1),
            this.matrixAutoUpdate && this.updateMatrix(),
            null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix),
            !0 === e)
                for (var r = this.children, i = 0, o = r.length; i < o; i++)
                    r[i].updateWorldMatrix(!1, !0)
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t
              , n = {};
            e && (t = {
                geometries: {},
                materials: {},
                textures: {},
                images: {},
                shapes: {}
            },
            n.metadata = {
                version: 4.5,
                type: "Object",
                generator: "Object3D.toJSON"
            });
            var r = {};
            function i(e, n) {
                return void 0 === e[n.uuid] && (e[n.uuid] = n.toJSON(t)),
                n.uuid
            }
            if (r.uuid = this.uuid,
            r.type = this.type,
            "" !== this.name && (r.name = this.name),
            !0 === this.castShadow && (r.castShadow = !0),
            !0 === this.receiveShadow && (r.receiveShadow = !0),
            !1 === this.visible && (r.visible = !1),
            !1 === this.frustumCulled && (r.frustumCulled = !1),
            0 !== this.renderOrder && (r.renderOrder = this.renderOrder),
            "{}" !== JSON.stringify(this.userData) && (r.userData = this.userData),
            r.layers = this.layers.mask,
            r.matrix = this.matrix.toArray(),
            !1 === this.matrixAutoUpdate && (r.matrixAutoUpdate = !1),
            this.isInstancedMesh && (r.type = "InstancedMesh",
            r.count = this.count,
            r.instanceMatrix = this.instanceMatrix.toJSON()),
            this.isMesh || this.isLine || this.isPoints) {
                r.geometry = i(t.geometries, this.geometry);
                var o = this.geometry.parameters;
                if (void 0 !== o && void 0 !== o.shapes) {
                    var a = o.shapes;
                    if (Array.isArray(a))
                        for (var s = 0, u = a.length; s < u; s++) {
                            var c = a[s];
                            i(t.shapes, c)
                        }
                    else
                        i(t.shapes, a)
                }
            }
            if (void 0 !== this.material)
                if (Array.isArray(this.material)) {
                    var l = [];
                    for (s = 0,
                    u = this.material.length; s < u; s++)
                        l.push(i(t.materials, this.material[s]));
                    r.material = l
                } else
                    r.material = i(t.materials, this.material);
            if (this.children.length > 0) {
                r.children = [];
                for (s = 0; s < this.children.length; s++)
                    r.children.push(this.children[s].toJSON(t).object)
            }
            if (e) {
                var h = m(t.geometries)
                  , f = m(t.materials)
                  , p = m(t.textures)
                  , d = m(t.images);
                a = m(t.shapes);
                h.length > 0 && (n.geometries = h),
                f.length > 0 && (n.materials = f),
                p.length > 0 && (n.textures = p),
                d.length > 0 && (n.images = d),
                a.length > 0 && (n.shapes = a)
            }
            return n.object = r,
            n;
            function m(t) {
                var e = [];
                for (var n in t) {
                    var r = t[n];
                    delete r.metadata,
                    e.push(r)
                }
                return e
            }
        },
        clone: function(t) {
            return (new this.constructor).copy(this, t)
        },
        copy: function(t, e) {
            if (void 0 === e && (e = !0),
            this.name = t.name,
            this.up.copy(t.up),
            this.position.copy(t.position),
            this.quaternion.copy(t.quaternion),
            this.scale.copy(t.scale),
            this.matrix.copy(t.matrix),
            this.matrixWorld.copy(t.matrixWorld),
            this.matrixAutoUpdate = t.matrixAutoUpdate,
            this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate,
            this.layers.mask = t.layers.mask,
            this.visible = t.visible,
            this.castShadow = t.castShadow,
            this.receiveShadow = t.receiveShadow,
            this.frustumCulled = t.frustumCulled,
            this.renderOrder = t.renderOrder,
            this.userData = JSON.parse(JSON.stringify(t.userData)),
            !0 === e)
                for (var n = 0; n < t.children.length; n++) {
                    var r = t.children[n];
                    this.add(r.clone())
                }
            return this
        }
    }),
    Cr.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: Cr,
        isScene: !0,
        copy: function(t, e) {
            return Rr.prototype.copy.call(this, t, e),
            null !== t.background && (this.background = t.background.clone()),
            null !== t.environment && (this.environment = t.environment.clone()),
            null !== t.fog && (this.fog = t.fog.clone()),
            null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()),
            this.autoUpdate = t.autoUpdate,
            this.matrixAutoUpdate = t.matrixAutoUpdate,
            this
        },
        toJSON: function(t) {
            var e = Rr.prototype.toJSON.call(this, t);
            return null !== this.background && (e.object.background = this.background.toJSON(t)),
            null !== this.environment && (e.object.environment = this.environment.toJSON(t)),
            null !== this.fog && (e.object.fog = this.fog.toJSON()),
            e
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    });
    var Ir = [new or, new or, new or, new or, new or, new or, new or, new or]
      , Dr = new or
      , kr = new qr
      , Nr = new or
      , zr = new or
      , jr = new or
      , Fr = new or
      , Br = new or
      , Ur = new or
      , Gr = new or
      , Hr = new or
      , Vr = new or
      , Wr = new or;
    function qr(t, e) {
        this.min = void 0 !== t ? t : new or(1 / 0,1 / 0,1 / 0),
        this.max = void 0 !== e ? e : new or(-1 / 0,-1 / 0,-1 / 0)
    }
    function Xr(t, e, n, r, i) {
        var o, a;
        for (o = 0,
        a = t.length - 3; o <= a; o += 3) {
            Wr.fromArray(t, o);
            var s = i.x * Math.abs(Wr.x) + i.y * Math.abs(Wr.y) + i.z * Math.abs(Wr.z)
              , u = e.dot(Wr)
              , c = n.dot(Wr)
              , l = r.dot(Wr);
            if (Math.max(-Math.max(u, c, l), Math.min(u, c, l)) > s)
                return !1
        }
        return !0
    }
    Object.assign(qr.prototype, {
        isBox3: !0,
        set: function(t, e) {
            return this.min.copy(t),
            this.max.copy(e),
            this
        },
        setFromArray: function(t) {
            for (var e = 1 / 0, n = 1 / 0, r = 1 / 0, i = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, u = t.length; s < u; s += 3) {
                var c = t[s]
                  , l = t[s + 1]
                  , h = t[s + 2];
                c < e && (e = c),
                l < n && (n = l),
                h < r && (r = h),
                c > i && (i = c),
                l > o && (o = l),
                h > a && (a = h)
            }
            return this.min.set(e, n, r),
            this.max.set(i, o, a),
            this
        },
        setFromBufferAttribute: function(t) {
            for (var e = 1 / 0, n = 1 / 0, r = 1 / 0, i = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, u = t.count; s < u; s++) {
                var c = t.getX(s)
                  , l = t.getY(s)
                  , h = t.getZ(s);
                c < e && (e = c),
                l < n && (n = l),
                h < r && (r = h),
                c > i && (i = c),
                l > o && (o = l),
                h > a && (a = h)
            }
            return this.min.set(e, n, r),
            this.max.set(i, o, a),
            this
        },
        setFromPoints: function(t) {
            this.makeEmpty();
            for (var e = 0, n = t.length; e < n; e++)
                this.expandByPoint(t[e]);
            return this
        },
        setFromCenterAndSize: function(t, e) {
            var n = Dr.copy(e).multiplyScalar(.5);
            return this.min.copy(t).sub(n),
            this.max.copy(t).add(n),
            this
        },
        setFromObject: function(t) {
            return this.makeEmpty(),
            this.expandByObject(t)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.min.copy(t.min),
            this.max.copy(t.max),
            this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = this.min.z = 1 / 0,
            this.max.x = this.max.y = this.max.z = -1 / 0,
            this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
        },
        getCenter: function(t) {
            return void 0 === t && (console.warn("THREE.Box3: .getCenter() target is now required"),
            t = new or),
            this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(t) {
            return void 0 === t && (console.warn("THREE.Box3: .getSize() target is now required"),
            t = new or),
            this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
        },
        expandByPoint: function(t) {
            return this.min.min(t),
            this.max.max(t),
            this
        },
        expandByVector: function(t) {
            return this.min.sub(t),
            this.max.add(t),
            this
        },
        expandByScalar: function(t) {
            return this.min.addScalar(-t),
            this.max.addScalar(t),
            this
        },
        expandByObject: function(t) {
            t.updateWorldMatrix(!1, !1);
            var e = t.geometry;
            void 0 !== e && (null === e.boundingBox && e.computeBoundingBox(),
            kr.copy(e.boundingBox),
            kr.applyMatrix4(t.matrixWorld),
            this.union(kr));
            for (var n = t.children, r = 0, i = n.length; r < i; r++)
                this.expandByObject(n[r]);
            return this
        },
        containsPoint: function(t) {
            return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
        },
        containsBox: function(t) {
            return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
        },
        getParameter: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box3: .getParameter() target is now required"),
            e = new or),
            e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
        },
        intersectsBox: function(t) {
            return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
        },
        intersectsSphere: function(t) {
            return this.clampPoint(t.center, Dr),
            Dr.distanceToSquared(t.center) <= t.radius * t.radius
        },
        intersectsPlane: function(t) {
            var e, n;
            return t.normal.x > 0 ? (e = t.normal.x * this.min.x,
            n = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x,
            n = t.normal.x * this.min.x),
            t.normal.y > 0 ? (e += t.normal.y * this.min.y,
            n += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y,
            n += t.normal.y * this.min.y),
            t.normal.z > 0 ? (e += t.normal.z * this.min.z,
            n += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z,
            n += t.normal.z * this.min.z),
            e <= -t.constant && n >= -t.constant
        },
        intersectsTriangle: function(t) {
            if (this.isEmpty())
                return !1;
            this.getCenter(Gr),
            Hr.subVectors(this.max, Gr),
            Nr.subVectors(t.a, Gr),
            zr.subVectors(t.b, Gr),
            jr.subVectors(t.c, Gr),
            Fr.subVectors(zr, Nr),
            Br.subVectors(jr, zr),
            Ur.subVectors(Nr, jr);
            var e = [0, -Fr.z, Fr.y, 0, -Br.z, Br.y, 0, -Ur.z, Ur.y, Fr.z, 0, -Fr.x, Br.z, 0, -Br.x, Ur.z, 0, -Ur.x, -Fr.y, Fr.x, 0, -Br.y, Br.x, 0, -Ur.y, Ur.x, 0];
            return !!Xr(e, Nr, zr, jr, Hr) && (!!Xr(e = [1, 0, 0, 0, 1, 0, 0, 0, 1], Nr, zr, jr, Hr) && (Vr.crossVectors(Fr, Br),
            Xr(e = [Vr.x, Vr.y, Vr.z], Nr, zr, jr, Hr)))
        },
        clampPoint: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box3: .clampPoint() target is now required"),
            e = new or),
            e.copy(t).clamp(this.min, this.max)
        },
        distanceToPoint: function(t) {
            return Dr.copy(t).clamp(this.min, this.max).sub(t).length()
        },
        getBoundingSphere: function(t) {
            return void 0 === t && console.error("THREE.Box3: .getBoundingSphere() target is now required"),
            this.getCenter(t.center),
            t.radius = .5 * this.getSize(Dr).length(),
            t
        },
        intersect: function(t) {
            return this.min.max(t.min),
            this.max.min(t.max),
            this.isEmpty() && this.makeEmpty(),
            this
        },
        union: function(t) {
            return this.min.min(t.min),
            this.max.max(t.max),
            this
        },
        applyMatrix4: function(t) {
            return this.isEmpty() || (Ir[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t),
            Ir[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t),
            Ir[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t),
            Ir[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t),
            Ir[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t),
            Ir[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t),
            Ir[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t),
            Ir[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t),
            this.setFromPoints(Ir)),
            this
        },
        translate: function(t) {
            return this.min.add(t),
            this.max.add(t),
            this
        },
        equals: function(t) {
            return t.min.equals(this.min) && t.max.equals(this.max)
        }
    });
    var Yr = new qr;
    function Zr(t, e) {
        this.center = void 0 !== t ? t : new or,
        this.radius = void 0 !== e ? e : 0
    }
    Object.assign(Zr.prototype, {
        set: function(t, e) {
            return this.center.copy(t),
            this.radius = e,
            this
        },
        setFromPoints: function(t, e) {
            var n = this.center;
            void 0 !== e ? n.copy(e) : Yr.setFromPoints(t).getCenter(n);
            for (var r = 0, i = 0, o = t.length; i < o; i++)
                r = Math.max(r, n.distanceToSquared(t[i]));
            return this.radius = Math.sqrt(r),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.center.copy(t.center),
            this.radius = t.radius,
            this
        },
        empty: function() {
            return this.radius <= 0
        },
        containsPoint: function(t) {
            return t.distanceToSquared(this.center) <= this.radius * this.radius
        },
        distanceToPoint: function(t) {
            return t.distanceTo(this.center) - this.radius
        },
        intersectsSphere: function(t) {
            var e = this.radius + t.radius;
            return t.center.distanceToSquared(this.center) <= e * e
        },
        intersectsBox: function(t) {
            return t.intersectsSphere(this)
        },
        intersectsPlane: function(t) {
            return Math.abs(t.distanceToPoint(this.center)) <= this.radius
        },
        clampPoint: function(t, e) {
            var n = this.center.distanceToSquared(t);
            return void 0 === e && (console.warn("THREE.Sphere: .clampPoint() target is now required"),
            e = new or),
            e.copy(t),
            n > this.radius * this.radius && (e.sub(this.center).normalize(),
            e.multiplyScalar(this.radius).add(this.center)),
            e
        },
        getBoundingBox: function(t) {
            return void 0 === t && (console.warn("THREE.Sphere: .getBoundingBox() target is now required"),
            t = new qr),
            t.set(this.center, this.center),
            t.expandByScalar(this.radius),
            t
        },
        applyMatrix4: function(t) {
            return this.center.applyMatrix4(t),
            this.radius = this.radius * t.getMaxScaleOnAxis(),
            this
        },
        translate: function(t) {
            return this.center.add(t),
            this
        },
        equals: function(t) {
            return t.center.equals(this.center) && t.radius === this.radius
        }
    });
    var Jr = new or
      , Qr = new or
      , Kr = new or
      , $r = new or
      , ti = new or
      , ei = new or
      , ni = new or;
    function ri(t, e) {
        this.origin = void 0 !== t ? t : new or,
        this.direction = void 0 !== e ? e : new or(0,0,-1)
    }
    Object.assign(ri.prototype, {
        set: function(t, e) {
            return this.origin.copy(t),
            this.direction.copy(e),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.origin.copy(t.origin),
            this.direction.copy(t.direction),
            this
        },
        at: function(t, e) {
            return void 0 === e && (console.warn("THREE.Ray: .at() target is now required"),
            e = new or),
            e.copy(this.direction).multiplyScalar(t).add(this.origin)
        },
        lookAt: function(t) {
            return this.direction.copy(t).sub(this.origin).normalize(),
            this
        },
        recast: function(t) {
            return this.origin.copy(this.at(t, Jr)),
            this
        },
        closestPointToPoint: function(t, e) {
            void 0 === e && (console.warn("THREE.Ray: .closestPointToPoint() target is now required"),
            e = new or),
            e.subVectors(t, this.origin);
            var n = e.dot(this.direction);
            return n < 0 ? e.copy(this.origin) : e.copy(this.direction).multiplyScalar(n).add(this.origin)
        },
        distanceToPoint: function(t) {
            return Math.sqrt(this.distanceSqToPoint(t))
        },
        distanceSqToPoint: function(t) {
            var e = Jr.subVectors(t, this.origin).dot(this.direction);
            return e < 0 ? this.origin.distanceToSquared(t) : (Jr.copy(this.direction).multiplyScalar(e).add(this.origin),
            Jr.distanceToSquared(t))
        },
        distanceSqToSegment: function(t, e, n, r) {
            Qr.copy(t).add(e).multiplyScalar(.5),
            Kr.copy(e).sub(t).normalize(),
            $r.copy(this.origin).sub(Qr);
            var i, o, a, s, u = .5 * t.distanceTo(e), c = -this.direction.dot(Kr), l = $r.dot(this.direction), h = -$r.dot(Kr), f = $r.lengthSq(), p = Math.abs(1 - c * c);
            if (p > 0)
                if (o = c * l - h,
                s = u * p,
                (i = c * h - l) >= 0)
                    if (o >= -s)
                        if (o <= s) {
                            var d = 1 / p;
                            a = (i *= d) * (i + c * (o *= d) + 2 * l) + o * (c * i + o + 2 * h) + f
                        } else
                            o = u,
                            a = -(i = Math.max(0, -(c * o + l))) * i + o * (o + 2 * h) + f;
                    else
                        o = -u,
                        a = -(i = Math.max(0, -(c * o + l))) * i + o * (o + 2 * h) + f;
                else
                    o <= -s ? a = -(i = Math.max(0, -(-c * u + l))) * i + (o = i > 0 ? -u : Math.min(Math.max(-u, -h), u)) * (o + 2 * h) + f : o <= s ? (i = 0,
                    a = (o = Math.min(Math.max(-u, -h), u)) * (o + 2 * h) + f) : a = -(i = Math.max(0, -(c * u + l))) * i + (o = i > 0 ? u : Math.min(Math.max(-u, -h), u)) * (o + 2 * h) + f;
            else
                o = c > 0 ? -u : u,
                a = -(i = Math.max(0, -(c * o + l))) * i + o * (o + 2 * h) + f;
            return n && n.copy(this.direction).multiplyScalar(i).add(this.origin),
            r && r.copy(Kr).multiplyScalar(o).add(Qr),
            a
        },
        intersectSphere: function(t, e) {
            Jr.subVectors(t.center, this.origin);
            var n = Jr.dot(this.direction)
              , r = Jr.dot(Jr) - n * n
              , i = t.radius * t.radius;
            if (r > i)
                return null;
            var o = Math.sqrt(i - r)
              , a = n - o
              , s = n + o;
            return a < 0 && s < 0 ? null : a < 0 ? this.at(s, e) : this.at(a, e)
        },
        intersectsSphere: function(t) {
            return this.distanceSqToPoint(t.center) <= t.radius * t.radius
        },
        distanceToPlane: function(t) {
            var e = t.normal.dot(this.direction);
            if (0 === e)
                return 0 === t.distanceToPoint(this.origin) ? 0 : null;
            var n = -(this.origin.dot(t.normal) + t.constant) / e;
            return n >= 0 ? n : null
        },
        intersectPlane: function(t, e) {
            var n = this.distanceToPlane(t);
            return null === n ? null : this.at(n, e)
        },
        intersectsPlane: function(t) {
            var e = t.distanceToPoint(this.origin);
            return 0 === e || t.normal.dot(this.direction) * e < 0
        },
        intersectBox: function(t, e) {
            var n, r, i, o, a, s, u = 1 / this.direction.x, c = 1 / this.direction.y, l = 1 / this.direction.z, h = this.origin;
            return u >= 0 ? (n = (t.min.x - h.x) * u,
            r = (t.max.x - h.x) * u) : (n = (t.max.x - h.x) * u,
            r = (t.min.x - h.x) * u),
            c >= 0 ? (i = (t.min.y - h.y) * c,
            o = (t.max.y - h.y) * c) : (i = (t.max.y - h.y) * c,
            o = (t.min.y - h.y) * c),
            n > o || i > r ? null : ((i > n || n != n) && (n = i),
            (o < r || r != r) && (r = o),
            l >= 0 ? (a = (t.min.z - h.z) * l,
            s = (t.max.z - h.z) * l) : (a = (t.max.z - h.z) * l,
            s = (t.min.z - h.z) * l),
            n > s || a > r ? null : ((a > n || n != n) && (n = a),
            (s < r || r != r) && (r = s),
            r < 0 ? null : this.at(n >= 0 ? n : r, e)))
        },
        intersectsBox: function(t) {
            return null !== this.intersectBox(t, Jr)
        },
        intersectTriangle: function(t, e, n, r, i) {
            ti.subVectors(e, t),
            ei.subVectors(n, t),
            ni.crossVectors(ti, ei);
            var o, a = this.direction.dot(ni);
            if (a > 0) {
                if (r)
                    return null;
                o = 1
            } else {
                if (!(a < 0))
                    return null;
                o = -1,
                a = -a
            }
            $r.subVectors(this.origin, t);
            var s = o * this.direction.dot(ei.crossVectors($r, ei));
            if (s < 0)
                return null;
            var u = o * this.direction.dot(ti.cross($r));
            if (u < 0)
                return null;
            if (s + u > a)
                return null;
            var c = -o * $r.dot(ni);
            return c < 0 ? null : this.at(c / a, i)
        },
        applyMatrix4: function(t) {
            return this.origin.applyMatrix4(t),
            this.direction.transformDirection(t),
            this
        },
        equals: function(t) {
            return t.origin.equals(this.origin) && t.direction.equals(this.direction)
        }
    });
    var ii = new or
      , oi = new or
      , ai = new Zn;
    function si(t, e) {
        this.normal = void 0 !== t ? t : new or(1,0,0),
        this.constant = void 0 !== e ? e : 0
    }
    Object.assign(si.prototype, {
        isPlane: !0,
        set: function(t, e) {
            return this.normal.copy(t),
            this.constant = e,
            this
        },
        setComponents: function(t, e, n, r) {
            return this.normal.set(t, e, n),
            this.constant = r,
            this
        },
        setFromNormalAndCoplanarPoint: function(t, e) {
            return this.normal.copy(t),
            this.constant = -e.dot(this.normal),
            this
        },
        setFromCoplanarPoints: function(t, e, n) {
            var r = ii.subVectors(n, e).cross(oi.subVectors(t, e)).normalize();
            return this.setFromNormalAndCoplanarPoint(r, t),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.normal.copy(t.normal),
            this.constant = t.constant,
            this
        },
        normalize: function() {
            var t = 1 / this.normal.length();
            return this.normal.multiplyScalar(t),
            this.constant *= t,
            this
        },
        negate: function() {
            return this.constant *= -1,
            this.normal.negate(),
            this
        },
        distanceToPoint: function(t) {
            return this.normal.dot(t) + this.constant
        },
        distanceToSphere: function(t) {
            return this.distanceToPoint(t.center) - t.radius
        },
        projectPoint: function(t, e) {
            return void 0 === e && (console.warn("THREE.Plane: .projectPoint() target is now required"),
            e = new or),
            e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)
        },
        intersectLine: function(t, e) {
            void 0 === e && (console.warn("THREE.Plane: .intersectLine() target is now required"),
            e = new or);
            var n = t.delta(ii)
              , r = this.normal.dot(n);
            if (0 === r)
                return 0 === this.distanceToPoint(t.start) ? e.copy(t.start) : void 0;
            var i = -(t.start.dot(this.normal) + this.constant) / r;
            return i < 0 || i > 1 ? void 0 : e.copy(n).multiplyScalar(i).add(t.start)
        },
        intersectsLine: function(t) {
            var e = this.distanceToPoint(t.start)
              , n = this.distanceToPoint(t.end);
            return e < 0 && n > 0 || n < 0 && e > 0
        },
        intersectsBox: function(t) {
            return t.intersectsPlane(this)
        },
        intersectsSphere: function(t) {
            return t.intersectsPlane(this)
        },
        coplanarPoint: function(t) {
            return void 0 === t && (console.warn("THREE.Plane: .coplanarPoint() target is now required"),
            t = new or),
            t.copy(this.normal).multiplyScalar(-this.constant)
        },
        applyMatrix4: function(t, e) {
            var n = e || ai.getNormalMatrix(t)
              , r = this.coplanarPoint(ii).applyMatrix4(t)
              , i = this.normal.applyMatrix3(n).normalize();
            return this.constant = -r.dot(i),
            this
        },
        translate: function(t) {
            return this.constant -= t.dot(this.normal),
            this
        },
        equals: function(t) {
            return t.normal.equals(this.normal) && t.constant === this.constant
        }
    });
    var ui = new or
      , ci = new or
      , li = new or
      , hi = new or
      , fi = new or
      , pi = new or
      , di = new or
      , mi = new or
      , vi = new or
      , gi = new or;
    function yi(t, e, n) {
        this.a = void 0 !== t ? t : new or,
        this.b = void 0 !== e ? e : new or,
        this.c = void 0 !== n ? n : new or
    }
    Object.assign(yi, {
        getNormal: function(t, e, n, r) {
            void 0 === r && (console.warn("THREE.Triangle: .getNormal() target is now required"),
            r = new or),
            r.subVectors(n, e),
            ui.subVectors(t, e),
            r.cross(ui);
            var i = r.lengthSq();
            return i > 0 ? r.multiplyScalar(1 / Math.sqrt(i)) : r.set(0, 0, 0)
        },
        getBarycoord: function(t, e, n, r, i) {
            ui.subVectors(r, e),
            ci.subVectors(n, e),
            li.subVectors(t, e);
            var o = ui.dot(ui)
              , a = ui.dot(ci)
              , s = ui.dot(li)
              , u = ci.dot(ci)
              , c = ci.dot(li)
              , l = o * u - a * a;
            if (void 0 === i && (console.warn("THREE.Triangle: .getBarycoord() target is now required"),
            i = new or),
            0 === l)
                return i.set(-2, -1, -1);
            var h = 1 / l
              , f = (u * s - a * c) * h
              , p = (o * c - a * s) * h;
            return i.set(1 - f - p, p, f)
        },
        containsPoint: function(t, e, n, r) {
            return yi.getBarycoord(t, e, n, r, hi),
            hi.x >= 0 && hi.y >= 0 && hi.x + hi.y <= 1
        },
        getUV: function(t, e, n, r, i, o, a, s) {
            return this.getBarycoord(t, e, n, r, hi),
            s.set(0, 0),
            s.addScaledVector(i, hi.x),
            s.addScaledVector(o, hi.y),
            s.addScaledVector(a, hi.z),
            s
        },
        isFrontFacing: function(t, e, n, r) {
            return ui.subVectors(n, e),
            ci.subVectors(t, e),
            ui.cross(ci).dot(r) < 0
        }
    }),
    Object.assign(yi.prototype, {
        set: function(t, e, n) {
            return this.a.copy(t),
            this.b.copy(e),
            this.c.copy(n),
            this
        },
        setFromPointsAndIndices: function(t, e, n, r) {
            return this.a.copy(t[e]),
            this.b.copy(t[n]),
            this.c.copy(t[r]),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.a.copy(t.a),
            this.b.copy(t.b),
            this.c.copy(t.c),
            this
        },
        getArea: function() {
            return ui.subVectors(this.c, this.b),
            ci.subVectors(this.a, this.b),
            .5 * ui.cross(ci).length()
        },
        getMidpoint: function(t) {
            return void 0 === t && (console.warn("THREE.Triangle: .getMidpoint() target is now required"),
            t = new or),
            t.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
        },
        getNormal: function(t) {
            return yi.getNormal(this.a, this.b, this.c, t)
        },
        getPlane: function(t) {
            return void 0 === t && (console.warn("THREE.Triangle: .getPlane() target is now required"),
            t = new si),
            t.setFromCoplanarPoints(this.a, this.b, this.c)
        },
        getBarycoord: function(t, e) {
            return yi.getBarycoord(t, this.a, this.b, this.c, e)
        },
        getUV: function(t, e, n, r, i) {
            return yi.getUV(t, this.a, this.b, this.c, e, n, r, i)
        },
        containsPoint: function(t) {
            return yi.containsPoint(t, this.a, this.b, this.c)
        },
        isFrontFacing: function(t) {
            return yi.isFrontFacing(this.a, this.b, this.c, t)
        },
        intersectsBox: function(t) {
            return t.intersectsTriangle(this)
        },
        closestPointToPoint: function(t, e) {
            void 0 === e && (console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),
            e = new or);
            var n, r, i = this.a, o = this.b, a = this.c;
            fi.subVectors(o, i),
            pi.subVectors(a, i),
            mi.subVectors(t, i);
            var s = fi.dot(mi)
              , u = pi.dot(mi);
            if (s <= 0 && u <= 0)
                return e.copy(i);
            vi.subVectors(t, o);
            var c = fi.dot(vi)
              , l = pi.dot(vi);
            if (c >= 0 && l <= c)
                return e.copy(o);
            var h = s * l - c * u;
            if (h <= 0 && s >= 0 && c <= 0)
                return n = s / (s - c),
                e.copy(i).addScaledVector(fi, n);
            gi.subVectors(t, a);
            var f = fi.dot(gi)
              , p = pi.dot(gi);
            if (p >= 0 && f <= p)
                return e.copy(a);
            var d = f * u - s * p;
            if (d <= 0 && u >= 0 && p <= 0)
                return r = u / (u - p),
                e.copy(i).addScaledVector(pi, r);
            var m = c * p - f * l;
            if (m <= 0 && l - c >= 0 && f - p >= 0)
                return di.subVectors(a, o),
                r = (l - c) / (l - c + (f - p)),
                e.copy(o).addScaledVector(di, r);
            var v = 1 / (m + d + h);
            return n = d * v,
            r = h * v,
            e.copy(i).addScaledVector(fi, n).addScaledVector(pi, r)
        },
        equals: function(t) {
            return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
        }
    });
    var bi = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    }
      , xi = {
        h: 0,
        s: 0,
        l: 0
    }
      , _i = {
        h: 0,
        s: 0,
        l: 0
    };
    function wi(t, e, n) {
        return void 0 === e && void 0 === n ? this.set(t) : this.setRGB(t, e, n)
    }
    function Mi(t, e, n) {
        return n < 0 && (n += 1),
        n > 1 && (n -= 1),
        n < 1 / 6 ? t + 6 * (e - t) * n : n < .5 ? e : n < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - n) : t
    }
    function Si(t) {
        return t < .04045 ? .0773993808 * t : Math.pow(.9478672986 * t + .0521327014, 2.4)
    }
    function Ei(t) {
        return t < .0031308 ? 12.92 * t : 1.055 * Math.pow(t, .41666) - .055
    }
    function Ti(t, e, n, r, i, o) {
        this.a = t,
        this.b = e,
        this.c = n,
        this.normal = r && r.isVector3 ? r : new or,
        this.vertexNormals = Array.isArray(r) ? r : [],
        this.color = i && i.isColor ? i : new wi,
        this.vertexColors = Array.isArray(i) ? i : [],
        this.materialIndex = void 0 !== o ? o : 0
    }
    Object.assign(wi.prototype, {
        isColor: !0,
        r: 1,
        g: 1,
        b: 1,
        set: function(t) {
            return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t),
            this
        },
        setScalar: function(t) {
            return this.r = t,
            this.g = t,
            this.b = t,
            this
        },
        setHex: function(t) {
            return t = Math.floor(t),
            this.r = (t >> 16 & 255) / 255,
            this.g = (t >> 8 & 255) / 255,
            this.b = (255 & t) / 255,
            this
        },
        setRGB: function(t, e, n) {
            return this.r = t,
            this.g = e,
            this.b = n,
            this
        },
        setHSL: function(t, e, n) {
            if (t = Xn.euclideanModulo(t, 1),
            e = Xn.clamp(e, 0, 1),
            n = Xn.clamp(n, 0, 1),
            0 === e)
                this.r = this.g = this.b = n;
            else {
                var r = n <= .5 ? n * (1 + e) : n + e - n * e
                  , i = 2 * n - r;
                this.r = Mi(i, r, t + 1 / 3),
                this.g = Mi(i, r, t),
                this.b = Mi(i, r, t - 1 / 3)
            }
            return this
        },
        setStyle: function(t) {
            function e(e) {
                void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.")
            }
            var n;
            if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                var r, i = n[1], o = n[2];
                switch (i) {
                case "rgb":
                case "rgba":
                    if (r = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))
                        return this.r = Math.min(255, parseInt(r[1], 10)) / 255,
                        this.g = Math.min(255, parseInt(r[2], 10)) / 255,
                        this.b = Math.min(255, parseInt(r[3], 10)) / 255,
                        e(r[5]),
                        this;
                    if (r = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))
                        return this.r = Math.min(100, parseInt(r[1], 10)) / 100,
                        this.g = Math.min(100, parseInt(r[2], 10)) / 100,
                        this.b = Math.min(100, parseInt(r[3], 10)) / 100,
                        e(r[5]),
                        this;
                    break;
                case "hsl":
                case "hsla":
                    if (r = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                        var a = parseFloat(r[1]) / 360
                          , s = parseInt(r[2], 10) / 100
                          , u = parseInt(r[3], 10) / 100;
                        return e(r[5]),
                        this.setHSL(a, s, u)
                    }
                }
            } else if (n = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                var c = n[1]
                  , l = c.length;
                if (3 === l)
                    return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255,
                    this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255,
                    this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255,
                    this;
                if (6 === l)
                    return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255,
                    this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255,
                    this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255,
                    this
            }
            return t && t.length > 0 ? this.setColorName(t) : this
        },
        setColorName: function(t) {
            var e = bi[t];
            return void 0 !== e ? this.setHex(e) : console.warn("THREE.Color: Unknown color " + t),
            this
        },
        clone: function() {
            return new this.constructor(this.r,this.g,this.b)
        },
        copy: function(t) {
            return this.r = t.r,
            this.g = t.g,
            this.b = t.b,
            this
        },
        copyGammaToLinear: function(t, e) {
            return void 0 === e && (e = 2),
            this.r = Math.pow(t.r, e),
            this.g = Math.pow(t.g, e),
            this.b = Math.pow(t.b, e),
            this
        },
        copyLinearToGamma: function(t, e) {
            void 0 === e && (e = 2);
            var n = e > 0 ? 1 / e : 1;
            return this.r = Math.pow(t.r, n),
            this.g = Math.pow(t.g, n),
            this.b = Math.pow(t.b, n),
            this
        },
        convertGammaToLinear: function(t) {
            return this.copyGammaToLinear(this, t),
            this
        },
        convertLinearToGamma: function(t) {
            return this.copyLinearToGamma(this, t),
            this
        },
        copySRGBToLinear: function(t) {
            return this.r = Si(t.r),
            this.g = Si(t.g),
            this.b = Si(t.b),
            this
        },
        copyLinearToSRGB: function(t) {
            return this.r = Ei(t.r),
            this.g = Ei(t.g),
            this.b = Ei(t.b),
            this
        },
        convertSRGBToLinear: function() {
            return this.copySRGBToLinear(this),
            this
        },
        convertLinearToSRGB: function() {
            return this.copyLinearToSRGB(this),
            this
        },
        getHex: function() {
            return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
        },
        getHexString: function() {
            return ("000000" + this.getHex().toString(16)).slice(-6)
        },
        getHSL: function(t) {
            void 0 === t && (console.warn("THREE.Color: .getHSL() target is now required"),
            t = {
                h: 0,
                s: 0,
                l: 0
            });
            var e, n, r = this.r, i = this.g, o = this.b, a = Math.max(r, i, o), s = Math.min(r, i, o), u = (s + a) / 2;
            if (s === a)
                e = 0,
                n = 0;
            else {
                var c = a - s;
                switch (n = u <= .5 ? c / (a + s) : c / (2 - a - s),
                a) {
                case r:
                    e = (i - o) / c + (i < o ? 6 : 0);
                    break;
                case i:
                    e = (o - r) / c + 2;
                    break;
                case o:
                    e = (r - i) / c + 4
                }
                e /= 6
            }
            return t.h = e,
            t.s = n,
            t.l = u,
            t
        },
        getStyle: function() {
            return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
        },
        offsetHSL: function(t, e, n) {
            return this.getHSL(xi),
            xi.h += t,
            xi.s += e,
            xi.l += n,
            this.setHSL(xi.h, xi.s, xi.l),
            this
        },
        add: function(t) {
            return this.r += t.r,
            this.g += t.g,
            this.b += t.b,
            this
        },
        addColors: function(t, e) {
            return this.r = t.r + e.r,
            this.g = t.g + e.g,
            this.b = t.b + e.b,
            this
        },
        addScalar: function(t) {
            return this.r += t,
            this.g += t,
            this.b += t,
            this
        },
        sub: function(t) {
            return this.r = Math.max(0, this.r - t.r),
            this.g = Math.max(0, this.g - t.g),
            this.b = Math.max(0, this.b - t.b),
            this
        },
        multiply: function(t) {
            return this.r *= t.r,
            this.g *= t.g,
            this.b *= t.b,
            this
        },
        multiplyScalar: function(t) {
            return this.r *= t,
            this.g *= t,
            this.b *= t,
            this
        },
        lerp: function(t, e) {
            return this.r += (t.r - this.r) * e,
            this.g += (t.g - this.g) * e,
            this.b += (t.b - this.b) * e,
            this
        },
        lerpHSL: function(t, e) {
            this.getHSL(xi),
            t.getHSL(_i);
            var n = Xn.lerp(xi.h, _i.h, e)
              , r = Xn.lerp(xi.s, _i.s, e)
              , i = Xn.lerp(xi.l, _i.l, e);
            return this.setHSL(n, r, i),
            this
        },
        equals: function(t) {
            return t.r === this.r && t.g === this.g && t.b === this.b
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.r = t[e],
            this.g = t[e + 1],
            this.b = t[e + 2],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.r,
            t[e + 1] = this.g,
            t[e + 2] = this.b,
            t
        },
        toJSON: function() {
            return this.getHex()
        }
    }),
    wi.NAMES = bi,
    Object.assign(Ti.prototype, {
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            this.a = t.a,
            this.b = t.b,
            this.c = t.c,
            this.normal.copy(t.normal),
            this.color.copy(t.color),
            this.materialIndex = t.materialIndex;
            for (var e = 0, n = t.vertexNormals.length; e < n; e++)
                this.vertexNormals[e] = t.vertexNormals[e].clone();
            for (e = 0,
            n = t.vertexColors.length; e < n; e++)
                this.vertexColors[e] = t.vertexColors[e].clone();
            return this
        }
    });
    var Ai = 0;
    function Pi() {
        Object.defineProperty(this, "id", {
            value: Ai++
        }),
        this.uuid = Xn.generateUUID(),
        this.name = "",
        this.type = "Material",
        this.fog = !0,
        this.blending = R,
        this.side = E,
        this.flatShading = !1,
        this.vertexColors = !1,
        this.opacity = 1,
        this.transparent = !1,
        this.blendSrc = W,
        this.blendDst = q,
        this.blendEquation = N,
        this.blendSrcAlpha = null,
        this.blendDstAlpha = null,
        this.blendEquationAlpha = null,
        this.depthFunc = et,
        this.depthTest = !0,
        this.depthWrite = !0,
        this.stencilWriteMask = 255,
        this.stencilFunc = In,
        this.stencilRef = 0,
        this.stencilFuncMask = 255,
        this.stencilFail = bn,
        this.stencilZFail = bn,
        this.stencilZPass = bn,
        this.stencilWrite = !1,
        this.clippingPlanes = null,
        this.clipIntersection = !1,
        this.clipShadows = !1,
        this.shadowSide = null,
        this.colorWrite = !0,
        this.precision = null,
        this.polygonOffset = !1,
        this.polygonOffsetFactor = 0,
        this.polygonOffsetUnits = 0,
        this.dithering = !1,
        this.alphaTest = 0,
        this.premultipliedAlpha = !1,
        this.visible = !0,
        this.toneMapped = !0,
        this.userData = {},
        this.version = 0
    }
    function Li(t) {
        Pi.call(this),
        this.type = "MeshBasicMaterial",
        this.color = new wi(16777215),
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.specularMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.combine = at,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.setValues(t)
    }
    Pi.prototype = Object.assign(Object.create(Hn.prototype), {
        constructor: Pi,
        isMaterial: !0,
        onBeforeCompile: function() {},
        setValues: function(t) {
            if (void 0 !== t)
                for (var e in t) {
                    var n = t[e];
                    if (void 0 !== n)
                        if ("shading" !== e) {
                            var r = this[e];
                            void 0 !== r ? r && r.isColor ? r.set(n) : r && r.isVector3 && n && n.isVector3 ? r.copy(n) : this[e] = n : console.warn("THREE." + this.type + ": '" + e + "' is not a property of this material.")
                        } else
                            console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."),
                            this.flatShading = n === P;
                    else
                        console.warn("THREE.Material: '" + e + "' parameter is undefined.")
                }
        },
        toJSON: function(t) {
            var e = void 0 === t || "string" == typeof t;
            e && (t = {
                textures: {},
                images: {}
            });
            var n = {
                metadata: {
                    version: 4.5,
                    type: "Material",
                    generator: "Material.toJSON"
                }
            };
            function r(t) {
                var e = [];
                for (var n in t) {
                    var r = t[n];
                    delete r.metadata,
                    e.push(r)
                }
                return e
            }
            if (n.uuid = this.uuid,
            n.type = this.type,
            "" !== this.name && (n.name = this.name),
            this.color && this.color.isColor && (n.color = this.color.getHex()),
            void 0 !== this.roughness && (n.roughness = this.roughness),
            void 0 !== this.metalness && (n.metalness = this.metalness),
            this.sheen && this.sheen.isColor && (n.sheen = this.sheen.getHex()),
            this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()),
            this.emissiveIntensity && 1 !== this.emissiveIntensity && (n.emissiveIntensity = this.emissiveIntensity),
            this.specular && this.specular.isColor && (n.specular = this.specular.getHex()),
            void 0 !== this.shininess && (n.shininess = this.shininess),
            void 0 !== this.clearcoat && (n.clearcoat = this.clearcoat),
            void 0 !== this.clearcoatRoughness && (n.clearcoatRoughness = this.clearcoatRoughness),
            this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (n.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(t).uuid,
            n.clearcoatNormalScale = this.clearcoatNormalScale.toArray()),
            this.map && this.map.isTexture && (n.map = this.map.toJSON(t).uuid),
            this.matcap && this.matcap.isTexture && (n.matcap = this.matcap.toJSON(t).uuid),
            this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(t).uuid),
            this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(t).uuid),
            this.aoMap && this.aoMap.isTexture && (n.aoMap = this.aoMap.toJSON(t).uuid,
            n.aoMapIntensity = this.aoMapIntensity),
            this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(t).uuid,
            n.bumpScale = this.bumpScale),
            this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(t).uuid,
            n.normalMapType = this.normalMapType,
            n.normalScale = this.normalScale.toArray()),
            this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(t).uuid,
            n.displacementScale = this.displacementScale,
            n.displacementBias = this.displacementBias),
            this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(t).uuid),
            this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(t).uuid),
            this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(t).uuid),
            this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(t).uuid),
            this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(t).uuid,
            n.reflectivity = this.reflectivity,
            n.refractionRatio = this.refractionRatio,
            void 0 !== this.combine && (n.combine = this.combine),
            void 0 !== this.envMapIntensity && (n.envMapIntensity = this.envMapIntensity)),
            this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(t).uuid),
            void 0 !== this.size && (n.size = this.size),
            void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation),
            this.blending !== R && (n.blending = this.blending),
            !0 === this.flatShading && (n.flatShading = this.flatShading),
            this.side !== E && (n.side = this.side),
            this.vertexColors && (n.vertexColors = !0),
            this.opacity < 1 && (n.opacity = this.opacity),
            !0 === this.transparent && (n.transparent = this.transparent),
            n.depthFunc = this.depthFunc,
            n.depthTest = this.depthTest,
            n.depthWrite = this.depthWrite,
            n.stencilWrite = this.stencilWrite,
            n.stencilWriteMask = this.stencilWriteMask,
            n.stencilFunc = this.stencilFunc,
            n.stencilRef = this.stencilRef,
            n.stencilFuncMask = this.stencilFuncMask,
            n.stencilFail = this.stencilFail,
            n.stencilZFail = this.stencilZFail,
            n.stencilZPass = this.stencilZPass,
            this.rotation && 0 !== this.rotation && (n.rotation = this.rotation),
            !0 === this.polygonOffset && (n.polygonOffset = !0),
            0 !== this.polygonOffsetFactor && (n.polygonOffsetFactor = this.polygonOffsetFactor),
            0 !== this.polygonOffsetUnits && (n.polygonOffsetUnits = this.polygonOffsetUnits),
            this.linewidth && 1 !== this.linewidth && (n.linewidth = this.linewidth),
            void 0 !== this.dashSize && (n.dashSize = this.dashSize),
            void 0 !== this.gapSize && (n.gapSize = this.gapSize),
            void 0 !== this.scale && (n.scale = this.scale),
            !0 === this.dithering && (n.dithering = !0),
            this.alphaTest > 0 && (n.alphaTest = this.alphaTest),
            !0 === this.premultipliedAlpha && (n.premultipliedAlpha = this.premultipliedAlpha),
            !0 === this.wireframe && (n.wireframe = this.wireframe),
            this.wireframeLinewidth > 1 && (n.wireframeLinewidth = this.wireframeLinewidth),
            "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap),
            "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin),
            !0 === this.morphTargets && (n.morphTargets = !0),
            !0 === this.morphNormals && (n.morphNormals = !0),
            !0 === this.skinning && (n.skinning = !0),
            !1 === this.visible && (n.visible = !1),
            !1 === this.toneMapped && (n.toneMapped = !1),
            "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData),
            e) {
                var i = r(t.textures)
                  , o = r(t.images);
                i.length > 0 && (n.textures = i),
                o.length > 0 && (n.images = o)
            }
            return n
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            this.name = t.name,
            this.fog = t.fog,
            this.blending = t.blending,
            this.side = t.side,
            this.flatShading = t.flatShading,
            this.vertexColors = t.vertexColors,
            this.opacity = t.opacity,
            this.transparent = t.transparent,
            this.blendSrc = t.blendSrc,
            this.blendDst = t.blendDst,
            this.blendEquation = t.blendEquation,
            this.blendSrcAlpha = t.blendSrcAlpha,
            this.blendDstAlpha = t.blendDstAlpha,
            this.blendEquationAlpha = t.blendEquationAlpha,
            this.depthFunc = t.depthFunc,
            this.depthTest = t.depthTest,
            this.depthWrite = t.depthWrite,
            this.stencilWriteMask = t.stencilWriteMask,
            this.stencilFunc = t.stencilFunc,
            this.stencilRef = t.stencilRef,
            this.stencilFuncMask = t.stencilFuncMask,
            this.stencilFail = t.stencilFail,
            this.stencilZFail = t.stencilZFail,
            this.stencilZPass = t.stencilZPass,
            this.stencilWrite = t.stencilWrite;
            var e = t.clippingPlanes
              , n = null;
            if (null !== e) {
                var r = e.length;
                n = new Array(r);
                for (var i = 0; i !== r; ++i)
                    n[i] = e[i].clone()
            }
            return this.clippingPlanes = n,
            this.clipIntersection = t.clipIntersection,
            this.clipShadows = t.clipShadows,
            this.shadowSide = t.shadowSide,
            this.colorWrite = t.colorWrite,
            this.precision = t.precision,
            this.polygonOffset = t.polygonOffset,
            this.polygonOffsetFactor = t.polygonOffsetFactor,
            this.polygonOffsetUnits = t.polygonOffsetUnits,
            this.dithering = t.dithering,
            this.alphaTest = t.alphaTest,
            this.premultipliedAlpha = t.premultipliedAlpha,
            this.visible = t.visible,
            this.toneMapped = t.toneMapped,
            this.userData = JSON.parse(JSON.stringify(t.userData)),
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    }),
    Object.defineProperty(Pi.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }),
    Li.prototype = Object.create(Pi.prototype),
    Li.prototype.constructor = Li,
    Li.prototype.isMeshBasicMaterial = !0,
    Li.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.specularMap = t.specularMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.combine = t.combine,
        this.reflectivity = t.reflectivity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this
    }
    ;
    var Oi = new or;
    function Ri(t, e, n) {
        if (Array.isArray(t))
            throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
        this.name = "",
        this.array = t,
        this.itemSize = e,
        this.count = void 0 !== t ? t.length / e : 0,
        this.normalized = !0 === n,
        this.usage = Dn,
        this.updateRange = {
            offset: 0,
            count: -1
        },
        this.version = 0
    }
    function Ci(t, e, n) {
        Ri.call(this, new Int8Array(t), e, n)
    }
    function Ii(t, e, n) {
        Ri.call(this, new Uint8Array(t), e, n)
    }
    function Di(t, e, n) {
        Ri.call(this, new Uint8ClampedArray(t), e, n)
    }
    function ki(t, e, n) {
        Ri.call(this, new Int16Array(t), e, n)
    }
    function Ni(t, e, n) {
        Ri.call(this, new Uint16Array(t), e, n)
    }
    function zi(t, e, n) {
        Ri.call(this, new Int32Array(t), e, n)
    }
    function ji(t, e, n) {
        Ri.call(this, new Uint32Array(t), e, n)
    }
    function Fi(t, e, n) {
        Ri.call(this, new Float32Array(t), e, n)
    }
    function Bi(t, e, n) {
        Ri.call(this, new Float64Array(t), e, n)
    }
    function Ui() {
        this.vertices = [],
        this.normals = [],
        this.colors = [],
        this.uvs = [],
        this.uvs2 = [],
        this.groups = [],
        this.morphTargets = {},
        this.skinWeights = [],
        this.skinIndices = [],
        this.boundingBox = null,
        this.boundingSphere = null,
        this.verticesNeedUpdate = !1,
        this.normalsNeedUpdate = !1,
        this.colorsNeedUpdate = !1,
        this.uvsNeedUpdate = !1,
        this.groupsNeedUpdate = !1
    }
    function Gi(t) {
        if (0 === t.length)
            return -1 / 0;
        for (var e = t[0], n = 1, r = t.length; n < r; ++n)
            t[n] > e && (e = t[n]);
        return e
    }
    Object.defineProperty(Ri.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }),
    Object.assign(Ri.prototype, {
        isBufferAttribute: !0,
        onUploadCallback: function() {},
        setUsage: function(t) {
            return this.usage = t,
            this
        },
        copy: function(t) {
            return this.name = t.name,
            this.array = new t.array.constructor(t.array),
            this.itemSize = t.itemSize,
            this.count = t.count,
            this.normalized = t.normalized,
            this.usage = t.usage,
            this
        },
        copyAt: function(t, e, n) {
            t *= this.itemSize,
            n *= e.itemSize;
            for (var r = 0, i = this.itemSize; r < i; r++)
                this.array[t + r] = e.array[n + r];
            return this
        },
        copyArray: function(t) {
            return this.array.set(t),
            this
        },
        copyColorsArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", r),
                o = new wi),
                e[n++] = o.r,
                e[n++] = o.g,
                e[n++] = o.b
            }
            return this
        },
        copyVector2sArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", r),
                o = new Yn),
                e[n++] = o.x,
                e[n++] = o.y
            }
            return this
        },
        copyVector3sArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined", r),
                o = new or),
                e[n++] = o.x,
                e[n++] = o.y,
                e[n++] = o.z
            }
            return this
        },
        copyVector4sArray: function(t) {
            for (var e = this.array, n = 0, r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                void 0 === o && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", r),
                o = new $n),
                e[n++] = o.x,
                e[n++] = o.y,
                e[n++] = o.z,
                e[n++] = o.w
            }
            return this
        },
        applyMatrix3: function(t) {
            for (var e = 0, n = this.count; e < n; e++)
                Oi.x = this.getX(e),
                Oi.y = this.getY(e),
                Oi.z = this.getZ(e),
                Oi.applyMatrix3(t),
                this.setXYZ(e, Oi.x, Oi.y, Oi.z);
            return this
        },
        applyMatrix4: function(t) {
            for (var e = 0, n = this.count; e < n; e++)
                Oi.x = this.getX(e),
                Oi.y = this.getY(e),
                Oi.z = this.getZ(e),
                Oi.applyMatrix4(t),
                this.setXYZ(e, Oi.x, Oi.y, Oi.z);
            return this
        },
        applyNormalMatrix: function(t) {
            for (var e = 0, n = this.count; e < n; e++)
                Oi.x = this.getX(e),
                Oi.y = this.getY(e),
                Oi.z = this.getZ(e),
                Oi.applyNormalMatrix(t),
                this.setXYZ(e, Oi.x, Oi.y, Oi.z);
            return this
        },
        transformDirection: function(t) {
            for (var e = 0, n = this.count; e < n; e++)
                Oi.x = this.getX(e),
                Oi.y = this.getY(e),
                Oi.z = this.getZ(e),
                Oi.transformDirection(t),
                this.setXYZ(e, Oi.x, Oi.y, Oi.z);
            return this
        },
        set: function(t, e) {
            return void 0 === e && (e = 0),
            this.array.set(t, e),
            this
        },
        getX: function(t) {
            return this.array[t * this.itemSize]
        },
        setX: function(t, e) {
            return this.array[t * this.itemSize] = e,
            this
        },
        getY: function(t) {
            return this.array[t * this.itemSize + 1]
        },
        setY: function(t, e) {
            return this.array[t * this.itemSize + 1] = e,
            this
        },
        getZ: function(t) {
            return this.array[t * this.itemSize + 2]
        },
        setZ: function(t, e) {
            return this.array[t * this.itemSize + 2] = e,
            this
        },
        getW: function(t) {
            return this.array[t * this.itemSize + 3]
        },
        setW: function(t, e) {
            return this.array[t * this.itemSize + 3] = e,
            this
        },
        setXY: function(t, e, n) {
            return t *= this.itemSize,
            this.array[t + 0] = e,
            this.array[t + 1] = n,
            this
        },
        setXYZ: function(t, e, n, r) {
            return t *= this.itemSize,
            this.array[t + 0] = e,
            this.array[t + 1] = n,
            this.array[t + 2] = r,
            this
        },
        setXYZW: function(t, e, n, r, i) {
            return t *= this.itemSize,
            this.array[t + 0] = e,
            this.array[t + 1] = n,
            this.array[t + 2] = r,
            this.array[t + 3] = i,
            this
        },
        onUpload: function(t) {
            return this.onUploadCallback = t,
            this
        },
        clone: function() {
            return new this.constructor(this.array,this.itemSize).copy(this)
        },
        toJSON: function() {
            return {
                itemSize: this.itemSize,
                type: this.array.constructor.name,
                array: Array.prototype.slice.call(this.array),
                normalized: this.normalized
            }
        }
    }),
    Ci.prototype = Object.create(Ri.prototype),
    Ci.prototype.constructor = Ci,
    Ii.prototype = Object.create(Ri.prototype),
    Ii.prototype.constructor = Ii,
    Di.prototype = Object.create(Ri.prototype),
    Di.prototype.constructor = Di,
    ki.prototype = Object.create(Ri.prototype),
    ki.prototype.constructor = ki,
    Ni.prototype = Object.create(Ri.prototype),
    Ni.prototype.constructor = Ni,
    zi.prototype = Object.create(Ri.prototype),
    zi.prototype.constructor = zi,
    ji.prototype = Object.create(Ri.prototype),
    ji.prototype.constructor = ji,
    Fi.prototype = Object.create(Ri.prototype),
    Fi.prototype.constructor = Fi,
    Bi.prototype = Object.create(Ri.prototype),
    Bi.prototype.constructor = Bi,
    Object.assign(Ui.prototype, {
        computeGroups: function(t) {
            for (var e, n = [], r = void 0, i = t.faces, o = 0; o < i.length; o++) {
                var a = i[o];
                a.materialIndex !== r && (r = a.materialIndex,
                void 0 !== e && (e.count = 3 * o - e.start,
                n.push(e)),
                e = {
                    start: 3 * o,
                    materialIndex: r
                })
            }
            void 0 !== e && (e.count = 3 * o - e.start,
            n.push(e)),
            this.groups = n
        },
        fromGeometry: function(t) {
            var e, n = t.faces, r = t.vertices, i = t.faceVertexUvs, o = i[0] && i[0].length > 0, a = i[1] && i[1].length > 0, s = t.morphTargets, u = s.length;
            if (u > 0) {
                e = [];
                for (var c = 0; c < u; c++)
                    e[c] = {
                        name: s[c].name,
                        data: []
                    };
                this.morphTargets.position = e
            }
            var l, h = t.morphNormals, f = h.length;
            if (f > 0) {
                l = [];
                for (c = 0; c < f; c++)
                    l[c] = {
                        name: h[c].name,
                        data: []
                    };
                this.morphTargets.normal = l
            }
            var p = t.skinIndices
              , d = t.skinWeights
              , m = p.length === r.length
              , v = d.length === r.length;
            r.length > 0 && 0 === n.length && console.error("THREE.DirectGeometry: Faceless geometries are not supported.");
            for (c = 0; c < n.length; c++) {
                var g = n[c];
                this.vertices.push(r[g.a], r[g.b], r[g.c]);
                var y = g.vertexNormals;
                if (3 === y.length)
                    this.normals.push(y[0], y[1], y[2]);
                else {
                    var b = g.normal;
                    this.normals.push(b, b, b)
                }
                var x, _ = g.vertexColors;
                if (3 === _.length)
                    this.colors.push(_[0], _[1], _[2]);
                else {
                    var w = g.color;
                    this.colors.push(w, w, w)
                }
                if (!0 === o)
                    void 0 !== (x = i[0][c]) ? this.uvs.push(x[0], x[1], x[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ", c),
                    this.uvs.push(new Yn, new Yn, new Yn));
                if (!0 === a)
                    void 0 !== (x = i[1][c]) ? this.uvs2.push(x[0], x[1], x[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", c),
                    this.uvs2.push(new Yn, new Yn, new Yn));
                for (var M = 0; M < u; M++) {
                    var S = s[M].vertices;
                    e[M].data.push(S[g.a], S[g.b], S[g.c])
                }
                for (M = 0; M < f; M++) {
                    var E = h[M].vertexNormals[c];
                    l[M].data.push(E.a, E.b, E.c)
                }
                m && this.skinIndices.push(p[g.a], p[g.b], p[g.c]),
                v && this.skinWeights.push(d[g.a], d[g.b], d[g.c])
            }
            return this.computeGroups(t),
            this.verticesNeedUpdate = t.verticesNeedUpdate,
            this.normalsNeedUpdate = t.normalsNeedUpdate,
            this.colorsNeedUpdate = t.colorsNeedUpdate,
            this.uvsNeedUpdate = t.uvsNeedUpdate,
            this.groupsNeedUpdate = t.groupsNeedUpdate,
            null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()),
            null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()),
            this
        }
    });
    var Hi = 1
      , Vi = new pr
      , Wi = new Rr
      , qi = new or
      , Xi = new qr
      , Yi = new qr
      , Zi = new or;
    function Ji() {
        Object.defineProperty(this, "id", {
            value: Hi += 2
        }),
        this.uuid = Xn.generateUUID(),
        this.name = "",
        this.type = "BufferGeometry",
        this.index = null,
        this.attributes = {},
        this.morphAttributes = {},
        this.morphTargetsRelative = !1,
        this.groups = [],
        this.boundingBox = null,
        this.boundingSphere = null,
        this.drawRange = {
            start: 0,
            count: 1 / 0
        },
        this.userData = {}
    }
    Ji.prototype = Object.assign(Object.create(Hn.prototype), {
        constructor: Ji,
        isBufferGeometry: !0,
        getIndex: function() {
            return this.index
        },
        setIndex: function(t) {
            Array.isArray(t) ? this.index = new (Gi(t) > 65535 ? ji : Ni)(t,1) : this.index = t
        },
        getAttribute: function(t) {
            return this.attributes[t]
        },
        setAttribute: function(t, e) {
            return this.attributes[t] = e,
            this
        },
        deleteAttribute: function(t) {
            return delete this.attributes[t],
            this
        },
        addGroup: function(t, e, n) {
            this.groups.push({
                start: t,
                count: e,
                materialIndex: void 0 !== n ? n : 0
            })
        },
        clearGroups: function() {
            this.groups = []
        },
        setDrawRange: function(t, e) {
            this.drawRange.start = t,
            this.drawRange.count = e
        },
        applyMatrix4: function(t) {
            var e = this.attributes.position;
            void 0 !== e && (e.applyMatrix4(t),
            e.needsUpdate = !0);
            var n = this.attributes.normal;
            if (void 0 !== n) {
                var r = (new Zn).getNormalMatrix(t);
                n.applyNormalMatrix(r),
                n.needsUpdate = !0
            }
            var i = this.attributes.tangent;
            return void 0 !== i && (i.transformDirection(t),
            i.needsUpdate = !0),
            null !== this.boundingBox && this.computeBoundingBox(),
            null !== this.boundingSphere && this.computeBoundingSphere(),
            this
        },
        rotateX: function(t) {
            return Vi.makeRotationX(t),
            this.applyMatrix4(Vi),
            this
        },
        rotateY: function(t) {
            return Vi.makeRotationY(t),
            this.applyMatrix4(Vi),
            this
        },
        rotateZ: function(t) {
            return Vi.makeRotationZ(t),
            this.applyMatrix4(Vi),
            this
        },
        translate: function(t, e, n) {
            return Vi.makeTranslation(t, e, n),
            this.applyMatrix4(Vi),
            this
        },
        scale: function(t, e, n) {
            return Vi.makeScale(t, e, n),
            this.applyMatrix4(Vi),
            this
        },
        lookAt: function(t) {
            return Wi.lookAt(t),
            Wi.updateMatrix(),
            this.applyMatrix4(Wi.matrix),
            this
        },
        center: function() {
            return this.computeBoundingBox(),
            this.boundingBox.getCenter(qi).negate(),
            this.translate(qi.x, qi.y, qi.z),
            this
        },
        setFromObject: function(t) {
            var e = t.geometry;
            if (t.isPoints || t.isLine) {
                var n = new Fi(3 * e.vertices.length,3)
                  , r = new Fi(3 * e.colors.length,3);
                if (this.setAttribute("position", n.copyVector3sArray(e.vertices)),
                this.setAttribute("color", r.copyColorsArray(e.colors)),
                e.lineDistances && e.lineDistances.length === e.vertices.length) {
                    var i = new Fi(e.lineDistances.length,1);
                    this.setAttribute("lineDistance", i.copyArray(e.lineDistances))
                }
                null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()),
                null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
            } else
                t.isMesh && e && e.isGeometry && this.fromGeometry(e);
            return this
        },
        setFromPoints: function(t) {
            for (var e = [], n = 0, r = t.length; n < r; n++) {
                var i = t[n];
                e.push(i.x, i.y, i.z || 0)
            }
            return this.setAttribute("position", new Fi(e,3)),
            this
        },
        updateFromObject: function(t) {
            var e, n = t.geometry;
            if (t.isMesh) {
                var r = n.__directGeometry;
                if (!0 === n.elementsNeedUpdate && (r = void 0,
                n.elementsNeedUpdate = !1),
                void 0 === r)
                    return this.fromGeometry(n);
                r.verticesNeedUpdate = n.verticesNeedUpdate,
                r.normalsNeedUpdate = n.normalsNeedUpdate,
                r.colorsNeedUpdate = n.colorsNeedUpdate,
                r.uvsNeedUpdate = n.uvsNeedUpdate,
                r.groupsNeedUpdate = n.groupsNeedUpdate,
                n.verticesNeedUpdate = !1,
                n.normalsNeedUpdate = !1,
                n.colorsNeedUpdate = !1,
                n.uvsNeedUpdate = !1,
                n.groupsNeedUpdate = !1,
                n = r
            }
            return !0 === n.verticesNeedUpdate && (void 0 !== (e = this.attributes.position) && (e.copyVector3sArray(n.vertices),
            e.needsUpdate = !0),
            n.verticesNeedUpdate = !1),
            !0 === n.normalsNeedUpdate && (void 0 !== (e = this.attributes.normal) && (e.copyVector3sArray(n.normals),
            e.needsUpdate = !0),
            n.normalsNeedUpdate = !1),
            !0 === n.colorsNeedUpdate && (void 0 !== (e = this.attributes.color) && (e.copyColorsArray(n.colors),
            e.needsUpdate = !0),
            n.colorsNeedUpdate = !1),
            n.uvsNeedUpdate && (void 0 !== (e = this.attributes.uv) && (e.copyVector2sArray(n.uvs),
            e.needsUpdate = !0),
            n.uvsNeedUpdate = !1),
            n.lineDistancesNeedUpdate && (void 0 !== (e = this.attributes.lineDistance) && (e.copyArray(n.lineDistances),
            e.needsUpdate = !0),
            n.lineDistancesNeedUpdate = !1),
            n.groupsNeedUpdate && (n.computeGroups(t.geometry),
            this.groups = n.groups,
            n.groupsNeedUpdate = !1),
            this
        },
        fromGeometry: function(t) {
            return t.__directGeometry = (new Ui).fromGeometry(t),
            this.fromDirectGeometry(t.__directGeometry)
        },
        fromDirectGeometry: function(t) {
            var e = new Float32Array(3 * t.vertices.length);
            if (this.setAttribute("position", new Ri(e,3).copyVector3sArray(t.vertices)),
            t.normals.length > 0) {
                var n = new Float32Array(3 * t.normals.length);
                this.setAttribute("normal", new Ri(n,3).copyVector3sArray(t.normals))
            }
            if (t.colors.length > 0) {
                var r = new Float32Array(3 * t.colors.length);
                this.setAttribute("color", new Ri(r,3).copyColorsArray(t.colors))
            }
            if (t.uvs.length > 0) {
                var i = new Float32Array(2 * t.uvs.length);
                this.setAttribute("uv", new Ri(i,2).copyVector2sArray(t.uvs))
            }
            if (t.uvs2.length > 0) {
                var o = new Float32Array(2 * t.uvs2.length);
                this.setAttribute("uv2", new Ri(o,2).copyVector2sArray(t.uvs2))
            }
            for (var a in this.groups = t.groups,
            t.morphTargets) {
                for (var s = [], u = t.morphTargets[a], c = 0, l = u.length; c < l; c++) {
                    var h = u[c]
                      , f = new Fi(3 * h.data.length,3);
                    f.name = h.name,
                    s.push(f.copyVector3sArray(h.data))
                }
                this.morphAttributes[a] = s
            }
            if (t.skinIndices.length > 0) {
                var p = new Fi(4 * t.skinIndices.length,4);
                this.setAttribute("skinIndex", p.copyVector4sArray(t.skinIndices))
            }
            if (t.skinWeights.length > 0) {
                var d = new Fi(4 * t.skinWeights.length,4);
                this.setAttribute("skinWeight", d.copyVector4sArray(t.skinWeights))
            }
            return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()),
            null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()),
            this
        },
        computeBoundingBox: function() {
            null === this.boundingBox && (this.boundingBox = new qr);
            var t = this.attributes.position
              , e = this.morphAttributes.position;
            if (void 0 !== t) {
                if (this.boundingBox.setFromBufferAttribute(t),
                e)
                    for (var n = 0, r = e.length; n < r; n++) {
                        var i = e[n];
                        Xi.setFromBufferAttribute(i),
                        this.morphTargetsRelative ? (Zi.addVectors(this.boundingBox.min, Xi.min),
                        this.boundingBox.expandByPoint(Zi),
                        Zi.addVectors(this.boundingBox.max, Xi.max),
                        this.boundingBox.expandByPoint(Zi)) : (this.boundingBox.expandByPoint(Xi.min),
                        this.boundingBox.expandByPoint(Xi.max))
                    }
            } else
                this.boundingBox.makeEmpty();
            (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
        },
        computeBoundingSphere: function() {
            null === this.boundingSphere && (this.boundingSphere = new Zr);
            var t = this.attributes.position
              , e = this.morphAttributes.position;
            if (t) {
                var n = this.boundingSphere.center;
                if (Xi.setFromBufferAttribute(t),
                e)
                    for (var r = 0, i = e.length; r < i; r++) {
                        var o = e[r];
                        Yi.setFromBufferAttribute(o),
                        this.morphTargetsRelative ? (Zi.addVectors(Xi.min, Yi.min),
                        Xi.expandByPoint(Zi),
                        Zi.addVectors(Xi.max, Yi.max),
                        Xi.expandByPoint(Zi)) : (Xi.expandByPoint(Yi.min),
                        Xi.expandByPoint(Yi.max))
                    }
                Xi.getCenter(n);
                var a = 0;
                for (r = 0,
                i = t.count; r < i; r++)
                    Zi.fromBufferAttribute(t, r),
                    a = Math.max(a, n.distanceToSquared(Zi));
                if (e)
                    for (r = 0,
                    i = e.length; r < i; r++) {
                        o = e[r];
                        for (var s = this.morphTargetsRelative, u = 0, c = o.count; u < c; u++)
                            Zi.fromBufferAttribute(o, u),
                            s && (qi.fromBufferAttribute(t, u),
                            Zi.add(qi)),
                            a = Math.max(a, n.distanceToSquared(Zi))
                    }
                this.boundingSphere.radius = Math.sqrt(a),
                isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this)
            }
        },
        computeFaceNormals: function() {},
        computeVertexNormals: function() {
            var t = this.index
              , e = this.attributes;
            if (e.position) {
                var n = e.position.array;
                if (void 0 === e.normal)
                    this.setAttribute("normal", new Ri(new Float32Array(n.length),3));
                else
                    for (var r = e.normal.array, i = 0, o = r.length; i < o; i++)
                        r[i] = 0;
                var a, s, u, c = e.normal.array, l = new or, h = new or, f = new or, p = new or, d = new or;
                if (t) {
                    var m = t.array;
                    for (i = 0,
                    o = t.count; i < o; i += 3)
                        a = 3 * m[i + 0],
                        s = 3 * m[i + 1],
                        u = 3 * m[i + 2],
                        l.fromArray(n, a),
                        h.fromArray(n, s),
                        f.fromArray(n, u),
                        p.subVectors(f, h),
                        d.subVectors(l, h),
                        p.cross(d),
                        c[a] += p.x,
                        c[a + 1] += p.y,
                        c[a + 2] += p.z,
                        c[s] += p.x,
                        c[s + 1] += p.y,
                        c[s + 2] += p.z,
                        c[u] += p.x,
                        c[u + 1] += p.y,
                        c[u + 2] += p.z
                } else
                    for (i = 0,
                    o = n.length; i < o; i += 9)
                        l.fromArray(n, i),
                        h.fromArray(n, i + 3),
                        f.fromArray(n, i + 6),
                        p.subVectors(f, h),
                        d.subVectors(l, h),
                        p.cross(d),
                        c[i] = p.x,
                        c[i + 1] = p.y,
                        c[i + 2] = p.z,
                        c[i + 3] = p.x,
                        c[i + 4] = p.y,
                        c[i + 5] = p.z,
                        c[i + 6] = p.x,
                        c[i + 7] = p.y,
                        c[i + 8] = p.z;
                this.normalizeNormals(),
                e.normal.needsUpdate = !0
            }
        },
        merge: function(t, e) {
            if (t && t.isBufferGeometry) {
                void 0 === e && (e = 0,
                console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));
                var n = this.attributes;
                for (var r in n)
                    if (void 0 !== t.attributes[r])
                        for (var i = n[r].array, o = t.attributes[r], a = o.array, s = o.itemSize * e, u = Math.min(a.length, i.length - s), c = 0, l = s; c < u; c++,
                        l++)
                            i[l] = a[c];
                return this
            }
            console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", t)
        },
        normalizeNormals: function() {
            for (var t = this.attributes.normal, e = 0, n = t.count; e < n; e++)
                Zi.x = t.getX(e),
                Zi.y = t.getY(e),
                Zi.z = t.getZ(e),
                Zi.normalize(),
                t.setXYZ(e, Zi.x, Zi.y, Zi.z)
        },
        toNonIndexed: function() {
            function t(t, e) {
                for (var n = t.array, r = t.itemSize, i = new n.constructor(e.length * r), o = 0, a = 0, s = 0, u = e.length; s < u; s++) {
                    o = e[s] * r;
                    for (var c = 0; c < r; c++)
                        i[a++] = n[o++]
                }
                return new Ri(i,r)
            }
            if (null === this.index)
                return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
                this;
            var e = new Ji
              , n = this.index.array
              , r = this.attributes;
            for (var i in r) {
                var o = t(r[i], n);
                e.setAttribute(i, o)
            }
            var a = this.morphAttributes;
            for (i in a) {
                for (var s = [], u = a[i], c = 0, l = u.length; c < l; c++) {
                    o = t(u[c], n);
                    s.push(o)
                }
                e.morphAttributes[i] = s
            }
            e.morphTargetsRelative = this.morphTargetsRelative;
            for (var h = this.groups, f = (c = 0,
            h.length); c < f; c++) {
                var p = h[c];
                e.addGroup(p.start, p.count, p.materialIndex)
            }
            return e
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "BufferGeometry",
                    generator: "BufferGeometry.toJSON"
                }
            };
            if (t.uuid = this.uuid,
            t.type = this.type,
            "" !== this.name && (t.name = this.name),
            Object.keys(this.userData).length > 0 && (t.userData = this.userData),
            void 0 !== this.parameters) {
                var e = this.parameters;
                for (var n in e)
                    void 0 !== e[n] && (t[n] = e[n]);
                return t
            }
            t.data = {
                attributes: {}
            };
            var r = this.index;
            null !== r && (t.data.index = {
                type: r.array.constructor.name,
                array: Array.prototype.slice.call(r.array)
            });
            var i = this.attributes;
            for (var n in i) {
                var o = (f = i[n]).toJSON();
                "" !== f.name && (o.name = f.name),
                t.data.attributes[n] = o
            }
            var a = {}
              , s = !1;
            for (var n in this.morphAttributes) {
                for (var u = this.morphAttributes[n], c = [], l = 0, h = u.length; l < h; l++) {
                    var f;
                    o = (f = u[l]).toJSON();
                    "" !== f.name && (o.name = f.name),
                    c.push(o)
                }
                c.length > 0 && (a[n] = c,
                s = !0)
            }
            s && (t.data.morphAttributes = a,
            t.data.morphTargetsRelative = this.morphTargetsRelative);
            var p = this.groups;
            p.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(p)));
            var d = this.boundingSphere;
            return null !== d && (t.data.boundingSphere = {
                center: d.center.toArray(),
                radius: d.radius
            }),
            t
        },
        clone: function() {
            return (new Ji).copy(this)
        },
        copy: function(t) {
            var e, n, r;
            this.index = null,
            this.attributes = {},
            this.morphAttributes = {},
            this.groups = [],
            this.boundingBox = null,
            this.boundingSphere = null,
            this.name = t.name;
            var i = t.index;
            null !== i && this.setIndex(i.clone());
            var o = t.attributes;
            for (e in o) {
                var a = o[e];
                this.setAttribute(e, a.clone())
            }
            var s = t.morphAttributes;
            for (e in s) {
                var u = []
                  , c = s[e];
                for (n = 0,
                r = c.length; n < r; n++)
                    u.push(c[n].clone());
                this.morphAttributes[e] = u
            }
            this.morphTargetsRelative = t.morphTargetsRelative;
            var l = t.groups;
            for (n = 0,
            r = l.length; n < r; n++) {
                var h = l[n];
                this.addGroup(h.start, h.count, h.materialIndex)
            }
            var f = t.boundingBox;
            null !== f && (this.boundingBox = f.clone());
            var p = t.boundingSphere;
            return null !== p && (this.boundingSphere = p.clone()),
            this.drawRange.start = t.drawRange.start,
            this.drawRange.count = t.drawRange.count,
            this.userData = t.userData,
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    });
    var Qi = new pr
      , Ki = new ri
      , $i = new Zr
      , to = new or
      , eo = new or
      , no = new or
      , ro = new or
      , io = new or
      , oo = new or
      , ao = new or
      , so = new or
      , uo = new or
      , co = new Yn
      , lo = new Yn
      , ho = new Yn
      , fo = new or
      , po = new or;
    function mo(t, e) {
        Rr.call(this),
        this.type = "Mesh",
        this.geometry = void 0 !== t ? t : new Ji,
        this.material = void 0 !== e ? e : new Li,
        this.updateMorphTargets()
    }
    function vo(t, e, n, r, i, o, a, s) {
        if (null === (e.side === T ? r.intersectTriangle(a, o, i, !0, s) : r.intersectTriangle(i, o, a, e.side !== A, s)))
            return null;
        po.copy(s),
        po.applyMatrix4(t.matrixWorld);
        var u = n.ray.origin.distanceTo(po);
        return u < n.near || u > n.far ? null : {
            distance: u,
            point: po.clone(),
            object: t
        }
    }
    function go(t, e, n, r, i, o, a, s, u, c, l, h) {
        to.fromBufferAttribute(i, c),
        eo.fromBufferAttribute(i, l),
        no.fromBufferAttribute(i, h);
        var f = t.morphTargetInfluences;
        if (e.morphTargets && o && f) {
            ao.set(0, 0, 0),
            so.set(0, 0, 0),
            uo.set(0, 0, 0);
            for (var p = 0, d = o.length; p < d; p++) {
                var m = f[p]
                  , v = o[p];
                0 !== m && (ro.fromBufferAttribute(v, c),
                io.fromBufferAttribute(v, l),
                oo.fromBufferAttribute(v, h),
                a ? (ao.addScaledVector(ro, m),
                so.addScaledVector(io, m),
                uo.addScaledVector(oo, m)) : (ao.addScaledVector(ro.sub(to), m),
                so.addScaledVector(io.sub(eo), m),
                uo.addScaledVector(oo.sub(no), m)))
            }
            to.add(ao),
            eo.add(so),
            no.add(uo)
        }
        var g = vo(t, e, n, r, to, eo, no, fo);
        if (g) {
            s && (co.fromBufferAttribute(s, c),
            lo.fromBufferAttribute(s, l),
            ho.fromBufferAttribute(s, h),
            g.uv = yi.getUV(fo, to, eo, no, co, lo, ho, new Yn)),
            u && (co.fromBufferAttribute(u, c),
            lo.fromBufferAttribute(u, l),
            ho.fromBufferAttribute(u, h),
            g.uv2 = yi.getUV(fo, to, eo, no, co, lo, ho, new Yn));
            var y = new Ti(c,l,h);
            yi.getNormal(to, eo, no, y.normal),
            g.face = y
        }
        return g
    }
    mo.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: mo,
        isMesh: !0,
        copy: function(t) {
            return Rr.prototype.copy.call(this, t),
            void 0 !== t.morphTargetInfluences && (this.morphTargetInfluences = t.morphTargetInfluences.slice()),
            void 0 !== t.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, t.morphTargetDictionary)),
            this
        },
        updateMorphTargets: function() {
            var t, e, n, r = this.geometry;
            if (r.isBufferGeometry) {
                var i = r.morphAttributes
                  , o = Object.keys(i);
                if (o.length > 0) {
                    var a = i[o[0]];
                    if (void 0 !== a)
                        for (this.morphTargetInfluences = [],
                        this.morphTargetDictionary = {},
                        t = 0,
                        e = a.length; t < e; t++)
                            n = a[t].name || String(t),
                            this.morphTargetInfluences.push(0),
                            this.morphTargetDictionary[n] = t
                }
            } else {
                var s = r.morphTargets;
                void 0 !== s && s.length > 0 && console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")
            }
        },
        raycast: function(t, e) {
            var n, r = this.geometry, i = this.material, o = this.matrixWorld;
            if (void 0 !== i && (null === r.boundingSphere && r.computeBoundingSphere(),
            $i.copy(r.boundingSphere),
            $i.applyMatrix4(o),
            !1 !== t.ray.intersectsSphere($i) && (Qi.getInverse(o),
            Ki.copy(t.ray).applyMatrix4(Qi),
            null === r.boundingBox || !1 !== Ki.intersectsBox(r.boundingBox))))
                if (r.isBufferGeometry) {
                    var a, s, u, c, l, h, f, p, d, m = r.index, v = r.attributes.position, g = r.morphAttributes.position, y = r.morphTargetsRelative, b = r.attributes.uv, x = r.attributes.uv2, _ = r.groups, w = r.drawRange;
                    if (null !== m)
                        if (Array.isArray(i))
                            for (c = 0,
                            h = _.length; c < h; c++)
                                for (d = i[(p = _[c]).materialIndex],
                                l = Math.max(p.start, w.start),
                                f = Math.min(p.start + p.count, w.start + w.count); l < f; l += 3)
                                    a = m.getX(l),
                                    s = m.getX(l + 1),
                                    u = m.getX(l + 2),
                                    (n = go(this, d, t, Ki, v, g, y, b, x, a, s, u)) && (n.faceIndex = Math.floor(l / 3),
                                    n.face.materialIndex = p.materialIndex,
                                    e.push(n));
                        else
                            for (c = Math.max(0, w.start),
                            h = Math.min(m.count, w.start + w.count); c < h; c += 3)
                                a = m.getX(c),
                                s = m.getX(c + 1),
                                u = m.getX(c + 2),
                                (n = go(this, i, t, Ki, v, g, y, b, x, a, s, u)) && (n.faceIndex = Math.floor(c / 3),
                                e.push(n));
                    else if (void 0 !== v)
                        if (Array.isArray(i))
                            for (c = 0,
                            h = _.length; c < h; c++)
                                for (d = i[(p = _[c]).materialIndex],
                                l = Math.max(p.start, w.start),
                                f = Math.min(p.start + p.count, w.start + w.count); l < f; l += 3)
                                    (n = go(this, d, t, Ki, v, g, y, b, x, a = l, s = l + 1, u = l + 2)) && (n.faceIndex = Math.floor(l / 3),
                                    n.face.materialIndex = p.materialIndex,
                                    e.push(n));
                        else
                            for (c = Math.max(0, w.start),
                            h = Math.min(v.count, w.start + w.count); c < h; c += 3)
                                (n = go(this, i, t, Ki, v, g, y, b, x, a = c, s = c + 1, u = c + 2)) && (n.faceIndex = Math.floor(c / 3),
                                e.push(n))
                } else if (r.isGeometry) {
                    var M, S, E, T, A = Array.isArray(i), P = r.vertices, L = r.faces, O = r.faceVertexUvs[0];
                    O.length > 0 && (T = O);
                    for (var R = 0, C = L.length; R < C; R++) {
                        var I = L[R]
                          , D = A ? i[I.materialIndex] : i;
                        if (void 0 !== D && (M = P[I.a],
                        S = P[I.b],
                        E = P[I.c],
                        n = vo(this, D, t, Ki, M, S, E, fo))) {
                            if (T && T[R]) {
                                var k = T[R];
                                co.copy(k[0]),
                                lo.copy(k[1]),
                                ho.copy(k[2]),
                                n.uv = yi.getUV(fo, M, S, E, co, lo, ho, new Yn)
                            }
                            n.face = I,
                            n.faceIndex = R,
                            e.push(n)
                        }
                    }
                }
        },
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    });
    var yo = 0
      , bo = new pr
      , xo = new Rr
      , _o = new or;
    function wo() {
        Object.defineProperty(this, "id", {
            value: yo += 2
        }),
        this.uuid = Xn.generateUUID(),
        this.name = "",
        this.type = "Geometry",
        this.vertices = [],
        this.colors = [],
        this.faces = [],
        this.faceVertexUvs = [[]],
        this.morphTargets = [],
        this.morphNormals = [],
        this.skinWeights = [],
        this.skinIndices = [],
        this.lineDistances = [],
        this.boundingBox = null,
        this.boundingSphere = null,
        this.elementsNeedUpdate = !1,
        this.verticesNeedUpdate = !1,
        this.uvsNeedUpdate = !1,
        this.normalsNeedUpdate = !1,
        this.colorsNeedUpdate = !1,
        this.lineDistancesNeedUpdate = !1,
        this.groupsNeedUpdate = !1
    }
    wo.prototype = Object.assign(Object.create(Hn.prototype), {
        constructor: wo,
        isGeometry: !0,
        applyMatrix4: function(t) {
            for (var e = (new Zn).getNormalMatrix(t), n = 0, r = this.vertices.length; n < r; n++) {
                this.vertices[n].applyMatrix4(t)
            }
            for (n = 0,
            r = this.faces.length; n < r; n++) {
                var i = this.faces[n];
                i.normal.applyMatrix3(e).normalize();
                for (var o = 0, a = i.vertexNormals.length; o < a; o++)
                    i.vertexNormals[o].applyMatrix3(e).normalize()
            }
            return null !== this.boundingBox && this.computeBoundingBox(),
            null !== this.boundingSphere && this.computeBoundingSphere(),
            this.verticesNeedUpdate = !0,
            this.normalsNeedUpdate = !0,
            this
        },
        rotateX: function(t) {
            return bo.makeRotationX(t),
            this.applyMatrix4(bo),
            this
        },
        rotateY: function(t) {
            return bo.makeRotationY(t),
            this.applyMatrix4(bo),
            this
        },
        rotateZ: function(t) {
            return bo.makeRotationZ(t),
            this.applyMatrix4(bo),
            this
        },
        translate: function(t, e, n) {
            return bo.makeTranslation(t, e, n),
            this.applyMatrix4(bo),
            this
        },
        scale: function(t, e, n) {
            return bo.makeScale(t, e, n),
            this.applyMatrix4(bo),
            this
        },
        lookAt: function(t) {
            return xo.lookAt(t),
            xo.updateMatrix(),
            this.applyMatrix4(xo.matrix),
            this
        },
        fromBufferGeometry: function(t) {
            var e = this
              , n = null !== t.index ? t.index.array : void 0
              , r = t.attributes;
            if (void 0 === r.position)
                return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),
                this;
            var i = r.position.array
              , o = void 0 !== r.normal ? r.normal.array : void 0
              , a = void 0 !== r.color ? r.color.array : void 0
              , s = void 0 !== r.uv ? r.uv.array : void 0
              , u = void 0 !== r.uv2 ? r.uv2.array : void 0;
            void 0 !== u && (this.faceVertexUvs[1] = []);
            for (var c = 0; c < i.length; c += 3)
                e.vertices.push((new or).fromArray(i, c)),
                void 0 !== a && e.colors.push((new wi).fromArray(a, c));
            function l(t, n, r, i) {
                var c = void 0 === a ? [] : [e.colors[t].clone(), e.colors[n].clone(), e.colors[r].clone()]
                  , l = new Ti(t,n,r,void 0 === o ? [] : [(new or).fromArray(o, 3 * t), (new or).fromArray(o, 3 * n), (new or).fromArray(o, 3 * r)],c,i);
                e.faces.push(l),
                void 0 !== s && e.faceVertexUvs[0].push([(new Yn).fromArray(s, 2 * t), (new Yn).fromArray(s, 2 * n), (new Yn).fromArray(s, 2 * r)]),
                void 0 !== u && e.faceVertexUvs[1].push([(new Yn).fromArray(u, 2 * t), (new Yn).fromArray(u, 2 * n), (new Yn).fromArray(u, 2 * r)])
            }
            var h = t.groups;
            if (h.length > 0)
                for (c = 0; c < h.length; c++)
                    for (var f = h[c], p = f.start, d = p, m = p + f.count; d < m; d += 3)
                        void 0 !== n ? l(n[d], n[d + 1], n[d + 2], f.materialIndex) : l(d, d + 1, d + 2, f.materialIndex);
            else if (void 0 !== n)
                for (c = 0; c < n.length; c += 3)
                    l(n[c], n[c + 1], n[c + 2]);
            else
                for (c = 0; c < i.length / 3; c += 3)
                    l(c, c + 1, c + 2);
            return this.computeFaceNormals(),
            null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()),
            null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()),
            this
        },
        center: function() {
            return this.computeBoundingBox(),
            this.boundingBox.getCenter(_o).negate(),
            this.translate(_o.x, _o.y, _o.z),
            this
        },
        normalize: function() {
            this.computeBoundingSphere();
            var t = this.boundingSphere.center
              , e = this.boundingSphere.radius
              , n = 0 === e ? 1 : 1 / e
              , r = new pr;
            return r.set(n, 0, 0, -n * t.x, 0, n, 0, -n * t.y, 0, 0, n, -n * t.z, 0, 0, 0, 1),
            this.applyMatrix4(r),
            this
        },
        computeFaceNormals: function() {
            for (var t = new or, e = new or, n = 0, r = this.faces.length; n < r; n++) {
                var i = this.faces[n]
                  , o = this.vertices[i.a]
                  , a = this.vertices[i.b]
                  , s = this.vertices[i.c];
                t.subVectors(s, a),
                e.subVectors(o, a),
                t.cross(e),
                t.normalize(),
                i.normal.copy(t)
            }
        },
        computeVertexNormals: function(t) {
            var e, n, r, i, o, a;
            for (void 0 === t && (t = !0),
            a = new Array(this.vertices.length),
            e = 0,
            n = this.vertices.length; e < n; e++)
                a[e] = new or;
            if (t) {
                var s, u, c, l = new or, h = new or;
                for (r = 0,
                i = this.faces.length; r < i; r++)
                    o = this.faces[r],
                    s = this.vertices[o.a],
                    u = this.vertices[o.b],
                    c = this.vertices[o.c],
                    l.subVectors(c, u),
                    h.subVectors(s, u),
                    l.cross(h),
                    a[o.a].add(l),
                    a[o.b].add(l),
                    a[o.c].add(l)
            } else
                for (this.computeFaceNormals(),
                r = 0,
                i = this.faces.length; r < i; r++)
                    a[(o = this.faces[r]).a].add(o.normal),
                    a[o.b].add(o.normal),
                    a[o.c].add(o.normal);
            for (e = 0,
            n = this.vertices.length; e < n; e++)
                a[e].normalize();
            for (r = 0,
            i = this.faces.length; r < i; r++) {
                var f = (o = this.faces[r]).vertexNormals;
                3 === f.length ? (f[0].copy(a[o.a]),
                f[1].copy(a[o.b]),
                f[2].copy(a[o.c])) : (f[0] = a[o.a].clone(),
                f[1] = a[o.b].clone(),
                f[2] = a[o.c].clone())
            }
            this.faces.length > 0 && (this.normalsNeedUpdate = !0)
        },
        computeFlatVertexNormals: function() {
            var t, e, n;
            for (this.computeFaceNormals(),
            t = 0,
            e = this.faces.length; t < e; t++) {
                var r = (n = this.faces[t]).vertexNormals;
                3 === r.length ? (r[0].copy(n.normal),
                r[1].copy(n.normal),
                r[2].copy(n.normal)) : (r[0] = n.normal.clone(),
                r[1] = n.normal.clone(),
                r[2] = n.normal.clone())
            }
            this.faces.length > 0 && (this.normalsNeedUpdate = !0)
        },
        computeMorphNormals: function() {
            var t, e, n, r, i;
            for (n = 0,
            r = this.faces.length; n < r; n++)
                for ((i = this.faces[n]).__originalFaceNormal ? i.__originalFaceNormal.copy(i.normal) : i.__originalFaceNormal = i.normal.clone(),
                i.__originalVertexNormals || (i.__originalVertexNormals = []),
                t = 0,
                e = i.vertexNormals.length; t < e; t++)
                    i.__originalVertexNormals[t] ? i.__originalVertexNormals[t].copy(i.vertexNormals[t]) : i.__originalVertexNormals[t] = i.vertexNormals[t].clone();
            var o = new wo;
            for (o.faces = this.faces,
            t = 0,
            e = this.morphTargets.length; t < e; t++) {
                if (!this.morphNormals[t]) {
                    this.morphNormals[t] = {},
                    this.morphNormals[t].faceNormals = [],
                    this.morphNormals[t].vertexNormals = [];
                    var a = this.morphNormals[t].faceNormals
                      , s = this.morphNormals[t].vertexNormals;
                    for (n = 0,
                    r = this.faces.length; n < r; n++)
                        u = new or,
                        c = {
                            a: new or,
                            b: new or,
                            c: new or
                        },
                        a.push(u),
                        s.push(c)
                }
                var u, c, l = this.morphNormals[t];
                for (o.vertices = this.morphTargets[t].vertices,
                o.computeFaceNormals(),
                o.computeVertexNormals(),
                n = 0,
                r = this.faces.length; n < r; n++)
                    i = this.faces[n],
                    u = l.faceNormals[n],
                    c = l.vertexNormals[n],
                    u.copy(i.normal),
                    c.a.copy(i.vertexNormals[0]),
                    c.b.copy(i.vertexNormals[1]),
                    c.c.copy(i.vertexNormals[2])
            }
            for (n = 0,
            r = this.faces.length; n < r; n++)
                (i = this.faces[n]).normal = i.__originalFaceNormal,
                i.vertexNormals = i.__originalVertexNormals
        },
        computeBoundingBox: function() {
            null === this.boundingBox && (this.boundingBox = new qr),
            this.boundingBox.setFromPoints(this.vertices)
        },
        computeBoundingSphere: function() {
            null === this.boundingSphere && (this.boundingSphere = new Zr),
            this.boundingSphere.setFromPoints(this.vertices)
        },
        merge: function(t, e, n) {
            if (t && t.isGeometry) {
                var r, i = this.vertices.length, o = this.vertices, a = t.vertices, s = this.faces, u = t.faces, c = this.colors, l = t.colors;
                void 0 === n && (n = 0),
                void 0 !== e && (r = (new Zn).getNormalMatrix(e));
                for (var h = 0, f = a.length; h < f; h++) {
                    var p = a[h].clone();
                    void 0 !== e && p.applyMatrix4(e),
                    o.push(p)
                }
                for (h = 0,
                f = l.length; h < f; h++)
                    c.push(l[h].clone());
                for (h = 0,
                f = u.length; h < f; h++) {
                    var d, m, v, g = u[h], y = g.vertexNormals, b = g.vertexColors;
                    (d = new Ti(g.a + i,g.b + i,g.c + i)).normal.copy(g.normal),
                    void 0 !== r && d.normal.applyMatrix3(r).normalize();
                    for (var x = 0, _ = y.length; x < _; x++)
                        m = y[x].clone(),
                        void 0 !== r && m.applyMatrix3(r).normalize(),
                        d.vertexNormals.push(m);
                    d.color.copy(g.color);
                    for (x = 0,
                    _ = b.length; x < _; x++)
                        v = b[x],
                        d.vertexColors.push(v.clone());
                    d.materialIndex = g.materialIndex + n,
                    s.push(d)
                }
                for (h = 0,
                f = t.faceVertexUvs.length; h < f; h++) {
                    var w = t.faceVertexUvs[h];
                    void 0 === this.faceVertexUvs[h] && (this.faceVertexUvs[h] = []);
                    for (x = 0,
                    _ = w.length; x < _; x++) {
                        for (var M = w[x], S = [], E = 0, T = M.length; E < T; E++)
                            S.push(M[E].clone());
                        this.faceVertexUvs[h].push(S)
                    }
                }
            } else
                console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", t)
        },
        mergeMesh: function(t) {
            t && t.isMesh ? (t.matrixAutoUpdate && t.updateMatrix(),
            this.merge(t.geometry, t.matrix)) : console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", t)
        },
        mergeVertices: function() {
            var t, e, n, r, i, o, a, s, u = {}, c = [], l = [], h = Math.pow(10, 4);
            for (n = 0,
            r = this.vertices.length; n < r; n++)
                t = this.vertices[n],
                void 0 === u[e = Math.round(t.x * h) + "_" + Math.round(t.y * h) + "_" + Math.round(t.z * h)] ? (u[e] = n,
                c.push(this.vertices[n]),
                l[n] = c.length - 1) : l[n] = l[u[e]];
            var f = [];
            for (n = 0,
            r = this.faces.length; n < r; n++) {
                (i = this.faces[n]).a = l[i.a],
                i.b = l[i.b],
                i.c = l[i.c],
                o = [i.a, i.b, i.c];
                for (var p = 0; p < 3; p++)
                    if (o[p] === o[(p + 1) % 3]) {
                        f.push(n);
                        break
                    }
            }
            for (n = f.length - 1; n >= 0; n--) {
                var d = f[n];
                for (this.faces.splice(d, 1),
                a = 0,
                s = this.faceVertexUvs.length; a < s; a++)
                    this.faceVertexUvs[a].splice(d, 1)
            }
            var m = this.vertices.length - c.length;
            return this.vertices = c,
            m
        },
        setFromPoints: function(t) {
            this.vertices = [];
            for (var e = 0, n = t.length; e < n; e++) {
                var r = t[e];
                this.vertices.push(new or(r.x,r.y,r.z || 0))
            }
            return this
        },
        sortFacesByMaterialIndex: function() {
            for (var t = this.faces, e = t.length, n = 0; n < e; n++)
                t[n]._id = n;
            t.sort((function(t, e) {
                return t.materialIndex - e.materialIndex
            }
            ));
            var r, i, o = this.faceVertexUvs[0], a = this.faceVertexUvs[1];
            o && o.length === e && (r = []),
            a && a.length === e && (i = []);
            for (n = 0; n < e; n++) {
                var s = t[n]._id;
                r && r.push(o[s]),
                i && i.push(a[s])
            }
            r && (this.faceVertexUvs[0] = r),
            i && (this.faceVertexUvs[1] = i)
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "Geometry",
                    generator: "Geometry.toJSON"
                }
            };
            if (t.uuid = this.uuid,
            t.type = this.type,
            "" !== this.name && (t.name = this.name),
            void 0 !== this.parameters) {
                var e = this.parameters;
                for (var n in e)
                    void 0 !== e[n] && (t[n] = e[n]);
                return t
            }
            for (var r = [], i = 0; i < this.vertices.length; i++) {
                var o = this.vertices[i];
                r.push(o.x, o.y, o.z)
            }
            var a = []
              , s = []
              , u = {}
              , c = []
              , l = {}
              , h = []
              , f = {};
            for (i = 0; i < this.faces.length; i++) {
                var p = this.faces[i]
                  , d = void 0 !== this.faceVertexUvs[0][i]
                  , m = p.normal.length() > 0
                  , v = p.vertexNormals.length > 0
                  , g = 1 !== p.color.r || 1 !== p.color.g || 1 !== p.color.b
                  , y = p.vertexColors.length > 0
                  , b = 0;
                if (b = M(b, 0, 0),
                b = M(b, 1, !0),
                b = M(b, 2, !1),
                b = M(b, 3, d),
                b = M(b, 4, m),
                b = M(b, 5, v),
                b = M(b, 6, g),
                b = M(b, 7, y),
                a.push(b),
                a.push(p.a, p.b, p.c),
                a.push(p.materialIndex),
                d) {
                    var x = this.faceVertexUvs[0][i];
                    a.push(T(x[0]), T(x[1]), T(x[2]))
                }
                if (m && a.push(S(p.normal)),
                v) {
                    var _ = p.vertexNormals;
                    a.push(S(_[0]), S(_[1]), S(_[2]))
                }
                if (g && a.push(E(p.color)),
                y) {
                    var w = p.vertexColors;
                    a.push(E(w[0]), E(w[1]), E(w[2]))
                }
            }
            function M(t, e, n) {
                return n ? t | 1 << e : t & ~(1 << e)
            }
            function S(t) {
                var e = t.x.toString() + t.y.toString() + t.z.toString();
                return void 0 !== u[e] || (u[e] = s.length / 3,
                s.push(t.x, t.y, t.z)),
                u[e]
            }
            function E(t) {
                var e = t.r.toString() + t.g.toString() + t.b.toString();
                return void 0 !== l[e] || (l[e] = c.length,
                c.push(t.getHex())),
                l[e]
            }
            function T(t) {
                var e = t.x.toString() + t.y.toString();
                return void 0 !== f[e] || (f[e] = h.length / 2,
                h.push(t.x, t.y)),
                f[e]
            }
            return t.data = {},
            t.data.vertices = r,
            t.data.normals = s,
            c.length > 0 && (t.data.colors = c),
            h.length > 0 && (t.data.uvs = [h]),
            t.data.faces = a,
            t
        },
        clone: function() {
            return (new wo).copy(this)
        },
        copy: function(t) {
            var e, n, r, i, o, a;
            this.vertices = [],
            this.colors = [],
            this.faces = [],
            this.faceVertexUvs = [[]],
            this.morphTargets = [],
            this.morphNormals = [],
            this.skinWeights = [],
            this.skinIndices = [],
            this.lineDistances = [],
            this.boundingBox = null,
            this.boundingSphere = null,
            this.name = t.name;
            var s = t.vertices;
            for (e = 0,
            n = s.length; e < n; e++)
                this.vertices.push(s[e].clone());
            var u = t.colors;
            for (e = 0,
            n = u.length; e < n; e++)
                this.colors.push(u[e].clone());
            var c = t.faces;
            for (e = 0,
            n = c.length; e < n; e++)
                this.faces.push(c[e].clone());
            for (e = 0,
            n = t.faceVertexUvs.length; e < n; e++) {
                var l = t.faceVertexUvs[e];
                for (void 0 === this.faceVertexUvs[e] && (this.faceVertexUvs[e] = []),
                r = 0,
                i = l.length; r < i; r++) {
                    var h = l[r]
                      , f = [];
                    for (o = 0,
                    a = h.length; o < a; o++) {
                        var p = h[o];
                        f.push(p.clone())
                    }
                    this.faceVertexUvs[e].push(f)
                }
            }
            var d = t.morphTargets;
            for (e = 0,
            n = d.length; e < n; e++) {
                var m = {};
                if (m.name = d[e].name,
                void 0 !== d[e].vertices)
                    for (m.vertices = [],
                    r = 0,
                    i = d[e].vertices.length; r < i; r++)
                        m.vertices.push(d[e].vertices[r].clone());
                if (void 0 !== d[e].normals)
                    for (m.normals = [],
                    r = 0,
                    i = d[e].normals.length; r < i; r++)
                        m.normals.push(d[e].normals[r].clone());
                this.morphTargets.push(m)
            }
            var v = t.morphNormals;
            for (e = 0,
            n = v.length; e < n; e++) {
                var g = {};
                if (void 0 !== v[e].vertexNormals)
                    for (g.vertexNormals = [],
                    r = 0,
                    i = v[e].vertexNormals.length; r < i; r++) {
                        var y = v[e].vertexNormals[r]
                          , b = {};
                        b.a = y.a.clone(),
                        b.b = y.b.clone(),
                        b.c = y.c.clone(),
                        g.vertexNormals.push(b)
                    }
                if (void 0 !== v[e].faceNormals)
                    for (g.faceNormals = [],
                    r = 0,
                    i = v[e].faceNormals.length; r < i; r++)
                        g.faceNormals.push(v[e].faceNormals[r].clone());
                this.morphNormals.push(g)
            }
            var x = t.skinWeights;
            for (e = 0,
            n = x.length; e < n; e++)
                this.skinWeights.push(x[e].clone());
            var _ = t.skinIndices;
            for (e = 0,
            n = _.length; e < n; e++)
                this.skinIndices.push(_[e].clone());
            var w = t.lineDistances;
            for (e = 0,
            n = w.length; e < n; e++)
                this.lineDistances.push(w[e]);
            var M = t.boundingBox;
            null !== M && (this.boundingBox = M.clone());
            var S = t.boundingSphere;
            return null !== S && (this.boundingSphere = S.clone()),
            this.elementsNeedUpdate = t.elementsNeedUpdate,
            this.verticesNeedUpdate = t.verticesNeedUpdate,
            this.uvsNeedUpdate = t.uvsNeedUpdate,
            this.normalsNeedUpdate = t.normalsNeedUpdate,
            this.colorsNeedUpdate = t.colorsNeedUpdate,
            this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate,
            this.groupsNeedUpdate = t.groupsNeedUpdate,
            this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    });
    var Mo = function(t) {
        function e(t, n, r, i, o, u) {
            var l;
            return a(this, e),
            (l = s(this, c(e).call(this))).type = "BoxGeometry",
            l.parameters = {
                width: t,
                height: n,
                depth: r,
                widthSegments: i,
                heightSegments: o,
                depthSegments: u
            },
            l.fromBufferGeometry(new So(t,n,r,i,o,u)),
            l.mergeVertices(),
            l
        }
        return l(e, t),
        e
    }(wo)
      , So = function(t) {
        function e(t, n, r, i, o, l) {
            var h;
            a(this, e),
            (h = s(this, c(e).call(this))).type = "BoxBufferGeometry",
            h.parameters = {
                width: t,
                height: n,
                depth: r,
                widthSegments: i,
                heightSegments: o,
                depthSegments: l
            };
            var f = u(h);
            t = t || 1,
            n = n || 1,
            r = r || 1,
            i = Math.floor(i) || 1,
            o = Math.floor(o) || 1,
            l = Math.floor(l) || 1;
            var p = []
              , d = []
              , m = []
              , v = []
              , g = 0
              , y = 0;
            function b(t, e, n, r, i, o, a, s, u, c, l) {
                var h, b, x = o / u, _ = a / c, w = o / 2, M = a / 2, S = s / 2, E = u + 1, T = c + 1, A = 0, P = 0, L = new or;
                for (b = 0; b < T; b++) {
                    var O = b * _ - M;
                    for (h = 0; h < E; h++) {
                        var R = h * x - w;
                        L[t] = R * r,
                        L[e] = O * i,
                        L[n] = S,
                        d.push(L.x, L.y, L.z),
                        L[t] = 0,
                        L[e] = 0,
                        L[n] = s > 0 ? 1 : -1,
                        m.push(L.x, L.y, L.z),
                        v.push(h / u),
                        v.push(1 - b / c),
                        A += 1
                    }
                }
                for (b = 0; b < c; b++)
                    for (h = 0; h < u; h++) {
                        var C = g + h + E * b
                          , I = g + h + E * (b + 1)
                          , D = g + (h + 1) + E * (b + 1)
                          , k = g + (h + 1) + E * b;
                        p.push(C, I, k),
                        p.push(I, D, k),
                        P += 6
                    }
                f.addGroup(y, P, l),
                y += P,
                g += A
            }
            return (b("z", "y", "x", -1, -1, r, n, t, l, o, 0),
            b("z", "y", "x", 1, -1, r, n, -t, l, o, 1),
            b("x", "z", "y", 1, 1, t, r, n, i, l, 2),
            b("x", "z", "y", 1, -1, t, r, -n, i, l, 3),
            b("x", "y", "z", 1, -1, t, n, r, i, o, 4),
            b("x", "y", "z", -1, -1, t, n, -r, i, o, 5),
            h.setIndex(p),
            h.setAttribute("position", new Fi(d,3)),
            h.setAttribute("normal", new Fi(m,3)),
            h.setAttribute("uv", new Fi(v,2)),
            h)
        }
        return l(e, t),
        e
    }(Ji);
    function Eo(t) {
        var e = {};
        for (var n in t)
            for (var r in e[n] = {},
            t[n]) {
                var i = t[n][r];
                i && (i.isColor || i.isMatrix3 || i.isMatrix4 || i.isVector2 || i.isVector3 || i.isVector4 || i.isTexture) ? e[n][r] = i.clone() : Array.isArray(i) ? e[n][r] = i.slice() : e[n][r] = i
            }
        return e
    }
    function To(t) {
        for (var e = {}, n = 0; n < t.length; n++) {
            var r = Eo(t[n]);
            for (var i in r)
                e[i] = r[i]
        }
        return e
    }
    var Ao = {
        clone: Eo,
        merge: To
    };
    function Po(t) {
        Pi.call(this),
        this.type = "ShaderMaterial",
        this.defines = {},
        this.uniforms = {},
        this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",
        this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",
        this.linewidth = 1,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.fog = !1,
        this.lights = !1,
        this.clipping = !1,
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.extensions = {
            derivatives: !1,
            fragDepth: !1,
            drawBuffers: !1,
            shaderTextureLOD: !1
        },
        this.defaultAttributeValues = {
            color: [1, 1, 1],
            uv: [0, 0],
            uv2: [0, 0]
        },
        this.index0AttributeName = void 0,
        this.uniformsNeedUpdate = !1,
        void 0 !== t && (void 0 !== t.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),
        this.setValues(t))
    }
    function Lo() {
        Rr.call(this),
        this.type = "Camera",
        this.matrixWorldInverse = new pr,
        this.projectionMatrix = new pr,
        this.projectionMatrixInverse = new pr
    }
    function Oo(t, e, n, r) {
        Lo.call(this),
        this.type = "PerspectiveCamera",
        this.fov = void 0 !== t ? t : 50,
        this.zoom = 1,
        this.near = void 0 !== n ? n : .1,
        this.far = void 0 !== r ? r : 2e3,
        this.focus = 10,
        this.aspect = void 0 !== e ? e : 1,
        this.view = null,
        this.filmGauge = 35,
        this.filmOffset = 0,
        this.updateProjectionMatrix()
    }
    Po.prototype = Object.create(Pi.prototype),
    Po.prototype.constructor = Po,
    Po.prototype.isShaderMaterial = !0,
    Po.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.fragmentShader = t.fragmentShader,
        this.vertexShader = t.vertexShader,
        this.uniforms = Eo(t.uniforms),
        this.defines = Object.assign({}, t.defines),
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.lights = t.lights,
        this.clipping = t.clipping,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this.extensions = t.extensions,
        this
    }
    ,
    Po.prototype.toJSON = function(t) {
        var e = Pi.prototype.toJSON.call(this, t);
        for (var n in e.uniforms = {},
        this.uniforms) {
            var r = this.uniforms[n].value;
            r && r.isTexture ? e.uniforms[n] = {
                type: "t",
                value: r.toJSON(t).uuid
            } : r && r.isColor ? e.uniforms[n] = {
                type: "c",
                value: r.getHex()
            } : r && r.isVector2 ? e.uniforms[n] = {
                type: "v2",
                value: r.toArray()
            } : r && r.isVector3 ? e.uniforms[n] = {
                type: "v3",
                value: r.toArray()
            } : r && r.isVector4 ? e.uniforms[n] = {
                type: "v4",
                value: r.toArray()
            } : r && r.isMatrix3 ? e.uniforms[n] = {
                type: "m3",
                value: r.toArray()
            } : r && r.isMatrix4 ? e.uniforms[n] = {
                type: "m4",
                value: r.toArray()
            } : e.uniforms[n] = {
                value: r
            }
        }
        Object.keys(this.defines).length > 0 && (e.defines = this.defines),
        e.vertexShader = this.vertexShader,
        e.fragmentShader = this.fragmentShader;
        var i = {};
        for (var o in this.extensions)
            !0 === this.extensions[o] && (i[o] = !0);
        return Object.keys(i).length > 0 && (e.extensions = i),
        e
    }
    ,
    Lo.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: Lo,
        isCamera: !0,
        copy: function(t, e) {
            return Rr.prototype.copy.call(this, t, e),
            this.matrixWorldInverse.copy(t.matrixWorldInverse),
            this.projectionMatrix.copy(t.projectionMatrix),
            this.projectionMatrixInverse.copy(t.projectionMatrixInverse),
            this
        },
        getWorldDirection: function(t) {
            void 0 === t && (console.warn("THREE.Camera: .getWorldDirection() target is now required"),
            t = new or),
            this.updateMatrixWorld(!0);
            var e = this.matrixWorld.elements;
            return t.set(-e[8], -e[9], -e[10]).normalize()
        },
        updateMatrixWorld: function(t) {
            Rr.prototype.updateMatrixWorld.call(this, t),
            this.matrixWorldInverse.getInverse(this.matrixWorld)
        },
        updateWorldMatrix: function(t, e) {
            Rr.prototype.updateWorldMatrix.call(this, t, e),
            this.matrixWorldInverse.getInverse(this.matrixWorld)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    }),
    Oo.prototype = Object.assign(Object.create(Lo.prototype), {
        constructor: Oo,
        isPerspectiveCamera: !0,
        copy: function(t, e) {
            return Lo.prototype.copy.call(this, t, e),
            this.fov = t.fov,
            this.zoom = t.zoom,
            this.near = t.near,
            this.far = t.far,
            this.focus = t.focus,
            this.aspect = t.aspect,
            this.view = null === t.view ? null : Object.assign({}, t.view),
            this.filmGauge = t.filmGauge,
            this.filmOffset = t.filmOffset,
            this
        },
        setFocalLength: function(t) {
            var e = .5 * this.getFilmHeight() / t;
            this.fov = 2 * Xn.RAD2DEG * Math.atan(e),
            this.updateProjectionMatrix()
        },
        getFocalLength: function() {
            var t = Math.tan(.5 * Xn.DEG2RAD * this.fov);
            return .5 * this.getFilmHeight() / t
        },
        getEffectiveFOV: function() {
            return 2 * Xn.RAD2DEG * Math.atan(Math.tan(.5 * Xn.DEG2RAD * this.fov) / this.zoom)
        },
        getFilmWidth: function() {
            return this.filmGauge * Math.min(this.aspect, 1)
        },
        getFilmHeight: function() {
            return this.filmGauge / Math.max(this.aspect, 1)
        },
        setViewOffset: function(t, e, n, r, i, o) {
            this.aspect = t / e,
            null === this.view && (this.view = {
                enabled: !0,
                fullWidth: 1,
                fullHeight: 1,
                offsetX: 0,
                offsetY: 0,
                width: 1,
                height: 1
            }),
            this.view.enabled = !0,
            this.view.fullWidth = t,
            this.view.fullHeight = e,
            this.view.offsetX = n,
            this.view.offsetY = r,
            this.view.width = i,
            this.view.height = o,
            this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            null !== this.view && (this.view.enabled = !1),
            this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var t = this.near
              , e = t * Math.tan(.5 * Xn.DEG2RAD * this.fov) / this.zoom
              , n = 2 * e
              , r = this.aspect * n
              , i = -.5 * r
              , o = this.view;
            if (null !== this.view && this.view.enabled) {
                var a = o.fullWidth
                  , s = o.fullHeight;
                i += o.offsetX * r / a,
                e -= o.offsetY * n / s,
                r *= o.width / a,
                n *= o.height / s
            }
            var u = this.filmOffset;
            0 !== u && (i += t * u / this.getFilmWidth()),
            this.projectionMatrix.makePerspective(i, i + r, e, e - n, t, this.far),
            this.projectionMatrixInverse.getInverse(this.projectionMatrix)
        },
        toJSON: function(t) {
            var e = Rr.prototype.toJSON.call(this, t);
            return e.object.fov = this.fov,
            e.object.zoom = this.zoom,
            e.object.near = this.near,
            e.object.far = this.far,
            e.object.focus = this.focus,
            e.object.aspect = this.aspect,
            null !== this.view && (e.object.view = Object.assign({}, this.view)),
            e.object.filmGauge = this.filmGauge,
            e.object.filmOffset = this.filmOffset,
            e
        }
    });
    function Ro(t, e, n, r) {
        Rr.call(this),
        this.type = "CubeCamera";
        var i = new Oo(90,1,t,e);
        i.up.set(0, -1, 0),
        i.lookAt(new or(1,0,0)),
        this.add(i);
        var o = new Oo(90,1,t,e);
        o.up.set(0, -1, 0),
        o.lookAt(new or(-1,0,0)),
        this.add(o);
        var a = new Oo(90,1,t,e);
        a.up.set(0, 0, 1),
        a.lookAt(new or(0,1,0)),
        this.add(a);
        var s = new Oo(90,1,t,e);
        s.up.set(0, 0, -1),
        s.lookAt(new or(0,-1,0)),
        this.add(s);
        var u = new Oo(90,1,t,e);
        u.up.set(0, -1, 0),
        u.lookAt(new or(0,0,1)),
        this.add(u);
        var c = new Oo(90,1,t,e);
        c.up.set(0, -1, 0),
        c.lookAt(new or(0,0,-1)),
        this.add(c),
        r = r || {
            format: Zt,
            magFilter: Rt,
            minFilter: Rt
        },
        this.renderTarget = new Co(n,r),
        this.renderTarget.texture.name = "CubeCamera",
        this.update = function(t, e) {
            null === this.parent && this.updateMatrixWorld();
            var n = t.getRenderTarget()
              , r = this.renderTarget
              , l = r.texture.generateMipmaps;
            r.texture.generateMipmaps = !1,
            t.setRenderTarget(r, 0),
            t.render(e, i),
            t.setRenderTarget(r, 1),
            t.render(e, o),
            t.setRenderTarget(r, 2),
            t.render(e, a),
            t.setRenderTarget(r, 3),
            t.render(e, s),
            t.setRenderTarget(r, 4),
            t.render(e, u),
            r.texture.generateMipmaps = l,
            t.setRenderTarget(r, 5),
            t.render(e, c),
            t.setRenderTarget(n)
        }
        ,
        this.clear = function(t, e, n, r) {
            for (var i = t.getRenderTarget(), o = this.renderTarget, a = 0; a < 6; a++)
                t.setRenderTarget(o, a),
                t.clear(e, n, r);
            t.setRenderTarget(i)
        }
    }
    function Co(t, e, n) {
        Number.isInteger(e) && (console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),
        e = n),
        tr.call(this, t, t, e)
    }
    function Io(t, e, n, r, i, o, a, s, u, c, l, h) {
        Kn.call(this, null, o, a, s, u, c, r, i, l, h),
        this.image = {
            data: t || null,
            width: e || 1,
            height: n || 1
        },
        this.magFilter = void 0 !== u ? u : Tt,
        this.minFilter = void 0 !== c ? c : Tt,
        this.generateMipmaps = !1,
        this.flipY = !1,
        this.unpackAlignment = 1,
        this.needsUpdate = !0
    }
    Ro.prototype = Object.create(Rr.prototype),
    Ro.prototype.constructor = Ro,
    Co.prototype = Object.create(tr.prototype),
    Co.prototype.constructor = Co,
    Co.prototype.isWebGLCubeRenderTarget = !0,
    Co.prototype.fromEquirectangularTexture = function(t, e) {
        this.texture.type = e.type,
        this.texture.format = e.format,
        this.texture.encoding = e.encoding;
        var n = new Cr
          , r = {
            uniforms: {
                tEquirect: {
                    value: null
                }
            },
            vertexShader: ["varying vec3 vWorldDirection;", "vec3 transformDirection( in vec3 dir, in mat4 matrix ) {", "\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );", "}", "void main() {", "\tvWorldDirection = transformDirection( position, modelMatrix );", "\t#include <begin_vertex>", "\t#include <project_vertex>", "}"].join("\n"),
            fragmentShader: ["uniform sampler2D tEquirect;", "varying vec3 vWorldDirection;", "#define RECIPROCAL_PI 0.31830988618", "#define RECIPROCAL_PI2 0.15915494", "void main() {", "\tvec3 direction = normalize( vWorldDirection );", "\tvec2 sampleUV;", "\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;", "\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;", "\tgl_FragColor = texture2D( tEquirect, sampleUV );", "}"].join("\n")
        }
          , i = new Po({
            type: "CubemapFromEquirect",
            uniforms: Eo(r.uniforms),
            vertexShader: r.vertexShader,
            fragmentShader: r.fragmentShader,
            side: T,
            blending: O
        });
        i.uniforms.tEquirect.value = e;
        var o = new mo(new So(5,5,5),i);
        n.add(o);
        var a = new Ro(1,10,1);
        return a.renderTarget = this,
        a.renderTarget.texture.name = "CubeCameraTexture",
        a.update(t, n),
        o.geometry.dispose(),
        o.material.dispose(),
        this
    }
    ,
    Io.prototype = Object.create(Kn.prototype),
    Io.prototype.constructor = Io,
    Io.prototype.isDataTexture = !0;
    var Do = new Zr
      , ko = new or;
    function No(t, e, n, r, i, o) {
        this.planes = [void 0 !== t ? t : new si, void 0 !== e ? e : new si, void 0 !== n ? n : new si, void 0 !== r ? r : new si, void 0 !== i ? i : new si, void 0 !== o ? o : new si]
    }
    Object.assign(No.prototype, {
        set: function(t, e, n, r, i, o) {
            var a = this.planes;
            return a[0].copy(t),
            a[1].copy(e),
            a[2].copy(n),
            a[3].copy(r),
            a[4].copy(i),
            a[5].copy(o),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            for (var e = this.planes, n = 0; n < 6; n++)
                e[n].copy(t.planes[n]);
            return this
        },
        setFromProjectionMatrix: function(t) {
            var e = this.planes
              , n = t.elements
              , r = n[0]
              , i = n[1]
              , o = n[2]
              , a = n[3]
              , s = n[4]
              , u = n[5]
              , c = n[6]
              , l = n[7]
              , h = n[8]
              , f = n[9]
              , p = n[10]
              , d = n[11]
              , m = n[12]
              , v = n[13]
              , g = n[14]
              , y = n[15];
            return e[0].setComponents(a - r, l - s, d - h, y - m).normalize(),
            e[1].setComponents(a + r, l + s, d + h, y + m).normalize(),
            e[2].setComponents(a + i, l + u, d + f, y + v).normalize(),
            e[3].setComponents(a - i, l - u, d - f, y - v).normalize(),
            e[4].setComponents(a - o, l - c, d - p, y - g).normalize(),
            e[5].setComponents(a + o, l + c, d + p, y + g).normalize(),
            this
        },
        intersectsObject: function(t) {
            var e = t.geometry;
            return null === e.boundingSphere && e.computeBoundingSphere(),
            Do.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),
            this.intersectsSphere(Do)
        },
        intersectsSprite: function(t) {
            return Do.center.set(0, 0, 0),
            Do.radius = .7071067811865476,
            Do.applyMatrix4(t.matrixWorld),
            this.intersectsSphere(Do)
        },
        intersectsSphere: function(t) {
            for (var e = this.planes, n = t.center, r = -t.radius, i = 0; i < 6; i++) {
                if (e[i].distanceToPoint(n) < r)
                    return !1
            }
            return !0
        },
        intersectsBox: function(t) {
            for (var e = this.planes, n = 0; n < 6; n++) {
                var r = e[n];
                if (ko.x = r.normal.x > 0 ? t.max.x : t.min.x,
                ko.y = r.normal.y > 0 ? t.max.y : t.min.y,
                ko.z = r.normal.z > 0 ? t.max.z : t.min.z,
                r.distanceToPoint(ko) < 0)
                    return !1
            }
            return !0
        },
        containsPoint: function(t) {
            for (var e = this.planes, n = 0; n < 6; n++)
                if (e[n].distanceToPoint(t) < 0)
                    return !1;
            return !0
        }
    });
    var zo = {
        common: {
            diffuse: {
                value: new wi(15658734)
            },
            opacity: {
                value: 1
            },
            map: {
                value: null
            },
            uvTransform: {
                value: new Zn
            },
            uv2Transform: {
                value: new Zn
            },
            alphaMap: {
                value: null
            }
        },
        specularmap: {
            specularMap: {
                value: null
            }
        },
        envmap: {
            envMap: {
                value: null
            },
            flipEnvMap: {
                value: -1
            },
            reflectivity: {
                value: 1
            },
            refractionRatio: {
                value: .98
            },
            maxMipLevel: {
                value: 0
            }
        },
        aomap: {
            aoMap: {
                value: null
            },
            aoMapIntensity: {
                value: 1
            }
        },
        lightmap: {
            lightMap: {
                value: null
            },
            lightMapIntensity: {
                value: 1
            }
        },
        emissivemap: {
            emissiveMap: {
                value: null
            }
        },
        bumpmap: {
            bumpMap: {
                value: null
            },
            bumpScale: {
                value: 1
            }
        },
        normalmap: {
            normalMap: {
                value: null
            },
            normalScale: {
                value: new Yn(1,1)
            }
        },
        displacementmap: {
            displacementMap: {
                value: null
            },
            displacementScale: {
                value: 1
            },
            displacementBias: {
                value: 0
            }
        },
        roughnessmap: {
            roughnessMap: {
                value: null
            }
        },
        metalnessmap: {
            metalnessMap: {
                value: null
            }
        },
        gradientmap: {
            gradientMap: {
                value: null
            }
        },
        fog: {
            fogDensity: {
                value: 25e-5
            },
            fogNear: {
                value: 1
            },
            fogFar: {
                value: 2e3
            },
            fogColor: {
                value: new wi(16777215)
            }
        },
        lights: {
            ambientLightColor: {
                value: []
            },
            lightProbe: {
                value: []
            },
            directionalLights: {
                value: [],
                properties: {
                    direction: {},
                    color: {}
                }
            },
            directionalLightShadows: {
                value: [],
                properties: {
                    shadowBias: {},
                    shadowRadius: {},
                    shadowMapSize: {}
                }
            },
            directionalShadowMap: {
                value: []
            },
            directionalShadowMatrix: {
                value: []
            },
            spotLights: {
                value: [],
                properties: {
                    color: {},
                    position: {},
                    direction: {},
                    distance: {},
                    coneCos: {},
                    penumbraCos: {},
                    decay: {}
                }
            },
            spotLightShadows: {
                value: [],
                properties: {
                    shadowBias: {},
                    shadowRadius: {},
                    shadowMapSize: {}
                }
            },
            spotShadowMap: {
                value: []
            },
            spotShadowMatrix: {
                value: []
            },
            pointLights: {
                value: [],
                properties: {
                    color: {},
                    position: {},
                    decay: {},
                    distance: {}
                }
            },
            pointLightShadows: {
                value: [],
                properties: {
                    shadowBias: {},
                    shadowRadius: {},
                    shadowMapSize: {},
                    shadowCameraNear: {},
                    shadowCameraFar: {}
                }
            },
            pointShadowMap: {
                value: []
            },
            pointShadowMatrix: {
                value: []
            },
            hemisphereLights: {
                value: [],
                properties: {
                    direction: {},
                    skyColor: {},
                    groundColor: {}
                }
            },
            rectAreaLights: {
                value: [],
                properties: {
                    color: {},
                    position: {},
                    width: {},
                    height: {}
                }
            }
        },
        points: {
            diffuse: {
                value: new wi(15658734)
            },
            opacity: {
                value: 1
            },
            size: {
                value: 1
            },
            scale: {
                value: 1
            },
            map: {
                value: null
            },
            alphaMap: {
                value: null
            },
            uvTransform: {
                value: new Zn
            }
        },
        sprite: {
            diffuse: {
                value: new wi(15658734)
            },
            opacity: {
                value: 1
            },
            center: {
                value: new Yn(.5,.5)
            },
            rotation: {
                value: 0
            },
            map: {
                value: null
            },
            alphaMap: {
                value: null
            },
            uvTransform: {
                value: new Zn
            }
        }
    };
    function jo() {
        var t = null
          , e = !1
          , n = null;
        function r(i, o) {
            !1 !== e && (n(i, o),
            t.requestAnimationFrame(r))
        }
        return {
            start: function() {
                !0 !== e && null !== n && (t.requestAnimationFrame(r),
                e = !0)
            },
            stop: function() {
                e = !1
            },
            setAnimationLoop: function(t) {
                n = t
            },
            setContext: function(e) {
                t = e
            }
        }
    }
    function Fo(t, e) {
        var n = e.isWebGL2
          , r = new WeakMap;
        return {
            get: function(t) {
                return t.isInterleavedBufferAttribute && (t = t.data),
                r.get(t)
            },
            remove: function(e) {
                e.isInterleavedBufferAttribute && (e = e.data);
                var n = r.get(e);
                n && (t.deleteBuffer(n.buffer),
                r.delete(e))
            },
            update: function(e, i) {
                e.isInterleavedBufferAttribute && (e = e.data);
                var o = r.get(e);
                void 0 === o ? r.set(e, function(e, n) {
                    var r = e.array
                      , i = e.usage
                      , o = t.createBuffer();
                    t.bindBuffer(n, o),
                    t.bufferData(n, r, i),
                    e.onUploadCallback();
                    var a = 5126;
                    return r instanceof Float32Array ? a = 5126 : r instanceof Float64Array ? console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.") : r instanceof Uint16Array ? a = 5123 : r instanceof Int16Array ? a = 5122 : r instanceof Uint32Array ? a = 5125 : r instanceof Int32Array ? a = 5124 : r instanceof Int8Array ? a = 5120 : r instanceof Uint8Array && (a = 5121),
                    {
                        buffer: o,
                        type: a,
                        bytesPerElement: r.BYTES_PER_ELEMENT,
                        version: e.version
                    }
                }(e, i)) : o.version < e.version && (!function(e, r, i) {
                    var o = r.array
                      , a = r.updateRange;
                    t.bindBuffer(i, e),
                    -1 === a.count ? t.bufferSubData(i, 0, o) : (n ? t.bufferSubData(i, a.offset * o.BYTES_PER_ELEMENT, o, a.offset, a.count) : t.bufferSubData(i, a.offset * o.BYTES_PER_ELEMENT, o.subarray(a.offset, a.offset + a.count)),
                    a.count = -1)
                }(o.buffer, e, i),
                o.version = e.version)
            }
        }
    }
    function Bo(t, e, n, r) {
        wo.call(this),
        this.type = "PlaneGeometry",
        this.parameters = {
            width: t,
            height: e,
            widthSegments: n,
            heightSegments: r
        },
        this.fromBufferGeometry(new Uo(t,e,n,r)),
        this.mergeVertices()
    }
    function Uo(t, e, n, r) {
        Ji.call(this),
        this.type = "PlaneBufferGeometry",
        this.parameters = {
            width: t,
            height: e,
            widthSegments: n,
            heightSegments: r
        };
        var i, o, a = (t = t || 1) / 2, s = (e = e || 1) / 2, u = Math.floor(n) || 1, c = Math.floor(r) || 1, l = u + 1, h = c + 1, f = t / u, p = e / c, d = [], m = [], v = [], g = [];
        for (o = 0; o < h; o++) {
            var y = o * p - s;
            for (i = 0; i < l; i++) {
                var b = i * f - a;
                m.push(b, -y, 0),
                v.push(0, 0, 1),
                g.push(i / u),
                g.push(1 - o / c)
            }
        }
        for (o = 0; o < c; o++)
            for (i = 0; i < u; i++) {
                var x = i + l * o
                  , _ = i + l * (o + 1)
                  , w = i + 1 + l * (o + 1)
                  , M = i + 1 + l * o;
                d.push(x, _, M),
                d.push(_, w, M)
            }
        this.setIndex(d),
        this.setAttribute("position", new Fi(m,3)),
        this.setAttribute("normal", new Fi(v,3)),
        this.setAttribute("uv", new Fi(g,2))
    }
    Bo.prototype = Object.create(wo.prototype),
    Bo.prototype.constructor = Bo,
    Uo.prototype = Object.create(Ji.prototype),
    Uo.prototype.constructor = Uo;
    var Go = {
        alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",
        alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
        alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",
        aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
        aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
        begin_vertex: "vec3 transformed = vec3( position );",
        beginnormal_vertex: "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",
        bsdfs: "vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",
        bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
        clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
        clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",
        clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\n\tvarying vec3 vViewPosition;\n#endif",
        clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\n\tvViewPosition = - mvPosition.xyz;\n#endif",
        color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
        color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
        color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
        color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
        common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",
        cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",
        defaultnormal_vertex: "vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
        displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",
        displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",
        emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",
        emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",
        encodings_fragment: "gl_FragColor = linearToOutputTexel( gl_FragColor );",
        encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
        envmap_fragment: "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
        envmap_common_pars_fragment: "#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",
        envmap_pars_fragment: "#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
        envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",
        envmap_physical_pars_fragment: "#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
        envmap_vertex: "#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
        fog_vertex: "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",
        fog_pars_vertex: "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",
        fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",
        fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
        gradientmap_pars_fragment: "#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",
        lightmap_fragment: "#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",
        lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
        lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",
        lights_pars_begin: "uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
        lights_toon_fragment: "ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
        lights_toon_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",
        lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
        lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
        lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",
        lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
        lights_fragment_begin: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",
        lights_fragment_maps: "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",
        lights_fragment_end: "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",
        logdepthbuf_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
        logdepthbuf_pars_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",
        logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",
        logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",
        map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
        map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
        map_particle_fragment: "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",
        map_particle_pars_fragment: "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
        metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",
        metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
        morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",
        morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
        morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
        normal_fragment_begin: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",
        normal_fragment_maps: "#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
        normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
        clearcoat_normal_fragment_begin: "#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",
        clearcoat_normal_fragment_maps: "#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",
        clearcoat_normalmap_pars_fragment: "#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",
        packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
        premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",
        project_vertex: "vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",
        dithering_fragment: "#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",
        dithering_pars_fragment: "#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
        roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",
        roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
        shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
        shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
        shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",
        shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",
        skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
        skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
        skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",
        skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
        specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
        specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
        tonemapping_fragment: "#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",
        tonemapping_pars_fragment: "#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",
        uv_pars_fragment: "#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",
        uv_pars_vertex: "#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",
        uv_vertex: "#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
        uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
        uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",
        uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",
        worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",
        background_frag: "uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
        background_vert: "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",
        cube_frag: "#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
        cube_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",
        depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
        depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",
        distanceRGBA_frag: "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
        distanceRGBA_vert: "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
        equirect_frag: "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
        equirect_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
        linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
        linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
        meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
        meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
        meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
        meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
        meshmatcap_frag: "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
        meshmatcap_vert: "#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
        meshtoon_frag: "#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
        meshtoon_vert: "#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
        meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
        meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
        meshphysical_frag: "#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
        meshphysical_vert: "#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
        normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
        normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
        points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
        points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
        shadow_frag: "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
        shadow_vert: "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
        sprite_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
        sprite_vert: "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"
    }
      , Ho = {
        basic: {
            uniforms: To([zo.common, zo.specularmap, zo.envmap, zo.aomap, zo.lightmap, zo.fog]),
            vertexShader: Go.meshbasic_vert,
            fragmentShader: Go.meshbasic_frag
        },
        lambert: {
            uniforms: To([zo.common, zo.specularmap, zo.envmap, zo.aomap, zo.lightmap, zo.emissivemap, zo.fog, zo.lights, {
                emissive: {
                    value: new wi(0)
                }
            }]),
            vertexShader: Go.meshlambert_vert,
            fragmentShader: Go.meshlambert_frag
        },
        phong: {
            uniforms: To([zo.common, zo.specularmap, zo.envmap, zo.aomap, zo.lightmap, zo.emissivemap, zo.bumpmap, zo.normalmap, zo.displacementmap, zo.fog, zo.lights, {
                emissive: {
                    value: new wi(0)
                },
                specular: {
                    value: new wi(1118481)
                },
                shininess: {
                    value: 30
                }
            }]),
            vertexShader: Go.meshphong_vert,
            fragmentShader: Go.meshphong_frag
        },
        standard: {
            uniforms: To([zo.common, zo.envmap, zo.aomap, zo.lightmap, zo.emissivemap, zo.bumpmap, zo.normalmap, zo.displacementmap, zo.roughnessmap, zo.metalnessmap, zo.fog, zo.lights, {
                emissive: {
                    value: new wi(0)
                },
                roughness: {
                    value: .5
                },
                metalness: {
                    value: .5
                },
                envMapIntensity: {
                    value: 1
                }
            }]),
            vertexShader: Go.meshphysical_vert,
            fragmentShader: Go.meshphysical_frag
        },
        toon: {
            uniforms: To([zo.common, zo.specularmap, zo.aomap, zo.lightmap, zo.emissivemap, zo.bumpmap, zo.normalmap, zo.displacementmap, zo.gradientmap, zo.fog, zo.lights, {
                emissive: {
                    value: new wi(0)
                },
                specular: {
                    value: new wi(1118481)
                },
                shininess: {
                    value: 30
                }
            }]),
            vertexShader: Go.meshtoon_vert,
            fragmentShader: Go.meshtoon_frag
        },
        matcap: {
            uniforms: To([zo.common, zo.bumpmap, zo.normalmap, zo.displacementmap, zo.fog, {
                matcap: {
                    value: null
                }
            }]),
            vertexShader: Go.meshmatcap_vert,
            fragmentShader: Go.meshmatcap_frag
        },
        points: {
            uniforms: To([zo.points, zo.fog]),
            vertexShader: Go.points_vert,
            fragmentShader: Go.points_frag
        },
        dashed: {
            uniforms: To([zo.common, zo.fog, {
                scale: {
                    value: 1
                },
                dashSize: {
                    value: 1
                },
                totalSize: {
                    value: 2
                }
            }]),
            vertexShader: Go.linedashed_vert,
            fragmentShader: Go.linedashed_frag
        },
        depth: {
            uniforms: To([zo.common, zo.displacementmap]),
            vertexShader: Go.depth_vert,
            fragmentShader: Go.depth_frag
        },
        normal: {
            uniforms: To([zo.common, zo.bumpmap, zo.normalmap, zo.displacementmap, {
                opacity: {
                    value: 1
                }
            }]),
            vertexShader: Go.normal_vert,
            fragmentShader: Go.normal_frag
        },
        sprite: {
            uniforms: To([zo.sprite, zo.fog]),
            vertexShader: Go.sprite_vert,
            fragmentShader: Go.sprite_frag
        },
        background: {
            uniforms: {
                uvTransform: {
                    value: new Zn
                },
                t2D: {
                    value: null
                }
            },
            vertexShader: Go.background_vert,
            fragmentShader: Go.background_frag
        },
        cube: {
            uniforms: To([zo.envmap, {
                opacity: {
                    value: 1
                }
            }]),
            vertexShader: Go.cube_vert,
            fragmentShader: Go.cube_frag
        },
        equirect: {
            uniforms: {
                tEquirect: {
                    value: null
                }
            },
            vertexShader: Go.equirect_vert,
            fragmentShader: Go.equirect_frag
        },
        distanceRGBA: {
            uniforms: To([zo.common, zo.displacementmap, {
                referencePosition: {
                    value: new or
                },
                nearDistance: {
                    value: 1
                },
                farDistance: {
                    value: 1e3
                }
            }]),
            vertexShader: Go.distanceRGBA_vert,
            fragmentShader: Go.distanceRGBA_frag
        },
        shadow: {
            uniforms: To([zo.lights, zo.fog, {
                color: {
                    value: new wi(0)
                },
                opacity: {
                    value: 1
                }
            }]),
            vertexShader: Go.shadow_vert,
            fragmentShader: Go.shadow_frag
        }
    };
    function Vo(t, e, n, r) {
        var i, o, a = new wi(0), s = 0, u = null, c = 0, l = null;
        function h(t, n) {
            e.buffers.color.setClear(t.r, t.g, t.b, n, r)
        }
        return {
            getClearColor: function() {
                return a
            },
            setClearColor: function(t, e) {
                a.set(t),
                h(a, s = void 0 !== e ? e : 1)
            },
            getClearAlpha: function() {
                return s
            },
            setClearAlpha: function(t) {
                h(a, s = t)
            },
            render: function(e, r, f, p) {
                var d = r.background
                  , m = t.xr
                  , v = m.getSession && m.getSession();
                if (v && "additive" === v.environmentBlendMode && (d = null),
                null === d ? h(a, s) : d && d.isColor && (h(d, 1),
                p = !0),
                (t.autoClear || p) && t.clear(t.autoClearColor, t.autoClearDepth, t.autoClearStencil),
                d && (d.isCubeTexture || d.isWebGLCubeRenderTarget || d.mapping === _t)) {
                    void 0 === o && ((o = new mo(new So(1,1,1),new Po({
                        type: "BackgroundCubeMaterial",
                        uniforms: Eo(Ho.cube.uniforms),
                        vertexShader: Ho.cube.vertexShader,
                        fragmentShader: Ho.cube.fragmentShader,
                        side: T,
                        depthTest: !1,
                        depthWrite: !1,
                        fog: !1
                    }))).geometry.deleteAttribute("normal"),
                    o.geometry.deleteAttribute("uv"),
                    o.onBeforeRender = function(t, e, n) {
                        this.matrixWorld.copyPosition(n.matrixWorld)
                    }
                    ,
                    Object.defineProperty(o.material, "envMap", {
                        get: function() {
                            return this.uniforms.envMap.value
                        }
                    }),
                    n.update(o));
                    var g = d.isWebGLCubeRenderTarget ? d.texture : d;
                    o.material.uniforms.envMap.value = g,
                    o.material.uniforms.flipEnvMap.value = g.isCubeTexture ? -1 : 1,
                    u === d && c === g.version && l === t.toneMapping || (o.material.needsUpdate = !0,
                    u = d,
                    c = g.version,
                    l = t.toneMapping),
                    e.unshift(o, o.geometry, o.material, 0, 0, null)
                } else
                    d && d.isTexture && (void 0 === i && ((i = new mo(new Uo(2,2),new Po({
                        type: "BackgroundMaterial",
                        uniforms: Eo(Ho.background.uniforms),
                        vertexShader: Ho.background.vertexShader,
                        fragmentShader: Ho.background.fragmentShader,
                        side: E,
                        depthTest: !1,
                        depthWrite: !1,
                        fog: !1
                    }))).geometry.deleteAttribute("normal"),
                    Object.defineProperty(i.material, "map", {
                        get: function() {
                            return this.uniforms.t2D.value
                        }
                    }),
                    n.update(i)),
                    i.material.uniforms.t2D.value = d,
                    !0 === d.matrixAutoUpdate && d.updateMatrix(),
                    i.material.uniforms.uvTransform.value.copy(d.matrix),
                    u === d && c === d.version && l === t.toneMapping || (i.material.needsUpdate = !0,
                    u = d,
                    c = d.version,
                    l = t.toneMapping),
                    e.unshift(i, i.geometry, i.material, 0, 0, null))
            }
        }
    }
    function Wo(t, e, n, r) {
        var i, o = r.isWebGL2;
        this.setMode = function(t) {
            i = t
        }
        ,
        this.render = function(e, r) {
            t.drawArrays(i, e, r),
            n.update(r, i)
        }
        ,
        this.renderInstances = function(r, a, s, u) {
            if (0 !== u) {
                var c, l;
                if (o)
                    c = t,
                    l = "drawArraysInstanced";
                else if (l = "drawArraysInstancedANGLE",
                null === (c = e.get("ANGLE_instanced_arrays")))
                    return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                c[l](i, a, s, u),
                n.update(s, i, u)
            }
        }
    }
    function qo(t, e, n) {
        var r;
        function i(e) {
            if ("highp" === e) {
                if (t.getShaderPrecisionFormat(35633, 36338).precision > 0 && t.getShaderPrecisionFormat(35632, 36338).precision > 0)
                    return "highp";
                e = "mediump"
            }
            return "mediump" === e && t.getShaderPrecisionFormat(35633, 36337).precision > 0 && t.getShaderPrecisionFormat(35632, 36337).precision > 0 ? "mediump" : "lowp"
        }
        var o = "undefined" != typeof WebGL2RenderingContext && t instanceof WebGL2RenderingContext || "undefined" != typeof WebGL2ComputeRenderingContext && t instanceof WebGL2ComputeRenderingContext
          , a = void 0 !== n.precision ? n.precision : "highp"
          , s = i(a);
        s !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", s, "instead."),
        a = s);
        var u = !0 === n.logarithmicDepthBuffer
          , c = t.getParameter(34930)
          , l = t.getParameter(35660)
          , h = t.getParameter(3379)
          , f = t.getParameter(34076)
          , p = t.getParameter(34921)
          , d = t.getParameter(36347)
          , m = t.getParameter(36348)
          , v = t.getParameter(36349)
          , g = l > 0
          , y = o || !!e.get("OES_texture_float");
        return {
            isWebGL2: o,
            getMaxAnisotropy: function() {
                if (void 0 !== r)
                    return r;
                var n = e.get("EXT_texture_filter_anisotropic");
                return r = null !== n ? t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
            },
            getMaxPrecision: i,
            precision: a,
            logarithmicDepthBuffer: u,
            maxTextures: c,
            maxVertexTextures: l,
            maxTextureSize: h,
            maxCubemapSize: f,
            maxAttributes: p,
            maxVertexUniforms: d,
            maxVaryings: m,
            maxFragmentUniforms: v,
            vertexTextures: g,
            floatFragmentTextures: y,
            floatVertexTextures: g && y,
            maxSamples: o ? t.getParameter(36183) : 0
        }
    }
    function Xo() {
        var t = this
          , e = null
          , n = 0
          , r = !1
          , i = !1
          , o = new si
          , a = new Zn
          , s = {
            value: null,
            needsUpdate: !1
        };
        function u() {
            s.value !== e && (s.value = e,
            s.needsUpdate = n > 0),
            t.numPlanes = n,
            t.numIntersection = 0
        }
        function c(e, n, r, i) {
            var u = null !== e ? e.length : 0
              , c = null;
            if (0 !== u) {
                if (c = s.value,
                !0 !== i || null === c) {
                    var l = r + 4 * u
                      , h = n.matrixWorldInverse;
                    a.getNormalMatrix(h),
                    (null === c || c.length < l) && (c = new Float32Array(l));
                    for (var f = 0, p = r; f !== u; ++f,
                    p += 4)
                        o.copy(e[f]).applyMatrix4(h, a),
                        o.normal.toArray(c, p),
                        c[p + 3] = o.constant
                }
                s.value = c,
                s.needsUpdate = !0
            }
            return t.numPlanes = u,
            t.numIntersection = 0,
            c
        }
        this.uniform = s,
        this.numPlanes = 0,
        this.numIntersection = 0,
        this.init = function(t, i, o) {
            var a = 0 !== t.length || i || 0 !== n || r;
            return r = i,
            e = c(t, o, 0),
            n = t.length,
            a
        }
        ,
        this.beginShadows = function() {
            i = !0,
            c(null)
        }
        ,
        this.endShadows = function() {
            i = !1,
            u()
        }
        ,
        this.setState = function(t, o, a, l, h, f) {
            if (!r || null === t || 0 === t.length || i && !a)
                i ? c(null) : u();
            else {
                var p = i ? 0 : n
                  , d = 4 * p
                  , m = h.clippingState || null;
                s.value = m,
                m = c(t, l, d, f);
                for (var v = 0; v !== d; ++v)
                    m[v] = e[v];
                h.clippingState = m,
                this.numIntersection = o ? this.numPlanes : 0,
                this.numPlanes += p
            }
        }
    }
    function Yo(t) {
        var e = {};
        return {
            get: function(n) {
                if (void 0 !== e[n])
                    return e[n];
                var r;
                switch (n) {
                case "WEBGL_depth_texture":
                    r = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                    break;
                case "EXT_texture_filter_anisotropic":
                    r = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                    break;
                case "WEBGL_compressed_texture_s3tc":
                    r = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                    break;
                case "WEBGL_compressed_texture_pvrtc":
                    r = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                    break;
                default:
                    r = t.getExtension(n)
                }
                return null === r && console.warn("THREE.WebGLRenderer: " + n + " extension not supported."),
                e[n] = r,
                r
            }
        }
    }
    function Zo(t, e, n) {
        var r = new WeakMap
          , i = new WeakMap;
        function o(t) {
            var a = t.target
              , s = r.get(a);
            for (var u in null !== s.index && e.remove(s.index),
            s.attributes)
                e.remove(s.attributes[u]);
            a.removeEventListener("dispose", o),
            r.delete(a);
            var c = i.get(s);
            c && (e.remove(c),
            i.delete(s)),
            n.memory.geometries--
        }
        function a(t) {
            var n = []
              , r = t.index
              , o = t.attributes.position
              , a = 0;
            if (null !== r) {
                var s = r.array;
                a = r.version;
                for (var u = 0, c = s.length; u < c; u += 3) {
                    var l = s[u + 0]
                      , h = s[u + 1]
                      , f = s[u + 2];
                    n.push(l, h, h, f, f, l)
                }
            } else {
                s = o.array;
                a = o.version;
                for (u = 0,
                c = s.length / 3 - 1; u < c; u += 3) {
                    l = u + 0,
                    h = u + 1,
                    f = u + 2;
                    n.push(l, h, h, f, f, l)
                }
            }
            var p = new (Gi(n) > 65535 ? ji : Ni)(n,1);
            p.version = a,
            e.update(p, 34963);
            var d = i.get(t);
            d && e.remove(d),
            i.set(t, p)
        }
        return {
            get: function(t, e) {
                var i = r.get(e);
                return i || (e.addEventListener("dispose", o),
                e.isBufferGeometry ? i = e : e.isGeometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new Ji).setFromObject(t)),
                i = e._bufferGeometry),
                r.set(e, i),
                n.memory.geometries++,
                i)
            },
            update: function(t) {
                var n = t.index
                  , r = t.attributes;
                for (var i in null !== n && e.update(n, 34963),
                r)
                    e.update(r[i], 34962);
                var o = t.morphAttributes;
                for (var i in o)
                    for (var a = o[i], s = 0, u = a.length; s < u; s++)
                        e.update(a[s], 34962)
            },
            getWireframeAttribute: function(t) {
                var e = i.get(t);
                if (e) {
                    var n = t.index;
                    null !== n && e.version < n.version && a(t)
                } else
                    a(t);
                return i.get(t)
            }
        }
    }
    function Jo(t, e, n, r) {
        var i, o, a, s = r.isWebGL2;
        this.setMode = function(t) {
            i = t
        }
        ,
        this.setIndex = function(t) {
            o = t.type,
            a = t.bytesPerElement
        }
        ,
        this.render = function(e, r) {
            t.drawElements(i, r, o, e * a),
            n.update(r, i)
        }
        ,
        this.renderInstances = function(r, u, c, l) {
            if (0 !== l) {
                var h, f;
                if (s)
                    h = t,
                    f = "drawElementsInstanced";
                else if (f = "drawElementsInstancedANGLE",
                null === (h = e.get("ANGLE_instanced_arrays")))
                    return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                h[f](i, c, o, u * a, l),
                n.update(c, i, l)
            }
        }
    }
    function Qo(t) {
        var e = {
            frame: 0,
            calls: 0,
            triangles: 0,
            points: 0,
            lines: 0
        };
        return {
            memory: {
                geometries: 0,
                textures: 0
            },
            render: e,
            programs: null,
            autoReset: !0,
            reset: function() {
                e.frame++,
                e.calls = 0,
                e.triangles = 0,
                e.points = 0,
                e.lines = 0
            },
            update: function(t, n, r) {
                switch (r = r || 1,
                e.calls++,
                n) {
                case 4:
                    e.triangles += r * (t / 3);
                    break;
                case 1:
                    e.lines += r * (t / 2);
                    break;
                case 3:
                    e.lines += r * (t - 1);
                    break;
                case 2:
                    e.lines += r * t;
                    break;
                case 0:
                    e.points += r * t;
                    break;
                default:
                    console.error("THREE.WebGLInfo: Unknown draw mode:", n)
                }
            }
        }
    }
    function Ko(t, e) {
        return Math.abs(e[1]) - Math.abs(t[1])
    }
    function $o(t) {
        var e = {}
          , n = new Float32Array(8);
        return {
            update: function(r, i, o, a) {
                var s = r.morphTargetInfluences
                  , u = void 0 === s ? 0 : s.length
                  , c = e[i.id];
                if (void 0 === c) {
                    c = [];
                    for (var l = 0; l < u; l++)
                        c[l] = [l, 0];
                    e[i.id] = c
                }
                var h = o.morphTargets && i.morphAttributes.position
                  , f = o.morphNormals && i.morphAttributes.normal;
                for (l = 0; l < u; l++) {
                    0 !== (d = c[l])[1] && (h && i.deleteAttribute("morphTarget" + l),
                    f && i.deleteAttribute("morphNormal" + l))
                }
                for (l = 0; l < u; l++) {
                    (d = c[l])[0] = l,
                    d[1] = s[l]
                }
                c.sort(Ko);
                var p = 0;
                for (l = 0; l < 8; l++) {
                    var d;
                    if (d = c[l]) {
                        var m = d[0]
                          , v = d[1];
                        if (v) {
                            h && i.setAttribute("morphTarget" + l, h[m]),
                            f && i.setAttribute("morphNormal" + l, f[m]),
                            n[l] = v,
                            p += v;
                            continue
                        }
                    }
                    n[l] = 0
                }
                var g = i.morphTargetsRelative ? 1 : 1 - p;
                a.getUniforms().setValue(t, "morphTargetBaseInfluence", g),
                a.getUniforms().setValue(t, "morphTargetInfluences", n)
            }
        }
    }
    function ta(t, e, n, r) {
        var i = new WeakMap;
        return {
            update: function(t) {
                var o = r.render.frame
                  , a = t.geometry
                  , s = e.get(t, a);
                return i.get(s) !== o && (a.isGeometry && s.updateFromObject(t),
                e.update(s),
                i.set(s, o)),
                t.isInstancedMesh && n.update(t.instanceMatrix, 34962),
                s
            },
            dispose: function() {
                i = new WeakMap
            }
        }
    }
    function ea(t, e, n, r, i, o, a, s, u, c) {
        t = void 0 !== t ? t : [],
        e = void 0 !== e ? e : vt,
        a = void 0 !== a ? a : Zt,
        Kn.call(this, t, e, n, r, i, o, a, s, u, c),
        this.flipY = !1
    }
    function na(t, e, n, r) {
        Kn.call(this, null),
        this.image = {
            data: t || null,
            width: e || 1,
            height: n || 1,
            depth: r || 1
        },
        this.magFilter = Tt,
        this.minFilter = Tt,
        this.wrapR = St,
        this.generateMipmaps = !1,
        this.flipY = !1,
        this.needsUpdate = !0
    }
    function ra(t, e, n, r) {
        Kn.call(this, null),
        this.image = {
            data: t || null,
            width: e || 1,
            height: n || 1,
            depth: r || 1
        },
        this.magFilter = Tt,
        this.minFilter = Tt,
        this.wrapR = St,
        this.generateMipmaps = !1,
        this.flipY = !1,
        this.needsUpdate = !0
    }
    Ho.physical = {
        uniforms: To([Ho.standard.uniforms, {
            transparency: {
                value: 0
            },
            clearcoat: {
                value: 0
            },
            clearcoatRoughness: {
                value: 0
            },
            sheen: {
                value: new wi(0)
            },
            clearcoatNormalScale: {
                value: new Yn(1,1)
            },
            clearcoatNormalMap: {
                value: null
            }
        }]),
        vertexShader: Go.meshphysical_vert,
        fragmentShader: Go.meshphysical_frag
    },
    ea.prototype = Object.create(Kn.prototype),
    ea.prototype.constructor = ea,
    ea.prototype.isCubeTexture = !0,
    Object.defineProperty(ea.prototype, "images", {
        get: function() {
            return this.image
        },
        set: function(t) {
            this.image = t
        }
    }),
    na.prototype = Object.create(Kn.prototype),
    na.prototype.constructor = na,
    na.prototype.isDataTexture2DArray = !0,
    ra.prototype = Object.create(Kn.prototype),
    ra.prototype.constructor = ra,
    ra.prototype.isDataTexture3D = !0;
    var ia = new Kn
      , oa = new na
      , aa = new ra
      , sa = new ea
      , ua = []
      , ca = []
      , la = new Float32Array(16)
      , ha = new Float32Array(9)
      , fa = new Float32Array(4);
    function pa(t, e, n) {
        var r = t[0];
        if (r <= 0 || r > 0)
            return t;
        var i = e * n
          , o = ua[i];
        if (void 0 === o && (o = new Float32Array(i),
        ua[i] = o),
        0 !== e) {
            r.toArray(o, 0);
            for (var a = 1, s = 0; a !== e; ++a)
                s += n,
                t[a].toArray(o, s)
        }
        return o
    }
    function da(t, e) {
        if (t.length !== e.length)
            return !1;
        for (var n = 0, r = t.length; n < r; n++)
            if (t[n] !== e[n])
                return !1;
        return !0
    }
    function ma(t, e) {
        for (var n = 0, r = e.length; n < r; n++)
            t[n] = e[n]
    }
    function va(t, e) {
        var n = ca[e];
        void 0 === n && (n = new Int32Array(e),
        ca[e] = n);
        for (var r = 0; r !== e; ++r)
            n[r] = t.allocateTextureUnit();
        return n
    }
    function ga(t, e) {
        var n = this.cache;
        n[0] !== e && (t.uniform1f(this.addr, e),
        n[0] = e)
    }
    function ya(t, e) {
        var n = this.cache;
        if (void 0 !== e.x)
            n[0] === e.x && n[1] === e.y || (t.uniform2f(this.addr, e.x, e.y),
            n[0] = e.x,
            n[1] = e.y);
        else {
            if (da(n, e))
                return;
            t.uniform2fv(this.addr, e),
            ma(n, e)
        }
    }
    function ba(t, e) {
        var n = this.cache;
        if (void 0 !== e.x)
            n[0] === e.x && n[1] === e.y && n[2] === e.z || (t.uniform3f(this.addr, e.x, e.y, e.z),
            n[0] = e.x,
            n[1] = e.y,
            n[2] = e.z);
        else if (void 0 !== e.r)
            n[0] === e.r && n[1] === e.g && n[2] === e.b || (t.uniform3f(this.addr, e.r, e.g, e.b),
            n[0] = e.r,
            n[1] = e.g,
            n[2] = e.b);
        else {
            if (da(n, e))
                return;
            t.uniform3fv(this.addr, e),
            ma(n, e)
        }
    }
    function xa(t, e) {
        var n = this.cache;
        if (void 0 !== e.x)
            n[0] === e.x && n[1] === e.y && n[2] === e.z && n[3] === e.w || (t.uniform4f(this.addr, e.x, e.y, e.z, e.w),
            n[0] = e.x,
            n[1] = e.y,
            n[2] = e.z,
            n[3] = e.w);
        else {
            if (da(n, e))
                return;
            t.uniform4fv(this.addr, e),
            ma(n, e)
        }
    }
    function _a(t, e) {
        var n = this.cache
          , r = e.elements;
        if (void 0 === r) {
            if (da(n, e))
                return;
            t.uniformMatrix2fv(this.addr, !1, e),
            ma(n, e)
        } else {
            if (da(n, r))
                return;
            fa.set(r),
            t.uniformMatrix2fv(this.addr, !1, fa),
            ma(n, r)
        }
    }
    function wa(t, e) {
        var n = this.cache
          , r = e.elements;
        if (void 0 === r) {
            if (da(n, e))
                return;
            t.uniformMatrix3fv(this.addr, !1, e),
            ma(n, e)
        } else {
            if (da(n, r))
                return;
            ha.set(r),
            t.uniformMatrix3fv(this.addr, !1, ha),
            ma(n, r)
        }
    }
    function Ma(t, e) {
        var n = this.cache
          , r = e.elements;
        if (void 0 === r) {
            if (da(n, e))
                return;
            t.uniformMatrix4fv(this.addr, !1, e),
            ma(n, e)
        } else {
            if (da(n, r))
                return;
            la.set(r),
            t.uniformMatrix4fv(this.addr, !1, la),
            ma(n, r)
        }
    }
    function Sa(t, e, n) {
        var r = this.cache
          , i = n.allocateTextureUnit();
        r[0] !== i && (t.uniform1i(this.addr, i),
        r[0] = i),
        n.safeSetTexture2D(e || ia, i)
    }
    function Ea(t, e, n) {
        var r = this.cache
          , i = n.allocateTextureUnit();
        r[0] !== i && (t.uniform1i(this.addr, i),
        r[0] = i),
        n.setTexture2DArray(e || oa, i)
    }
    function Ta(t, e, n) {
        var r = this.cache
          , i = n.allocateTextureUnit();
        r[0] !== i && (t.uniform1i(this.addr, i),
        r[0] = i),
        n.setTexture3D(e || aa, i)
    }
    function Aa(t, e, n) {
        var r = this.cache
          , i = n.allocateTextureUnit();
        r[0] !== i && (t.uniform1i(this.addr, i),
        r[0] = i),
        n.safeSetTextureCube(e || sa, i)
    }
    function Pa(t, e) {
        var n = this.cache;
        n[0] !== e && (t.uniform1i(this.addr, e),
        n[0] = e)
    }
    function La(t, e) {
        var n = this.cache;
        da(n, e) || (t.uniform2iv(this.addr, e),
        ma(n, e))
    }
    function Oa(t, e) {
        var n = this.cache;
        da(n, e) || (t.uniform3iv(this.addr, e),
        ma(n, e))
    }
    function Ra(t, e) {
        var n = this.cache;
        da(n, e) || (t.uniform4iv(this.addr, e),
        ma(n, e))
    }
    function Ca(t, e) {
        var n = this.cache;
        n[0] !== e && (t.uniform1ui(this.addr, e),
        n[0] = e)
    }
    function Ia(t, e) {
        t.uniform1fv(this.addr, e)
    }
    function Da(t, e) {
        t.uniform1iv(this.addr, e)
    }
    function ka(t, e) {
        t.uniform2iv(this.addr, e)
    }
    function Na(t, e) {
        t.uniform3iv(this.addr, e)
    }
    function za(t, e) {
        t.uniform4iv(this.addr, e)
    }
    function ja(t, e) {
        var n = pa(e, this.size, 2);
        t.uniform2fv(this.addr, n)
    }
    function Fa(t, e) {
        var n = pa(e, this.size, 3);
        t.uniform3fv(this.addr, n)
    }
    function Ba(t, e) {
        var n = pa(e, this.size, 4);
        t.uniform4fv(this.addr, n)
    }
    function Ua(t, e) {
        var n = pa(e, this.size, 4);
        t.uniformMatrix2fv(this.addr, !1, n)
    }
    function Ga(t, e) {
        var n = pa(e, this.size, 9);
        t.uniformMatrix3fv(this.addr, !1, n)
    }
    function Ha(t, e) {
        var n = pa(e, this.size, 16);
        t.uniformMatrix4fv(this.addr, !1, n)
    }
    function Va(t, e, n) {
        var r = e.length
          , i = va(n, r);
        t.uniform1iv(this.addr, i);
        for (var o = 0; o !== r; ++o)
            n.safeSetTexture2D(e[o] || ia, i[o])
    }
    function Wa(t, e, n) {
        var r = e.length
          , i = va(n, r);
        t.uniform1iv(this.addr, i);
        for (var o = 0; o !== r; ++o)
            n.safeSetTextureCube(e[o] || sa, i[o])
    }
    function qa(t, e, n) {
        this.id = t,
        this.addr = n,
        this.cache = [],
        this.setValue = function(t) {
            switch (t) {
            case 5126:
                return ga;
            case 35664:
                return ya;
            case 35665:
                return ba;
            case 35666:
                return xa;
            case 35674:
                return _a;
            case 35675:
                return wa;
            case 35676:
                return Ma;
            case 5124:
            case 35670:
                return Pa;
            case 35667:
            case 35671:
                return La;
            case 35668:
            case 35672:
                return Oa;
            case 35669:
            case 35673:
                return Ra;
            case 5125:
                return Ca;
            case 35678:
            case 36198:
            case 36298:
            case 36306:
            case 35682:
                return Sa;
            case 35679:
            case 36299:
            case 36307:
                return Ta;
            case 35680:
            case 36300:
            case 36308:
            case 36293:
                return Aa;
            case 36289:
            case 36303:
            case 36311:
            case 36292:
                return Ea
            }
        }(e.type)
    }
    function Xa(t, e, n) {
        this.id = t,
        this.addr = n,
        this.cache = [],
        this.size = e.size,
        this.setValue = function(t) {
            switch (t) {
            case 5126:
                return Ia;
            case 35664:
                return ja;
            case 35665:
                return Fa;
            case 35666:
                return Ba;
            case 35674:
                return Ua;
            case 35675:
                return Ga;
            case 35676:
                return Ha;
            case 5124:
            case 35670:
                return Da;
            case 35667:
            case 35671:
                return ka;
            case 35668:
            case 35672:
                return Na;
            case 35669:
            case 35673:
                return za;
            case 35678:
            case 36198:
            case 36298:
            case 36306:
            case 35682:
                return Va;
            case 35680:
            case 36300:
            case 36308:
            case 36293:
                return Wa
            }
        }(e.type)
    }
    function Ya(t) {
        this.id = t,
        this.seq = [],
        this.map = {}
    }
    Xa.prototype.updateCache = function(t) {
        var e = this.cache;
        t instanceof Float32Array && e.length !== t.length && (this.cache = new Float32Array(t.length)),
        ma(e, t)
    }
    ,
    Ya.prototype.setValue = function(t, e, n) {
        for (var r = this.seq, i = 0, o = r.length; i !== o; ++i) {
            var a = r[i];
            a.setValue(t, e[a.id], n)
        }
    }
    ;
    var Za = /([\w\d_]+)(\])?(\[|\.)?/g;
    function Ja(t, e) {
        t.seq.push(e),
        t.map[e.id] = e
    }
    function Qa(t, e, n) {
        var r = t.name
          , i = r.length;
        for (Za.lastIndex = 0; ; ) {
            var o = Za.exec(r)
              , a = Za.lastIndex
              , s = o[1]
              , u = "]" === o[2]
              , c = o[3];
            if (u && (s |= 0),
            void 0 === c || "[" === c && a + 2 === i) {
                Ja(n, void 0 === c ? new qa(s,t,e) : new Xa(s,t,e));
                break
            }
            var l = n.map[s];
            void 0 === l && Ja(n, l = new Ya(s)),
            n = l
        }
    }
    function Ka(t, e) {
        this.seq = [],
        this.map = {};
        for (var n = t.getProgramParameter(e, 35718), r = 0; r < n; ++r) {
            var i = t.getActiveUniform(e, r);
            Qa(i, t.getUniformLocation(e, i.name), this)
        }
    }
    function $a(t, e, n) {
        var r = t.createShader(e);
        return t.shaderSource(r, n),
        t.compileShader(r),
        r
    }
    Ka.prototype.setValue = function(t, e, n, r) {
        var i = this.map[e];
        void 0 !== i && i.setValue(t, n, r)
    }
    ,
    Ka.prototype.setOptional = function(t, e, n) {
        var r = e[n];
        void 0 !== r && this.setValue(t, n, r)
    }
    ,
    Ka.upload = function(t, e, n, r) {
        for (var i = 0, o = e.length; i !== o; ++i) {
            var a = e[i]
              , s = n[a.id];
            !1 !== s.needsUpdate && a.setValue(t, s.value, r)
        }
    }
    ,
    Ka.seqWithValue = function(t, e) {
        for (var n = [], r = 0, i = t.length; r !== i; ++r) {
            var o = t[r];
            o.id in e && n.push(o)
        }
        return n
    }
    ;
    var ts = 0;
    function es(t) {
        switch (t) {
        case an:
            return ["Linear", "( value )"];
        case sn:
            return ["sRGB", "( value )"];
        case cn:
            return ["RGBE", "( value )"];
        case hn:
            return ["RGBM", "( value, 7.0 )"];
        case fn:
            return ["RGBM", "( value, 16.0 )"];
        case pn:
            return ["RGBD", "( value, 256.0 )"];
        case un:
            return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
        case ln:
            return ["LogLuv", "( value )"];
        default:
            throw new Error("unsupported encoding: " + t)
        }
    }
    function ns(t, e, n) {
        var r = t.getShaderParameter(e, 35713)
          , i = t.getShaderInfoLog(e).trim();
        return r && "" === i ? "" : "THREE.WebGLShader: gl.getShaderInfoLog() " + n + "\n" + i + function(t) {
            for (var e = t.split("\n"), n = 0; n < e.length; n++)
                e[n] = n + 1 + ": " + e[n];
            return e.join("\n")
        }(t.getShaderSource(e))
    }
    function rs(t, e) {
        var n = es(e);
        return "vec4 " + t + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }"
    }
    function is(t, e) {
        var n;
        switch (e) {
        case lt:
            n = "Linear";
            break;
        case ht:
            n = "Reinhard";
            break;
        case ft:
            n = "Uncharted2";
            break;
        case pt:
            n = "OptimizedCineon";
            break;
        case dt:
            n = "ACESFilmic";
            break;
        default:
            throw new Error("unsupported toneMapping: " + e)
        }
        return "vec3 " + t + "( vec3 color ) { return " + n + "ToneMapping( color ); }"
    }
    function os(t) {
        return "" !== t
    }
    function as(t, e) {
        return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, e.numPointLightShadows)
    }
    function ss(t, e) {
        return t.replace(/NUM_CLIPPING_PLANES/g, e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, e.numClippingPlanes - e.numClipIntersection)
    }
    var us = /^[ \t]*#include +<([\w\d./]+)>/gm;
    function cs(t) {
        return t.replace(us, ls)
    }
    function ls(t, e) {
        var n = Go[e];
        if (void 0 === n)
            throw new Error("Can not resolve #include <" + e + ">");
        return cs(n)
    }
    var hs = /#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;
    function fs(t) {
        return t.replace(hs, ps)
    }
    function ps(t, e, n, r) {
        for (var i = "", o = parseInt(e); o < parseInt(n); o++)
            i += r.replace(/\[ i \]/g, "[ " + o + " ]").replace(/UNROLLED_LOOP_INDEX/g, o);
        return i
    }
    function ds(t) {
        var e = "precision " + t.precision + " float;\nprecision " + t.precision + " int;";
        return "highp" === t.precision ? e += "\n#define HIGH_PRECISION" : "mediump" === t.precision ? e += "\n#define MEDIUM_PRECISION" : "lowp" === t.precision && (e += "\n#define LOW_PRECISION"),
        e
    }
    function ms(t, e, n) {
        var r, i, o, a, s, u = t.getContext(), c = n.defines, l = n.vertexShader, h = n.fragmentShader, f = function(t) {
            var e = "SHADOWMAP_TYPE_BASIC";
            return t.shadowMapType === w ? e = "SHADOWMAP_TYPE_PCF" : t.shadowMapType === M ? e = "SHADOWMAP_TYPE_PCF_SOFT" : t.shadowMapType === S && (e = "SHADOWMAP_TYPE_VSM"),
            e
        }(n), p = function(t) {
            var e = "ENVMAP_TYPE_CUBE";
            if (t.envMap)
                switch (t.envMapMode) {
                case vt:
                case gt:
                    e = "ENVMAP_TYPE_CUBE";
                    break;
                case _t:
                case wt:
                    e = "ENVMAP_TYPE_CUBE_UV";
                    break;
                case yt:
                case bt:
                    e = "ENVMAP_TYPE_EQUIREC";
                    break;
                case xt:
                    e = "ENVMAP_TYPE_SPHERE"
                }
            return e
        }(n), d = function(t) {
            var e = "ENVMAP_MODE_REFLECTION";
            if (t.envMap)
                switch (t.envMapMode) {
                case gt:
                case bt:
                    e = "ENVMAP_MODE_REFRACTION"
                }
            return e
        }(n), m = function(t) {
            var e = "ENVMAP_BLENDING_NONE";
            if (t.envMap)
                switch (t.combine) {
                case at:
                    e = "ENVMAP_BLENDING_MULTIPLY";
                    break;
                case st:
                    e = "ENVMAP_BLENDING_MIX";
                    break;
                case ut:
                    e = "ENVMAP_BLENDING_ADD"
                }
            return e
        }(n), v = t.gammaFactor > 0 ? t.gammaFactor : 1, g = n.isWebGL2 ? "" : function(t) {
            return [t.extensionDerivatives || t.envMapCubeUV || t.bumpMap || t.tangentSpaceNormalMap || t.clearcoatNormalMap || t.flatShading || "physical" === t.shaderID ? "#extension GL_OES_standard_derivatives : enable" : "", (t.extensionFragDepth || t.logarithmicDepthBuffer) && t.rendererExtensionFragDepth ? "#extension GL_EXT_frag_depth : enable" : "", t.extensionDrawBuffers && t.rendererExtensionDrawBuffers ? "#extension GL_EXT_draw_buffers : require" : "", (t.extensionShaderTextureLOD || t.envMap) && t.rendererExtensionShaderTextureLod ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(os).join("\n")
        }(n), y = function(t) {
            var e = [];
            for (var n in t) {
                var r = t[n];
                !1 !== r && e.push("#define " + n + " " + r)
            }
            return e.join("\n")
        }(c), b = u.createProgram();
        if (n.isRawShaderMaterial ? ((r = [y].filter(os).join("\n")).length > 0 && (r += "\n"),
        (i = [g, y].filter(os).join("\n")).length > 0 && (i += "\n")) : (r = [ds(n), "#define SHADER_NAME " + n.shaderName, y, n.instancing ? "#define USE_INSTANCING" : "", n.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + v, "#define MAX_BONES " + n.maxBones, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + d : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.normalMap && n.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", n.normalMap && n.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", n.displacementMap && n.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.vertexTangents ? "#define USE_TANGENT" : "", n.vertexColors ? "#define USE_COLOR" : "", n.vertexUvs ? "#define USE_UV" : "", n.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.skinning ? "#define USE_SKINNING" : "", n.useVertexTexture ? "#define BONE_TEXTURE" : "", n.morphTargets ? "#define USE_MORPHTARGETS" : "", n.morphNormals && !1 === n.flatShading ? "#define USE_MORPHNORMALS" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + f : "", n.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", "#ifdef USE_INSTANCING", " attribute mat4 instanceMatrix;", "#endif", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_TANGENT", "\tattribute vec4 tangent;", "#endif", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(os).join("\n"),
        i = [g, ds(n), "#define SHADER_NAME " + n.shaderName, y, n.alphaTest ? "#define ALPHATEST " + n.alphaTest + (n.alphaTest % 1 ? "" : ".0") : "", "#define GAMMA_FACTOR " + v, n.useFog && n.fog ? "#define USE_FOG" : "", n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "", n.map ? "#define USE_MAP" : "", n.matcap ? "#define USE_MATCAP" : "", n.envMap ? "#define USE_ENVMAP" : "", n.envMap ? "#define " + p : "", n.envMap ? "#define " + d : "", n.envMap ? "#define " + m : "", n.lightMap ? "#define USE_LIGHTMAP" : "", n.aoMap ? "#define USE_AOMAP" : "", n.emissiveMap ? "#define USE_EMISSIVEMAP" : "", n.bumpMap ? "#define USE_BUMPMAP" : "", n.normalMap ? "#define USE_NORMALMAP" : "", n.normalMap && n.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", n.normalMap && n.tangentSpaceNormalMap ? "#define TANGENTSPACE_NORMALMAP" : "", n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", n.specularMap ? "#define USE_SPECULARMAP" : "", n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", n.metalnessMap ? "#define USE_METALNESSMAP" : "", n.alphaMap ? "#define USE_ALPHAMAP" : "", n.sheen ? "#define USE_SHEEN" : "", n.vertexTangents ? "#define USE_TANGENT" : "", n.vertexColors ? "#define USE_COLOR" : "", n.vertexUvs ? "#define USE_UV" : "", n.uvsVertexOnly ? "#define UVS_VERTEX_ONLY" : "", n.gradientMap ? "#define USE_GRADIENTMAP" : "", n.flatShading ? "#define FLAT_SHADED" : "", n.doubleSided ? "#define DOUBLE_SIDED" : "", n.flipSided ? "#define FLIP_SIDED" : "", n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", n.shadowMapEnabled ? "#define " + f : "", n.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", n.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", (n.extensionShaderTextureLOD || n.envMap) && n.rendererExtensionShaderTextureLod ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", n.toneMapping !== ct ? "#define TONE_MAPPING" : "", n.toneMapping !== ct ? Go.tonemapping_pars_fragment : "", n.toneMapping !== ct ? is("toneMapping", n.toneMapping) : "", n.dithering ? "#define DITHERING" : "", n.outputEncoding || n.mapEncoding || n.matcapEncoding || n.envMapEncoding || n.emissiveMapEncoding || n.lightMapEncoding ? Go.encodings_pars_fragment : "", n.mapEncoding ? rs("mapTexelToLinear", n.mapEncoding) : "", n.matcapEncoding ? rs("matcapTexelToLinear", n.matcapEncoding) : "", n.envMapEncoding ? rs("envMapTexelToLinear", n.envMapEncoding) : "", n.emissiveMapEncoding ? rs("emissiveMapTexelToLinear", n.emissiveMapEncoding) : "", n.lightMapEncoding ? rs("lightMapTexelToLinear", n.lightMapEncoding) : "", n.outputEncoding ? (o = "linearToOutputTexel",
        a = n.outputEncoding,
        s = es(a),
        "vec4 " + o + "( vec4 value ) { return LinearTo" + s[0] + s[1] + "; }") : "", n.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(os).join("\n")),
        l = ss(l = as(l = cs(l), n), n),
        h = ss(h = as(h = cs(h), n), n),
        l = fs(l),
        h = fs(h),
        n.isWebGL2 && !n.isRawShaderMaterial) {
            var x = !1
              , _ = /^\s*#version\s+300\s+es\s*\n/;
            n.isShaderMaterial && null !== l.match(_) && null !== h.match(_) && (x = !0,
            l = l.replace(_, ""),
            h = h.replace(_, "")),
            r = ["#version 300 es\n", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + r,
            i = ["#version 300 es\n", "#define varying in", x ? "" : "out highp vec4 pc_fragColor;", x ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + i
        }
        var E, T, A = i + h, P = $a(u, 35633, r + l), L = $a(u, 35632, A);
        if (u.attachShader(b, P),
        u.attachShader(b, L),
        void 0 !== n.index0AttributeName ? u.bindAttribLocation(b, 0, n.index0AttributeName) : !0 === n.morphTargets && u.bindAttribLocation(b, 0, "position"),
        u.linkProgram(b),
        t.debug.checkShaderErrors) {
            var O = u.getProgramInfoLog(b).trim()
              , R = u.getShaderInfoLog(P).trim()
              , C = u.getShaderInfoLog(L).trim()
              , I = !0
              , D = !0;
            if (!1 === u.getProgramParameter(b, 35714)) {
                I = !1;
                var k = ns(u, P, "vertex")
                  , N = ns(u, L, "fragment");
                console.error("THREE.WebGLProgram: shader error: ", u.getError(), "35715", u.getProgramParameter(b, 35715), "gl.getProgramInfoLog", O, k, N)
            } else
                "" !== O ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", O) : "" !== R && "" !== C || (D = !1);
            D && (this.diagnostics = {
                runnable: I,
                programLog: O,
                vertexShader: {
                    log: R,
                    prefix: r
                },
                fragmentShader: {
                    log: C,
                    prefix: i
                }
            })
        }
        return u.detachShader(b, P),
        u.detachShader(b, L),
        u.deleteShader(P),
        u.deleteShader(L),
        this.getUniforms = function() {
            return void 0 === E && (E = new Ka(u,b)),
            E
        }
        ,
        this.getAttributes = function() {
            return void 0 === T && (T = function(t, e) {
                for (var n = {}, r = t.getProgramParameter(e, 35721), i = 0; i < r; i++) {
                    var o = t.getActiveAttrib(e, i).name;
                    n[o] = t.getAttribLocation(e, o)
                }
                return n
            }(u, b)),
            T
        }
        ,
        this.destroy = function() {
            u.deleteProgram(b),
            this.program = void 0
        }
        ,
        this.name = n.shaderName,
        this.id = ts++,
        this.cacheKey = e,
        this.usedTimes = 1,
        this.program = b,
        this.vertexShader = P,
        this.fragmentShader = L,
        this
    }
    function vs(t, e, n) {
        var r = []
          , i = n.isWebGL2
          , o = n.logarithmicDepthBuffer
          , a = n.floatVertexTextures
          , s = n.precision
          , u = n.maxVertexUniforms
          , c = n.vertexTextures
          , l = {
            MeshDepthMaterial: "depth",
            MeshDistanceMaterial: "distanceRGBA",
            MeshNormalMaterial: "normal",
            MeshBasicMaterial: "basic",
            MeshLambertMaterial: "lambert",
            MeshPhongMaterial: "phong",
            MeshToonMaterial: "toon",
            MeshStandardMaterial: "physical",
            MeshPhysicalMaterial: "physical",
            MeshMatcapMaterial: "matcap",
            LineBasicMaterial: "basic",
            LineDashedMaterial: "dashed",
            PointsMaterial: "points",
            ShadowMaterial: "shadow",
            SpriteMaterial: "sprite"
        }
          , h = ["precision", "isWebGL2", "supportsVertexTextures", "outputEncoding", "instancing", "map", "mapEncoding", "matcap", "matcapEncoding", "envMap", "envMapMode", "envMapEncoding", "envMapCubeUV", "lightMap", "lightMapEncoding", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "tangentSpaceNormalMap", "clearcoatNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "vertexTangents", "vertexUvs", "uvsVertexOnly", "fog", "useFog", "fogExp2", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "numDirLightShadows", "numPointLightShadows", "numSpotLightShadows", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering", "sheen"];
        function f(t) {
            var e;
            return t ? t.isTexture ? e = t.encoding : t.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),
            e = t.texture.encoding) : e = an,
            e
        }
        this.getParameters = function(r, h, p, d, m, v, g) {
            var y = d.fog
              , b = r.isMeshStandardMaterial ? d.environment : null
              , x = r.envMap || b
              , _ = l[r.type]
              , w = g.isSkinnedMesh ? function(t) {
                var e = t.skeleton.bones;
                if (a)
                    return 1024;
                var n = u
                  , r = Math.floor((n - 20) / 4)
                  , i = Math.min(r, e.length);
                return i < e.length ? (console.warn("THREE.WebGLRenderer: Skeleton has " + e.length + " bones. This GPU supports " + i + "."),
                0) : i
            }(g) : 0;
            null !== r.precision && (s = n.getMaxPrecision(r.precision)) !== r.precision && console.warn("THREE.WebGLProgram.getParameters:", r.precision, "not supported, using", s, "instead.");
            var M = function(t, e) {
                var n;
                if (e) {
                    var r = Ho[e];
                    n = {
                        name: t.type,
                        uniforms: Ao.clone(r.uniforms),
                        vertexShader: r.vertexShader,
                        fragmentShader: r.fragmentShader
                    }
                } else
                    n = {
                        name: t.type,
                        uniforms: t.uniforms,
                        vertexShader: t.vertexShader,
                        fragmentShader: t.fragmentShader
                    };
                return n
            }(r, _);
            r.onBeforeCompile(M, t);
            var S = t.getRenderTarget();
            return {
                isWebGL2: i,
                shaderID: _,
                shaderName: M.name,
                uniforms: M.uniforms,
                vertexShader: M.vertexShader,
                fragmentShader: M.fragmentShader,
                defines: r.defines,
                isRawShaderMaterial: r.isRawShaderMaterial,
                isShaderMaterial: r.isShaderMaterial,
                precision: s,
                instancing: !0 === g.isInstancedMesh,
                supportsVertexTextures: c,
                outputEncoding: null !== S ? f(S.texture) : t.outputEncoding,
                map: !!r.map,
                mapEncoding: f(r.map),
                matcap: !!r.matcap,
                matcapEncoding: f(r.matcap),
                envMap: !!x,
                envMapMode: x && x.mapping,
                envMapEncoding: f(x),
                envMapCubeUV: !!x && (x.mapping === _t || x.mapping === wt),
                lightMap: !!r.lightMap,
                lightMapEncoding: f(r.lightMap),
                aoMap: !!r.aoMap,
                emissiveMap: !!r.emissiveMap,
                emissiveMapEncoding: f(r.emissiveMap),
                bumpMap: !!r.bumpMap,
                normalMap: !!r.normalMap,
                objectSpaceNormalMap: r.normalMapType === gn,
                tangentSpaceNormalMap: r.normalMapType === vn,
                clearcoatNormalMap: !!r.clearcoatNormalMap,
                displacementMap: !!r.displacementMap,
                roughnessMap: !!r.roughnessMap,
                metalnessMap: !!r.metalnessMap,
                specularMap: !!r.specularMap,
                alphaMap: !!r.alphaMap,
                gradientMap: !!r.gradientMap,
                sheen: !!r.sheen,
                combine: r.combine,
                vertexTangents: r.normalMap && r.vertexTangents,
                vertexColors: r.vertexColors,
                vertexUvs: !!(r.map || r.bumpMap || r.normalMap || r.specularMap || r.alphaMap || r.emissiveMap || r.roughnessMap || r.metalnessMap || r.clearcoatNormalMap || r.displacementMap),
                uvsVertexOnly: !(r.map || r.bumpMap || r.normalMap || r.specularMap || r.alphaMap || r.emissiveMap || r.roughnessMap || r.metalnessMap || r.clearcoatNormalMap || !r.displacementMap),
                fog: !!y,
                useFog: r.fog,
                fogExp2: y && y.isFogExp2,
                flatShading: r.flatShading,
                sizeAttenuation: r.sizeAttenuation,
                logarithmicDepthBuffer: o,
                skinning: r.skinning && w > 0,
                maxBones: w,
                useVertexTexture: a,
                morphTargets: r.morphTargets,
                morphNormals: r.morphNormals,
                maxMorphTargets: t.maxMorphTargets,
                maxMorphNormals: t.maxMorphNormals,
                numDirLights: h.directional.length,
                numPointLights: h.point.length,
                numSpotLights: h.spot.length,
                numRectAreaLights: h.rectArea.length,
                numHemiLights: h.hemi.length,
                numDirLightShadows: h.directionalShadowMap.length,
                numPointLightShadows: h.pointShadowMap.length,
                numSpotLightShadows: h.spotShadowMap.length,
                numClippingPlanes: m,
                numClipIntersection: v,
                dithering: r.dithering,
                shadowMapEnabled: t.shadowMap.enabled && p.length > 0,
                shadowMapType: t.shadowMap.type,
                toneMapping: r.toneMapped ? t.toneMapping : ct,
                physicallyCorrectLights: t.physicallyCorrectLights,
                premultipliedAlpha: r.premultipliedAlpha,
                alphaTest: r.alphaTest,
                doubleSided: r.side === A,
                flipSided: r.side === T,
                depthPacking: void 0 !== r.depthPacking && r.depthPacking,
                index0AttributeName: r.index0AttributeName,
                extensionDerivatives: r.extensions && r.extensions.derivatives,
                extensionFragDepth: r.extensions && r.extensions.fragDepth,
                extensionDrawbuffers: r.extensions && r.extensions.drawBuffers,
                extensionShaderTextureLOD: r.extensions && r.extensions.shaderTextureLOD,
                rendererExtensionFragDepth: i || null !== e.get("EXT_frag_depth"),
                rendererExtensionDrawBuffers: i || null !== e.get("WEBGL_draw_buffers"),
                rendererExtensionShaderTextureLod: i || null !== e.get("EXT_shader_texture_lod"),
                onBeforeCompile: r.onBeforeCompile
            }
        }
        ,
        this.getProgramCacheKey = function(e) {
            var n = [];
            if (e.shaderID ? n.push(e.shaderID) : (n.push(e.fragmentShader),
            n.push(e.vertexShader)),
            void 0 !== e.defines)
                for (var r in e.defines)
                    n.push(r),
                    n.push(e.defines[r]);
            if (void 0 === e.isRawShaderMaterial) {
                for (var i = 0; i < h.length; i++)
                    n.push(e[h[i]]);
                n.push(t.outputEncoding),
                n.push(t.gammaFactor)
            }
            return n.push(e.onBeforeCompile.toString()),
            n.join()
        }
        ,
        this.acquireProgram = function(e, n) {
            for (var i, o = 0, a = r.length; o < a; o++) {
                var s = r[o];
                if (s.cacheKey === n) {
                    ++(i = s).usedTimes;
                    break
                }
            }
            return void 0 === i && (i = new ms(t,n,e),
            r.push(i)),
            i
        }
        ,
        this.releaseProgram = function(t) {
            if (0 == --t.usedTimes) {
                var e = r.indexOf(t);
                r[e] = r[r.length - 1],
                r.pop(),
                t.destroy()
            }
        }
        ,
        this.programs = r
    }
    function gs() {
        var t = new WeakMap;
        return {
            get: function(e) {
                var n = t.get(e);
                return void 0 === n && (n = {},
                t.set(e, n)),
                n
            },
            remove: function(e) {
                t.delete(e)
            },
            update: function(e, n, r) {
                t.get(e)[n] = r
            },
            dispose: function() {
                t = new WeakMap
            }
        }
    }
    function ys(t, e) {
        return t.groupOrder !== e.groupOrder ? t.groupOrder - e.groupOrder : t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.program !== e.program ? t.program.id - e.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
    }
    function bs(t, e) {
        return t.groupOrder !== e.groupOrder ? t.groupOrder - e.groupOrder : t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
    }
    function xs() {
        var t = []
          , e = 0
          , n = []
          , r = []
          , i = {
            id: -1
        };
        function o(n, r, o, a, s, u) {
            var c = t[e];
            return void 0 === c ? (c = {
                id: n.id,
                object: n,
                geometry: r,
                material: o,
                program: o.program || i,
                groupOrder: a,
                renderOrder: n.renderOrder,
                z: s,
                group: u
            },
            t[e] = c) : (c.id = n.id,
            c.object = n,
            c.geometry = r,
            c.material = o,
            c.program = o.program || i,
            c.groupOrder = a,
            c.renderOrder = n.renderOrder,
            c.z = s,
            c.group = u),
            e++,
            c
        }
        return {
            opaque: n,
            transparent: r,
            init: function() {
                e = 0,
                n.length = 0,
                r.length = 0
            },
            push: function(t, e, i, a, s, u) {
                var c = o(t, e, i, a, s, u);
                (!0 === i.transparent ? r : n).push(c)
            },
            unshift: function(t, e, i, a, s, u) {
                var c = o(t, e, i, a, s, u);
                (!0 === i.transparent ? r : n).unshift(c)
            },
            finish: function() {
                for (var n = e, r = t.length; n < r; n++) {
                    var i = t[n];
                    if (null === i.id)
                        break;
                    i.id = null,
                    i.object = null,
                    i.geometry = null,
                    i.material = null,
                    i.program = null,
                    i.group = null
                }
            },
            sort: function(t, e) {
                n.length > 1 && n.sort(t || ys),
                r.length > 1 && r.sort(e || bs)
            }
        }
    }
    function _s() {
        var t = new WeakMap;
        function e(n) {
            var r = n.target;
            r.removeEventListener("dispose", e),
            t.delete(r)
        }
        return {
            get: function(n, r) {
                var i, o = t.get(n);
                return void 0 === o ? (i = new xs,
                t.set(n, new WeakMap),
                t.get(n).set(r, i),
                n.addEventListener("dispose", e)) : void 0 === (i = o.get(r)) && (i = new xs,
                o.set(r, i)),
                i
            },
            dispose: function() {
                t = new WeakMap
            }
        }
    }
    function ws() {
        var t = {};
        return {
            get: function(e) {
                if (void 0 !== t[e.id])
                    return t[e.id];
                var n;
                switch (e.type) {
                case "DirectionalLight":
                    n = {
                        direction: new or,
                        color: new wi
                    };
                    break;
                case "SpotLight":
                    n = {
                        position: new or,
                        direction: new or,
                        color: new wi,
                        distance: 0,
                        coneCos: 0,
                        penumbraCos: 0,
                        decay: 0
                    };
                    break;
                case "PointLight":
                    n = {
                        position: new or,
                        color: new wi,
                        distance: 0,
                        decay: 0
                    };
                    break;
                case "HemisphereLight":
                    n = {
                        direction: new or,
                        skyColor: new wi,
                        groundColor: new wi
                    };
                    break;
                case "RectAreaLight":
                    n = {
                        color: new wi,
                        position: new or,
                        halfWidth: new or,
                        halfHeight: new or
                    }
                }
                return t[e.id] = n,
                n
            }
        }
    }
    var Ms = 0;
    function Ss(t, e) {
        return (e.castShadow ? 1 : 0) - (t.castShadow ? 1 : 0)
    }
    function Es() {
        for (var t, e = new ws, n = (t = {},
        {
            get: function(e) {
                if (void 0 !== t[e.id])
                    return t[e.id];
                var n;
                switch (e.type) {
                case "DirectionalLight":
                case "SpotLight":
                    n = {
                        shadowBias: 0,
                        shadowRadius: 1,
                        shadowMapSize: new Yn
                    };
                    break;
                case "PointLight":
                    n = {
                        shadowBias: 0,
                        shadowRadius: 1,
                        shadowMapSize: new Yn,
                        shadowCameraNear: 1,
                        shadowCameraFar: 1e3
                    }
                }
                return t[e.id] = n,
                n
            }
        }), r = {
            version: 0,
            hash: {
                directionalLength: -1,
                pointLength: -1,
                spotLength: -1,
                rectAreaLength: -1,
                hemiLength: -1,
                numDirectionalShadows: -1,
                numPointShadows: -1,
                numSpotShadows: -1
            },
            ambient: [0, 0, 0],
            probe: [],
            directional: [],
            directionalShadow: [],
            directionalShadowMap: [],
            directionalShadowMatrix: [],
            spot: [],
            spotShadow: [],
            spotShadowMap: [],
            spotShadowMatrix: [],
            rectArea: [],
            point: [],
            pointShadow: [],
            pointShadowMap: [],
            pointShadowMatrix: [],
            hemi: []
        }, i = 0; i < 9; i++)
            r.probe.push(new or);
        var o = new or
          , a = new pr
          , s = new pr;
        return {
            setup: function(t, i, u) {
                for (var c = 0, l = 0, h = 0, f = 0; f < 9; f++)
                    r.probe[f].set(0, 0, 0);
                var p = 0
                  , d = 0
                  , m = 0
                  , v = 0
                  , g = 0
                  , y = 0
                  , b = 0
                  , x = 0
                  , _ = u.matrixWorldInverse;
                t.sort(Ss),
                f = 0;
                for (var w = t.length; f < w; f++) {
                    var M = t[f]
                      , S = M.color
                      , E = M.intensity
                      , T = M.distance
                      , A = M.shadow && M.shadow.map ? M.shadow.map.texture : null;
                    if (M.isAmbientLight)
                        c += S.r * E,
                        l += S.g * E,
                        h += S.b * E;
                    else if (M.isLightProbe)
                        for (var P = 0; P < 9; P++)
                            r.probe[P].addScaledVector(M.sh.coefficients[P], E);
                    else if (M.isDirectionalLight) {
                        if ((R = e.get(M)).color.copy(M.color).multiplyScalar(M.intensity),
                        R.direction.setFromMatrixPosition(M.matrixWorld),
                        o.setFromMatrixPosition(M.target.matrixWorld),
                        R.direction.sub(o),
                        R.direction.transformDirection(_),
                        M.castShadow) {
                            var L = M.shadow;
                            (O = n.get(M)).shadowBias = L.bias,
                            O.shadowRadius = L.radius,
                            O.shadowMapSize = L.mapSize,
                            r.directionalShadow[p] = O,
                            r.directionalShadowMap[p] = A,
                            r.directionalShadowMatrix[p] = M.shadow.matrix,
                            y++
                        }
                        r.directional[p] = R,
                        p++
                    } else if (M.isSpotLight) {
                        if ((R = e.get(M)).position.setFromMatrixPosition(M.matrixWorld),
                        R.position.applyMatrix4(_),
                        R.color.copy(S).multiplyScalar(E),
                        R.distance = T,
                        R.direction.setFromMatrixPosition(M.matrixWorld),
                        o.setFromMatrixPosition(M.target.matrixWorld),
                        R.direction.sub(o),
                        R.direction.transformDirection(_),
                        R.coneCos = Math.cos(M.angle),
                        R.penumbraCos = Math.cos(M.angle * (1 - M.penumbra)),
                        R.decay = M.decay,
                        M.castShadow) {
                            L = M.shadow;
                            (O = n.get(M)).shadowBias = L.bias,
                            O.shadowRadius = L.radius,
                            O.shadowMapSize = L.mapSize,
                            r.spotShadow[m] = O,
                            r.spotShadowMap[m] = A,
                            r.spotShadowMatrix[m] = M.shadow.matrix,
                            x++
                        }
                        r.spot[m] = R,
                        m++
                    } else if (M.isRectAreaLight) {
                        (R = e.get(M)).color.copy(S).multiplyScalar(E),
                        R.position.setFromMatrixPosition(M.matrixWorld),
                        R.position.applyMatrix4(_),
                        s.identity(),
                        a.copy(M.matrixWorld),
                        a.premultiply(_),
                        s.extractRotation(a),
                        R.halfWidth.set(.5 * M.width, 0, 0),
                        R.halfHeight.set(0, .5 * M.height, 0),
                        R.halfWidth.applyMatrix4(s),
                        R.halfHeight.applyMatrix4(s),
                        r.rectArea[v] = R,
                        v++
                    } else if (M.isPointLight) {
                        if ((R = e.get(M)).position.setFromMatrixPosition(M.matrixWorld),
                        R.position.applyMatrix4(_),
                        R.color.copy(M.color).multiplyScalar(M.intensity),
                        R.distance = M.distance,
                        R.decay = M.decay,
                        M.castShadow) {
                            var O;
                            L = M.shadow;
                            (O = n.get(M)).shadowBias = L.bias,
                            O.shadowRadius = L.radius,
                            O.shadowMapSize = L.mapSize,
                            O.shadowCameraNear = L.camera.near,
                            O.shadowCameraFar = L.camera.far,
                            r.pointShadow[d] = O,
                            r.pointShadowMap[d] = A,
                            r.pointShadowMatrix[d] = M.shadow.matrix,
                            b++
                        }
                        r.point[d] = R,
                        d++
                    } else if (M.isHemisphereLight) {
                        var R;
                        (R = e.get(M)).direction.setFromMatrixPosition(M.matrixWorld),
                        R.direction.transformDirection(_),
                        R.direction.normalize(),
                        R.skyColor.copy(M.color).multiplyScalar(E),
                        R.groundColor.copy(M.groundColor).multiplyScalar(E),
                        r.hemi[g] = R,
                        g++
                    }
                }
                r.ambient[0] = c,
                r.ambient[1] = l,
                r.ambient[2] = h;
                var C = r.hash;
                C.directionalLength === p && C.pointLength === d && C.spotLength === m && C.rectAreaLength === v && C.hemiLength === g && C.numDirectionalShadows === y && C.numPointShadows === b && C.numSpotShadows === x || (r.directional.length = p,
                r.spot.length = m,
                r.rectArea.length = v,
                r.point.length = d,
                r.hemi.length = g,
                r.directionalShadow.length = y,
                r.directionalShadowMap.length = y,
                r.pointShadow.length = b,
                r.pointShadowMap.length = b,
                r.spotShadow.length = x,
                r.spotShadowMap.length = x,
                r.directionalShadowMatrix.length = y,
                r.pointShadowMatrix.length = b,
                r.spotShadowMatrix.length = x,
                C.directionalLength = p,
                C.pointLength = d,
                C.spotLength = m,
                C.rectAreaLength = v,
                C.hemiLength = g,
                C.numDirectionalShadows = y,
                C.numPointShadows = b,
                C.numSpotShadows = x,
                r.version = Ms++)
            },
            state: r
        }
    }
    function Ts() {
        var t = new Es
          , e = []
          , n = [];
        return {
            init: function() {
                e.length = 0,
                n.length = 0
            },
            state: {
                lightsArray: e,
                shadowsArray: n,
                lights: t
            },
            setupLights: function(r) {
                t.setup(e, n, r)
            },
            pushLight: function(t) {
                e.push(t)
            },
            pushShadow: function(t) {
                n.push(t)
            }
        }
    }
    function As() {
        var t = new WeakMap;
        function e(n) {
            var r = n.target;
            r.removeEventListener("dispose", e),
            t.delete(r)
        }
        return {
            get: function(n, r) {
                var i;
                return !1 === t.has(n) ? (i = new Ts,
                t.set(n, new WeakMap),
                t.get(n).set(r, i),
                n.addEventListener("dispose", e)) : !1 === t.get(n).has(r) ? (i = new Ts,
                t.get(n).set(r, i)) : i = t.get(n).get(r),
                i
            },
            dispose: function() {
                t = new WeakMap
            }
        }
    }
    function Ps(t) {
        Pi.call(this),
        this.type = "MeshDepthMaterial",
        this.depthPacking = dn,
        this.skinning = !1,
        this.morphTargets = !1,
        this.map = null,
        this.alphaMap = null,
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.fog = !1,
        this.setValues(t)
    }
    function Ls(t) {
        Pi.call(this),
        this.type = "MeshDistanceMaterial",
        this.referencePosition = new or,
        this.nearDistance = 1,
        this.farDistance = 1e3,
        this.skinning = !1,
        this.morphTargets = !1,
        this.map = null,
        this.alphaMap = null,
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.fog = !1,
        this.setValues(t)
    }
    Ps.prototype = Object.create(Pi.prototype),
    Ps.prototype.constructor = Ps,
    Ps.prototype.isMeshDepthMaterial = !0,
    Ps.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.depthPacking = t.depthPacking,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.map = t.map,
        this.alphaMap = t.alphaMap,
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this
    }
    ,
    Ls.prototype = Object.create(Pi.prototype),
    Ls.prototype.constructor = Ls,
    Ls.prototype.isMeshDistanceMaterial = !0,
    Ls.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.referencePosition.copy(t.referencePosition),
        this.nearDistance = t.nearDistance,
        this.farDistance = t.farDistance,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.map = t.map,
        this.alphaMap = t.alphaMap,
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this
    }
    ;
    function Os(t, e, n) {
        var r = new No
          , i = new Yn
          , o = new Yn
          , a = new $n
          , s = []
          , u = []
          , c = {}
          , l = {
            0: T,
            1: E,
            2: A
        }
          , h = new Po({
            defines: {
                SAMPLE_RATE: .25,
                HALF_SAMPLE_RATE: 1 / 8
            },
            uniforms: {
                shadow_pass: {
                    value: null
                },
                resolution: {
                    value: new Yn
                },
                radius: {
                    value: 4
                }
            },
            vertexShader: "void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",
            fragmentShader: "uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"
        })
          , f = h.clone();
        f.defines.HORIZONAL_PASS = 1;
        var p = new Ji;
        p.setAttribute("position", new Ri(new Float32Array([-1, -1, .5, 3, -1, .5, -1, 3, .5]),3));
        var d = new mo(p,h)
          , m = this;
        function v(n, r) {
            var i = e.update(d);
            h.uniforms.shadow_pass.value = n.map.texture,
            h.uniforms.resolution.value = n.mapSize,
            h.uniforms.radius.value = n.radius,
            t.setRenderTarget(n.mapPass),
            t.clear(),
            t.renderBufferDirect(r, null, i, h, d, null),
            f.uniforms.shadow_pass.value = n.mapPass.texture,
            f.uniforms.resolution.value = n.mapSize,
            f.uniforms.radius.value = n.radius,
            t.setRenderTarget(n.map),
            t.clear(),
            t.renderBufferDirect(r, null, i, f, d, null)
        }
        function g(t, e, n) {
            var r = t << 0 | e << 1 | n << 2
              , i = s[r];
            return void 0 === i && (i = new Ps({
                depthPacking: mn,
                morphTargets: t,
                skinning: e
            }),
            s[r] = i),
            i
        }
        function y(t, e, n) {
            var r = t << 0 | e << 1 | n << 2
              , i = u[r];
            return void 0 === i && (i = new Ls({
                morphTargets: t,
                skinning: e
            }),
            u[r] = i),
            i
        }
        function b(e, n, r, i, o, a) {
            var s = e.geometry
              , u = null
              , h = g
              , f = e.customDepthMaterial;
            if (!0 === r.isPointLight && (h = y,
            f = e.customDistanceMaterial),
            void 0 === f) {
                var p = !1;
                !0 === n.morphTargets && (!0 === s.isBufferGeometry ? p = s.morphAttributes && s.morphAttributes.position && s.morphAttributes.position.length > 0 : !0 === s.isGeometry && (p = s.morphTargets && s.morphTargets.length > 0));
                var d = !1;
                !0 === e.isSkinnedMesh && (!0 === n.skinning ? d = !0 : console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:", e)),
                u = h(p, d, !0 === e.isInstancedMesh)
            } else
                u = f;
            if (t.localClippingEnabled && !0 === n.clipShadows && 0 !== n.clippingPlanes.length) {
                var m = u.uuid
                  , v = n.uuid
                  , b = c[m];
                void 0 === b && (b = {},
                c[m] = b);
                var x = b[v];
                void 0 === x && (x = u.clone(),
                b[v] = x),
                u = x
            }
            return u.visible = n.visible,
            u.wireframe = n.wireframe,
            u.side = a === S ? null !== n.shadowSide ? n.shadowSide : n.side : null !== n.shadowSide ? n.shadowSide : l[n.side],
            u.clipShadows = n.clipShadows,
            u.clippingPlanes = n.clippingPlanes,
            u.clipIntersection = n.clipIntersection,
            u.wireframeLinewidth = n.wireframeLinewidth,
            u.linewidth = n.linewidth,
            !0 === r.isPointLight && !0 === u.isMeshDistanceMaterial && (u.referencePosition.setFromMatrixPosition(r.matrixWorld),
            u.nearDistance = i,
            u.farDistance = o),
            u
        }
        function x(n, i, o, a, s) {
            if (!1 !== n.visible) {
                if (n.layers.test(i.layers) && (n.isMesh || n.isLine || n.isPoints) && (n.castShadow || n.receiveShadow && s === S) && (!n.frustumCulled || r.intersectsObject(n))) {
                    n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse, n.matrixWorld);
                    var u = e.update(n)
                      , c = n.material;
                    if (Array.isArray(c))
                        for (var l = u.groups, h = 0, f = l.length; h < f; h++) {
                            var p = l[h]
                              , d = c[p.materialIndex];
                            if (d && d.visible) {
                                var m = b(n, d, a, o.near, o.far, s);
                                t.renderBufferDirect(o, null, u, m, n, p)
                            }
                        }
                    else if (c.visible) {
                        m = b(n, c, a, o.near, o.far, s);
                        t.renderBufferDirect(o, null, u, m, n, null)
                    }
                }
                for (var v = n.children, g = 0, y = v.length; g < y; g++)
                    x(v[g], i, o, a, s)
            }
        }
        this.enabled = !1,
        this.autoUpdate = !0,
        this.needsUpdate = !1,
        this.type = w,
        this.render = function(e, s, u) {
            if (!1 !== m.enabled && (!1 !== m.autoUpdate || !1 !== m.needsUpdate) && 0 !== e.length) {
                var c = t.getRenderTarget()
                  , l = t.getActiveCubeFace()
                  , h = t.getActiveMipmapLevel()
                  , f = t.state;
                f.setBlending(O),
                f.buffers.color.setClear(1, 1, 1, 1),
                f.buffers.depth.setTest(!0),
                f.setScissorTest(!1);
                for (var p = 0, d = e.length; p < d; p++) {
                    var g = e[p]
                      , y = g.shadow;
                    if (void 0 !== y) {
                        i.copy(y.mapSize);
                        var b = y.getFrameExtents();
                        if (i.multiply(b),
                        o.copy(y.mapSize),
                        (i.x > n || i.y > n) && (console.warn("THREE.WebGLShadowMap:", g, "has shadow exceeding max texture size, reducing"),
                        i.x > n && (o.x = Math.floor(n / b.x),
                        i.x = o.x * b.x,
                        y.mapSize.x = o.x),
                        i.y > n && (o.y = Math.floor(n / b.y),
                        i.y = o.y * b.y,
                        y.mapSize.y = o.y)),
                        null === y.map && !y.isPointLightShadow && this.type === S) {
                            var _ = {
                                minFilter: Rt,
                                magFilter: Rt,
                                format: Jt
                            };
                            y.map = new tr(i.x,i.y,_),
                            y.map.texture.name = g.name + ".shadowMap",
                            y.mapPass = new tr(i.x,i.y,_),
                            y.camera.updateProjectionMatrix()
                        }
                        if (null === y.map) {
                            _ = {
                                minFilter: Tt,
                                magFilter: Tt,
                                format: Jt
                            };
                            y.map = new tr(i.x,i.y,_),
                            y.map.texture.name = g.name + ".shadowMap",
                            y.camera.updateProjectionMatrix()
                        }
                        t.setRenderTarget(y.map),
                        t.clear();
                        for (var w = y.getViewportCount(), M = 0; M < w; M++) {
                            var E = y.getViewport(M);
                            a.set(o.x * E.x, o.y * E.y, o.x * E.z, o.y * E.w),
                            f.viewport(a),
                            y.updateMatrices(g, M),
                            r = y.getFrustum(),
                            x(s, u, y.camera, g, this.type)
                        }
                        y.isPointLightShadow || this.type !== S || v(y, u)
                    } else
                        console.warn("THREE.WebGLShadowMap:", g, "has no shadow.")
                }
                m.needsUpdate = !1,
                t.setRenderTarget(c, l, h)
            }
        }
    }
    function Rs(t, e, n) {
        var r, o, a = n.isWebGL2;
        var s = new function() {
            var e = !1
              , n = new $n
              , r = null
              , i = new $n(0,0,0,0);
            return {
                setMask: function(n) {
                    r === n || e || (t.colorMask(n, n, n, n),
                    r = n)
                },
                setLocked: function(t) {
                    e = t
                },
                setClear: function(e, r, o, a, s) {
                    !0 === s && (e *= a,
                    r *= a,
                    o *= a),
                    n.set(e, r, o, a),
                    !1 === i.equals(n) && (t.clearColor(e, r, o, a),
                    i.copy(n))
                },
                reset: function() {
                    e = !1,
                    r = null,
                    i.set(-1, 0, 0, 0)
                }
            }
        }
          , u = new function() {
            var e = !1
              , n = null
              , r = null
              , i = null;
            return {
                setTest: function(t) {
                    t ? wt(2929) : Mt(2929)
                },
                setMask: function(r) {
                    n === r || e || (t.depthMask(r),
                    n = r)
                },
                setFunc: function(e) {
                    if (r !== e) {
                        if (e)
                            switch (e) {
                            case K:
                                t.depthFunc(512);
                                break;
                            case $:
                                t.depthFunc(519);
                                break;
                            case tt:
                                t.depthFunc(513);
                                break;
                            case et:
                                t.depthFunc(515);
                                break;
                            case nt:
                                t.depthFunc(514);
                                break;
                            case rt:
                                t.depthFunc(518);
                                break;
                            case it:
                                t.depthFunc(516);
                                break;
                            case ot:
                                t.depthFunc(517);
                                break;
                            default:
                                t.depthFunc(515)
                            }
                        else
                            t.depthFunc(515);
                        r = e
                    }
                },
                setLocked: function(t) {
                    e = t
                },
                setClear: function(e) {
                    i !== e && (t.clearDepth(e),
                    i = e)
                },
                reset: function() {
                    e = !1,
                    n = null,
                    r = null,
                    i = null
                }
            }
        }
          , c = new function() {
            var e = !1
              , n = null
              , r = null
              , i = null
              , o = null
              , a = null
              , s = null
              , u = null
              , c = null;
            return {
                setTest: function(t) {
                    e || (t ? wt(2960) : Mt(2960))
                },
                setMask: function(r) {
                    n === r || e || (t.stencilMask(r),
                    n = r)
                },
                setFunc: function(e, n, a) {
                    r === e && i === n && o === a || (t.stencilFunc(e, n, a),
                    r = e,
                    i = n,
                    o = a)
                },
                setOp: function(e, n, r) {
                    a === e && s === n && u === r || (t.stencilOp(e, n, r),
                    a = e,
                    s = n,
                    u = r)
                },
                setLocked: function(t) {
                    e = t
                },
                setClear: function(e) {
                    c !== e && (t.clearStencil(e),
                    c = e)
                },
                reset: function() {
                    e = !1,
                    n = null,
                    r = null,
                    i = null,
                    o = null,
                    a = null,
                    s = null,
                    u = null,
                    c = null
                }
            }
        }
          , l = t.getParameter(34921)
          , h = new Uint8Array(l)
          , f = new Uint8Array(l)
          , p = new Uint8Array(l)
          , d = {}
          , y = null
          , b = null
          , x = null
          , _ = null
          , w = null
          , M = null
          , S = null
          , E = null
          , P = null
          , L = !1
          , at = null
          , st = null
          , ut = null
          , ct = null
          , lt = null
          , ht = t.getParameter(35661)
          , ft = !1
          , pt = 0
          , dt = t.getParameter(7938);
        -1 !== dt.indexOf("WebGL") ? (pt = parseFloat(/^WebGL\ ([0-9])/.exec(dt)[1]),
        ft = pt >= 1) : -1 !== dt.indexOf("OpenGL ES") && (pt = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(dt)[1]),
        ft = pt >= 2);
        var mt = null
          , vt = {}
          , gt = new $n
          , yt = new $n;
        function bt(e, n, r) {
            var i = new Uint8Array(4)
              , o = t.createTexture();
            t.bindTexture(e, o),
            t.texParameteri(e, 10241, 9728),
            t.texParameteri(e, 10240, 9728);
            for (var a = 0; a < r; a++)
                t.texImage2D(n + a, 0, 6408, 1, 1, 0, 6408, 5121, i);
            return o
        }
        var xt = {};
        function _t(n, r) {
            (h[n] = 1,
            0 === f[n] && (t.enableVertexAttribArray(n),
            f[n] = 1),
            p[n] !== r) && ((a ? t : e.get("ANGLE_instanced_arrays"))[a ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](n, r),
            p[n] = r)
        }
        function wt(e) {
            !0 !== d[e] && (t.enable(e),
            d[e] = !0)
        }
        function Mt(e) {
            !1 !== d[e] && (t.disable(e),
            d[e] = !1)
        }
        xt[3553] = bt(3553, 3553, 1),
        xt[34067] = bt(34067, 34069, 6),
        s.setClear(0, 0, 0, 1),
        u.setClear(1),
        c.setClear(0),
        wt(2929),
        u.setFunc(et),
        Pt(!1),
        Lt(v),
        wt(2884),
        At(O);
        var St = (i(r = {}, N, 32774),
        i(r, z, 32778),
        i(r, j, 32779),
        r);
        if (a)
            St[F] = 32775,
            St[B] = 32776;
        else {
            var Et = e.get("EXT_blend_minmax");
            null !== Et && (St[F] = Et.MIN_EXT,
            St[B] = Et.MAX_EXT)
        }
        var Tt = (i(o = {}, U, 0),
        i(o, G, 1),
        i(o, H, 768),
        i(o, W, 770),
        i(o, Q, 776),
        i(o, Z, 774),
        i(o, X, 772),
        i(o, V, 769),
        i(o, q, 771),
        i(o, J, 775),
        i(o, Y, 773),
        o);
        function At(e, n, r, i, o, a, s, u) {
            if (e !== O) {
                if (b || (wt(3042),
                b = !0),
                e === k)
                    o = o || n,
                    a = a || r,
                    s = s || i,
                    n === _ && o === S || (t.blendEquationSeparate(St[n], St[o]),
                    _ = n,
                    S = o),
                    r === w && i === M && a === E && s === P || (t.blendFuncSeparate(Tt[r], Tt[i], Tt[a], Tt[s]),
                    w = r,
                    M = i,
                    E = a,
                    P = s),
                    x = e,
                    L = null;
                else if (e !== x || u !== L) {
                    if (_ === N && S === N || (t.blendEquation(32774),
                    _ = N,
                    S = N),
                    u)
                        switch (e) {
                        case R:
                            t.blendFuncSeparate(1, 771, 1, 771);
                            break;
                        case C:
                            t.blendFunc(1, 1);
                            break;
                        case I:
                            t.blendFuncSeparate(0, 0, 769, 771);
                            break;
                        case D:
                            t.blendFuncSeparate(0, 768, 0, 770);
                            break;
                        default:
                            console.error("THREE.WebGLState: Invalid blending: ", e)
                        }
                    else
                        switch (e) {
                        case R:
                            t.blendFuncSeparate(770, 771, 1, 771);
                            break;
                        case C:
                            t.blendFunc(770, 1);
                            break;
                        case I:
                            t.blendFunc(0, 769);
                            break;
                        case D:
                            t.blendFunc(0, 768);
                            break;
                        default:
                            console.error("THREE.WebGLState: Invalid blending: ", e)
                        }
                    w = null,
                    M = null,
                    E = null,
                    P = null,
                    x = e,
                    L = u
                }
            } else
                b && (Mt(3042),
                b = !1)
        }
        function Pt(e) {
            at !== e && (e ? t.frontFace(2304) : t.frontFace(2305),
            at = e)
        }
        function Lt(e) {
            e !== m ? (wt(2884),
            e !== st && (e === v ? t.cullFace(1029) : e === g ? t.cullFace(1028) : t.cullFace(1032))) : Mt(2884),
            st = e
        }
        function Ot(e, n, r) {
            e ? (wt(32823),
            ct === n && lt === r || (t.polygonOffset(n, r),
            ct = n,
            lt = r)) : Mt(32823)
        }
        function Rt(e) {
            void 0 === e && (e = 33984 + ht - 1),
            mt !== e && (t.activeTexture(e),
            mt = e)
        }
        return {
            buffers: {
                color: s,
                depth: u,
                stencil: c
            },
            initAttributes: function() {
                for (var t = 0, e = h.length; t < e; t++)
                    h[t] = 0
            },
            enableAttribute: function(t) {
                _t(t, 0)
            },
            enableAttributeAndDivisor: _t,
            disableUnusedAttributes: function() {
                for (var e = 0, n = f.length; e !== n; ++e)
                    f[e] !== h[e] && (t.disableVertexAttribArray(e),
                    f[e] = 0)
            },
            enable: wt,
            disable: Mt,
            useProgram: function(e) {
                return y !== e && (t.useProgram(e),
                y = e,
                !0)
            },
            setBlending: At,
            setMaterial: function(t, e) {
                t.side === A ? Mt(2884) : wt(2884);
                var n = t.side === T;
                e && (n = !n),
                Pt(n),
                t.blending === R && !1 === t.transparent ? At(O) : At(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.premultipliedAlpha),
                u.setFunc(t.depthFunc),
                u.setTest(t.depthTest),
                u.setMask(t.depthWrite),
                s.setMask(t.colorWrite);
                var r = t.stencilWrite;
                c.setTest(r),
                r && (c.setMask(t.stencilWriteMask),
                c.setFunc(t.stencilFunc, t.stencilRef, t.stencilFuncMask),
                c.setOp(t.stencilFail, t.stencilZFail, t.stencilZPass)),
                Ot(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits)
            },
            setFlipSided: Pt,
            setCullFace: Lt,
            setLineWidth: function(e) {
                e !== ut && (ft && t.lineWidth(e),
                ut = e)
            },
            setPolygonOffset: Ot,
            setScissorTest: function(t) {
                t ? wt(3089) : Mt(3089)
            },
            activeTexture: Rt,
            bindTexture: function(e, n) {
                null === mt && Rt();
                var r = vt[mt];
                void 0 === r && (r = {
                    type: void 0,
                    texture: void 0
                },
                vt[mt] = r),
                r.type === e && r.texture === n || (t.bindTexture(e, n || xt[e]),
                r.type = e,
                r.texture = n)
            },
            unbindTexture: function() {
                var e = vt[mt];
                void 0 !== e && void 0 !== e.type && (t.bindTexture(e.type, null),
                e.type = void 0,
                e.texture = void 0)
            },
            compressedTexImage2D: function() {
                try {
                    t.compressedTexImage2D.apply(t, arguments)
                } catch (t) {
                    console.error("THREE.WebGLState:", t)
                }
            },
            texImage2D: function() {
                try {
                    t.texImage2D.apply(t, arguments)
                } catch (t) {
                    console.error("THREE.WebGLState:", t)
                }
            },
            texImage3D: function() {
                try {
                    t.texImage3D.apply(t, arguments)
                } catch (t) {
                    console.error("THREE.WebGLState:", t)
                }
            },
            scissor: function(e) {
                !1 === gt.equals(e) && (t.scissor(e.x, e.y, e.z, e.w),
                gt.copy(e))
            },
            viewport: function(e) {
                !1 === yt.equals(e) && (t.viewport(e.x, e.y, e.z, e.w),
                yt.copy(e))
            },
            reset: function() {
                for (var e = 0; e < f.length; e++)
                    1 === f[e] && (t.disableVertexAttribArray(e),
                    f[e] = 0);
                d = {},
                mt = null,
                vt = {},
                y = null,
                x = null,
                at = null,
                st = null,
                s.reset(),
                u.reset(),
                c.reset()
            }
        }
    }
    function Cs(t, e, n, r, o, a, s) {
        var u, c, l, h = o.isWebGL2, f = o.maxTextures, p = o.maxCubemapSize, d = o.maxTextureSize, m = o.maxSamples, v = new WeakMap, g = !1;
        try {
            g = "undefined" != typeof OffscreenCanvas && null !== new OffscreenCanvas(1,1).getContext("2d")
        } catch (t) {}
        function y(t, e) {
            return g ? new OffscreenCanvas(t,e) : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
        }
        function b(t, e, n, r) {
            var i = 1;
            if ((t.width > r || t.height > r) && (i = r / Math.max(t.width, t.height)),
            i < 1 || !0 === e) {
                if ("undefined" != typeof HTMLImageElement && t instanceof HTMLImageElement || "undefined" != typeof HTMLCanvasElement && t instanceof HTMLCanvasElement || "undefined" != typeof ImageBitmap && t instanceof ImageBitmap) {
                    var o = e ? Xn.floorPowerOfTwo : Math.floor
                      , a = o(i * t.width)
                      , s = o(i * t.height);
                    void 0 === l && (l = y(a, s));
                    var u = n ? y(a, s) : l;
                    return u.width = a,
                    u.height = s,
                    u.getContext("2d").drawImage(t, 0, 0, a, s),
                    console.warn("THREE.WebGLRenderer: Texture has been resized from (" + t.width + "x" + t.height + ") to (" + a + "x" + s + ")."),
                    u
                }
                return "data"in t && console.warn("THREE.WebGLRenderer: Image in DataTexture is too big (" + t.width + "x" + t.height + ")."),
                t
            }
            return t
        }
        function x(t) {
            return Xn.isPowerOfTwo(t.width) && Xn.isPowerOfTwo(t.height)
        }
        function _(t, e) {
            return t.generateMipmaps && e && t.minFilter !== Tt && t.minFilter !== Rt
        }
        function w(e, n, i, o) {
            t.generateMipmap(e),
            r.get(n).__maxMipLevel = Math.log(Math.max(i, o)) * Math.LOG2E
        }
        function M(n, r, i) {
            if (!1 === h)
                return r;
            if (null !== n) {
                if (void 0 !== t[n])
                    return t[n];
                console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '" + n + "'")
            }
            var o = r;
            return 6403 === r && (5126 === i && (o = 33326),
            5131 === i && (o = 33325),
            5121 === i && (o = 33321)),
            6407 === r && (5126 === i && (o = 34837),
            5131 === i && (o = 34843),
            5121 === i && (o = 32849)),
            6408 === r && (5126 === i && (o = 34836),
            5131 === i && (o = 34842),
            5121 === i && (o = 32856)),
            33325 === o || 33326 === o || 34842 === o || 34836 === o ? e.get("EXT_color_buffer_float") : 34843 !== o && 34837 !== o || console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),
            o
        }
        function S(t) {
            return t === Tt || t === At || t === Lt ? 9728 : 9729
        }
        function E(e) {
            var n = e.target;
            n.removeEventListener("dispose", E),
            function(e) {
                var n = r.get(e);
                if (void 0 === n.__webglInit)
                    return;
                t.deleteTexture(n.__webglTexture),
                r.remove(e)
            }(n),
            n.isVideoTexture && v.delete(n),
            s.memory.textures--
        }
        function T(e) {
            var n = e.target;
            n.removeEventListener("dispose", T),
            function(e) {
                var n = r.get(e)
                  , i = r.get(e.texture);
                if (!e)
                    return;
                void 0 !== i.__webglTexture && t.deleteTexture(i.__webglTexture);
                e.depthTexture && e.depthTexture.dispose();
                if (e.isWebGLCubeRenderTarget)
                    for (var o = 0; o < 6; o++)
                        t.deleteFramebuffer(n.__webglFramebuffer[o]),
                        n.__webglDepthbuffer && t.deleteRenderbuffer(n.__webglDepthbuffer[o]);
                else
                    t.deleteFramebuffer(n.__webglFramebuffer),
                    n.__webglDepthbuffer && t.deleteRenderbuffer(n.__webglDepthbuffer);
                r.remove(e.texture),
                r.remove(e)
            }(n),
            s.memory.textures--
        }
        var A = 0;
        function P(t, e) {
            var i = r.get(t);
            if (t.isVideoTexture && function(t) {
                var e = s.render.frame;
                v.get(t) !== e && (v.set(t, e),
                t.update())
            }(t),
            t.version > 0 && i.__version !== t.version) {
                var o = t.image;
                if (void 0 === o)
                    console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");
                else {
                    if (!1 !== o.complete)
                        return void k(i, t, e);
                    console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")
                }
            }
            n.activeTexture(33984 + e),
            n.bindTexture(3553, i.__webglTexture)
        }
        function L(e, i) {
            if (6 === e.image.length) {
                var o = r.get(e);
                if (e.version > 0 && o.__version !== e.version) {
                    D(o, e),
                    n.activeTexture(33984 + i),
                    n.bindTexture(34067, o.__webglTexture),
                    t.pixelStorei(37440, e.flipY);
                    for (var s = e && (e.isCompressedTexture || e.image[0].isCompressedTexture), u = e.image[0] && e.image[0].isDataTexture, c = [], l = 0; l < 6; l++)
                        c[l] = s || u ? u ? e.image[l].image : e.image[l] : b(e.image[l], !1, !0, p);
                    var f, d = c[0], m = x(d) || h, v = a.convert(e.format), g = a.convert(e.type), y = M(e.internalFormat, v, g);
                    if (I(34067, e, m),
                    s) {
                        for (l = 0; l < 6; l++) {
                            f = c[l].mipmaps;
                            for (var S = 0; S < f.length; S++) {
                                var E = f[S];
                                e.format !== Jt && e.format !== Zt ? null !== v ? n.compressedTexImage2D(34069 + l, S, y, E.width, E.height, 0, E.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : n.texImage2D(34069 + l, S, y, E.width, E.height, 0, v, g, E.data)
                            }
                        }
                        o.__maxMipLevel = f.length - 1
                    } else {
                        f = e.mipmaps;
                        for (l = 0; l < 6; l++)
                            if (u) {
                                n.texImage2D(34069 + l, 0, y, c[l].width, c[l].height, 0, v, g, c[l].data);
                                for (S = 0; S < f.length; S++) {
                                    var T = (E = f[S]).image[l].image;
                                    n.texImage2D(34069 + l, S + 1, y, T.width, T.height, 0, v, g, T.data)
                                }
                            } else {
                                n.texImage2D(34069 + l, 0, y, v, g, c[l]);
                                for (S = 0; S < f.length; S++) {
                                    E = f[S];
                                    n.texImage2D(34069 + l, S + 1, y, v, g, E.image[l])
                                }
                            }
                        o.__maxMipLevel = f.length
                    }
                    _(e, m) && w(34067, e, d.width, d.height),
                    o.__version = e.version,
                    e.onUpdate && e.onUpdate(e)
                } else
                    n.activeTexture(33984 + i),
                    n.bindTexture(34067, o.__webglTexture)
            }
        }
        function O(t, e) {
            n.activeTexture(33984 + e),
            n.bindTexture(34067, r.get(t).__webglTexture)
        }
        var R = (i(u = {}, Mt, 10497),
        i(u, St, 33071),
        i(u, Et, 33648),
        u)
          , C = (i(c = {}, Tt, 9728),
        i(c, At, 9984),
        i(c, Lt, 9986),
        i(c, Rt, 9729),
        i(c, Ct, 9985),
        i(c, Dt, 9987),
        c);
        function I(n, i, a) {
            a ? (t.texParameteri(n, 10242, R[i.wrapS]),
            t.texParameteri(n, 10243, R[i.wrapT]),
            32879 !== n && 35866 !== n || t.texParameteri(n, 32882, R[i.wrapR]),
            t.texParameteri(n, 10240, C[i.magFilter]),
            t.texParameteri(n, 10241, C[i.minFilter])) : (t.texParameteri(n, 10242, 33071),
            t.texParameteri(n, 10243, 33071),
            32879 !== n && 35866 !== n || t.texParameteri(n, 32882, 33071),
            i.wrapS === St && i.wrapT === St || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),
            t.texParameteri(n, 10240, S(i.magFilter)),
            t.texParameteri(n, 10241, S(i.minFilter)),
            i.minFilter !== Tt && i.minFilter !== Rt && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));
            var s = e.get("EXT_texture_filter_anisotropic");
            if (s) {
                if (i.type === Gt && null === e.get("OES_texture_float_linear"))
                    return;
                if (i.type === Ht && null === (h || e.get("OES_texture_half_float_linear")))
                    return;
                (i.anisotropy > 1 || r.get(i).__currentAnisotropy) && (t.texParameterf(n, s.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(i.anisotropy, o.getMaxAnisotropy())),
                r.get(i).__currentAnisotropy = i.anisotropy)
            }
        }
        function D(e, n) {
            void 0 === e.__webglInit && (e.__webglInit = !0,
            n.addEventListener("dispose", E),
            e.__webglTexture = t.createTexture(),
            s.memory.textures++)
        }
        function k(e, r, i) {
            var o = 3553;
            r.isDataTexture2DArray && (o = 35866),
            r.isDataTexture3D && (o = 32879),
            D(e, r),
            n.activeTexture(33984 + i),
            n.bindTexture(o, e.__webglTexture),
            t.pixelStorei(37440, r.flipY),
            t.pixelStorei(37441, r.premultiplyAlpha),
            t.pixelStorei(3317, r.unpackAlignment);
            var s = function(t) {
                return !h && (t.wrapS !== St || t.wrapT !== St || t.minFilter !== Tt && t.minFilter !== Rt)
            }(r) && !1 === x(r.image)
              , u = b(r.image, s, !1, d)
              , c = x(u) || h
              , l = a.convert(r.format)
              , f = a.convert(r.type)
              , p = M(r.internalFormat, l, f);
            I(o, r, c);
            var m, v = r.mipmaps;
            if (r.isDepthTexture) {
                if (p = 6402,
                r.type === Gt) {
                    if (!1 === h)
                        throw new Error("Float Depth Texture only supported in WebGL2.0");
                    p = 36012
                } else
                    h && (p = 33189);
                r.format === te && 6402 === p && r.type !== Ft && r.type !== Ut && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),
                r.type = Ft,
                f = a.convert(r.type)),
                r.format === ee && (p = 34041,
                r.type !== Xt && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),
                r.type = Xt,
                f = a.convert(r.type))),
                n.texImage2D(3553, 0, p, u.width, u.height, 0, l, f, null)
            } else if (r.isDataTexture)
                if (v.length > 0 && c) {
                    for (var g = 0, y = v.length; g < y; g++)
                        m = v[g],
                        n.texImage2D(3553, g, p, m.width, m.height, 0, l, f, m.data);
                    r.generateMipmaps = !1,
                    e.__maxMipLevel = v.length - 1
                } else
                    n.texImage2D(3553, 0, p, u.width, u.height, 0, l, f, u.data),
                    e.__maxMipLevel = 0;
            else if (r.isCompressedTexture) {
                for (g = 0,
                y = v.length; g < y; g++)
                    m = v[g],
                    r.format !== Jt && r.format !== Zt ? null !== l ? n.compressedTexImage2D(3553, g, p, m.width, m.height, 0, m.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : n.texImage2D(3553, g, p, m.width, m.height, 0, l, f, m.data);
                e.__maxMipLevel = v.length - 1
            } else if (r.isDataTexture2DArray)
                n.texImage3D(35866, 0, p, u.width, u.height, u.depth, 0, l, f, u.data),
                e.__maxMipLevel = 0;
            else if (r.isDataTexture3D)
                n.texImage3D(32879, 0, p, u.width, u.height, u.depth, 0, l, f, u.data),
                e.__maxMipLevel = 0;
            else if (v.length > 0 && c) {
                for (g = 0,
                y = v.length; g < y; g++)
                    m = v[g],
                    n.texImage2D(3553, g, p, l, f, m);
                r.generateMipmaps = !1,
                e.__maxMipLevel = v.length - 1
            } else
                n.texImage2D(3553, 0, p, l, f, u),
                e.__maxMipLevel = 0;
            _(r, c) && w(o, r, u.width, u.height),
            e.__version = r.version,
            r.onUpdate && r.onUpdate(r)
        }
        function N(e, i, o, s) {
            var u = a.convert(i.texture.format)
              , c = a.convert(i.texture.type)
              , l = M(i.texture.internalFormat, u, c);
            n.texImage2D(s, 0, l, i.width, i.height, 0, u, c, null),
            t.bindFramebuffer(36160, e),
            t.framebufferTexture2D(36160, o, s, r.get(i.texture).__webglTexture, 0),
            t.bindFramebuffer(36160, null)
        }
        function z(e, n, r) {
            if (t.bindRenderbuffer(36161, e),
            n.depthBuffer && !n.stencilBuffer) {
                if (r) {
                    var i = F(n);
                    t.renderbufferStorageMultisample(36161, i, 33189, n.width, n.height)
                } else
                    t.renderbufferStorage(36161, 33189, n.width, n.height);
                t.framebufferRenderbuffer(36160, 36096, 36161, e)
            } else if (n.depthBuffer && n.stencilBuffer) {
                if (r) {
                    i = F(n);
                    t.renderbufferStorageMultisample(36161, i, 35056, n.width, n.height)
                } else
                    t.renderbufferStorage(36161, 34041, n.width, n.height);
                t.framebufferRenderbuffer(36160, 33306, 36161, e)
            } else {
                var o = a.convert(n.texture.format)
                  , s = a.convert(n.texture.type)
                  , u = M(n.texture.internalFormat, o, s);
                if (r) {
                    i = F(n);
                    t.renderbufferStorageMultisample(36161, i, u, n.width, n.height)
                } else
                    t.renderbufferStorage(36161, u, n.width, n.height)
            }
            t.bindRenderbuffer(36161, null)
        }
        function j(e) {
            var n = r.get(e)
              , i = !0 === e.isWebGLCubeRenderTarget;
            if (e.depthTexture) {
                if (i)
                    throw new Error("target.depthTexture not supported in Cube render targets");
                !function(e, n) {
                    if (n && n.isWebGLCubeRenderTarget)
                        throw new Error("Depth Texture with cube render targets is not supported");
                    if (t.bindFramebuffer(36160, e),
                    !n.depthTexture || !n.depthTexture.isDepthTexture)
                        throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                    r.get(n.depthTexture).__webglTexture && n.depthTexture.image.width === n.width && n.depthTexture.image.height === n.height || (n.depthTexture.image.width = n.width,
                    n.depthTexture.image.height = n.height,
                    n.depthTexture.needsUpdate = !0),
                    P(n.depthTexture, 0);
                    var i = r.get(n.depthTexture).__webglTexture;
                    if (n.depthTexture.format === te)
                        t.framebufferTexture2D(36160, 36096, 3553, i, 0);
                    else {
                        if (n.depthTexture.format !== ee)
                            throw new Error("Unknown depthTexture format");
                        t.framebufferTexture2D(36160, 33306, 3553, i, 0)
                    }
                }(n.__webglFramebuffer, e)
            } else if (i) {
                n.__webglDepthbuffer = [];
                for (var o = 0; o < 6; o++)
                    t.bindFramebuffer(36160, n.__webglFramebuffer[o]),
                    n.__webglDepthbuffer[o] = t.createRenderbuffer(),
                    z(n.__webglDepthbuffer[o], e)
            } else
                t.bindFramebuffer(36160, n.__webglFramebuffer),
                n.__webglDepthbuffer = t.createRenderbuffer(),
                z(n.__webglDepthbuffer, e);
            t.bindFramebuffer(36160, null)
        }
        function F(t) {
            return h && t.isWebGLMultisampleRenderTarget ? Math.min(m, t.samples) : 0
        }
        var B = !1
          , U = !1;
        this.allocateTextureUnit = function() {
            var t = A;
            return t >= f && console.warn("THREE.WebGLTextures: Trying to use " + t + " texture units while this GPU supports only " + f),
            A += 1,
            t
        }
        ,
        this.resetTextureUnits = function() {
            A = 0
        }
        ,
        this.setTexture2D = P,
        this.setTexture2DArray = function(t, e) {
            var i = r.get(t);
            t.version > 0 && i.__version !== t.version ? k(i, t, e) : (n.activeTexture(33984 + e),
            n.bindTexture(35866, i.__webglTexture))
        }
        ,
        this.setTexture3D = function(t, e) {
            var i = r.get(t);
            t.version > 0 && i.__version !== t.version ? k(i, t, e) : (n.activeTexture(33984 + e),
            n.bindTexture(32879, i.__webglTexture))
        }
        ,
        this.setTextureCube = L,
        this.setTextureCubeDynamic = O,
        this.setupRenderTarget = function(e) {
            var i = r.get(e)
              , o = r.get(e.texture);
            e.addEventListener("dispose", T),
            o.__webglTexture = t.createTexture(),
            s.memory.textures++;
            var u = !0 === e.isWebGLCubeRenderTarget
              , c = !0 === e.isWebGLMultisampleRenderTarget
              , l = x(e) || h;
            if (u) {
                i.__webglFramebuffer = [];
                for (var f = 0; f < 6; f++)
                    i.__webglFramebuffer[f] = t.createFramebuffer()
            } else if (i.__webglFramebuffer = t.createFramebuffer(),
            c)
                if (h) {
                    i.__webglMultisampledFramebuffer = t.createFramebuffer(),
                    i.__webglColorRenderbuffer = t.createRenderbuffer(),
                    t.bindRenderbuffer(36161, i.__webglColorRenderbuffer);
                    var p = a.convert(e.texture.format)
                      , d = a.convert(e.texture.type)
                      , m = M(e.texture.internalFormat, p, d)
                      , v = F(e);
                    t.renderbufferStorageMultisample(36161, v, m, e.width, e.height),
                    t.bindFramebuffer(36160, i.__webglMultisampledFramebuffer),
                    t.framebufferRenderbuffer(36160, 36064, 36161, i.__webglColorRenderbuffer),
                    t.bindRenderbuffer(36161, null),
                    e.depthBuffer && (i.__webglDepthRenderbuffer = t.createRenderbuffer(),
                    z(i.__webglDepthRenderbuffer, e, !0)),
                    t.bindFramebuffer(36160, null)
                } else
                    console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");
            if (u) {
                n.bindTexture(34067, o.__webglTexture),
                I(34067, e.texture, l);
                for (f = 0; f < 6; f++)
                    N(i.__webglFramebuffer[f], e, 36064, 34069 + f);
                _(e.texture, l) && w(34067, e.texture, e.width, e.height),
                n.bindTexture(34067, null)
            } else
                n.bindTexture(3553, o.__webglTexture),
                I(3553, e.texture, l),
                N(i.__webglFramebuffer, e, 36064, 3553),
                _(e.texture, l) && w(3553, e.texture, e.width, e.height),
                n.bindTexture(3553, null);
            e.depthBuffer && j(e)
        }
        ,
        this.updateRenderTargetMipmap = function(t) {
            var e = t.texture;
            if (_(e, x(t) || h)) {
                var i = t.isWebGLCubeRenderTarget ? 34067 : 3553
                  , o = r.get(e).__webglTexture;
                n.bindTexture(i, o),
                w(i, e, t.width, t.height),
                n.bindTexture(i, null)
            }
        }
        ,
        this.updateMultisampleRenderTarget = function(e) {
            if (e.isWebGLMultisampleRenderTarget)
                if (h) {
                    var n = r.get(e);
                    t.bindFramebuffer(36008, n.__webglMultisampledFramebuffer),
                    t.bindFramebuffer(36009, n.__webglFramebuffer);
                    var i = e.width
                      , o = e.height
                      , a = 16384;
                    e.depthBuffer && (a |= 256),
                    e.stencilBuffer && (a |= 1024),
                    t.blitFramebuffer(0, 0, i, o, 0, 0, i, o, a, 9728)
                } else
                    console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")
        }
        ,
        this.safeSetTexture2D = function(t, e) {
            t && t.isWebGLRenderTarget && (!1 === B && (console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),
            B = !0),
            t = t.texture),
            P(t, e)
        }
        ,
        this.safeSetTextureCube = function(t, e) {
            t && t.isWebGLCubeRenderTarget && (!1 === U && (console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),
            U = !0),
            t = t.texture),
            t && t.isCubeTexture || Array.isArray(t.image) && 6 === t.image.length ? L(t, e) : O(t, e)
        }
    }
    function Is(t, e, n) {
        var r = n.isWebGL2;
        return {
            convert: function(t) {
                var n;
                if (t === Nt)
                    return 5121;
                if (t === Vt)
                    return 32819;
                if (t === Wt)
                    return 32820;
                if (t === qt)
                    return 33635;
                if (t === zt)
                    return 5120;
                if (t === jt)
                    return 5122;
                if (t === Ft)
                    return 5123;
                if (t === Bt)
                    return 5124;
                if (t === Ut)
                    return 5125;
                if (t === Gt)
                    return 5126;
                if (t === Ht)
                    return r ? 5131 : null !== (n = e.get("OES_texture_half_float")) ? n.HALF_FLOAT_OES : null;
                if (t === Yt)
                    return 6406;
                if (t === Zt)
                    return 6407;
                if (t === Jt)
                    return 6408;
                if (t === Qt)
                    return 6409;
                if (t === Kt)
                    return 6410;
                if (t === te)
                    return 6402;
                if (t === ee)
                    return 34041;
                if (t === ne)
                    return 6403;
                if (t === re)
                    return 36244;
                if (t === ie)
                    return 33319;
                if (t === oe)
                    return 33320;
                if (t === ae)
                    return 36248;
                if (t === se)
                    return 36249;
                if (t === ue || t === ce || t === le || t === he) {
                    if (null === (n = e.get("WEBGL_compressed_texture_s3tc")))
                        return null;
                    if (t === ue)
                        return n.COMPRESSED_RGB_S3TC_DXT1_EXT;
                    if (t === ce)
                        return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                    if (t === le)
                        return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                    if (t === he)
                        return n.COMPRESSED_RGBA_S3TC_DXT5_EXT
                }
                if (t === fe || t === pe || t === de || t === me) {
                    if (null === (n = e.get("WEBGL_compressed_texture_pvrtc")))
                        return null;
                    if (t === fe)
                        return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                    if (t === pe)
                        return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                    if (t === de)
                        return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                    if (t === me)
                        return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                }
                if (t === ve)
                    return null !== (n = e.get("WEBGL_compressed_texture_etc1")) ? n.COMPRESSED_RGB_ETC1_WEBGL : null;
                if ((t === ge || t === ye) && null !== (n = e.get("WEBGL_compressed_texture_etc"))) {
                    if (t === ge)
                        return n.COMPRESSED_RGB8_ETC2;
                    if (t === ye)
                        return n.COMPRESSED_RGBA8_ETC2_EAC
                }
                return t === be || t === xe || t === _e || t === we || t === Me || t === Se || t === Ee || t === Te || t === Ae || t === Pe || t === Le || t === Oe || t === Re || t === Ce || t === Ie || t === De || t === ke || t === Ne || t === ze || t === je || t === Fe || t === Be || t === Ue || t === Ge || t === He || t === Ve || t === We || t === qe ? null !== (n = e.get("WEBGL_compressed_texture_astc")) ? t : null : t === Xt ? r ? 34042 : null !== (n = e.get("WEBGL_depth_texture")) ? n.UNSIGNED_INT_24_8_WEBGL : null : void 0
            }
        }
    }
    function Ds(t) {
        Oo.call(this),
        this.cameras = t || []
    }
    function ks() {
        Rr.call(this),
        this.type = "Group"
    }
    function Ns(t, e) {
        var n = this
          , r = null
          , i = 1
          , o = null
          , a = "local-floor"
          , s = null
          , u = []
          , c = new Map
          , l = new Oo;
        l.layers.enable(1),
        l.viewport = new $n;
        var h = new Oo;
        h.layers.enable(2),
        h.viewport = new $n;
        var f = new Ds([l, h]);
        f.layers.enable(1),
        f.layers.enable(2);
        var p = null
          , d = null;
        function m(t) {
            var e = c.get(t.inputSource);
            e && (e.targetRay && e.targetRay.dispatchEvent({
                type: t.type
            }),
            e.grip && e.grip.dispatchEvent({
                type: t.type
            }))
        }
        function v() {
            c.forEach((function(t, e) {
                t.targetRay && (t.targetRay.dispatchEvent({
                    type: "disconnected",
                    data: e
                }),
                t.targetRay.visible = !1),
                t.grip && (t.grip.dispatchEvent({
                    type: "disconnected",
                    data: e
                }),
                t.grip.visible = !1)
            }
            )),
            c.clear(),
            t.setFramebuffer(null),
            t.setRenderTarget(t.getRenderTarget()),
            M.stop(),
            n.isPresenting = !1,
            n.dispatchEvent({
                type: "sessionend"
            })
        }
        function g(t) {
            o = t,
            M.setContext(r),
            M.start(),
            n.isPresenting = !0,
            n.dispatchEvent({
                type: "sessionstart"
            })
        }
        function y(t) {
            for (var e = r.inputSources, n = 0; n < u.length; n++)
                c.set(e[n], u[n]);
            for (n = 0; n < t.removed.length; n++) {
                var i = t.removed[n];
                (o = c.get(i)) && (o.targetRay && o.targetRay.dispatchEvent({
                    type: "disconnected",
                    data: i
                }),
                o.grip && o.grip.dispatchEvent({
                    type: "disconnected",
                    data: i
                }),
                c.delete(i))
            }
            for (n = 0; n < t.added.length; n++) {
                var o;
                i = t.added[n];
                (o = c.get(i)) && (o.targetRay && o.targetRay.dispatchEvent({
                    type: "connected",
                    data: i
                }),
                o.grip && o.grip.dispatchEvent({
                    type: "connected",
                    data: i
                }))
            }
        }
        this.enabled = !1,
        this.isPresenting = !1,
        this.getController = function(t) {
            var e = u[t];
            return void 0 === e && (e = {},
            u[t] = e),
            void 0 === e.targetRay && (e.targetRay = new ks,
            e.targetRay.matrixAutoUpdate = !1,
            e.targetRay.visible = !1),
            e.targetRay
        }
        ,
        this.getControllerGrip = function(t) {
            var e = u[t];
            return void 0 === e && (e = {},
            u[t] = e),
            void 0 === e.grip && (e.grip = new ks,
            e.grip.matrixAutoUpdate = !1,
            e.grip.visible = !1),
            e.grip
        }
        ,
        this.setFramebufferScaleFactor = function(t) {
            i = t,
            1 == n.isPresenting && console.warn("WebXRManager: Cannot change framebuffer scale while presenting VR content")
        }
        ,
        this.setReferenceSpaceType = function(t) {
            a = t
        }
        ,
        this.getReferenceSpace = function() {
            return o
        }
        ,
        this.getSession = function() {
            return r
        }
        ,
        this.setSession = function(t) {
            if (null !== (r = t)) {
                r.addEventListener("select", m),
                r.addEventListener("selectstart", m),
                r.addEventListener("selectend", m),
                r.addEventListener("squeeze", m),
                r.addEventListener("squeezestart", m),
                r.addEventListener("squeezeend", m),
                r.addEventListener("end", v);
                var n = e.getContextAttributes()
                  , o = {
                    antialias: n.antialias,
                    alpha: n.alpha,
                    depth: n.depth,
                    stencil: n.stencil,
                    framebufferScaleFactor: i
                }
                  , s = new XRWebGLLayer(r,e,o);
                r.updateRenderState({
                    baseLayer: s
                }),
                r.requestReferenceSpace(a).then(g),
                r.addEventListener("inputsourceschange", y)
            }
        }
        ;
        var b = new or
          , x = new or;
        function _(t, e) {
            null === e ? t.matrixWorld.copy(t.matrix) : t.matrixWorld.multiplyMatrices(e.matrixWorld, t.matrix),
            t.matrixWorldInverse.getInverse(t.matrixWorld)
        }
        this.getCamera = function(t) {
            f.near = h.near = l.near = t.near,
            f.far = h.far = l.far = t.far,
            p === f.near && d === f.far || (r.updateRenderState({
                depthNear: f.near,
                depthFar: f.far
            }),
            p = f.near,
            d = f.far);
            var e = t.parent
              , n = f.cameras;
            _(f, e);
            for (var i = 0; i < n.length; i++)
                _(n[i], e);
            t.matrixWorld.copy(f.matrixWorld);
            for (var o = t.children, a = (i = 0,
            o.length); i < a; i++)
                o[i].updateMatrixWorld(!0);
            return function(t, e, n) {
                b.setFromMatrixPosition(e.matrixWorld),
                x.setFromMatrixPosition(n.matrixWorld);
                var r = b.distanceTo(x)
                  , i = e.projectionMatrix.elements
                  , o = n.projectionMatrix.elements
                  , a = i[14] / (i[10] - 1)
                  , s = i[14] / (i[10] + 1)
                  , u = (i[9] + 1) / i[5]
                  , c = (i[9] - 1) / i[5]
                  , l = (i[8] - 1) / i[0]
                  , h = (o[8] + 1) / o[0]
                  , f = a * l
                  , p = a * h
                  , d = r / (-l + h)
                  , m = d * -l;
                e.matrixWorld.decompose(t.position, t.quaternion, t.scale),
                t.translateX(m),
                t.translateZ(d),
                t.matrixWorld.compose(t.position, t.quaternion, t.scale),
                t.matrixWorldInverse.getInverse(t.matrixWorld);
                var v = a + d
                  , g = s + d
                  , y = f - m
                  , _ = p + (r - m)
                  , w = u * s / g * v
                  , M = c * s / g * v;
                t.projectionMatrix.makePerspective(y, _, w, M, v, g)
            }(f, l, h),
            f
        }
        ;
        var w = null;
        var M = new jo;
        M.setAnimationLoop((function(e, n) {
            if (null !== (s = n.getViewerPose(o))) {
                var i = s.views
                  , a = r.renderState.baseLayer;
                t.setFramebuffer(a.framebuffer);
                for (var c = 0; c < i.length; c++) {
                    var l = i[c]
                      , h = a.getViewport(l)
                      , p = f.cameras[c];
                    p.matrix.fromArray(l.transform.matrix),
                    p.projectionMatrix.fromArray(l.projectionMatrix),
                    p.viewport.set(h.x, h.y, h.width, h.height),
                    0 === c && f.matrix.copy(p.matrix)
                }
            }
            var d = r.inputSources;
            for (c = 0; c < u.length; c++) {
                var m = u[c]
                  , v = d[c]
                  , g = null
                  , y = null;
                v && (m.targetRay && null !== (g = n.getPose(v.targetRaySpace, o)) && (m.targetRay.matrix.fromArray(g.transform.matrix),
                m.targetRay.matrix.decompose(m.targetRay.position, m.targetRay.rotation, m.targetRay.scale)),
                m.grip && v.gripSpace && null !== (y = n.getPose(v.gripSpace, o)) && (m.grip.matrix.fromArray(y.transform.matrix),
                m.grip.matrix.decompose(m.grip.position, m.grip.rotation, m.grip.scale))),
                m.targetRay && (m.targetRay.visible = null !== g),
                m.grip && (m.grip.visible = null !== y)
            }
            w && w(e, n)
        }
        )),
        this.setAnimationLoop = function(t) {
            w = t
        }
        ,
        this.dispose = function() {}
    }
    function zs(t) {
        var e = void 0 !== (t = t || {}).canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
          , n = void 0 !== t.context ? t.context : null
          , r = void 0 !== t.alpha && t.alpha
          , i = void 0 === t.depth || t.depth
          , o = void 0 === t.stencil || t.stencil
          , a = void 0 !== t.antialias && t.antialias
          , s = void 0 === t.premultipliedAlpha || t.premultipliedAlpha
          , u = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer
          , c = void 0 !== t.powerPreference ? t.powerPreference : "default"
          , l = void 0 !== t.failIfMajorPerformanceCaveat && t.failIfMajorPerformanceCaveat
          , h = null
          , f = null;
        this.domElement = e,
        this.debug = {
            checkShaderErrors: !0
        },
        this.autoClear = !0,
        this.autoClearColor = !0,
        this.autoClearDepth = !0,
        this.autoClearStencil = !0,
        this.sortObjects = !0,
        this.clippingPlanes = [],
        this.localClippingEnabled = !1,
        this.gammaFactor = 2,
        this.outputEncoding = an,
        this.physicallyCorrectLights = !1,
        this.toneMapping = lt,
        this.toneMappingExposure = 1,
        this.toneMappingWhitePoint = 1,
        this.maxMorphTargets = 8,
        this.maxMorphNormals = 4;
        var p, d, m, v, g, y, b, x, _, w, M, S, E, A, P, L, O, R, C = this, I = !1, D = null, k = 0, N = 0, z = null, j = null, F = -1, B = {
            geometry: null,
            program: null,
            wireframe: !1
        }, U = null, G = null, H = new $n, V = new $n, W = null, q = e.width, X = e.height, Y = 1, Z = null, J = null, Q = new $n(0,0,q,X), K = new $n(0,0,q,X), $ = !1, tt = new No, et = new Xo, nt = !1, rt = !1, it = new pr, ot = new or;
        function at() {
            return null === z ? Y : 1
        }
        try {
            var st = {
                alpha: r,
                depth: i,
                stencil: o,
                antialias: a,
                premultipliedAlpha: s,
                preserveDrawingBuffer: u,
                powerPreference: c,
                failIfMajorPerformanceCaveat: l,
                xrCompatible: !0
            };
            if (e.addEventListener("webglcontextlost", ft, !1),
            e.addEventListener("webglcontextrestored", pt, !1),
            null === (p = n || e.getContext("webgl", st) || e.getContext("experimental-webgl", st)))
                throw null !== e.getContext("webgl") ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
            void 0 === p.getShaderPrecisionFormat && (p.getShaderPrecisionFormat = function() {
                return {
                    rangeMin: 1,
                    rangeMax: 1,
                    precision: 1
                }
            }
            )
        } catch (t) {
            throw console.error("THREE.WebGLRenderer: " + t.message),
            t
        }
        function ut() {
            d = new Yo(p),
            !1 === (m = new qo(p,d,t)).isWebGL2 && (d.get("WEBGL_depth_texture"),
            d.get("OES_texture_float"),
            d.get("OES_texture_half_float"),
            d.get("OES_texture_half_float_linear"),
            d.get("OES_standard_derivatives"),
            d.get("OES_element_index_uint"),
            d.get("ANGLE_instanced_arrays")),
            d.get("OES_texture_float_linear"),
            R = new Is(p,d,m),
            (v = new Rs(p,d,m)).scissor(V.copy(K).multiplyScalar(Y).floor()),
            v.viewport(H.copy(Q).multiplyScalar(Y).floor()),
            g = new Qo(p),
            y = new gs,
            b = new Cs(p,d,v,y,m,R,g),
            x = new Fo(p,m),
            _ = new Zo(p,x,g),
            w = new ta(p,_,x,g),
            P = new $o(p),
            M = new vs(C,d,m),
            S = new _s,
            E = new As,
            A = new Vo(C,v,w,s),
            L = new Wo(p,d,g,m),
            O = new Jo(p,d,g,m),
            g.programs = M.programs,
            C.capabilities = m,
            C.extensions = d,
            C.properties = y,
            C.renderLists = S,
            C.state = v,
            C.info = g
        }
        ut();
        var ct = new Ns(C,p);
        this.xr = ct;
        var ht = new Os(C,w,m.maxTextureSize);
        function ft(t) {
            t.preventDefault(),
            console.log("THREE.WebGLRenderer: Context Lost."),
            I = !0
        }
        function pt() {
            console.log("THREE.WebGLRenderer: Context Restored."),
            I = !1,
            ut()
        }
        function dt(t) {
            var e = t.target;
            e.removeEventListener("dispose", dt),
            function(t) {
                mt(t),
                y.remove(t)
            }(e)
        }
        function mt(t) {
            var e = y.get(t).program;
            t.program = void 0,
            void 0 !== e && M.releaseProgram(e)
        }
        this.shadowMap = ht,
        this.getContext = function() {
            return p
        }
        ,
        this.getContextAttributes = function() {
            return p.getContextAttributes()
        }
        ,
        this.forceContextLoss = function() {
            var t = d.get("WEBGL_lose_context");
            t && t.loseContext()
        }
        ,
        this.forceContextRestore = function() {
            var t = d.get("WEBGL_lose_context");
            t && t.restoreContext()
        }
        ,
        this.getPixelRatio = function() {
            return Y
        }
        ,
        this.setPixelRatio = function(t) {
            void 0 !== t && (Y = t,
            this.setSize(q, X, !1))
        }
        ,
        this.getSize = function(t) {
            return void 0 === t && (console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),
            t = new Yn),
            t.set(q, X)
        }
        ,
        this.setSize = function(t, n, r) {
            ct.isPresenting ? console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (q = t,
            X = n,
            e.width = Math.floor(t * Y),
            e.height = Math.floor(n * Y),
            !1 !== r && (e.style.width = t + "px",
            e.style.height = n + "px"),
            this.setViewport(0, 0, t, n))
        }
        ,
        this.getDrawingBufferSize = function(t) {
            return void 0 === t && (console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),
            t = new Yn),
            t.set(q * Y, X * Y).floor()
        }
        ,
        this.setDrawingBufferSize = function(t, n, r) {
            q = t,
            X = n,
            Y = r,
            e.width = Math.floor(t * r),
            e.height = Math.floor(n * r),
            this.setViewport(0, 0, t, n)
        }
        ,
        this.getCurrentViewport = function(t) {
            return void 0 === t && (console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),
            t = new $n),
            t.copy(H)
        }
        ,
        this.getViewport = function(t) {
            return t.copy(Q)
        }
        ,
        this.setViewport = function(t, e, n, r) {
            t.isVector4 ? Q.set(t.x, t.y, t.z, t.w) : Q.set(t, e, n, r),
            v.viewport(H.copy(Q).multiplyScalar(Y).floor())
        }
        ,
        this.getScissor = function(t) {
            return t.copy(K)
        }
        ,
        this.setScissor = function(t, e, n, r) {
            t.isVector4 ? K.set(t.x, t.y, t.z, t.w) : K.set(t, e, n, r),
            v.scissor(V.copy(K).multiplyScalar(Y).floor())
        }
        ,
        this.getScissorTest = function() {
            return $
        }
        ,
        this.setScissorTest = function(t) {
            v.setScissorTest($ = t)
        }
        ,
        this.setOpaqueSort = function(t) {
            Z = t
        }
        ,
        this.setTransparentSort = function(t) {
            J = t
        }
        ,
        this.getClearColor = function() {
            return A.getClearColor()
        }
        ,
        this.setClearColor = function() {
            A.setClearColor.apply(A, arguments)
        }
        ,
        this.getClearAlpha = function() {
            return A.getClearAlpha()
        }
        ,
        this.setClearAlpha = function() {
            A.setClearAlpha.apply(A, arguments)
        }
        ,
        this.clear = function(t, e, n) {
            var r = 0;
            (void 0 === t || t) && (r |= 16384),
            (void 0 === e || e) && (r |= 256),
            (void 0 === n || n) && (r |= 1024),
            p.clear(r)
        }
        ,
        this.clearColor = function() {
            this.clear(!0, !1, !1)
        }
        ,
        this.clearDepth = function() {
            this.clear(!1, !0, !1)
        }
        ,
        this.clearStencil = function() {
            this.clear(!1, !1, !0)
        }
        ,
        this.dispose = function() {
            e.removeEventListener("webglcontextlost", ft, !1),
            e.removeEventListener("webglcontextrestored", pt, !1),
            S.dispose(),
            E.dispose(),
            y.dispose(),
            w.dispose(),
            ct.dispose(),
            yt.stop()
        }
        ,
        this.renderBufferImmediate = function(t, e) {
            v.initAttributes();
            var n = y.get(t);
            t.hasPositions && !n.position && (n.position = p.createBuffer()),
            t.hasNormals && !n.normal && (n.normal = p.createBuffer()),
            t.hasUvs && !n.uv && (n.uv = p.createBuffer()),
            t.hasColors && !n.color && (n.color = p.createBuffer());
            var r = e.getAttributes();
            t.hasPositions && (p.bindBuffer(34962, n.position),
            p.bufferData(34962, t.positionArray, 35048),
            v.enableAttribute(r.position),
            p.vertexAttribPointer(r.position, 3, 5126, !1, 0, 0)),
            t.hasNormals && (p.bindBuffer(34962, n.normal),
            p.bufferData(34962, t.normalArray, 35048),
            v.enableAttribute(r.normal),
            p.vertexAttribPointer(r.normal, 3, 5126, !1, 0, 0)),
            t.hasUvs && (p.bindBuffer(34962, n.uv),
            p.bufferData(34962, t.uvArray, 35048),
            v.enableAttribute(r.uv),
            p.vertexAttribPointer(r.uv, 2, 5126, !1, 0, 0)),
            t.hasColors && (p.bindBuffer(34962, n.color),
            p.bufferData(34962, t.colorArray, 35048),
            v.enableAttribute(r.color),
            p.vertexAttribPointer(r.color, 3, 5126, !1, 0, 0)),
            v.disableUnusedAttributes(),
            p.drawArrays(4, 0, t.count),
            t.count = 0
        }
        ;
        var vt = new Cr;
        this.renderBufferDirect = function(t, e, n, r, i, o) {
            null === e && (e = vt);
            var a = i.isMesh && i.matrixWorld.determinant() < 0
              , s = Mt(t, e, r, i);
            v.setMaterial(r, a);
            var u = !1;
            B.geometry === n.id && B.program === s.id && B.wireframe === (!0 === r.wireframe) || (B.geometry = n.id,
            B.program = s.id,
            B.wireframe = !0 === r.wireframe,
            u = !0),
            (r.morphTargets || r.morphNormals) && (P.update(i, n, r, s),
            u = !0);
            var c = n.index
              , l = n.attributes.position;
            if (null === c) {
                if (void 0 === l || 0 === l.count)
                    return
            } else if (0 === c.count)
                return;
            var h, f = 1;
            !0 === r.wireframe && (c = _.getWireframeAttribute(n),
            f = 2);
            var g = L;
            null !== c && (h = x.get(c),
            (g = O).setIndex(h)),
            u && (!function(t, e, n, r) {
                if (!1 === m.isWebGL2 && (t.isInstancedMesh || e.isInstancedBufferGeometry) && null === d.get("ANGLE_instanced_arrays"))
                    return;
                v.initAttributes();
                var i = e.attributes
                  , o = r.getAttributes()
                  , a = n.defaultAttributeValues;
                for (var s in o) {
                    var u = o[s];
                    if (u >= 0) {
                        var c = i[s];
                        if (void 0 !== c) {
                            var l = c.normalized
                              , h = c.itemSize;
                            if (void 0 === (M = x.get(c)))
                                continue;
                            var f = M.buffer
                              , g = M.type
                              , y = M.bytesPerElement;
                            if (c.isInterleavedBufferAttribute) {
                                var b = c.data
                                  , _ = b.stride
                                  , w = c.offset;
                                b && b.isInstancedInterleavedBuffer ? (v.enableAttributeAndDivisor(u, b.meshPerAttribute),
                                void 0 === e.maxInstancedCount && (e.maxInstancedCount = b.meshPerAttribute * b.count)) : v.enableAttribute(u),
                                p.bindBuffer(34962, f),
                                p.vertexAttribPointer(u, h, g, l, _ * y, w * y)
                            } else
                                c.isInstancedBufferAttribute ? (v.enableAttributeAndDivisor(u, c.meshPerAttribute),
                                void 0 === e.maxInstancedCount && (e.maxInstancedCount = c.meshPerAttribute * c.count)) : v.enableAttribute(u),
                                p.bindBuffer(34962, f),
                                p.vertexAttribPointer(u, h, g, l, 0, 0)
                        } else if ("instanceMatrix" === s) {
                            var M;
                            if (void 0 === (M = x.get(t.instanceMatrix)))
                                continue;
                            f = M.buffer,
                            g = M.type;
                            v.enableAttributeAndDivisor(u + 0, 1),
                            v.enableAttributeAndDivisor(u + 1, 1),
                            v.enableAttributeAndDivisor(u + 2, 1),
                            v.enableAttributeAndDivisor(u + 3, 1),
                            p.bindBuffer(34962, f),
                            p.vertexAttribPointer(u + 0, 4, g, !1, 64, 0),
                            p.vertexAttribPointer(u + 1, 4, g, !1, 64, 16),
                            p.vertexAttribPointer(u + 2, 4, g, !1, 64, 32),
                            p.vertexAttribPointer(u + 3, 4, g, !1, 64, 48)
                        } else if (void 0 !== a) {
                            var S = a[s];
                            if (void 0 !== S)
                                switch (S.length) {
                                case 2:
                                    p.vertexAttrib2fv(u, S);
                                    break;
                                case 3:
                                    p.vertexAttrib3fv(u, S);
                                    break;
                                case 4:
                                    p.vertexAttrib4fv(u, S);
                                    break;
                                default:
                                    p.vertexAttrib1fv(u, S)
                                }
                        }
                    }
                }
                v.disableUnusedAttributes()
            }(i, n, r, s),
            null !== c && p.bindBuffer(34963, h.buffer));
            var y = null !== c ? c.count : l.count
              , b = n.drawRange.start * f
              , w = n.drawRange.count * f
              , M = null !== o ? o.start * f : 0
              , S = null !== o ? o.count * f : 1 / 0
              , E = Math.max(b, M)
              , T = Math.min(y, b + w, M + S) - 1
              , A = Math.max(0, T - E + 1);
            if (0 !== A) {
                if (i.isMesh)
                    !0 === r.wireframe ? (v.setLineWidth(r.wireframeLinewidth * at()),
                    g.setMode(1)) : g.setMode(4);
                else if (i.isLine) {
                    var R = r.linewidth;
                    void 0 === R && (R = 1),
                    v.setLineWidth(R * at()),
                    i.isLineSegments ? g.setMode(1) : i.isLineLoop ? g.setMode(2) : g.setMode(3)
                } else
                    i.isPoints ? g.setMode(0) : i.isSprite && g.setMode(4);
                i.isInstancedMesh ? g.renderInstances(n, E, A, i.count) : n.isInstancedBufferGeometry ? g.renderInstances(n, E, A, n.maxInstancedCount) : g.render(E, A)
            }
        }
        ,
        this.compile = function(t, e) {
            (f = E.get(t, e)).init(),
            t.traverse((function(t) {
                t.isLight && (f.pushLight(t),
                t.castShadow && f.pushShadow(t))
            }
            )),
            f.setupLights(e);
            var n = {};
            t.traverse((function(e) {
                if (e.material)
                    if (Array.isArray(e.material))
                        for (var r = 0; r < e.material.length; r++)
                            e.material[r].uuid in n == !1 && (wt(e.material[r], t, e),
                            n[e.material[r].uuid] = !0);
                    else
                        e.material.uuid in n == !1 && (wt(e.material, t, e),
                        n[e.material.uuid] = !0)
            }
            ))
        }
        ;
        var gt = null;
        var yt = new jo;
        function bt(t, e, n, r) {
            if (!1 !== t.visible) {
                if (t.layers.test(e.layers))
                    if (t.isGroup)
                        n = t.renderOrder;
                    else if (t.isLOD)
                        !0 === t.autoUpdate && t.update(e);
                    else if (t.isLight)
                        f.pushLight(t),
                        t.castShadow && f.pushShadow(t);
                    else if (t.isSprite) {
                        if (!t.frustumCulled || tt.intersectsSprite(t)) {
                            r && ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);
                            var i = w.update(t);
                            (o = t.material).visible && h.push(t, i, o, n, ot.z, null)
                        }
                    } else if (t.isImmediateRenderObject)
                        r && ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),
                        h.push(t, null, t.material, n, ot.z, null);
                    else if ((t.isMesh || t.isLine || t.isPoints) && (t.isSkinnedMesh && t.skeleton.frame !== g.render.frame && (t.skeleton.update(),
                    t.skeleton.frame = g.render.frame),
                    !t.frustumCulled || tt.intersectsObject(t))) {
                        r && ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);
                        i = w.update(t);
                        var o = t.material;
                        if (Array.isArray(o))
                            for (var a = i.groups, s = 0, u = a.length; s < u; s++) {
                                var c = a[s]
                                  , l = o[c.materialIndex];
                                l && l.visible && h.push(t, i, l, n, ot.z, c)
                            }
                        else
                            o.visible && h.push(t, i, o, n, ot.z, null)
                    }
                var p = t.children;
                for (s = 0,
                u = p.length; s < u; s++)
                    bt(p[s], e, n, r)
            }
        }
        function xt(t, e, n, r) {
            for (var i = 0, o = t.length; i < o; i++) {
                var a = t[i]
                  , s = a.object
                  , u = a.geometry
                  , c = void 0 === r ? a.material : r
                  , l = a.group;
                if (n.isArrayCamera) {
                    G = n;
                    for (var h = n.cameras, p = 0, d = h.length; p < d; p++) {
                        var m = h[p];
                        s.layers.test(m.layers) && (v.viewport(H.copy(m.viewport)),
                        f.setupLights(m),
                        _t(s, e, m, u, c, l))
                    }
                } else
                    G = null,
                    _t(s, e, n, u, c, l)
            }
        }
        function _t(t, e, n, r, i, o) {
            if (t.onBeforeRender(C, e, n, r, i, o),
            f = E.get(e, G || n),
            t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, t.matrixWorld),
            t.normalMatrix.getNormalMatrix(t.modelViewMatrix),
            t.isImmediateRenderObject) {
                var a = Mt(n, e, i, t);
                v.setMaterial(i),
                B.geometry = null,
                B.program = null,
                B.wireframe = !1,
                function(t, e) {
                    t.render((function(t) {
                        C.renderBufferImmediate(t, e)
                    }
                    ))
                }(t, a)
            } else
                C.renderBufferDirect(n, e, r, i, t, o);
            t.onAfterRender(C, e, n, r, i, o),
            f = E.get(e, G || n)
        }
        function wt(t, e, n) {
            var r = y.get(t)
              , i = f.state.lights
              , o = f.state.shadowsArray
              , a = i.state.version
              , s = M.getParameters(t, i.state, o, e, et.numPlanes, et.numIntersection, n)
              , u = M.getProgramCacheKey(s)
              , c = r.program
              , l = !0;
            if (void 0 === c)
                t.addEventListener("dispose", dt);
            else if (c.cacheKey !== u)
                mt(t);
            else if (r.lightsStateVersion !== a)
                r.lightsStateVersion = a,
                l = !1;
            else {
                if (void 0 !== s.shaderID)
                    return;
                l = !1
            }
            l && (c = M.acquireProgram(s, u),
            r.program = c,
            r.uniforms = s.uniforms,
            r.environment = t.isMeshStandardMaterial ? e.environment : null,
            r.outputEncoding = C.outputEncoding,
            t.program = c);
            var h = c.getAttributes();
            if (t.morphTargets) {
                t.numSupportedMorphTargets = 0;
                for (var p = 0; p < C.maxMorphTargets; p++)
                    h["morphTarget" + p] >= 0 && t.numSupportedMorphTargets++
            }
            if (t.morphNormals) {
                t.numSupportedMorphNormals = 0;
                for (p = 0; p < C.maxMorphNormals; p++)
                    h["morphNormal" + p] >= 0 && t.numSupportedMorphNormals++
            }
            var d = r.uniforms;
            (t.isShaderMaterial || t.isRawShaderMaterial) && !0 !== t.clipping || (r.numClippingPlanes = et.numPlanes,
            r.numIntersection = et.numIntersection,
            d.clippingPlanes = et.uniform),
            r.fog = e.fog,
            r.needsLights = function(t) {
                return t.isMeshLambertMaterial || t.isMeshToonMaterial || t.isMeshPhongMaterial || t.isMeshStandardMaterial || t.isShadowMaterial || t.isShaderMaterial && !0 === t.lights
            }(t),
            r.lightsStateVersion = a,
            r.needsLights && (d.ambientLightColor.value = i.state.ambient,
            d.lightProbe.value = i.state.probe,
            d.directionalLights.value = i.state.directional,
            d.directionalLightShadows.value = i.state.directionalShadow,
            d.spotLights.value = i.state.spot,
            d.spotLightShadows.value = i.state.spotShadow,
            d.rectAreaLights.value = i.state.rectArea,
            d.pointLights.value = i.state.point,
            d.pointLightShadows.value = i.state.pointShadow,
            d.hemisphereLights.value = i.state.hemi,
            d.directionalShadowMap.value = i.state.directionalShadowMap,
            d.directionalShadowMatrix.value = i.state.directionalShadowMatrix,
            d.spotShadowMap.value = i.state.spotShadowMap,
            d.spotShadowMatrix.value = i.state.spotShadowMatrix,
            d.pointShadowMap.value = i.state.pointShadowMap,
            d.pointShadowMatrix.value = i.state.pointShadowMatrix);
            var m = r.program.getUniforms()
              , v = Ka.seqWithValue(m.seq, d);
            r.uniformsList = v
        }
        function Mt(t, e, n, r) {
            b.resetTextureUnits();
            var i = e.fog
              , o = n.isMeshStandardMaterial ? e.environment : null
              , a = y.get(n)
              , s = f.state.lights;
            if (nt && (rt || t !== U)) {
                var u = t === U && n.id === F;
                et.setState(n.clippingPlanes, n.clipIntersection, n.clipShadows, t, a, u)
            }
            n.version === a.__version ? void 0 === a.program || n.fog && a.fog !== i || a.environment !== o || a.needsLights && a.lightsStateVersion !== s.state.version ? wt(n, e, r) : void 0 === a.numClippingPlanes || a.numClippingPlanes === et.numPlanes && a.numIntersection === et.numIntersection ? a.outputEncoding !== C.outputEncoding && wt(n, e, r) : wt(n, e, r) : (wt(n, e, r),
            a.__version = n.version);
            var c, l, h = !1, d = !1, g = !1, x = a.program, _ = x.getUniforms(), w = a.uniforms;
            if (v.useProgram(x.program) && (h = !0,
            d = !0,
            g = !0),
            n.id !== F && (F = n.id,
            d = !0),
            h || U !== t) {
                if (_.setValue(p, "projectionMatrix", t.projectionMatrix),
                m.logarithmicDepthBuffer && _.setValue(p, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)),
                U !== t && (U = t,
                d = !0,
                g = !0),
                n.isShaderMaterial || n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshStandardMaterial || n.envMap) {
                    var M = _.map.cameraPosition;
                    void 0 !== M && M.setValue(p, ot.setFromMatrixPosition(t.matrixWorld))
                }
                (n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial) && _.setValue(p, "isOrthographic", !0 === t.isOrthographicCamera),
                (n.isMeshPhongMaterial || n.isMeshToonMaterial || n.isMeshLambertMaterial || n.isMeshBasicMaterial || n.isMeshStandardMaterial || n.isShaderMaterial || n.skinning) && _.setValue(p, "viewMatrix", t.matrixWorldInverse)
            }
            if (n.skinning) {
                _.setOptional(p, r, "bindMatrix"),
                _.setOptional(p, r, "bindMatrixInverse");
                var S = r.skeleton;
                if (S) {
                    var E = S.bones;
                    if (m.floatVertexTextures) {
                        if (void 0 === S.boneTexture) {
                            var A = Math.sqrt(4 * E.length);
                            A = Xn.ceilPowerOfTwo(A),
                            A = Math.max(A, 4);
                            var P = new Float32Array(A * A * 4);
                            P.set(S.boneMatrices);
                            var L = new Io(P,A,A,Jt,Gt);
                            S.boneMatrices = P,
                            S.boneTexture = L,
                            S.boneTextureSize = A
                        }
                        _.setValue(p, "boneTexture", S.boneTexture, b),
                        _.setValue(p, "boneTextureSize", S.boneTextureSize)
                    } else
                        _.setOptional(p, S, "boneMatrices")
                }
            }
            return (d || a.receiveShadow !== r.receiveShadow) && (a.receiveShadow = r.receiveShadow,
            _.setValue(p, "receiveShadow", r.receiveShadow)),
            d && (_.setValue(p, "toneMappingExposure", C.toneMappingExposure),
            _.setValue(p, "toneMappingWhitePoint", C.toneMappingWhitePoint),
            a.needsLights && (l = g,
            (c = w).ambientLightColor.needsUpdate = l,
            c.lightProbe.needsUpdate = l,
            c.directionalLights.needsUpdate = l,
            c.directionalLightShadows.needsUpdate = l,
            c.pointLights.needsUpdate = l,
            c.pointLightShadows.needsUpdate = l,
            c.spotLights.needsUpdate = l,
            c.spotLightShadows.needsUpdate = l,
            c.rectAreaLights.needsUpdate = l,
            c.hemisphereLights.needsUpdate = l),
            i && n.fog && function(t, e) {
                t.fogColor.value.copy(e.color),
                e.isFog ? (t.fogNear.value = e.near,
                t.fogFar.value = e.far) : e.isFogExp2 && (t.fogDensity.value = e.density)
            }(w, i),
            n.isMeshBasicMaterial ? St(w, n) : n.isMeshLambertMaterial ? (St(w, n),
            function(t, e) {
                e.emissiveMap && (t.emissiveMap.value = e.emissiveMap)
            }(w, n)) : n.isMeshToonMaterial ? (St(w, n),
            function(t, e) {
                t.specular.value.copy(e.specular),
                t.shininess.value = Math.max(e.shininess, 1e-4),
                e.gradientMap && (t.gradientMap.value = e.gradientMap);
                e.emissiveMap && (t.emissiveMap.value = e.emissiveMap);
                e.bumpMap && (t.bumpMap.value = e.bumpMap,
                t.bumpScale.value = e.bumpScale,
                e.side === T && (t.bumpScale.value *= -1));
                e.normalMap && (t.normalMap.value = e.normalMap,
                t.normalScale.value.copy(e.normalScale),
                e.side === T && t.normalScale.value.negate());
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias)
            }(w, n)) : n.isMeshPhongMaterial ? (St(w, n),
            function(t, e) {
                t.specular.value.copy(e.specular),
                t.shininess.value = Math.max(e.shininess, 1e-4),
                e.emissiveMap && (t.emissiveMap.value = e.emissiveMap);
                e.bumpMap && (t.bumpMap.value = e.bumpMap,
                t.bumpScale.value = e.bumpScale,
                e.side === T && (t.bumpScale.value *= -1));
                e.normalMap && (t.normalMap.value = e.normalMap,
                t.normalScale.value.copy(e.normalScale),
                e.side === T && t.normalScale.value.negate());
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias)
            }(w, n)) : n.isMeshStandardMaterial ? (St(w, n, o),
            n.isMeshPhysicalMaterial ? function(t, e, n) {
                Et(t, e, n),
                t.reflectivity.value = e.reflectivity,
                t.clearcoat.value = e.clearcoat,
                t.clearcoatRoughness.value = e.clearcoatRoughness,
                e.sheen && t.sheen.value.copy(e.sheen);
                e.clearcoatNormalMap && (t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),
                t.clearcoatNormalMap.value = e.clearcoatNormalMap,
                e.side === T && t.clearcoatNormalScale.value.negate());
                t.transparency.value = e.transparency
            }(w, n, o) : Et(w, n, o)) : n.isMeshMatcapMaterial ? (St(w, n),
            function(t, e) {
                e.matcap && (t.matcap.value = e.matcap);
                e.bumpMap && (t.bumpMap.value = e.bumpMap,
                t.bumpScale.value = e.bumpScale,
                e.side === T && (t.bumpScale.value *= -1));
                e.normalMap && (t.normalMap.value = e.normalMap,
                t.normalScale.value.copy(e.normalScale),
                e.side === T && t.normalScale.value.negate());
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias)
            }(w, n)) : n.isMeshDepthMaterial ? (St(w, n),
            function(t, e) {
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias)
            }(w, n)) : n.isMeshDistanceMaterial ? (St(w, n),
            function(t, e) {
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias);
                t.referencePosition.value.copy(e.referencePosition),
                t.nearDistance.value = e.nearDistance,
                t.farDistance.value = e.farDistance
            }(w, n)) : n.isMeshNormalMaterial ? (St(w, n),
            function(t, e) {
                e.bumpMap && (t.bumpMap.value = e.bumpMap,
                t.bumpScale.value = e.bumpScale,
                e.side === T && (t.bumpScale.value *= -1));
                e.normalMap && (t.normalMap.value = e.normalMap,
                t.normalScale.value.copy(e.normalScale),
                e.side === T && t.normalScale.value.negate());
                e.displacementMap && (t.displacementMap.value = e.displacementMap,
                t.displacementScale.value = e.displacementScale,
                t.displacementBias.value = e.displacementBias)
            }(w, n)) : n.isLineBasicMaterial ? (function(t, e) {
                t.diffuse.value.copy(e.color),
                t.opacity.value = e.opacity
            }(w, n),
            n.isLineDashedMaterial && function(t, e) {
                t.dashSize.value = e.dashSize,
                t.totalSize.value = e.dashSize + e.gapSize,
                t.scale.value = e.scale
            }(w, n)) : n.isPointsMaterial ? function(t, e) {
                t.diffuse.value.copy(e.color),
                t.opacity.value = e.opacity,
                t.size.value = e.size * Y,
                t.scale.value = .5 * X,
                e.map && (t.map.value = e.map);
                e.alphaMap && (t.alphaMap.value = e.alphaMap);
                var n;
                e.map ? n = e.map : e.alphaMap && (n = e.alphaMap);
                void 0 !== n && (!0 === n.matrixAutoUpdate && n.updateMatrix(),
                t.uvTransform.value.copy(n.matrix))
            }(w, n) : n.isSpriteMaterial ? function(t, e) {
                t.diffuse.value.copy(e.color),
                t.opacity.value = e.opacity,
                t.rotation.value = e.rotation,
                e.map && (t.map.value = e.map);
                e.alphaMap && (t.alphaMap.value = e.alphaMap);
                var n;
                e.map ? n = e.map : e.alphaMap && (n = e.alphaMap);
                void 0 !== n && (!0 === n.matrixAutoUpdate && n.updateMatrix(),
                t.uvTransform.value.copy(n.matrix))
            }(w, n) : n.isShadowMaterial && (w.color.value.copy(n.color),
            w.opacity.value = n.opacity),
            void 0 !== w.ltc_1 && (w.ltc_1.value = zo.LTC_1),
            void 0 !== w.ltc_2 && (w.ltc_2.value = zo.LTC_2),
            Ka.upload(p, a.uniformsList, w, b),
            n.isShaderMaterial && (n.uniformsNeedUpdate = !1)),
            n.isShaderMaterial && !0 === n.uniformsNeedUpdate && (Ka.upload(p, a.uniformsList, w, b),
            n.uniformsNeedUpdate = !1),
            n.isSpriteMaterial && _.setValue(p, "center", r.center),
            _.setValue(p, "modelViewMatrix", r.modelViewMatrix),
            _.setValue(p, "normalMatrix", r.normalMatrix),
            _.setValue(p, "modelMatrix", r.matrixWorld),
            x
        }
        function St(t, e, n) {
            t.opacity.value = e.opacity,
            e.color && t.diffuse.value.copy(e.color),
            e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),
            e.map && (t.map.value = e.map),
            e.alphaMap && (t.alphaMap.value = e.alphaMap),
            e.specularMap && (t.specularMap.value = e.specularMap);
            var r, i, o = e.envMap || n;
            o && (t.envMap.value = o,
            t.flipEnvMap.value = o.isCubeTexture ? -1 : 1,
            t.reflectivity.value = e.reflectivity,
            t.refractionRatio.value = e.refractionRatio,
            t.maxMipLevel.value = y.get(o).__maxMipLevel),
            e.lightMap && (t.lightMap.value = e.lightMap,
            t.lightMapIntensity.value = e.lightMapIntensity),
            e.aoMap && (t.aoMap.value = e.aoMap,
            t.aoMapIntensity.value = e.aoMapIntensity),
            e.map ? r = e.map : e.specularMap ? r = e.specularMap : e.displacementMap ? r = e.displacementMap : e.normalMap ? r = e.normalMap : e.bumpMap ? r = e.bumpMap : e.roughnessMap ? r = e.roughnessMap : e.metalnessMap ? r = e.metalnessMap : e.alphaMap ? r = e.alphaMap : e.emissiveMap && (r = e.emissiveMap),
            void 0 !== r && (r.isWebGLRenderTarget && (r = r.texture),
            !0 === r.matrixAutoUpdate && r.updateMatrix(),
            t.uvTransform.value.copy(r.matrix)),
            e.aoMap ? i = e.aoMap : e.lightMap && (i = e.lightMap),
            void 0 !== i && (i.isWebGLRenderTarget && (i = i.texture),
            !0 === i.matrixAutoUpdate && i.updateMatrix(),
            t.uv2Transform.value.copy(i.matrix))
        }
        function Et(t, e, n) {
            t.roughness.value = e.roughness,
            t.metalness.value = e.metalness,
            e.roughnessMap && (t.roughnessMap.value = e.roughnessMap),
            e.metalnessMap && (t.metalnessMap.value = e.metalnessMap),
            e.emissiveMap && (t.emissiveMap.value = e.emissiveMap),
            e.bumpMap && (t.bumpMap.value = e.bumpMap,
            t.bumpScale.value = e.bumpScale,
            e.side === T && (t.bumpScale.value *= -1)),
            e.normalMap && (t.normalMap.value = e.normalMap,
            t.normalScale.value.copy(e.normalScale),
            e.side === T && t.normalScale.value.negate()),
            e.displacementMap && (t.displacementMap.value = e.displacementMap,
            t.displacementScale.value = e.displacementScale,
            t.displacementBias.value = e.displacementBias),
            (e.envMap || n) && (t.envMapIntensity.value = e.envMapIntensity)
        }
        yt.setAnimationLoop((function(t) {
            ct.isPresenting || gt && gt(t)
        }
        )),
        "undefined" != typeof window && yt.setContext(window),
        this.setAnimationLoop = function(t) {
            gt = t,
            ct.setAnimationLoop(t),
            yt.start()
        }
        ,
        this.render = function(t, e) {
            var n, r;
            if (void 0 !== arguments[2] && (console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),
            n = arguments[2]),
            void 0 !== arguments[3] && (console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),
            r = arguments[3]),
            e && e.isCamera) {
                if (!I) {
                    B.geometry = null,
                    B.program = null,
                    B.wireframe = !1,
                    F = -1,
                    U = null,
                    !0 === t.autoUpdate && t.updateMatrixWorld(),
                    null === e.parent && e.updateMatrixWorld(),
                    ct.enabled && ct.isPresenting && (e = ct.getCamera(e)),
                    (f = E.get(t, e)).init(),
                    t.onBeforeRender(C, t, e, n || z),
                    it.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse),
                    tt.setFromProjectionMatrix(it),
                    rt = this.localClippingEnabled,
                    nt = et.init(this.clippingPlanes, rt, e),
                    (h = S.get(t, e)).init(),
                    bt(t, e, 0, C.sortObjects),
                    h.finish(),
                    !0 === C.sortObjects && h.sort(Z, J),
                    nt && et.beginShadows();
                    var i = f.state.shadowsArray;
                    ht.render(i, t, e),
                    f.setupLights(e),
                    nt && et.endShadows(),
                    this.info.autoReset && this.info.reset(),
                    void 0 !== n && this.setRenderTarget(n),
                    A.render(h, t, e, r);
                    var o = h.opaque
                      , a = h.transparent;
                    if (t.overrideMaterial) {
                        var s = t.overrideMaterial;
                        o.length && xt(o, t, e, s),
                        a.length && xt(a, t, e, s)
                    } else
                        o.length && xt(o, t, e),
                        a.length && xt(a, t, e);
                    t.onAfterRender(C, t, e),
                    null !== z && (b.updateRenderTargetMipmap(z),
                    b.updateMultisampleRenderTarget(z)),
                    v.buffers.depth.setTest(!0),
                    v.buffers.depth.setMask(!0),
                    v.buffers.color.setMask(!0),
                    v.setPolygonOffset(!1),
                    h = null,
                    f = null
                }
            } else
                console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")
        }
        ,
        this.setFramebuffer = function(t) {
            D !== t && null === z && p.bindFramebuffer(36160, t),
            D = t
        }
        ,
        this.getActiveCubeFace = function() {
            return k
        }
        ,
        this.getActiveMipmapLevel = function() {
            return N
        }
        ,
        this.getRenderTarget = function() {
            return z
        }
        ,
        this.setRenderTarget = function(t, e, n) {
            z = t,
            k = e,
            N = n,
            t && void 0 === y.get(t).__webglFramebuffer && b.setupRenderTarget(t);
            var r = D
              , i = !1;
            if (t) {
                var o = y.get(t).__webglFramebuffer;
                t.isWebGLCubeRenderTarget ? (r = o[e || 0],
                i = !0) : r = t.isWebGLMultisampleRenderTarget ? y.get(t).__webglMultisampledFramebuffer : o,
                H.copy(t.viewport),
                V.copy(t.scissor),
                W = t.scissorTest
            } else
                H.copy(Q).multiplyScalar(Y).floor(),
                V.copy(K).multiplyScalar(Y).floor(),
                W = $;
            if (j !== r && (p.bindFramebuffer(36160, r),
            j = r),
            v.viewport(H),
            v.scissor(V),
            v.setScissorTest(W),
            i) {
                var a = y.get(t.texture);
                p.framebufferTexture2D(36160, 36064, 34069 + (e || 0), a.__webglTexture, n || 0)
            }
        }
        ,
        this.readRenderTargetPixels = function(t, e, n, r, i, o, a) {
            if (t && t.isWebGLRenderTarget) {
                var s = y.get(t).__webglFramebuffer;
                if (t.isWebGLCubeRenderTarget && void 0 !== a && (s = s[a]),
                s) {
                    var u = !1;
                    s !== j && (p.bindFramebuffer(36160, s),
                    u = !0);
                    try {
                        var c = t.texture
                          , l = c.format
                          , h = c.type;
                        if (l !== Jt && R.convert(l) !== p.getParameter(35739))
                            return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                        if (!(h === Nt || R.convert(h) === p.getParameter(35738) || h === Gt && (m.isWebGL2 || d.get("OES_texture_float") || d.get("WEBGL_color_buffer_float")) || h === Ht && (m.isWebGL2 ? d.get("EXT_color_buffer_float") : d.get("EXT_color_buffer_half_float"))))
                            return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                        36053 === p.checkFramebufferStatus(36160) ? e >= 0 && e <= t.width - r && n >= 0 && n <= t.height - i && p.readPixels(e, n, r, i, R.convert(l), R.convert(h), o) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")
                    } finally {
                        u && p.bindFramebuffer(36160, j)
                    }
                }
            } else
                console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")
        }
        ,
        this.copyFramebufferToTexture = function(t, e, n) {
            void 0 === n && (n = 0);
            var r = Math.pow(2, -n)
              , i = Math.floor(e.image.width * r)
              , o = Math.floor(e.image.height * r)
              , a = R.convert(e.format);
            b.setTexture2D(e, 0),
            p.copyTexImage2D(3553, n, a, t.x, t.y, i, o, 0),
            v.unbindTexture()
        }
        ,
        this.copyTextureToTexture = function(t, e, n, r) {
            var i = e.image.width
              , o = e.image.height
              , a = R.convert(n.format)
              , s = R.convert(n.type);
            b.setTexture2D(n, 0),
            e.isDataTexture ? p.texSubImage2D(3553, r || 0, t.x, t.y, i, o, a, s, e.image.data) : p.texSubImage2D(3553, r || 0, t.x, t.y, a, s, e.image),
            v.unbindTexture()
        }
        ,
        this.initTexture = function(t) {
            b.setTexture2D(t, 0),
            v.unbindTexture()
        }
        ,
        "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{
            detail: this
        }))
    }
    function js(t, e) {
        this.name = "",
        this.color = new wi(t),
        this.density = void 0 !== e ? e : 25e-5
    }
    function Fs(t, e, n) {
        this.name = "",
        this.color = new wi(t),
        this.near = void 0 !== e ? e : 1,
        this.far = void 0 !== n ? n : 1e3
    }
    function Bs(t, e) {
        this.array = t,
        this.stride = e,
        this.count = void 0 !== t ? t.length / e : 0,
        this.usage = Dn,
        this.updateRange = {
            offset: 0,
            count: -1
        },
        this.version = 0
    }
    Ds.prototype = Object.assign(Object.create(Oo.prototype), {
        constructor: Ds,
        isArrayCamera: !0
    }),
    ks.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: ks,
        isGroup: !0
    }),
    Object.assign(Ns.prototype, Hn.prototype),
    Object.assign(js.prototype, {
        isFogExp2: !0,
        clone: function() {
            return new js(this.color,this.density)
        },
        toJSON: function() {
            return {
                type: "FogExp2",
                color: this.color.getHex(),
                density: this.density
            }
        }
    }),
    Object.assign(Fs.prototype, {
        isFog: !0,
        clone: function() {
            return new Fs(this.color,this.near,this.far)
        },
        toJSON: function() {
            return {
                type: "Fog",
                color: this.color.getHex(),
                near: this.near,
                far: this.far
            }
        }
    }),
    Object.defineProperty(Bs.prototype, "needsUpdate", {
        set: function(t) {
            !0 === t && this.version++
        }
    }),
    Object.assign(Bs.prototype, {
        isInterleavedBuffer: !0,
        onUploadCallback: function() {},
        setUsage: function(t) {
            return this.usage = t,
            this
        },
        copy: function(t) {
            return this.array = new t.array.constructor(t.array),
            this.count = t.count,
            this.stride = t.stride,
            this.usage = t.usage,
            this
        },
        copyAt: function(t, e, n) {
            t *= this.stride,
            n *= e.stride;
            for (var r = 0, i = this.stride; r < i; r++)
                this.array[t + r] = e.array[n + r];
            return this
        },
        set: function(t, e) {
            return void 0 === e && (e = 0),
            this.array.set(t, e),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        onUpload: function(t) {
            return this.onUploadCallback = t,
            this
        }
    });
    var Us, Gs = new or;
    function Hs(t, e, n, r) {
        this.data = t,
        this.itemSize = e,
        this.offset = n,
        this.normalized = !0 === r
    }
    function Vs(t) {
        Pi.call(this),
        this.type = "SpriteMaterial",
        this.color = new wi(16777215),
        this.map = null,
        this.alphaMap = null,
        this.rotation = 0,
        this.sizeAttenuation = !0,
        this.transparent = !0,
        this.setValues(t)
    }
    Object.defineProperties(Hs.prototype, {
        count: {
            get: function() {
                return this.data.count
            }
        },
        array: {
            get: function() {
                return this.data.array
            }
        }
    }),
    Object.assign(Hs.prototype, {
        isInterleavedBufferAttribute: !0,
        applyMatrix4: function(t) {
            for (var e = 0, n = this.data.count; e < n; e++)
                Gs.x = this.getX(e),
                Gs.y = this.getY(e),
                Gs.z = this.getZ(e),
                Gs.applyMatrix4(t),
                this.setXYZ(e, Gs.x, Gs.y, Gs.z);
            return this
        },
        setX: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset] = e,
            this
        },
        setY: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 1] = e,
            this
        },
        setZ: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 2] = e,
            this
        },
        setW: function(t, e) {
            return this.data.array[t * this.data.stride + this.offset + 3] = e,
            this
        },
        getX: function(t) {
            return this.data.array[t * this.data.stride + this.offset]
        },
        getY: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 1]
        },
        getZ: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 2]
        },
        getW: function(t) {
            return this.data.array[t * this.data.stride + this.offset + 3]
        },
        setXY: function(t, e, n) {
            return t = t * this.data.stride + this.offset,
            this.data.array[t + 0] = e,
            this.data.array[t + 1] = n,
            this
        },
        setXYZ: function(t, e, n, r) {
            return t = t * this.data.stride + this.offset,
            this.data.array[t + 0] = e,
            this.data.array[t + 1] = n,
            this.data.array[t + 2] = r,
            this
        },
        setXYZW: function(t, e, n, r, i) {
            return t = t * this.data.stride + this.offset,
            this.data.array[t + 0] = e,
            this.data.array[t + 1] = n,
            this.data.array[t + 2] = r,
            this.data.array[t + 3] = i,
            this
        }
    }),
    Vs.prototype = Object.create(Pi.prototype),
    Vs.prototype.constructor = Vs,
    Vs.prototype.isSpriteMaterial = !0,
    Vs.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.alphaMap = t.alphaMap,
        this.rotation = t.rotation,
        this.sizeAttenuation = t.sizeAttenuation,
        this
    }
    ;
    var Ws = new or
      , qs = new or
      , Xs = new or
      , Ys = new Yn
      , Zs = new Yn
      , Js = new pr
      , Qs = new or
      , Ks = new or
      , $s = new or
      , tu = new Yn
      , eu = new Yn
      , nu = new Yn;
    function ru(t) {
        if (Rr.call(this),
        this.type = "Sprite",
        void 0 === Us) {
            Us = new Ji;
            var e = new Bs(new Float32Array([-.5, -.5, 0, 0, 0, .5, -.5, 0, 1, 0, .5, .5, 0, 1, 1, -.5, .5, 0, 0, 1]),5);
            Us.setIndex([0, 1, 2, 0, 2, 3]),
            Us.setAttribute("position", new Hs(e,3,0,!1)),
            Us.setAttribute("uv", new Hs(e,2,3,!1))
        }
        this.geometry = Us,
        this.material = void 0 !== t ? t : new Vs,
        this.center = new Yn(.5,.5)
    }
    function iu(t, e, n, r, i, o) {
        Ys.subVectors(t, n).addScalar(.5).multiply(r),
        void 0 !== i ? (Zs.x = o * Ys.x - i * Ys.y,
        Zs.y = i * Ys.x + o * Ys.y) : Zs.copy(Ys),
        t.copy(e),
        t.x += Zs.x,
        t.y += Zs.y,
        t.applyMatrix4(Js)
    }
    ru.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: ru,
        isSprite: !0,
        raycast: function(t, e) {
            null === t.camera && console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),
            qs.setFromMatrixScale(this.matrixWorld),
            Js.copy(t.camera.matrixWorld),
            this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse, this.matrixWorld),
            Xs.setFromMatrixPosition(this.modelViewMatrix),
            t.camera.isPerspectiveCamera && !1 === this.material.sizeAttenuation && qs.multiplyScalar(-Xs.z);
            var n, r, i = this.material.rotation;
            0 !== i && (r = Math.cos(i),
            n = Math.sin(i));
            var o = this.center;
            iu(Qs.set(-.5, -.5, 0), Xs, o, qs, n, r),
            iu(Ks.set(.5, -.5, 0), Xs, o, qs, n, r),
            iu($s.set(.5, .5, 0), Xs, o, qs, n, r),
            tu.set(0, 0),
            eu.set(1, 0),
            nu.set(1, 1);
            var a = t.ray.intersectTriangle(Qs, Ks, $s, !1, Ws);
            if (null !== a || (iu(Ks.set(-.5, .5, 0), Xs, o, qs, n, r),
            eu.set(0, 1),
            null !== (a = t.ray.intersectTriangle(Qs, $s, Ks, !1, Ws)))) {
                var s = t.ray.origin.distanceTo(Ws);
                s < t.near || s > t.far || e.push({
                    distance: s,
                    point: Ws.clone(),
                    uv: yi.getUV(Ws, Qs, Ks, $s, tu, eu, nu, new Yn),
                    face: null,
                    object: this
                })
            }
        },
        clone: function() {
            return new this.constructor(this.material).copy(this)
        },
        copy: function(t) {
            return Rr.prototype.copy.call(this, t),
            void 0 !== t.center && this.center.copy(t.center),
            this
        }
    });
    var ou = new or
      , au = new or;
    function su() {
        Rr.call(this),
        this._currentLevel = 0,
        this.type = "LOD",
        Object.defineProperties(this, {
            levels: {
                enumerable: !0,
                value: []
            }
        }),
        this.autoUpdate = !0
    }
    function uu(t, e) {
        t && t.isGeometry && console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),
        mo.call(this, t, e),
        this.type = "SkinnedMesh",
        this.bindMode = "attached",
        this.bindMatrix = new pr,
        this.bindMatrixInverse = new pr
    }
    su.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: su,
        isLOD: !0,
        copy: function(t) {
            Rr.prototype.copy.call(this, t, !1);
            for (var e = t.levels, n = 0, r = e.length; n < r; n++) {
                var i = e[n];
                this.addLevel(i.object.clone(), i.distance)
            }
            return this.autoUpdate = t.autoUpdate,
            this
        },
        addLevel: function(t, e) {
            void 0 === e && (e = 0),
            e = Math.abs(e);
            for (var n = this.levels, r = 0; r < n.length && !(e < n[r].distance); r++)
                ;
            return n.splice(r, 0, {
                distance: e,
                object: t
            }),
            this.add(t),
            this
        },
        getCurrentLevel: function() {
            return this._currentLevel
        },
        getObjectForDistance: function(t) {
            var e = this.levels;
            if (e.length > 0) {
                for (var n = 1, r = e.length; n < r && !(t < e[n].distance); n++)
                    ;
                return e[n - 1].object
            }
            return null
        },
        raycast: function(t, e) {
            if (this.levels.length > 0) {
                ou.setFromMatrixPosition(this.matrixWorld);
                var n = t.ray.origin.distanceTo(ou);
                this.getObjectForDistance(n).raycast(t, e)
            }
        },
        update: function(t) {
            var e = this.levels;
            if (e.length > 1) {
                ou.setFromMatrixPosition(t.matrixWorld),
                au.setFromMatrixPosition(this.matrixWorld);
                var n = ou.distanceTo(au) / t.zoom;
                e[0].object.visible = !0;
                for (var r = 1, i = e.length; r < i && n >= e[r].distance; r++)
                    e[r - 1].object.visible = !1,
                    e[r].object.visible = !0;
                for (this._currentLevel = r - 1; r < i; r++)
                    e[r].object.visible = !1
            }
        },
        toJSON: function(t) {
            var e = Rr.prototype.toJSON.call(this, t);
            !1 === this.autoUpdate && (e.object.autoUpdate = !1),
            e.object.levels = [];
            for (var n = this.levels, r = 0, i = n.length; r < i; r++) {
                var o = n[r];
                e.object.levels.push({
                    object: o.object.uuid,
                    distance: o.distance
                })
            }
            return e
        }
    }),
    uu.prototype = Object.assign(Object.create(mo.prototype), {
        constructor: uu,
        isSkinnedMesh: !0,
        bind: function(t, e) {
            this.skeleton = t,
            void 0 === e && (this.updateMatrixWorld(!0),
            this.skeleton.calculateInverses(),
            e = this.matrixWorld),
            this.bindMatrix.copy(e),
            this.bindMatrixInverse.getInverse(e)
        },
        pose: function() {
            this.skeleton.pose()
        },
        normalizeSkinWeights: function() {
            for (var t = new $n, e = this.geometry.attributes.skinWeight, n = 0, r = e.count; n < r; n++) {
                t.x = e.getX(n),
                t.y = e.getY(n),
                t.z = e.getZ(n),
                t.w = e.getW(n);
                var i = 1 / t.manhattanLength();
                i !== 1 / 0 ? t.multiplyScalar(i) : t.set(1, 0, 0, 0),
                e.setXYZW(n, t.x, t.y, t.z, t.w)
            }
        },
        updateMatrixWorld: function(t) {
            mo.prototype.updateMatrixWorld.call(this, t),
            "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode)
        },
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    });
    var cu = new pr
      , lu = new pr;
    function hu(t, e) {
        if (t = t || [],
        this.bones = t.slice(0),
        this.boneMatrices = new Float32Array(16 * this.bones.length),
        this.frame = -1,
        void 0 === e)
            this.calculateInverses();
        else if (this.bones.length === e.length)
            this.boneInverses = e.slice(0);
        else {
            console.warn("THREE.Skeleton boneInverses is the wrong length."),
            this.boneInverses = [];
            for (var n = 0, r = this.bones.length; n < r; n++)
                this.boneInverses.push(new pr)
        }
    }
    function fu() {
        Rr.call(this),
        this.type = "Bone"
    }
    Object.assign(hu.prototype, {
        calculateInverses: function() {
            this.boneInverses = [];
            for (var t = 0, e = this.bones.length; t < e; t++) {
                var n = new pr;
                this.bones[t] && n.getInverse(this.bones[t].matrixWorld),
                this.boneInverses.push(n)
            }
        },
        pose: function() {
            var t, e, n;
            for (e = 0,
            n = this.bones.length; e < n; e++)
                (t = this.bones[e]) && t.matrixWorld.getInverse(this.boneInverses[e]);
            for (e = 0,
            n = this.bones.length; e < n; e++)
                (t = this.bones[e]) && (t.parent && t.parent.isBone ? (t.matrix.getInverse(t.parent.matrixWorld),
                t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld),
                t.matrix.decompose(t.position, t.quaternion, t.scale))
        },
        update: function() {
            for (var t = this.bones, e = this.boneInverses, n = this.boneMatrices, r = this.boneTexture, i = 0, o = t.length; i < o; i++) {
                var a = t[i] ? t[i].matrixWorld : lu;
                cu.multiplyMatrices(a, e[i]),
                cu.toArray(n, 16 * i)
            }
            void 0 !== r && (r.needsUpdate = !0)
        },
        clone: function() {
            return new hu(this.bones,this.boneInverses)
        },
        getBoneByName: function(t) {
            for (var e = 0, n = this.bones.length; e < n; e++) {
                var r = this.bones[e];
                if (r.name === t)
                    return r
            }
        }
    }),
    fu.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: fu,
        isBone: !0
    });
    var pu = new pr
      , du = new pr
      , mu = []
      , vu = new mo;
    function gu(t, e, n) {
        mo.call(this, t, e),
        this.instanceMatrix = new Ri(new Float32Array(16 * n),16),
        this.count = n,
        this.frustumCulled = !1
    }
    function yu(t) {
        Pi.call(this),
        this.type = "LineBasicMaterial",
        this.color = new wi(16777215),
        this.linewidth = 1,
        this.linecap = "round",
        this.linejoin = "round",
        this.setValues(t)
    }
    gu.prototype = Object.assign(Object.create(mo.prototype), {
        constructor: gu,
        isInstancedMesh: !0,
        getMatrixAt: function(t, e) {
            e.fromArray(this.instanceMatrix.array, 16 * t)
        },
        raycast: function(t, e) {
            var n = this.matrixWorld
              , r = this.count;
            if (vu.geometry = this.geometry,
            vu.material = this.material,
            void 0 !== vu.material)
                for (var i = 0; i < r; i++)
                    this.getMatrixAt(i, pu),
                    du.multiplyMatrices(n, pu),
                    vu.matrixWorld = du,
                    vu.raycast(t, mu),
                    mu.length > 0 && (mu[0].instanceId = i,
                    mu[0].object = this,
                    e.push(mu[0]),
                    mu.length = 0)
        },
        setMatrixAt: function(t, e) {
            e.toArray(this.instanceMatrix.array, 16 * t)
        },
        updateMorphTargets: function() {}
    }),
    yu.prototype = Object.create(Pi.prototype),
    yu.prototype.constructor = yu,
    yu.prototype.isLineBasicMaterial = !0,
    yu.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.linewidth = t.linewidth,
        this.linecap = t.linecap,
        this.linejoin = t.linejoin,
        this
    }
    ;
    var bu = new or
      , xu = new or
      , _u = new pr
      , wu = new ri
      , Mu = new Zr;
    function Su(t, e, n) {
        1 === n && console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),
        Rr.call(this),
        this.type = "Line",
        this.geometry = void 0 !== t ? t : new Ji,
        this.material = void 0 !== e ? e : new yu
    }
    Su.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: Su,
        isLine: !0,
        computeLineDistances: function() {
            var t = this.geometry;
            if (t.isBufferGeometry)
                if (null === t.index) {
                    for (var e = t.attributes.position, n = [0], r = 1, i = e.count; r < i; r++)
                        bu.fromBufferAttribute(e, r - 1),
                        xu.fromBufferAttribute(e, r),
                        n[r] = n[r - 1],
                        n[r] += bu.distanceTo(xu);
                    t.setAttribute("lineDistance", new Fi(n,1))
                } else
                    console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
            else if (t.isGeometry) {
                var o = t.vertices;
                (n = t.lineDistances)[0] = 0;
                for (r = 1,
                i = o.length; r < i; r++)
                    n[r] = n[r - 1],
                    n[r] += o[r - 1].distanceTo(o[r])
            }
            return this
        },
        raycast: function(t, e) {
            var n = this.geometry
              , r = this.matrixWorld
              , i = t.params.Line.threshold;
            if (null === n.boundingSphere && n.computeBoundingSphere(),
            Mu.copy(n.boundingSphere),
            Mu.applyMatrix4(r),
            Mu.radius += i,
            !1 !== t.ray.intersectsSphere(Mu)) {
                _u.getInverse(r),
                wu.copy(t.ray).applyMatrix4(_u);
                var o = i / ((this.scale.x + this.scale.y + this.scale.z) / 3)
                  , a = o * o
                  , s = new or
                  , u = new or
                  , c = new or
                  , l = new or
                  , h = this && this.isLineSegments ? 2 : 1;
                if (n.isBufferGeometry) {
                    var f = n.index
                      , p = n.attributes.position.array;
                    if (null !== f)
                        for (var d = f.array, m = 0, v = d.length - 1; m < v; m += h) {
                            var g = d[m]
                              , y = d[m + 1];
                            if (s.fromArray(p, 3 * g),
                            u.fromArray(p, 3 * y),
                            !(wu.distanceSqToSegment(s, u, l, c) > a))
                                l.applyMatrix4(this.matrixWorld),
                                (_ = t.ray.origin.distanceTo(l)) < t.near || _ > t.far || e.push({
                                    distance: _,
                                    point: c.clone().applyMatrix4(this.matrixWorld),
                                    index: m,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                })
                        }
                    else
                        for (m = 0,
                        v = p.length / 3 - 1; m < v; m += h) {
                            if (s.fromArray(p, 3 * m),
                            u.fromArray(p, 3 * m + 3),
                            !(wu.distanceSqToSegment(s, u, l, c) > a))
                                l.applyMatrix4(this.matrixWorld),
                                (_ = t.ray.origin.distanceTo(l)) < t.near || _ > t.far || e.push({
                                    distance: _,
                                    point: c.clone().applyMatrix4(this.matrixWorld),
                                    index: m,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                })
                        }
                } else if (n.isGeometry) {
                    var b = n.vertices
                      , x = b.length;
                    for (m = 0; m < x - 1; m += h) {
                        var _;
                        if (!(wu.distanceSqToSegment(b[m], b[m + 1], l, c) > a))
                            l.applyMatrix4(this.matrixWorld),
                            (_ = t.ray.origin.distanceTo(l)) < t.near || _ > t.far || e.push({
                                distance: _,
                                point: c.clone().applyMatrix4(this.matrixWorld),
                                index: m,
                                face: null,
                                faceIndex: null,
                                object: this
                            })
                    }
                }
            }
        },
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    });
    var Eu = new or
      , Tu = new or;
    function Au(t, e) {
        Su.call(this, t, e),
        this.type = "LineSegments"
    }
    function Pu(t, e) {
        Su.call(this, t, e),
        this.type = "LineLoop"
    }
    function Lu(t) {
        Pi.call(this),
        this.type = "PointsMaterial",
        this.color = new wi(16777215),
        this.map = null,
        this.alphaMap = null,
        this.size = 1,
        this.sizeAttenuation = !0,
        this.morphTargets = !1,
        this.setValues(t)
    }
    Au.prototype = Object.assign(Object.create(Su.prototype), {
        constructor: Au,
        isLineSegments: !0,
        computeLineDistances: function() {
            var t = this.geometry;
            if (t.isBufferGeometry)
                if (null === t.index) {
                    for (var e = t.attributes.position, n = [], r = 0, i = e.count; r < i; r += 2)
                        Eu.fromBufferAttribute(e, r),
                        Tu.fromBufferAttribute(e, r + 1),
                        n[r] = 0 === r ? 0 : n[r - 1],
                        n[r + 1] = n[r] + Eu.distanceTo(Tu);
                    t.setAttribute("lineDistance", new Fi(n,1))
                } else
                    console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
            else if (t.isGeometry) {
                var o = t.vertices;
                for (n = t.lineDistances,
                r = 0,
                i = o.length; r < i; r += 2)
                    Eu.copy(o[r]),
                    Tu.copy(o[r + 1]),
                    n[r] = 0 === r ? 0 : n[r - 1],
                    n[r + 1] = n[r] + Eu.distanceTo(Tu)
            }
            return this
        }
    }),
    Pu.prototype = Object.assign(Object.create(Su.prototype), {
        constructor: Pu,
        isLineLoop: !0
    }),
    Lu.prototype = Object.create(Pi.prototype),
    Lu.prototype.constructor = Lu,
    Lu.prototype.isPointsMaterial = !0,
    Lu.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.alphaMap = t.alphaMap,
        this.size = t.size,
        this.sizeAttenuation = t.sizeAttenuation,
        this.morphTargets = t.morphTargets,
        this
    }
    ;
    var Ou = new pr
      , Ru = new ri
      , Cu = new Zr
      , Iu = new or;
    function Du(t, e) {
        Rr.call(this),
        this.type = "Points",
        this.geometry = void 0 !== t ? t : new Ji,
        this.material = void 0 !== e ? e : new Lu,
        this.updateMorphTargets()
    }
    function ku(t, e, n, r, i, o, a) {
        var s = Ru.distanceSqToPoint(t);
        if (s < n) {
            var u = new or;
            Ru.closestPointToPoint(t, u),
            u.applyMatrix4(r);
            var c = i.ray.origin.distanceTo(u);
            if (c < i.near || c > i.far)
                return;
            o.push({
                distance: c,
                distanceToRay: Math.sqrt(s),
                point: u,
                index: e,
                face: null,
                object: a
            })
        }
    }
    function Nu(t, e, n, r, i, o, a, s, u) {
        Kn.call(this, t, e, n, r, i, o, a, s, u),
        this.format = void 0 !== a ? a : Zt,
        this.minFilter = void 0 !== o ? o : Rt,
        this.magFilter = void 0 !== i ? i : Rt,
        this.generateMipmaps = !1
    }
    function zu(t, e, n, r, i, o, a, s, u, c, l, h) {
        Kn.call(this, null, o, a, s, u, c, r, i, l, h),
        this.image = {
            width: e,
            height: n
        },
        this.mipmaps = t,
        this.flipY = !1,
        this.generateMipmaps = !1
    }
    function ju(t, e, n, r, i, o, a, s, u) {
        Kn.call(this, t, e, n, r, i, o, a, s, u),
        this.needsUpdate = !0
    }
    function Fu(t, e, n, r, i, o, a, s, u, c) {
        if ((c = void 0 !== c ? c : te) !== te && c !== ee)
            throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
        void 0 === n && c === te && (n = Ft),
        void 0 === n && c === ee && (n = Xt),
        Kn.call(this, null, r, i, o, a, s, c, n, u),
        this.image = {
            width: t,
            height: e
        },
        this.magFilter = void 0 !== a ? a : Tt,
        this.minFilter = void 0 !== s ? s : Tt,
        this.flipY = !1,
        this.generateMipmaps = !1
    }
    function Bu(t) {
        Ji.call(this),
        this.type = "WireframeGeometry";
        var e, n, r, i, o, a, s, u, c, l, h = [], f = [0, 0], p = {}, d = ["a", "b", "c"];
        if (t && t.isGeometry) {
            var m = t.faces;
            for (e = 0,
            r = m.length; e < r; e++) {
                var v = m[e];
                for (n = 0; n < 3; n++)
                    s = v[d[n]],
                    u = v[d[(n + 1) % 3]],
                    f[0] = Math.min(s, u),
                    f[1] = Math.max(s, u),
                    void 0 === p[c = f[0] + "," + f[1]] && (p[c] = {
                        index1: f[0],
                        index2: f[1]
                    })
            }
            for (c in p)
                a = p[c],
                l = t.vertices[a.index1],
                h.push(l.x, l.y, l.z),
                l = t.vertices[a.index2],
                h.push(l.x, l.y, l.z)
        } else if (t && t.isBufferGeometry) {
            var g, y, b, x, _, w, M;
            if (l = new or,
            null !== t.index) {
                for (g = t.attributes.position,
                y = t.index,
                0 === (b = t.groups).length && (b = [{
                    start: 0,
                    count: y.count,
                    materialIndex: 0
                }]),
                i = 0,
                o = b.length; i < o; ++i)
                    for (e = _ = (x = b[i]).start,
                    r = _ + x.count; e < r; e += 3)
                        for (n = 0; n < 3; n++)
                            s = y.getX(e + n),
                            u = y.getX(e + (n + 1) % 3),
                            f[0] = Math.min(s, u),
                            f[1] = Math.max(s, u),
                            void 0 === p[c = f[0] + "," + f[1]] && (p[c] = {
                                index1: f[0],
                                index2: f[1]
                            });
                for (c in p)
                    a = p[c],
                    l.fromBufferAttribute(g, a.index1),
                    h.push(l.x, l.y, l.z),
                    l.fromBufferAttribute(g, a.index2),
                    h.push(l.x, l.y, l.z)
            } else
                for (e = 0,
                r = (g = t.attributes.position).count / 3; e < r; e++)
                    for (n = 0; n < 3; n++)
                        w = 3 * e + n,
                        l.fromBufferAttribute(g, w),
                        h.push(l.x, l.y, l.z),
                        M = 3 * e + (n + 1) % 3,
                        l.fromBufferAttribute(g, M),
                        h.push(l.x, l.y, l.z)
        }
        this.setAttribute("position", new Fi(h,3))
    }
    function Uu(t, e, n) {
        wo.call(this),
        this.type = "ParametricGeometry",
        this.parameters = {
            func: t,
            slices: e,
            stacks: n
        },
        this.fromBufferGeometry(new Gu(t,e,n)),
        this.mergeVertices()
    }
    function Gu(t, e, n) {
        Ji.call(this),
        this.type = "ParametricBufferGeometry",
        this.parameters = {
            func: t,
            slices: e,
            stacks: n
        };
        var r, i, o = [], a = [], s = [], u = [], c = new or, l = new or, h = new or, f = new or, p = new or;
        t.length < 3 && console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");
        var d = e + 1;
        for (r = 0; r <= n; r++) {
            var m = r / n;
            for (i = 0; i <= e; i++) {
                var v = i / e;
                t(v, m, l),
                a.push(l.x, l.y, l.z),
                v - 1e-5 >= 0 ? (t(v - 1e-5, m, h),
                f.subVectors(l, h)) : (t(v + 1e-5, m, h),
                f.subVectors(h, l)),
                m - 1e-5 >= 0 ? (t(v, m - 1e-5, h),
                p.subVectors(l, h)) : (t(v, m + 1e-5, h),
                p.subVectors(h, l)),
                c.crossVectors(f, p).normalize(),
                s.push(c.x, c.y, c.z),
                u.push(v, m)
            }
        }
        for (r = 0; r < n; r++)
            for (i = 0; i < e; i++) {
                var g = r * d + i
                  , y = r * d + i + 1
                  , b = (r + 1) * d + i + 1
                  , x = (r + 1) * d + i;
                o.push(g, y, x),
                o.push(y, b, x)
            }
        this.setIndex(o),
        this.setAttribute("position", new Fi(a,3)),
        this.setAttribute("normal", new Fi(s,3)),
        this.setAttribute("uv", new Fi(u,2))
    }
    function Hu(t, e, n, r) {
        wo.call(this),
        this.type = "PolyhedronGeometry",
        this.parameters = {
            vertices: t,
            indices: e,
            radius: n,
            detail: r
        },
        this.fromBufferGeometry(new Vu(t,e,n,r)),
        this.mergeVertices()
    }
    function Vu(t, e, n, r) {
        Ji.call(this),
        this.type = "PolyhedronBufferGeometry",
        this.parameters = {
            vertices: t,
            indices: e,
            radius: n,
            detail: r
        },
        n = n || 1;
        var i = []
          , o = [];
        function a(t, e, n, r) {
            var i, o, a = Math.pow(2, r), u = [];
            for (i = 0; i <= a; i++) {
                u[i] = [];
                var c = t.clone().lerp(n, i / a)
                  , l = e.clone().lerp(n, i / a)
                  , h = a - i;
                for (o = 0; o <= h; o++)
                    u[i][o] = 0 === o && i === a ? c : c.clone().lerp(l, o / h)
            }
            for (i = 0; i < a; i++)
                for (o = 0; o < 2 * (a - i) - 1; o++) {
                    var f = Math.floor(o / 2);
                    o % 2 == 0 ? (s(u[i][f + 1]),
                    s(u[i + 1][f]),
                    s(u[i][f])) : (s(u[i][f + 1]),
                    s(u[i + 1][f + 1]),
                    s(u[i + 1][f]))
                }
        }
        function s(t) {
            i.push(t.x, t.y, t.z)
        }
        function u(e, n) {
            var r = 3 * e;
            n.x = t[r + 0],
            n.y = t[r + 1],
            n.z = t[r + 2]
        }
        function c(t, e, n, r) {
            r < 0 && 1 === t.x && (o[e] = t.x - 1),
            0 === n.x && 0 === n.z && (o[e] = r / 2 / Math.PI + .5)
        }
        function l(t) {
            return Math.atan2(t.z, -t.x)
        }
        !function(t) {
            for (var n = new or, r = new or, i = new or, o = 0; o < e.length; o += 3)
                u(e[o + 0], n),
                u(e[o + 1], r),
                u(e[o + 2], i),
                a(n, r, i, t)
        }(r = r || 0),
        function(t) {
            for (var e = new or, n = 0; n < i.length; n += 3)
                e.x = i[n + 0],
                e.y = i[n + 1],
                e.z = i[n + 2],
                e.normalize().multiplyScalar(t),
                i[n + 0] = e.x,
                i[n + 1] = e.y,
                i[n + 2] = e.z
        }(n),
        function() {
            for (var t = new or, e = 0; e < i.length; e += 3) {
                t.x = i[e + 0],
                t.y = i[e + 1],
                t.z = i[e + 2];
                var n = l(t) / 2 / Math.PI + .5
                  , r = (a = t,
                Math.atan2(-a.y, Math.sqrt(a.x * a.x + a.z * a.z)) / Math.PI + .5);
                o.push(n, 1 - r)
            }
            var a;
            (function() {
                for (var t = new or, e = new or, n = new or, r = new or, a = new Yn, s = new Yn, u = new Yn, h = 0, f = 0; h < i.length; h += 9,
                f += 6) {
                    t.set(i[h + 0], i[h + 1], i[h + 2]),
                    e.set(i[h + 3], i[h + 4], i[h + 5]),
                    n.set(i[h + 6], i[h + 7], i[h + 8]),
                    a.set(o[f + 0], o[f + 1]),
                    s.set(o[f + 2], o[f + 3]),
                    u.set(o[f + 4], o[f + 5]),
                    r.copy(t).add(e).add(n).divideScalar(3);
                    var p = l(r);
                    c(a, f + 0, t, p),
                    c(s, f + 2, e, p),
                    c(u, f + 4, n, p)
                }
            }
            )(),
            function() {
                for (var t = 0; t < o.length; t += 6) {
                    var e = o[t + 0]
                      , n = o[t + 2]
                      , r = o[t + 4]
                      , i = Math.max(e, n, r)
                      , a = Math.min(e, n, r);
                    i > .9 && a < .1 && (e < .2 && (o[t + 0] += 1),
                    n < .2 && (o[t + 2] += 1),
                    r < .2 && (o[t + 4] += 1))
                }
            }()
        }(),
        this.setAttribute("position", new Fi(i,3)),
        this.setAttribute("normal", new Fi(i.slice(),3)),
        this.setAttribute("uv", new Fi(o,2)),
        0 === r ? this.computeVertexNormals() : this.normalizeNormals()
    }
    function Wu(t, e) {
        wo.call(this),
        this.type = "TetrahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new qu(t,e)),
        this.mergeVertices()
    }
    function qu(t, e) {
        Vu.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], t, e),
        this.type = "TetrahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function Xu(t, e) {
        wo.call(this),
        this.type = "OctahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new Yu(t,e)),
        this.mergeVertices()
    }
    function Yu(t, e) {
        Vu.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], t, e),
        this.type = "OctahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function Zu(t, e) {
        wo.call(this),
        this.type = "IcosahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new Ju(t,e)),
        this.mergeVertices()
    }
    function Ju(t, e) {
        var n = (1 + Math.sqrt(5)) / 2
          , r = [-1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, 0, 0, -1, n, 0, 1, n, 0, -1, -n, 0, 1, -n, n, 0, -1, n, 0, 1, -n, 0, -1, -n, 0, 1];
        Vu.call(this, r, [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], t, e),
        this.type = "IcosahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function Qu(t, e) {
        wo.call(this),
        this.type = "DodecahedronGeometry",
        this.parameters = {
            radius: t,
            detail: e
        },
        this.fromBufferGeometry(new Ku(t,e)),
        this.mergeVertices()
    }
    function Ku(t, e) {
        var n = (1 + Math.sqrt(5)) / 2
          , r = 1 / n
          , i = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -r, -n, 0, -r, n, 0, r, -n, 0, r, n, -r, -n, 0, -r, n, 0, r, -n, 0, r, n, 0, -n, 0, -r, n, 0, -r, -n, 0, r, n, 0, r];
        Vu.call(this, i, [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], t, e),
        this.type = "DodecahedronBufferGeometry",
        this.parameters = {
            radius: t,
            detail: e
        }
    }
    function $u(t, e, n, r, i, o) {
        wo.call(this),
        this.type = "TubeGeometry",
        this.parameters = {
            path: t,
            tubularSegments: e,
            radius: n,
            radialSegments: r,
            closed: i
        },
        void 0 !== o && console.warn("THREE.TubeGeometry: taper has been removed.");
        var a = new tc(t,e,n,r,i);
        this.tangents = a.tangents,
        this.normals = a.normals,
        this.binormals = a.binormals,
        this.fromBufferGeometry(a),
        this.mergeVertices()
    }
    function tc(t, e, n, r, i) {
        Ji.call(this),
        this.type = "TubeBufferGeometry",
        this.parameters = {
            path: t,
            tubularSegments: e,
            radius: n,
            radialSegments: r,
            closed: i
        },
        e = e || 64,
        n = n || 1,
        r = r || 8,
        i = i || !1;
        var o = t.computeFrenetFrames(e, i);
        this.tangents = o.tangents,
        this.normals = o.normals,
        this.binormals = o.binormals;
        var a, s, u = new or, c = new or, l = new Yn, h = new or, f = [], p = [], d = [], m = [];
        function v(i) {
            h = t.getPointAt(i / e, h);
            var a = o.normals[i]
              , l = o.binormals[i];
            for (s = 0; s <= r; s++) {
                var d = s / r * Math.PI * 2
                  , m = Math.sin(d)
                  , v = -Math.cos(d);
                c.x = v * a.x + m * l.x,
                c.y = v * a.y + m * l.y,
                c.z = v * a.z + m * l.z,
                c.normalize(),
                p.push(c.x, c.y, c.z),
                u.x = h.x + n * c.x,
                u.y = h.y + n * c.y,
                u.z = h.z + n * c.z,
                f.push(u.x, u.y, u.z)
            }
        }
        !function() {
            for (a = 0; a < e; a++)
                v(a);
            v(!1 === i ? e : 0),
            function() {
                for (a = 0; a <= e; a++)
                    for (s = 0; s <= r; s++)
                        l.x = a / e,
                        l.y = s / r,
                        d.push(l.x, l.y)
            }(),
            function() {
                for (s = 1; s <= e; s++)
                    for (a = 1; a <= r; a++) {
                        var t = (r + 1) * (s - 1) + (a - 1)
                          , n = (r + 1) * s + (a - 1)
                          , i = (r + 1) * s + a
                          , o = (r + 1) * (s - 1) + a;
                        m.push(t, n, o),
                        m.push(n, i, o)
                    }
            }()
        }(),
        this.setIndex(m),
        this.setAttribute("position", new Fi(f,3)),
        this.setAttribute("normal", new Fi(p,3)),
        this.setAttribute("uv", new Fi(d,2))
    }
    function ec(t, e, n, r, i, o, a) {
        wo.call(this),
        this.type = "TorusKnotGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: n,
            radialSegments: r,
            p: i,
            q: o
        },
        void 0 !== a && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),
        this.fromBufferGeometry(new nc(t,e,n,r,i,o)),
        this.mergeVertices()
    }
    function nc(t, e, n, r, i, o) {
        Ji.call(this),
        this.type = "TorusKnotBufferGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: n,
            radialSegments: r,
            p: i,
            q: o
        },
        t = t || 1,
        e = e || .4,
        n = Math.floor(n) || 64,
        r = Math.floor(r) || 8,
        i = i || 2,
        o = o || 3;
        var a, s, u = [], c = [], l = [], h = [], f = new or, p = new or, d = new or, m = new or, v = new or, g = new or, y = new or;
        for (a = 0; a <= n; ++a) {
            var b = a / n * i * Math.PI * 2;
            for (A(b, i, o, t, d),
            A(b + .01, i, o, t, m),
            g.subVectors(m, d),
            y.addVectors(m, d),
            v.crossVectors(g, y),
            y.crossVectors(v, g),
            v.normalize(),
            y.normalize(),
            s = 0; s <= r; ++s) {
                var x = s / r * Math.PI * 2
                  , _ = -e * Math.cos(x)
                  , w = e * Math.sin(x);
                f.x = d.x + (_ * y.x + w * v.x),
                f.y = d.y + (_ * y.y + w * v.y),
                f.z = d.z + (_ * y.z + w * v.z),
                c.push(f.x, f.y, f.z),
                p.subVectors(f, d).normalize(),
                l.push(p.x, p.y, p.z),
                h.push(a / n),
                h.push(s / r)
            }
        }
        for (s = 1; s <= n; s++)
            for (a = 1; a <= r; a++) {
                var M = (r + 1) * (s - 1) + (a - 1)
                  , S = (r + 1) * s + (a - 1)
                  , E = (r + 1) * s + a
                  , T = (r + 1) * (s - 1) + a;
                u.push(M, S, T),
                u.push(S, E, T)
            }
        function A(t, e, n, r, i) {
            var o = Math.cos(t)
              , a = Math.sin(t)
              , s = n / e * t
              , u = Math.cos(s);
            i.x = r * (2 + u) * .5 * o,
            i.y = r * (2 + u) * a * .5,
            i.z = r * Math.sin(s) * .5
        }
        this.setIndex(u),
        this.setAttribute("position", new Fi(c,3)),
        this.setAttribute("normal", new Fi(l,3)),
        this.setAttribute("uv", new Fi(h,2))
    }
    function rc(t, e, n, r, i) {
        wo.call(this),
        this.type = "TorusGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            radialSegments: n,
            tubularSegments: r,
            arc: i
        },
        this.fromBufferGeometry(new ic(t,e,n,r,i)),
        this.mergeVertices()
    }
    function ic(t, e, n, r, i) {
        Ji.call(this),
        this.type = "TorusBufferGeometry",
        this.parameters = {
            radius: t,
            tube: e,
            radialSegments: n,
            tubularSegments: r,
            arc: i
        },
        t = t || 1,
        e = e || .4,
        n = Math.floor(n) || 8,
        r = Math.floor(r) || 6,
        i = i || 2 * Math.PI;
        var o, a, s = [], u = [], c = [], l = [], h = new or, f = new or, p = new or;
        for (o = 0; o <= n; o++)
            for (a = 0; a <= r; a++) {
                var d = a / r * i
                  , m = o / n * Math.PI * 2;
                f.x = (t + e * Math.cos(m)) * Math.cos(d),
                f.y = (t + e * Math.cos(m)) * Math.sin(d),
                f.z = e * Math.sin(m),
                u.push(f.x, f.y, f.z),
                h.x = t * Math.cos(d),
                h.y = t * Math.sin(d),
                p.subVectors(f, h).normalize(),
                c.push(p.x, p.y, p.z),
                l.push(a / r),
                l.push(o / n)
            }
        for (o = 1; o <= n; o++)
            for (a = 1; a <= r; a++) {
                var v = (r + 1) * o + a - 1
                  , g = (r + 1) * (o - 1) + a - 1
                  , y = (r + 1) * (o - 1) + a
                  , b = (r + 1) * o + a;
                s.push(v, g, b),
                s.push(g, y, b)
            }
        this.setIndex(s),
        this.setAttribute("position", new Fi(u,3)),
        this.setAttribute("normal", new Fi(c,3)),
        this.setAttribute("uv", new Fi(l,2))
    }
    Du.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: Du,
        isPoints: !0,
        raycast: function(t, e) {
            var n = this.geometry
              , r = this.matrixWorld
              , i = t.params.Points.threshold;
            if (null === n.boundingSphere && n.computeBoundingSphere(),
            Cu.copy(n.boundingSphere),
            Cu.applyMatrix4(r),
            Cu.radius += i,
            !1 !== t.ray.intersectsSphere(Cu)) {
                Ou.getInverse(r),
                Ru.copy(t.ray).applyMatrix4(Ou);
                var o = i / ((this.scale.x + this.scale.y + this.scale.z) / 3)
                  , a = o * o;
                if (n.isBufferGeometry) {
                    var s = n.index
                      , u = n.attributes.position.array;
                    if (null !== s)
                        for (var c = s.array, l = 0, h = c.length; l < h; l++) {
                            var f = c[l];
                            Iu.fromArray(u, 3 * f),
                            ku(Iu, f, a, r, t, e, this)
                        }
                    else {
                        l = 0;
                        for (var p = u.length / 3; l < p; l++)
                            Iu.fromArray(u, 3 * l),
                            ku(Iu, l, a, r, t, e, this)
                    }
                } else {
                    var d = n.vertices;
                    for (l = 0,
                    p = d.length; l < p; l++)
                        ku(d[l], l, a, r, t, e, this)
                }
            }
        },
        updateMorphTargets: function() {
            var t, e, n, r = this.geometry;
            if (r.isBufferGeometry) {
                var i = r.morphAttributes
                  , o = Object.keys(i);
                if (o.length > 0) {
                    var a = i[o[0]];
                    if (void 0 !== a)
                        for (this.morphTargetInfluences = [],
                        this.morphTargetDictionary = {},
                        t = 0,
                        e = a.length; t < e; t++)
                            n = a[t].name || String(t),
                            this.morphTargetInfluences.push(0),
                            this.morphTargetDictionary[n] = t
                }
            } else {
                var s = r.morphTargets;
                void 0 !== s && s.length > 0 && console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")
            }
        },
        clone: function() {
            return new this.constructor(this.geometry,this.material).copy(this)
        }
    }),
    Nu.prototype = Object.assign(Object.create(Kn.prototype), {
        constructor: Nu,
        isVideoTexture: !0,
        update: function() {
            var t = this.image;
            t.readyState >= t.HAVE_CURRENT_DATA && (this.needsUpdate = !0)
        }
    }),
    zu.prototype = Object.create(Kn.prototype),
    zu.prototype.constructor = zu,
    zu.prototype.isCompressedTexture = !0,
    ju.prototype = Object.create(Kn.prototype),
    ju.prototype.constructor = ju,
    ju.prototype.isCanvasTexture = !0,
    Fu.prototype = Object.create(Kn.prototype),
    Fu.prototype.constructor = Fu,
    Fu.prototype.isDepthTexture = !0,
    Bu.prototype = Object.create(Ji.prototype),
    Bu.prototype.constructor = Bu,
    Uu.prototype = Object.create(wo.prototype),
    Uu.prototype.constructor = Uu,
    Gu.prototype = Object.create(Ji.prototype),
    Gu.prototype.constructor = Gu,
    Hu.prototype = Object.create(wo.prototype),
    Hu.prototype.constructor = Hu,
    Vu.prototype = Object.create(Ji.prototype),
    Vu.prototype.constructor = Vu,
    Wu.prototype = Object.create(wo.prototype),
    Wu.prototype.constructor = Wu,
    qu.prototype = Object.create(Vu.prototype),
    qu.prototype.constructor = qu,
    Xu.prototype = Object.create(wo.prototype),
    Xu.prototype.constructor = Xu,
    Yu.prototype = Object.create(Vu.prototype),
    Yu.prototype.constructor = Yu,
    Zu.prototype = Object.create(wo.prototype),
    Zu.prototype.constructor = Zu,
    Ju.prototype = Object.create(Vu.prototype),
    Ju.prototype.constructor = Ju,
    Qu.prototype = Object.create(wo.prototype),
    Qu.prototype.constructor = Qu,
    Ku.prototype = Object.create(Vu.prototype),
    Ku.prototype.constructor = Ku,
    $u.prototype = Object.create(wo.prototype),
    $u.prototype.constructor = $u,
    tc.prototype = Object.create(Ji.prototype),
    tc.prototype.constructor = tc,
    tc.prototype.toJSON = function() {
        var t = Ji.prototype.toJSON.call(this);
        return t.path = this.parameters.path.toJSON(),
        t
    }
    ,
    ec.prototype = Object.create(wo.prototype),
    ec.prototype.constructor = ec,
    nc.prototype = Object.create(Ji.prototype),
    nc.prototype.constructor = nc,
    rc.prototype = Object.create(wo.prototype),
    rc.prototype.constructor = rc,
    ic.prototype = Object.create(Ji.prototype),
    ic.prototype.constructor = ic;
    var oc = function(t, e, n) {
        n = n || 2;
        var r, i, o, a, s, u, c, l = e && e.length, h = l ? e[0] * n : t.length, f = ac(t, 0, h, n, !0), p = [];
        if (!f || f.next === f.prev)
            return p;
        if (l && (f = function(t, e, n, r) {
            var i, o, a, s, u, c = [];
            for (i = 0,
            o = e.length; i < o; i++)
                a = e[i] * r,
                s = i < o - 1 ? e[i + 1] * r : t.length,
                (u = ac(t, a, s, r, !1)) === u.next && (u.steiner = !0),
                c.push(vc(u));
            for (c.sort(pc),
            i = 0; i < c.length; i++)
                dc(c[i], n),
                n = sc(n, n.next);
            return n
        }(t, e, f, n)),
        t.length > 80 * n) {
            r = o = t[0],
            i = a = t[1];
            for (var d = n; d < h; d += n)
                (s = t[d]) < r && (r = s),
                (u = t[d + 1]) < i && (i = u),
                s > o && (o = s),
                u > a && (a = u);
            c = 0 !== (c = Math.max(o - r, a - i)) ? 1 / c : 0
        }
        return uc(f, p, n, r, i, c),
        p
    };
    function ac(t, e, n, r, i) {
        var o, a;
        if (i === function(t, e, n, r) {
            for (var i = 0, o = e, a = n - r; o < n; o += r)
                i += (t[a] - t[o]) * (t[o + 1] + t[a + 1]),
                a = o;
            return i
        }(t, e, n, r) > 0)
            for (o = e; o < n; o += r)
                a = Sc(o, t[o], t[o + 1], a);
        else
            for (o = n - r; o >= e; o -= r)
                a = Sc(o, t[o], t[o + 1], a);
        return a && xc(a, a.next) && (Ec(a),
        a = a.next),
        a
    }
    function sc(t, e) {
        if (!t)
            return t;
        e || (e = t);
        var n, r = t;
        do {
            if (n = !1,
            r.steiner || !xc(r, r.next) && 0 !== bc(r.prev, r, r.next))
                r = r.next;
            else {
                if (Ec(r),
                (r = e = r.prev) === r.next)
                    break;
                n = !0
            }
        } while (n || r !== e);
        return e
    }
    function uc(t, e, n, r, i, o, a) {
        if (t) {
            !a && o && function(t, e, n, r) {
                var i = t;
                do {
                    null === i.z && (i.z = mc(i.x, i.y, e, n, r)),
                    i.prevZ = i.prev,
                    i.nextZ = i.next,
                    i = i.next
                } while (i !== t);
                i.prevZ.nextZ = null,
                i.prevZ = null,
                function(t) {
                    var e, n, r, i, o, a, s, u, c = 1;
                    do {
                        for (n = t,
                        t = null,
                        o = null,
                        a = 0; n; ) {
                            for (a++,
                            r = n,
                            s = 0,
                            e = 0; e < c && (s++,
                            r = r.nextZ); e++)
                                ;
                            for (u = c; s > 0 || u > 0 && r; )
                                0 !== s && (0 === u || !r || n.z <= r.z) ? (i = n,
                                n = n.nextZ,
                                s--) : (i = r,
                                r = r.nextZ,
                                u--),
                                o ? o.nextZ = i : t = i,
                                i.prevZ = o,
                                o = i;
                            n = r
                        }
                        o.nextZ = null,
                        c *= 2
                    } while (a > 1)
                }(i)
            }(t, r, i, o);
            for (var s, u, c = t; t.prev !== t.next; )
                if (s = t.prev,
                u = t.next,
                o ? lc(t, r, i, o) : cc(t))
                    e.push(s.i / n),
                    e.push(t.i / n),
                    e.push(u.i / n),
                    Ec(t),
                    t = u.next,
                    c = u.next;
                else if ((t = u) === c) {
                    a ? 1 === a ? uc(t = hc(t, e, n), e, n, r, i, o, 2) : 2 === a && fc(t, e, n, r, i, o) : uc(sc(t), e, n, r, i, o, 1);
                    break
                }
        }
    }
    function cc(t) {
        var e = t.prev
          , n = t
          , r = t.next;
        if (bc(e, n, r) >= 0)
            return !1;
        for (var i = t.next.next; i !== t.prev; ) {
            if (gc(e.x, e.y, n.x, n.y, r.x, r.y, i.x, i.y) && bc(i.prev, i, i.next) >= 0)
                return !1;
            i = i.next
        }
        return !0
    }
    function lc(t, e, n, r) {
        var i = t.prev
          , o = t
          , a = t.next;
        if (bc(i, o, a) >= 0)
            return !1;
        for (var s = i.x < o.x ? i.x < a.x ? i.x : a.x : o.x < a.x ? o.x : a.x, u = i.y < o.y ? i.y < a.y ? i.y : a.y : o.y < a.y ? o.y : a.y, c = i.x > o.x ? i.x > a.x ? i.x : a.x : o.x > a.x ? o.x : a.x, l = i.y > o.y ? i.y > a.y ? i.y : a.y : o.y > a.y ? o.y : a.y, h = mc(s, u, e, n, r), f = mc(c, l, e, n, r), p = t.prevZ, d = t.nextZ; p && p.z >= h && d && d.z <= f; ) {
            if (p !== t.prev && p !== t.next && gc(i.x, i.y, o.x, o.y, a.x, a.y, p.x, p.y) && bc(p.prev, p, p.next) >= 0)
                return !1;
            if (p = p.prevZ,
            d !== t.prev && d !== t.next && gc(i.x, i.y, o.x, o.y, a.x, a.y, d.x, d.y) && bc(d.prev, d, d.next) >= 0)
                return !1;
            d = d.nextZ
        }
        for (; p && p.z >= h; ) {
            if (p !== t.prev && p !== t.next && gc(i.x, i.y, o.x, o.y, a.x, a.y, p.x, p.y) && bc(p.prev, p, p.next) >= 0)
                return !1;
            p = p.prevZ
        }
        for (; d && d.z <= f; ) {
            if (d !== t.prev && d !== t.next && gc(i.x, i.y, o.x, o.y, a.x, a.y, d.x, d.y) && bc(d.prev, d, d.next) >= 0)
                return !1;
            d = d.nextZ
        }
        return !0
    }
    function hc(t, e, n) {
        var r = t;
        do {
            var i = r.prev
              , o = r.next.next;
            !xc(i, o) && _c(i, r, r.next, o) && wc(i, o) && wc(o, i) && (e.push(i.i / n),
            e.push(r.i / n),
            e.push(o.i / n),
            Ec(r),
            Ec(r.next),
            r = t = o),
            r = r.next
        } while (r !== t);
        return r
    }
    function fc(t, e, n, r, i, o) {
        var a = t;
        do {
            for (var s = a.next.next; s !== a.prev; ) {
                if (a.i !== s.i && yc(a, s)) {
                    var u = Mc(a, s);
                    return a = sc(a, a.next),
                    u = sc(u, u.next),
                    uc(a, e, n, r, i, o),
                    void uc(u, e, n, r, i, o)
                }
                s = s.next
            }
            a = a.next
        } while (a !== t)
    }
    function pc(t, e) {
        return t.x - e.x
    }
    function dc(t, e) {
        if (e = function(t, e) {
            var n, r = e, i = t.x, o = t.y, a = -1 / 0;
            do {
                if (o <= r.y && o >= r.next.y && r.next.y !== r.y) {
                    var s = r.x + (o - r.y) * (r.next.x - r.x) / (r.next.y - r.y);
                    if (s <= i && s > a) {
                        if (a = s,
                        s === i) {
                            if (o === r.y)
                                return r;
                            if (o === r.next.y)
                                return r.next
                        }
                        n = r.x < r.next.x ? r : r.next
                    }
                }
                r = r.next
            } while (r !== e);
            if (!n)
                return null;
            if (i === a)
                return n.prev;
            var u, c = n, l = n.x, h = n.y, f = 1 / 0;
            r = n.next;
            for (; r !== c; )
                i >= r.x && r.x >= l && i !== r.x && gc(o < h ? i : a, o, l, h, o < h ? a : i, o, r.x, r.y) && ((u = Math.abs(o - r.y) / (i - r.x)) < f || u === f && r.x > n.x) && wc(r, t) && (n = r,
                f = u),
                r = r.next;
            return n
        }(t, e)) {
            var n = Mc(e, t);
            sc(n, n.next)
        }
    }
    function mc(t, e, n, r, i) {
        return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - n) * i) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - r) * i) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
    }
    function vc(t) {
        var e = t
          , n = t;
        do {
            (e.x < n.x || e.x === n.x && e.y < n.y) && (n = e),
            e = e.next
        } while (e !== t);
        return n
    }
    function gc(t, e, n, r, i, o, a, s) {
        return (i - a) * (e - s) - (t - a) * (o - s) >= 0 && (t - a) * (r - s) - (n - a) * (e - s) >= 0 && (n - a) * (o - s) - (i - a) * (r - s) >= 0
    }
    function yc(t, e) {
        return t.next.i !== e.i && t.prev.i !== e.i && !function(t, e) {
            var n = t;
            do {
                if (n.i !== t.i && n.next.i !== t.i && n.i !== e.i && n.next.i !== e.i && _c(n, n.next, t, e))
                    return !0;
                n = n.next
            } while (n !== t);
            return !1
        }(t, e) && wc(t, e) && wc(e, t) && function(t, e) {
            var n = t
              , r = !1
              , i = (t.x + e.x) / 2
              , o = (t.y + e.y) / 2;
            do {
                n.y > o != n.next.y > o && n.next.y !== n.y && i < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (r = !r),
                n = n.next
            } while (n !== t);
            return r
        }(t, e)
    }
    function bc(t, e, n) {
        return (e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)
    }
    function xc(t, e) {
        return t.x === e.x && t.y === e.y
    }
    function _c(t, e, n, r) {
        return !!(xc(t, n) && xc(e, r) || xc(t, r) && xc(n, e)) || bc(t, e, n) > 0 != bc(t, e, r) > 0 && bc(n, r, t) > 0 != bc(n, r, e) > 0
    }
    function wc(t, e) {
        return bc(t.prev, t, t.next) < 0 ? bc(t, e, t.next) >= 0 && bc(t, t.prev, e) >= 0 : bc(t, e, t.prev) < 0 || bc(t, t.next, e) < 0
    }
    function Mc(t, e) {
        var n = new Tc(t.i,t.x,t.y)
          , r = new Tc(e.i,e.x,e.y)
          , i = t.next
          , o = e.prev;
        return t.next = e,
        e.prev = t,
        n.next = i,
        i.prev = n,
        r.next = n,
        n.prev = r,
        o.next = r,
        r.prev = o,
        r
    }
    function Sc(t, e, n, r) {
        var i = new Tc(t,e,n);
        return r ? (i.next = r.next,
        i.prev = r,
        r.next.prev = i,
        r.next = i) : (i.prev = i,
        i.next = i),
        i
    }
    function Ec(t) {
        t.next.prev = t.prev,
        t.prev.next = t.next,
        t.prevZ && (t.prevZ.nextZ = t.nextZ),
        t.nextZ && (t.nextZ.prevZ = t.prevZ)
    }
    function Tc(t, e, n) {
        this.i = t,
        this.x = e,
        this.y = n,
        this.prev = null,
        this.next = null,
        this.z = null,
        this.prevZ = null,
        this.nextZ = null,
        this.steiner = !1
    }
    var Ac = {
        area: function(t) {
            for (var e = t.length, n = 0, r = e - 1, i = 0; i < e; r = i++)
                n += t[r].x * t[i].y - t[i].x * t[r].y;
            return .5 * n
        },
        isClockWise: function(t) {
            return Ac.area(t) < 0
        },
        triangulateShape: function(t, e) {
            var n = []
              , r = []
              , i = [];
            Pc(t),
            Lc(n, t);
            var o = t.length;
            e.forEach(Pc);
            for (var a = 0; a < e.length; a++)
                r.push(o),
                o += e[a].length,
                Lc(n, e[a]);
            var s = oc(n, r);
            for (a = 0; a < s.length; a += 3)
                i.push(s.slice(a, a + 3));
            return i
        }
    };
    function Pc(t) {
        var e = t.length;
        e > 2 && t[e - 1].equals(t[0]) && t.pop()
    }
    function Lc(t, e) {
        for (var n = 0; n < e.length; n++)
            t.push(e[n].x),
            t.push(e[n].y)
    }
    function Oc(t, e) {
        wo.call(this),
        this.type = "ExtrudeGeometry",
        this.parameters = {
            shapes: t,
            options: e
        },
        this.fromBufferGeometry(new Rc(t,e)),
        this.mergeVertices()
    }
    function Rc(t, e) {
        Ji.call(this),
        this.type = "ExtrudeBufferGeometry",
        this.parameters = {
            shapes: t,
            options: e
        },
        t = Array.isArray(t) ? t : [t];
        for (var n = this, r = [], i = [], o = 0, a = t.length; o < a; o++) {
            s(t[o])
        }
        function s(t) {
            var o = []
              , a = void 0 !== e.curveSegments ? e.curveSegments : 12
              , s = void 0 !== e.steps ? e.steps : 1
              , u = void 0 !== e.depth ? e.depth : 100
              , c = void 0 === e.bevelEnabled || e.bevelEnabled
              , l = void 0 !== e.bevelThickness ? e.bevelThickness : 6
              , h = void 0 !== e.bevelSize ? e.bevelSize : l - 2
              , f = void 0 !== e.bevelOffset ? e.bevelOffset : 0
              , p = void 0 !== e.bevelSegments ? e.bevelSegments : 3
              , d = e.extrudePath
              , m = void 0 !== e.UVGenerator ? e.UVGenerator : Cc;
            void 0 !== e.amount && (console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),
            u = e.amount);
            var v, g, y, b, x, _, w, M, S = !1;
            d && (v = d.getSpacedPoints(s),
            S = !0,
            c = !1,
            g = d.computeFrenetFrames(s, !1),
            y = new or,
            b = new or,
            x = new or),
            c || (p = 0,
            l = 0,
            h = 0,
            f = 0);
            var E = t.extractPoints(a)
              , T = E.shape
              , A = E.holes;
            if (!Ac.isClockWise(T))
                for (T = T.reverse(),
                w = 0,
                M = A.length; w < M; w++)
                    _ = A[w],
                    Ac.isClockWise(_) && (A[w] = _.reverse());
            var P = Ac.triangulateShape(T, A)
              , L = T;
            for (w = 0,
            M = A.length; w < M; w++)
                _ = A[w],
                T = T.concat(_);
            function O(t, e, n) {
                return e || console.error("THREE.ExtrudeGeometry: vec does not exist"),
                e.clone().multiplyScalar(n).add(t)
            }
            var R, C, I, D, k, N, z = T.length, j = P.length;
            function F(t, e, n) {
                var r, i, o, a = t.x - e.x, s = t.y - e.y, u = n.x - t.x, c = n.y - t.y, l = a * a + s * s, h = a * c - s * u;
                if (Math.abs(h) > Number.EPSILON) {
                    var f = Math.sqrt(l)
                      , p = Math.sqrt(u * u + c * c)
                      , d = e.x - s / f
                      , m = e.y + a / f
                      , v = ((n.x - c / p - d) * c - (n.y + u / p - m) * u) / (a * c - s * u)
                      , g = (r = d + a * v - t.x) * r + (i = m + s * v - t.y) * i;
                    if (g <= 2)
                        return new Yn(r,i);
                    o = Math.sqrt(g / 2)
                } else {
                    var y = !1;
                    a > Number.EPSILON ? u > Number.EPSILON && (y = !0) : a < -Number.EPSILON ? u < -Number.EPSILON && (y = !0) : Math.sign(s) === Math.sign(c) && (y = !0),
                    y ? (r = -s,
                    i = a,
                    o = Math.sqrt(l)) : (r = a,
                    i = s,
                    o = Math.sqrt(l / 2))
                }
                return new Yn(r / o,i / o)
            }
            for (var B = [], U = 0, G = L.length, H = G - 1, V = U + 1; U < G; U++,
            H++,
            V++)
                H === G && (H = 0),
                V === G && (V = 0),
                B[U] = F(L[U], L[H], L[V]);
            var W, q, X = [], Y = B.concat();
            for (w = 0,
            M = A.length; w < M; w++) {
                for (_ = A[w],
                W = [],
                U = 0,
                H = (G = _.length) - 1,
                V = U + 1; U < G; U++,
                H++,
                V++)
                    H === G && (H = 0),
                    V === G && (V = 0),
                    W[U] = F(_[U], _[H], _[V]);
                X.push(W),
                Y = Y.concat(W)
            }
            for (R = 0; R < p; R++) {
                for (I = R / p,
                D = l * Math.cos(I * Math.PI / 2),
                C = h * Math.sin(I * Math.PI / 2) + f,
                U = 0,
                G = L.length; U < G; U++)
                    J((k = O(L[U], B[U], C)).x, k.y, -D);
                for (w = 0,
                M = A.length; w < M; w++)
                    for (_ = A[w],
                    W = X[w],
                    U = 0,
                    G = _.length; U < G; U++)
                        J((k = O(_[U], W[U], C)).x, k.y, -D)
            }
            for (C = h + f,
            U = 0; U < z; U++)
                k = c ? O(T[U], Y[U], C) : T[U],
                S ? (b.copy(g.normals[0]).multiplyScalar(k.x),
                y.copy(g.binormals[0]).multiplyScalar(k.y),
                x.copy(v[0]).add(b).add(y),
                J(x.x, x.y, x.z)) : J(k.x, k.y, 0);
            for (q = 1; q <= s; q++)
                for (U = 0; U < z; U++)
                    k = c ? O(T[U], Y[U], C) : T[U],
                    S ? (b.copy(g.normals[q]).multiplyScalar(k.x),
                    y.copy(g.binormals[q]).multiplyScalar(k.y),
                    x.copy(v[q]).add(b).add(y),
                    J(x.x, x.y, x.z)) : J(k.x, k.y, u / s * q);
            for (R = p - 1; R >= 0; R--) {
                for (I = R / p,
                D = l * Math.cos(I * Math.PI / 2),
                C = h * Math.sin(I * Math.PI / 2) + f,
                U = 0,
                G = L.length; U < G; U++)
                    J((k = O(L[U], B[U], C)).x, k.y, u + D);
                for (w = 0,
                M = A.length; w < M; w++)
                    for (_ = A[w],
                    W = X[w],
                    U = 0,
                    G = _.length; U < G; U++)
                        k = O(_[U], W[U], C),
                        S ? J(k.x, k.y + v[s - 1].y, v[s - 1].x + D) : J(k.x, k.y, u + D)
            }
            function Z(t, e) {
                var n, r;
                for (U = t.length; --U >= 0; ) {
                    n = U,
                    (r = U - 1) < 0 && (r = t.length - 1);
                    var i = 0
                      , o = s + 2 * p;
                    for (i = 0; i < o; i++) {
                        var a = z * i
                          , u = z * (i + 1);
                        K(e + n + a, e + r + a, e + r + u, e + n + u)
                    }
                }
            }
            function J(t, e, n) {
                o.push(t),
                o.push(e),
                o.push(n)
            }
            function Q(t, e, i) {
                $(t),
                $(e),
                $(i);
                var o = r.length / 3
                  , a = m.generateTopUV(n, r, o - 3, o - 2, o - 1);
                tt(a[0]),
                tt(a[1]),
                tt(a[2])
            }
            function K(t, e, i, o) {
                $(t),
                $(e),
                $(o),
                $(e),
                $(i),
                $(o);
                var a = r.length / 3
                  , s = m.generateSideWallUV(n, r, a - 6, a - 3, a - 2, a - 1);
                tt(s[0]),
                tt(s[1]),
                tt(s[3]),
                tt(s[1]),
                tt(s[2]),
                tt(s[3])
            }
            function $(t) {
                r.push(o[3 * t + 0]),
                r.push(o[3 * t + 1]),
                r.push(o[3 * t + 2])
            }
            function tt(t) {
                i.push(t.x),
                i.push(t.y)
            }
            !function() {
                var t = r.length / 3;
                if (c) {
                    var e = 0
                      , i = z * e;
                    for (U = 0; U < j; U++)
                        Q((N = P[U])[2] + i, N[1] + i, N[0] + i);
                    for (i = z * (e = s + 2 * p),
                    U = 0; U < j; U++)
                        Q((N = P[U])[0] + i, N[1] + i, N[2] + i)
                } else {
                    for (U = 0; U < j; U++)
                        Q((N = P[U])[2], N[1], N[0]);
                    for (U = 0; U < j; U++)
                        Q((N = P[U])[0] + z * s, N[1] + z * s, N[2] + z * s)
                }
                n.addGroup(t, r.length / 3 - t, 0)
            }(),
            function() {
                var t = r.length / 3
                  , e = 0;
                for (Z(L, e),
                e += L.length,
                w = 0,
                M = A.length; w < M; w++)
                    Z(_ = A[w], e),
                    e += _.length;
                n.addGroup(t, r.length / 3 - t, 1)
            }()
        }
        this.setAttribute("position", new Fi(r,3)),
        this.setAttribute("uv", new Fi(i,2)),
        this.computeVertexNormals()
    }
    Oc.prototype = Object.create(wo.prototype),
    Oc.prototype.constructor = Oc,
    Oc.prototype.toJSON = function() {
        var t = wo.prototype.toJSON.call(this);
        return Ic(this.parameters.shapes, this.parameters.options, t)
    }
    ,
    Rc.prototype = Object.create(Ji.prototype),
    Rc.prototype.constructor = Rc,
    Rc.prototype.toJSON = function() {
        var t = Ji.prototype.toJSON.call(this);
        return Ic(this.parameters.shapes, this.parameters.options, t)
    }
    ;
    var Cc = {
        generateTopUV: function(t, e, n, r, i) {
            var o = e[3 * n]
              , a = e[3 * n + 1]
              , s = e[3 * r]
              , u = e[3 * r + 1]
              , c = e[3 * i]
              , l = e[3 * i + 1];
            return [new Yn(o,a), new Yn(s,u), new Yn(c,l)]
        },
        generateSideWallUV: function(t, e, n, r, i, o) {
            var a = e[3 * n]
              , s = e[3 * n + 1]
              , u = e[3 * n + 2]
              , c = e[3 * r]
              , l = e[3 * r + 1]
              , h = e[3 * r + 2]
              , f = e[3 * i]
              , p = e[3 * i + 1]
              , d = e[3 * i + 2]
              , m = e[3 * o]
              , v = e[3 * o + 1]
              , g = e[3 * o + 2];
            return Math.abs(s - l) < .01 ? [new Yn(a,1 - u), new Yn(c,1 - h), new Yn(f,1 - d), new Yn(m,1 - g)] : [new Yn(s,1 - u), new Yn(l,1 - h), new Yn(p,1 - d), new Yn(v,1 - g)]
        }
    };
    function Ic(t, e, n) {
        if (n.shapes = [],
        Array.isArray(t))
            for (var r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                n.shapes.push(o.uuid)
            }
        else
            n.shapes.push(t.uuid);
        return void 0 !== e.extrudePath && (n.options.extrudePath = e.extrudePath.toJSON()),
        n
    }
    function Dc(t, e) {
        wo.call(this),
        this.type = "TextGeometry",
        this.parameters = {
            text: t,
            parameters: e
        },
        this.fromBufferGeometry(new kc(t,e)),
        this.mergeVertices()
    }
    function kc(t, e) {
        var n = (e = e || {}).font;
        if (!n || !n.isFont)
            return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),
            new wo;
        var r = n.generateShapes(t, e.size);
        e.depth = void 0 !== e.height ? e.height : 50,
        void 0 === e.bevelThickness && (e.bevelThickness = 10),
        void 0 === e.bevelSize && (e.bevelSize = 8),
        void 0 === e.bevelEnabled && (e.bevelEnabled = !1),
        Rc.call(this, r, e),
        this.type = "TextBufferGeometry"
    }
    function Nc(t, e, n, r, i, o, a) {
        wo.call(this),
        this.type = "SphereGeometry",
        this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: n,
            phiStart: r,
            phiLength: i,
            thetaStart: o,
            thetaLength: a
        },
        this.fromBufferGeometry(new zc(t,e,n,r,i,o,a)),
        this.mergeVertices()
    }
    function zc(t, e, n, r, i, o, a) {
        Ji.call(this),
        this.type = "SphereBufferGeometry",
        this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: n,
            phiStart: r,
            phiLength: i,
            thetaStart: o,
            thetaLength: a
        },
        t = t || 1,
        e = Math.max(3, Math.floor(e) || 8),
        n = Math.max(2, Math.floor(n) || 6),
        r = void 0 !== r ? r : 0,
        i = void 0 !== i ? i : 2 * Math.PI,
        o = void 0 !== o ? o : 0,
        a = void 0 !== a ? a : Math.PI;
        var s, u, c = Math.min(o + a, Math.PI), l = 0, h = [], f = new or, p = new or, d = [], m = [], v = [], g = [];
        for (u = 0; u <= n; u++) {
            var y = []
              , b = u / n
              , x = 0;
            for (0 == u && 0 == o ? x = .5 / e : u == n && c == Math.PI && (x = -.5 / e),
            s = 0; s <= e; s++) {
                var _ = s / e;
                f.x = -t * Math.cos(r + _ * i) * Math.sin(o + b * a),
                f.y = t * Math.cos(o + b * a),
                f.z = t * Math.sin(r + _ * i) * Math.sin(o + b * a),
                m.push(f.x, f.y, f.z),
                p.copy(f).normalize(),
                v.push(p.x, p.y, p.z),
                g.push(_ + x, 1 - b),
                y.push(l++)
            }
            h.push(y)
        }
        for (u = 0; u < n; u++)
            for (s = 0; s < e; s++) {
                var w = h[u][s + 1]
                  , M = h[u][s]
                  , S = h[u + 1][s]
                  , E = h[u + 1][s + 1];
                (0 !== u || o > 0) && d.push(w, M, E),
                (u !== n - 1 || c < Math.PI) && d.push(M, S, E)
            }
        this.setIndex(d),
        this.setAttribute("position", new Fi(m,3)),
        this.setAttribute("normal", new Fi(v,3)),
        this.setAttribute("uv", new Fi(g,2))
    }
    function jc(t, e, n, r, i, o) {
        wo.call(this),
        this.type = "RingGeometry",
        this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: n,
            phiSegments: r,
            thetaStart: i,
            thetaLength: o
        },
        this.fromBufferGeometry(new Fc(t,e,n,r,i,o)),
        this.mergeVertices()
    }
    function Fc(t, e, n, r, i, o) {
        Ji.call(this),
        this.type = "RingBufferGeometry",
        this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: n,
            phiSegments: r,
            thetaStart: i,
            thetaLength: o
        },
        t = t || .5,
        e = e || 1,
        i = void 0 !== i ? i : 0,
        o = void 0 !== o ? o : 2 * Math.PI,
        n = void 0 !== n ? Math.max(3, n) : 8;
        var a, s, u, c = [], l = [], h = [], f = [], p = t, d = (e - t) / (r = void 0 !== r ? Math.max(1, r) : 1), m = new or, v = new Yn;
        for (s = 0; s <= r; s++) {
            for (u = 0; u <= n; u++)
                a = i + u / n * o,
                m.x = p * Math.cos(a),
                m.y = p * Math.sin(a),
                l.push(m.x, m.y, m.z),
                h.push(0, 0, 1),
                v.x = (m.x / e + 1) / 2,
                v.y = (m.y / e + 1) / 2,
                f.push(v.x, v.y);
            p += d
        }
        for (s = 0; s < r; s++) {
            var g = s * (n + 1);
            for (u = 0; u < n; u++) {
                var y = a = u + g
                  , b = a + n + 1
                  , x = a + n + 2
                  , _ = a + 1;
                c.push(y, b, _),
                c.push(b, x, _)
            }
        }
        this.setIndex(c),
        this.setAttribute("position", new Fi(l,3)),
        this.setAttribute("normal", new Fi(h,3)),
        this.setAttribute("uv", new Fi(f,2))
    }
    function Bc(t, e, n, r) {
        wo.call(this),
        this.type = "LatheGeometry",
        this.parameters = {
            points: t,
            segments: e,
            phiStart: n,
            phiLength: r
        },
        this.fromBufferGeometry(new Uc(t,e,n,r)),
        this.mergeVertices()
    }
    function Uc(t, e, n, r) {
        Ji.call(this),
        this.type = "LatheBufferGeometry",
        this.parameters = {
            points: t,
            segments: e,
            phiStart: n,
            phiLength: r
        },
        e = Math.floor(e) || 12,
        n = n || 0,
        r = r || 2 * Math.PI,
        r = Xn.clamp(r, 0, 2 * Math.PI);
        var i, o, a, s = [], u = [], c = [], l = 1 / e, h = new or, f = new Yn;
        for (o = 0; o <= e; o++) {
            var p = n + o * l * r
              , d = Math.sin(p)
              , m = Math.cos(p);
            for (a = 0; a <= t.length - 1; a++)
                h.x = t[a].x * d,
                h.y = t[a].y,
                h.z = t[a].x * m,
                u.push(h.x, h.y, h.z),
                f.x = o / e,
                f.y = a / (t.length - 1),
                c.push(f.x, f.y)
        }
        for (o = 0; o < e; o++)
            for (a = 0; a < t.length - 1; a++) {
                var v = i = a + o * t.length
                  , g = i + t.length
                  , y = i + t.length + 1
                  , b = i + 1;
                s.push(v, g, b),
                s.push(g, y, b)
            }
        if (this.setIndex(s),
        this.setAttribute("position", new Fi(u,3)),
        this.setAttribute("uv", new Fi(c,2)),
        this.computeVertexNormals(),
        r === 2 * Math.PI) {
            var x = this.attributes.normal.array
              , _ = new or
              , w = new or
              , M = new or;
            for (i = e * t.length * 3,
            o = 0,
            a = 0; o < t.length; o++,
            a += 3)
                _.x = x[a + 0],
                _.y = x[a + 1],
                _.z = x[a + 2],
                w.x = x[i + a + 0],
                w.y = x[i + a + 1],
                w.z = x[i + a + 2],
                M.addVectors(_, w).normalize(),
                x[a + 0] = x[i + a + 0] = M.x,
                x[a + 1] = x[i + a + 1] = M.y,
                x[a + 2] = x[i + a + 2] = M.z
        }
    }
    function Gc(t, e) {
        wo.call(this),
        this.type = "ShapeGeometry",
        "object" === o(e) && (console.warn("THREE.ShapeGeometry: Options parameter has been removed."),
        e = e.curveSegments),
        this.parameters = {
            shapes: t,
            curveSegments: e
        },
        this.fromBufferGeometry(new Hc(t,e)),
        this.mergeVertices()
    }
    function Hc(t, e) {
        Ji.call(this),
        this.type = "ShapeBufferGeometry",
        this.parameters = {
            shapes: t,
            curveSegments: e
        },
        e = e || 12;
        var n = []
          , r = []
          , i = []
          , o = []
          , a = 0
          , s = 0;
        if (!1 === Array.isArray(t))
            c(t);
        else
            for (var u = 0; u < t.length; u++)
                c(t[u]),
                this.addGroup(a, s, u),
                a += s,
                s = 0;
        function c(t) {
            var a, u, c, l = r.length / 3, h = t.extractPoints(e), f = h.shape, p = h.holes;
            for (!1 === Ac.isClockWise(f) && (f = f.reverse()),
            a = 0,
            u = p.length; a < u; a++)
                c = p[a],
                !0 === Ac.isClockWise(c) && (p[a] = c.reverse());
            var d = Ac.triangulateShape(f, p);
            for (a = 0,
            u = p.length; a < u; a++)
                c = p[a],
                f = f.concat(c);
            for (a = 0,
            u = f.length; a < u; a++) {
                var m = f[a];
                r.push(m.x, m.y, 0),
                i.push(0, 0, 1),
                o.push(m.x, m.y)
            }
            for (a = 0,
            u = d.length; a < u; a++) {
                var v = d[a]
                  , g = v[0] + l
                  , y = v[1] + l
                  , b = v[2] + l;
                n.push(g, y, b),
                s += 3
            }
        }
        this.setIndex(n),
        this.setAttribute("position", new Fi(r,3)),
        this.setAttribute("normal", new Fi(i,3)),
        this.setAttribute("uv", new Fi(o,2))
    }
    function Vc(t, e) {
        if (e.shapes = [],
        Array.isArray(t))
            for (var n = 0, r = t.length; n < r; n++) {
                var i = t[n];
                e.shapes.push(i.uuid)
            }
        else
            e.shapes.push(t.uuid);
        return e
    }
    function Wc(t, e) {
        Ji.call(this),
        this.type = "EdgesGeometry",
        this.parameters = {
            thresholdAngle: e
        },
        e = void 0 !== e ? e : 1;
        var n, r, i, o, a = [], s = Math.cos(Xn.DEG2RAD * e), u = [0, 0], c = {}, l = ["a", "b", "c"];
        t.isBufferGeometry ? (o = new wo).fromBufferGeometry(t) : o = t.clone(),
        o.mergeVertices(),
        o.computeFaceNormals();
        for (var h = o.vertices, f = o.faces, p = 0, d = f.length; p < d; p++)
            for (var m = f[p], v = 0; v < 3; v++)
                n = m[l[v]],
                r = m[l[(v + 1) % 3]],
                u[0] = Math.min(n, r),
                u[1] = Math.max(n, r),
                void 0 === c[i = u[0] + "," + u[1]] ? c[i] = {
                    index1: u[0],
                    index2: u[1],
                    face1: p,
                    face2: void 0
                } : c[i].face2 = p;
        for (i in c) {
            var g = c[i];
            if (void 0 === g.face2 || f[g.face1].normal.dot(f[g.face2].normal) <= s) {
                var y = h[g.index1];
                a.push(y.x, y.y, y.z),
                y = h[g.index2],
                a.push(y.x, y.y, y.z)
            }
        }
        this.setAttribute("position", new Fi(a,3))
    }
    function qc(t, e, n, r, i, o, a, s) {
        wo.call(this),
        this.type = "CylinderGeometry",
        this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: n,
            radialSegments: r,
            heightSegments: i,
            openEnded: o,
            thetaStart: a,
            thetaLength: s
        },
        this.fromBufferGeometry(new Xc(t,e,n,r,i,o,a,s)),
        this.mergeVertices()
    }
    function Xc(t, e, n, r, i, o, a, s) {
        Ji.call(this),
        this.type = "CylinderBufferGeometry",
        this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: n,
            radialSegments: r,
            heightSegments: i,
            openEnded: o,
            thetaStart: a,
            thetaLength: s
        };
        var u = this;
        t = void 0 !== t ? t : 1,
        e = void 0 !== e ? e : 1,
        n = n || 1,
        r = Math.floor(r) || 8,
        i = Math.floor(i) || 1,
        o = void 0 !== o && o,
        a = void 0 !== a ? a : 0,
        s = void 0 !== s ? s : 2 * Math.PI;
        var c = []
          , l = []
          , h = []
          , f = []
          , p = 0
          , d = []
          , m = n / 2
          , v = 0;
        function g(n) {
            var i, o, d, g = new Yn, y = new or, b = 0, x = !0 === n ? t : e, _ = !0 === n ? 1 : -1;
            for (o = p,
            i = 1; i <= r; i++)
                l.push(0, m * _, 0),
                h.push(0, _, 0),
                f.push(.5, .5),
                p++;
            for (d = p,
            i = 0; i <= r; i++) {
                var w = i / r * s + a
                  , M = Math.cos(w)
                  , S = Math.sin(w);
                y.x = x * S,
                y.y = m * _,
                y.z = x * M,
                l.push(y.x, y.y, y.z),
                h.push(0, _, 0),
                g.x = .5 * M + .5,
                g.y = .5 * S * _ + .5,
                f.push(g.x, g.y),
                p++
            }
            for (i = 0; i < r; i++) {
                var E = o + i
                  , T = d + i;
                !0 === n ? c.push(T, T + 1, E) : c.push(T + 1, T, E),
                b += 3
            }
            u.addGroup(v, b, !0 === n ? 1 : 2),
            v += b
        }
        !function() {
            var o, g, y = new or, b = new or, x = 0, _ = (e - t) / n;
            for (g = 0; g <= i; g++) {
                var w = []
                  , M = g / i
                  , S = M * (e - t) + t;
                for (o = 0; o <= r; o++) {
                    var E = o / r
                      , T = E * s + a
                      , A = Math.sin(T)
                      , P = Math.cos(T);
                    b.x = S * A,
                    b.y = -M * n + m,
                    b.z = S * P,
                    l.push(b.x, b.y, b.z),
                    y.set(A, _, P).normalize(),
                    h.push(y.x, y.y, y.z),
                    f.push(E, 1 - M),
                    w.push(p++)
                }
                d.push(w)
            }
            for (o = 0; o < r; o++)
                for (g = 0; g < i; g++) {
                    var L = d[g][o]
                      , O = d[g + 1][o]
                      , R = d[g + 1][o + 1]
                      , C = d[g][o + 1];
                    c.push(L, O, C),
                    c.push(O, R, C),
                    x += 6
                }
            u.addGroup(v, x, 0),
            v += x
        }(),
        !1 === o && (t > 0 && g(!0),
        e > 0 && g(!1)),
        this.setIndex(c),
        this.setAttribute("position", new Fi(l,3)),
        this.setAttribute("normal", new Fi(h,3)),
        this.setAttribute("uv", new Fi(f,2))
    }
    function Yc(t, e, n, r, i, o, a) {
        qc.call(this, 0, t, e, n, r, i, o, a),
        this.type = "ConeGeometry",
        this.parameters = {
            radius: t,
            height: e,
            radialSegments: n,
            heightSegments: r,
            openEnded: i,
            thetaStart: o,
            thetaLength: a
        }
    }
    function Zc(t, e, n, r, i, o, a) {
        Xc.call(this, 0, t, e, n, r, i, o, a),
        this.type = "ConeBufferGeometry",
        this.parameters = {
            radius: t,
            height: e,
            radialSegments: n,
            heightSegments: r,
            openEnded: i,
            thetaStart: o,
            thetaLength: a
        }
    }
    function Jc(t, e, n, r) {
        wo.call(this),
        this.type = "CircleGeometry",
        this.parameters = {
            radius: t,
            segments: e,
            thetaStart: n,
            thetaLength: r
        },
        this.fromBufferGeometry(new Qc(t,e,n,r)),
        this.mergeVertices()
    }
    function Qc(t, e, n, r) {
        Ji.call(this),
        this.type = "CircleBufferGeometry",
        this.parameters = {
            radius: t,
            segments: e,
            thetaStart: n,
            thetaLength: r
        },
        t = t || 1,
        e = void 0 !== e ? Math.max(3, e) : 8,
        n = void 0 !== n ? n : 0,
        r = void 0 !== r ? r : 2 * Math.PI;
        var i, o, a = [], s = [], u = [], c = [], l = new or, h = new Yn;
        for (s.push(0, 0, 0),
        u.push(0, 0, 1),
        c.push(.5, .5),
        o = 0,
        i = 3; o <= e; o++,
        i += 3) {
            var f = n + o / e * r;
            l.x = t * Math.cos(f),
            l.y = t * Math.sin(f),
            s.push(l.x, l.y, l.z),
            u.push(0, 0, 1),
            h.x = (s[i] / t + 1) / 2,
            h.y = (s[i + 1] / t + 1) / 2,
            c.push(h.x, h.y)
        }
        for (i = 1; i <= e; i++)
            a.push(i, i + 1, 0);
        this.setIndex(a),
        this.setAttribute("position", new Fi(s,3)),
        this.setAttribute("normal", new Fi(u,3)),
        this.setAttribute("uv", new Fi(c,2))
    }
    Dc.prototype = Object.create(wo.prototype),
    Dc.prototype.constructor = Dc,
    kc.prototype = Object.create(Rc.prototype),
    kc.prototype.constructor = kc,
    Nc.prototype = Object.create(wo.prototype),
    Nc.prototype.constructor = Nc,
    zc.prototype = Object.create(Ji.prototype),
    zc.prototype.constructor = zc,
    jc.prototype = Object.create(wo.prototype),
    jc.prototype.constructor = jc,
    Fc.prototype = Object.create(Ji.prototype),
    Fc.prototype.constructor = Fc,
    Bc.prototype = Object.create(wo.prototype),
    Bc.prototype.constructor = Bc,
    Uc.prototype = Object.create(Ji.prototype),
    Uc.prototype.constructor = Uc,
    Gc.prototype = Object.create(wo.prototype),
    Gc.prototype.constructor = Gc,
    Gc.prototype.toJSON = function() {
        var t = wo.prototype.toJSON.call(this);
        return Vc(this.parameters.shapes, t)
    }
    ,
    Hc.prototype = Object.create(Ji.prototype),
    Hc.prototype.constructor = Hc,
    Hc.prototype.toJSON = function() {
        var t = Ji.prototype.toJSON.call(this);
        return Vc(this.parameters.shapes, t)
    }
    ,
    Wc.prototype = Object.create(Ji.prototype),
    Wc.prototype.constructor = Wc,
    qc.prototype = Object.create(wo.prototype),
    qc.prototype.constructor = qc,
    Xc.prototype = Object.create(Ji.prototype),
    Xc.prototype.constructor = Xc,
    Yc.prototype = Object.create(qc.prototype),
    Yc.prototype.constructor = Yc,
    Zc.prototype = Object.create(Xc.prototype),
    Zc.prototype.constructor = Zc,
    Jc.prototype = Object.create(wo.prototype),
    Jc.prototype.constructor = Jc,
    Qc.prototype = Object.create(Ji.prototype),
    Qc.prototype.constructor = Qc;
    var Kc = Object.freeze({
        __proto__: null,
        WireframeGeometry: Bu,
        ParametricGeometry: Uu,
        ParametricBufferGeometry: Gu,
        TetrahedronGeometry: Wu,
        TetrahedronBufferGeometry: qu,
        OctahedronGeometry: Xu,
        OctahedronBufferGeometry: Yu,
        IcosahedronGeometry: Zu,
        IcosahedronBufferGeometry: Ju,
        DodecahedronGeometry: Qu,
        DodecahedronBufferGeometry: Ku,
        PolyhedronGeometry: Hu,
        PolyhedronBufferGeometry: Vu,
        TubeGeometry: $u,
        TubeBufferGeometry: tc,
        TorusKnotGeometry: ec,
        TorusKnotBufferGeometry: nc,
        TorusGeometry: rc,
        TorusBufferGeometry: ic,
        TextGeometry: Dc,
        TextBufferGeometry: kc,
        SphereGeometry: Nc,
        SphereBufferGeometry: zc,
        RingGeometry: jc,
        RingBufferGeometry: Fc,
        PlaneGeometry: Bo,
        PlaneBufferGeometry: Uo,
        LatheGeometry: Bc,
        LatheBufferGeometry: Uc,
        ShapeGeometry: Gc,
        ShapeBufferGeometry: Hc,
        ExtrudeGeometry: Oc,
        ExtrudeBufferGeometry: Rc,
        EdgesGeometry: Wc,
        ConeGeometry: Yc,
        ConeBufferGeometry: Zc,
        CylinderGeometry: qc,
        CylinderBufferGeometry: Xc,
        CircleGeometry: Jc,
        CircleBufferGeometry: Qc,
        BoxGeometry: Mo,
        BoxBufferGeometry: So
    });
    function $c(t) {
        Pi.call(this),
        this.type = "ShadowMaterial",
        this.color = new wi(0),
        this.transparent = !0,
        this.setValues(t)
    }
    function tl(t) {
        Po.call(this, t),
        this.type = "RawShaderMaterial"
    }
    function el(t) {
        Pi.call(this),
        this.defines = {
            STANDARD: ""
        },
        this.type = "MeshStandardMaterial",
        this.color = new wi(16777215),
        this.roughness = 1,
        this.metalness = 0,
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.emissive = new wi(0),
        this.emissiveIntensity = 1,
        this.emissiveMap = null,
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = vn,
        this.normalScale = new Yn(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.roughnessMap = null,
        this.metalnessMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.envMapIntensity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.vertexTangents = !1,
        this.setValues(t)
    }
    function nl(t) {
        el.call(this),
        this.defines = {
            STANDARD: "",
            PHYSICAL: ""
        },
        this.type = "MeshPhysicalMaterial",
        this.reflectivity = .5,
        this.clearcoat = 0,
        this.clearcoatRoughness = 0,
        this.sheen = null,
        this.clearcoatNormalScale = new Yn(1,1),
        this.clearcoatNormalMap = null,
        this.transparency = 0,
        this.setValues(t)
    }
    function rl(t) {
        Pi.call(this),
        this.type = "MeshPhongMaterial",
        this.color = new wi(16777215),
        this.specular = new wi(1118481),
        this.shininess = 30,
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.emissive = new wi(0),
        this.emissiveIntensity = 1,
        this.emissiveMap = null,
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = vn,
        this.normalScale = new Yn(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.specularMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.combine = at,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function il(t) {
        Pi.call(this),
        this.defines = {
            TOON: ""
        },
        this.type = "MeshToonMaterial",
        this.color = new wi(16777215),
        this.specular = new wi(1118481),
        this.shininess = 30,
        this.map = null,
        this.gradientMap = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.emissive = new wi(0),
        this.emissiveIntensity = 1,
        this.emissiveMap = null,
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = vn,
        this.normalScale = new Yn(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.specularMap = null,
        this.alphaMap = null,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function ol(t) {
        Pi.call(this),
        this.type = "MeshNormalMaterial",
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = vn,
        this.normalScale = new Yn(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.fog = !1,
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function al(t) {
        Pi.call(this),
        this.type = "MeshLambertMaterial",
        this.color = new wi(16777215),
        this.map = null,
        this.lightMap = null,
        this.lightMapIntensity = 1,
        this.aoMap = null,
        this.aoMapIntensity = 1,
        this.emissive = new wi(0),
        this.emissiveIntensity = 1,
        this.emissiveMap = null,
        this.specularMap = null,
        this.alphaMap = null,
        this.envMap = null,
        this.combine = at,
        this.reflectivity = 1,
        this.refractionRatio = .98,
        this.wireframe = !1,
        this.wireframeLinewidth = 1,
        this.wireframeLinecap = "round",
        this.wireframeLinejoin = "round",
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function sl(t) {
        Pi.call(this),
        this.defines = {
            MATCAP: ""
        },
        this.type = "MeshMatcapMaterial",
        this.color = new wi(16777215),
        this.matcap = null,
        this.map = null,
        this.bumpMap = null,
        this.bumpScale = 1,
        this.normalMap = null,
        this.normalMapType = vn,
        this.normalScale = new Yn(1,1),
        this.displacementMap = null,
        this.displacementScale = 1,
        this.displacementBias = 0,
        this.alphaMap = null,
        this.skinning = !1,
        this.morphTargets = !1,
        this.morphNormals = !1,
        this.setValues(t)
    }
    function ul(t) {
        yu.call(this),
        this.type = "LineDashedMaterial",
        this.scale = 1,
        this.dashSize = 3,
        this.gapSize = 1,
        this.setValues(t)
    }
    $c.prototype = Object.create(Pi.prototype),
    $c.prototype.constructor = $c,
    $c.prototype.isShadowMaterial = !0,
    $c.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this
    }
    ,
    tl.prototype = Object.create(Po.prototype),
    tl.prototype.constructor = tl,
    tl.prototype.isRawShaderMaterial = !0,
    el.prototype = Object.create(Pi.prototype),
    el.prototype.constructor = el,
    el.prototype.isMeshStandardMaterial = !0,
    el.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.defines = {
            STANDARD: ""
        },
        this.color.copy(t.color),
        this.roughness = t.roughness,
        this.metalness = t.metalness,
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.emissive.copy(t.emissive),
        this.emissiveMap = t.emissiveMap,
        this.emissiveIntensity = t.emissiveIntensity,
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.roughnessMap = t.roughnessMap,
        this.metalnessMap = t.metalnessMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.envMapIntensity = t.envMapIntensity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this.vertexTangents = t.vertexTangents,
        this
    }
    ,
    nl.prototype = Object.create(el.prototype),
    nl.prototype.constructor = nl,
    nl.prototype.isMeshPhysicalMaterial = !0,
    nl.prototype.copy = function(t) {
        return el.prototype.copy.call(this, t),
        this.defines = {
            STANDARD: "",
            PHYSICAL: ""
        },
        this.reflectivity = t.reflectivity,
        this.clearcoat = t.clearcoat,
        this.clearcoatRoughness = t.clearcoatRoughness,
        t.sheen ? this.sheen = (this.sheen || new wi).copy(t.sheen) : this.sheen = null,
        this.clearcoatNormalMap = t.clearcoatNormalMap,
        this.clearcoatNormalScale.copy(t.clearcoatNormalScale),
        this.transparency = t.transparency,
        this
    }
    ,
    rl.prototype = Object.create(Pi.prototype),
    rl.prototype.constructor = rl,
    rl.prototype.isMeshPhongMaterial = !0,
    rl.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.specular.copy(t.specular),
        this.shininess = t.shininess,
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.emissive.copy(t.emissive),
        this.emissiveMap = t.emissiveMap,
        this.emissiveIntensity = t.emissiveIntensity,
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.specularMap = t.specularMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.combine = t.combine,
        this.reflectivity = t.reflectivity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    il.prototype = Object.create(Pi.prototype),
    il.prototype.constructor = il,
    il.prototype.isMeshToonMaterial = !0,
    il.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.specular.copy(t.specular),
        this.shininess = t.shininess,
        this.map = t.map,
        this.gradientMap = t.gradientMap,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.emissive.copy(t.emissive),
        this.emissiveMap = t.emissiveMap,
        this.emissiveIntensity = t.emissiveIntensity,
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.specularMap = t.specularMap,
        this.alphaMap = t.alphaMap,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    ol.prototype = Object.create(Pi.prototype),
    ol.prototype.constructor = ol,
    ol.prototype.isMeshNormalMaterial = !0,
    ol.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    al.prototype = Object.create(Pi.prototype),
    al.prototype.constructor = al,
    al.prototype.isMeshLambertMaterial = !0,
    al.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.color.copy(t.color),
        this.map = t.map,
        this.lightMap = t.lightMap,
        this.lightMapIntensity = t.lightMapIntensity,
        this.aoMap = t.aoMap,
        this.aoMapIntensity = t.aoMapIntensity,
        this.emissive.copy(t.emissive),
        this.emissiveMap = t.emissiveMap,
        this.emissiveIntensity = t.emissiveIntensity,
        this.specularMap = t.specularMap,
        this.alphaMap = t.alphaMap,
        this.envMap = t.envMap,
        this.combine = t.combine,
        this.reflectivity = t.reflectivity,
        this.refractionRatio = t.refractionRatio,
        this.wireframe = t.wireframe,
        this.wireframeLinewidth = t.wireframeLinewidth,
        this.wireframeLinecap = t.wireframeLinecap,
        this.wireframeLinejoin = t.wireframeLinejoin,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    sl.prototype = Object.create(Pi.prototype),
    sl.prototype.constructor = sl,
    sl.prototype.isMeshMatcapMaterial = !0,
    sl.prototype.copy = function(t) {
        return Pi.prototype.copy.call(this, t),
        this.defines = {
            MATCAP: ""
        },
        this.color.copy(t.color),
        this.matcap = t.matcap,
        this.map = t.map,
        this.bumpMap = t.bumpMap,
        this.bumpScale = t.bumpScale,
        this.normalMap = t.normalMap,
        this.normalMapType = t.normalMapType,
        this.normalScale.copy(t.normalScale),
        this.displacementMap = t.displacementMap,
        this.displacementScale = t.displacementScale,
        this.displacementBias = t.displacementBias,
        this.alphaMap = t.alphaMap,
        this.skinning = t.skinning,
        this.morphTargets = t.morphTargets,
        this.morphNormals = t.morphNormals,
        this
    }
    ,
    ul.prototype = Object.create(yu.prototype),
    ul.prototype.constructor = ul,
    ul.prototype.isLineDashedMaterial = !0,
    ul.prototype.copy = function(t) {
        return yu.prototype.copy.call(this, t),
        this.scale = t.scale,
        this.dashSize = t.dashSize,
        this.gapSize = t.gapSize,
        this
    }
    ;
    var cl = Object.freeze({
        __proto__: null,
        ShadowMaterial: $c,
        SpriteMaterial: Vs,
        RawShaderMaterial: tl,
        ShaderMaterial: Po,
        PointsMaterial: Lu,
        MeshPhysicalMaterial: nl,
        MeshStandardMaterial: el,
        MeshPhongMaterial: rl,
        MeshToonMaterial: il,
        MeshNormalMaterial: ol,
        MeshLambertMaterial: al,
        MeshDepthMaterial: Ps,
        MeshDistanceMaterial: Ls,
        MeshBasicMaterial: Li,
        MeshMatcapMaterial: sl,
        LineDashedMaterial: ul,
        LineBasicMaterial: yu,
        Material: Pi
    })
      , ll = {
        arraySlice: function(t, e, n) {
            return ll.isTypedArray(t) ? new t.constructor(t.subarray(e, void 0 !== n ? n : t.length)) : t.slice(e, n)
        },
        convertArray: function(t, e, n) {
            return !t || !n && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t)
        },
        isTypedArray: function(t) {
            return ArrayBuffer.isView(t) && !(t instanceof DataView)
        },
        getKeyframeOrder: function(t) {
            for (var e = t.length, n = new Array(e), r = 0; r !== e; ++r)
                n[r] = r;
            return n.sort((function(e, n) {
                return t[e] - t[n]
            }
            )),
            n
        },
        sortedArray: function(t, e, n) {
            for (var r = t.length, i = new t.constructor(r), o = 0, a = 0; a !== r; ++o)
                for (var s = n[o] * e, u = 0; u !== e; ++u)
                    i[a++] = t[s + u];
            return i
        },
        flattenJSON: function(t, e, n, r) {
            for (var i = 1, o = t[0]; void 0 !== o && void 0 === o[r]; )
                o = t[i++];
            if (void 0 !== o) {
                var a = o[r];
                if (void 0 !== a)
                    if (Array.isArray(a))
                        do {
                            void 0 !== (a = o[r]) && (e.push(o.time),
                            n.push.apply(n, a)),
                            o = t[i++]
                        } while (void 0 !== o);
                    else if (void 0 !== a.toArray)
                        do {
                            void 0 !== (a = o[r]) && (e.push(o.time),
                            a.toArray(n, n.length)),
                            o = t[i++]
                        } while (void 0 !== o);
                    else
                        do {
                            void 0 !== (a = o[r]) && (e.push(o.time),
                            n.push(a)),
                            o = t[i++]
                        } while (void 0 !== o)
            }
        },
        subclip: function(t, e, n, r, i) {
            i = i || 30;
            var o = t.clone();
            o.name = e;
            for (var a = [], s = 0; s < o.tracks.length; ++s) {
                for (var u = o.tracks[s], c = u.getValueSize(), l = [], h = [], f = 0; f < u.times.length; ++f) {
                    var p = u.times[f] * i;
                    if (!(p < n || p >= r)) {
                        l.push(u.times[f]);
                        for (var d = 0; d < c; ++d)
                            h.push(u.values[f * c + d])
                    }
                }
                0 !== l.length && (u.times = ll.convertArray(l, u.times.constructor),
                u.values = ll.convertArray(h, u.values.constructor),
                a.push(u))
            }
            o.tracks = a;
            var m = 1 / 0;
            for (s = 0; s < o.tracks.length; ++s)
                m > o.tracks[s].times[0] && (m = o.tracks[s].times[0]);
            for (s = 0; s < o.tracks.length; ++s)
                o.tracks[s].shift(-1 * m);
            return o.resetDuration(),
            o
        }
    };
    function hl(t, e, n, r) {
        this.parameterPositions = t,
        this._cachedIndex = 0,
        this.resultBuffer = void 0 !== r ? r : new e.constructor(n),
        this.sampleValues = e,
        this.valueSize = n
    }
    function fl(t, e, n, r) {
        hl.call(this, t, e, n, r),
        this._weightPrev = -0,
        this._offsetPrev = -0,
        this._weightNext = -0,
        this._offsetNext = -0
    }
    function pl(t, e, n, r) {
        hl.call(this, t, e, n, r)
    }
    function dl(t, e, n, r) {
        hl.call(this, t, e, n, r)
    }
    function ml(t, e, n, r) {
        if (void 0 === t)
            throw new Error("THREE.KeyframeTrack: track name is undefined");
        if (void 0 === e || 0 === e.length)
            throw new Error("THREE.KeyframeTrack: no keyframes in track named " + t);
        this.name = t,
        this.times = ll.convertArray(e, this.TimeBufferType),
        this.values = ll.convertArray(n, this.ValueBufferType),
        this.setInterpolation(r || this.DefaultInterpolation)
    }
    function vl(t, e, n) {
        ml.call(this, t, e, n)
    }
    function gl(t, e, n, r) {
        ml.call(this, t, e, n, r)
    }
    function yl(t, e, n, r) {
        ml.call(this, t, e, n, r)
    }
    function bl(t, e, n, r) {
        hl.call(this, t, e, n, r)
    }
    function xl(t, e, n, r) {
        ml.call(this, t, e, n, r)
    }
    function _l(t, e, n, r) {
        ml.call(this, t, e, n, r)
    }
    function wl(t, e, n, r) {
        ml.call(this, t, e, n, r)
    }
    function Ml(t, e, n) {
        this.name = t,
        this.tracks = n,
        this.duration = void 0 !== e ? e : -1,
        this.uuid = Xn.generateUUID(),
        this.duration < 0 && this.resetDuration()
    }
    function Sl(t) {
        if (void 0 === t.type)
            throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
        var e = function(t) {
            switch (t.toLowerCase()) {
            case "scalar":
            case "double":
            case "float":
            case "number":
            case "integer":
                return yl;
            case "vector":
            case "vector2":
            case "vector3":
            case "vector4":
                return wl;
            case "color":
                return gl;
            case "quaternion":
                return xl;
            case "bool":
            case "boolean":
                return vl;
            case "string":
                return _l
            }
            throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + t)
        }(t.type);
        if (void 0 === t.times) {
            var n = []
              , r = [];
            ll.flattenJSON(t.keys, n, r, "value"),
            t.times = n,
            t.values = r
        }
        return void 0 !== e.parse ? e.parse(t) : new e(t.name,t.times,t.values,t.interpolation)
    }
    Object.assign(hl.prototype, {
        evaluate: function(t) {
            var e = this.parameterPositions
              , n = this._cachedIndex
              , r = e[n]
              , i = e[n - 1];
            t: {
                e: {
                    var o;
                    n: {
                        r: if (!(t < r)) {
                            for (var a = n + 2; ; ) {
                                if (void 0 === r) {
                                    if (t < i)
                                        break r;
                                    return n = e.length,
                                    this._cachedIndex = n,
                                    this.afterEnd_(n - 1, t, i)
                                }
                                if (n === a)
                                    break;
                                if (i = r,
                                t < (r = e[++n]))
                                    break e
                            }
                            o = e.length;
                            break n
                        }
                        if (t >= i)
                            break t;
                        var s = e[1];
                        t < s && (n = 2,
                        i = s);
                        for (a = n - 2; ; ) {
                            if (void 0 === i)
                                return this._cachedIndex = 0,
                                this.beforeStart_(0, t, r);
                            if (n === a)
                                break;
                            if (r = i,
                            t >= (i = e[--n - 1]))
                                break e
                        }
                        o = n,
                        n = 0
                    }
                    for (; n < o; ) {
                        var u = n + o >>> 1;
                        t < e[u] ? o = u : n = u + 1
                    }
                    if (r = e[n],
                    void 0 === (i = e[n - 1]))
                        return this._cachedIndex = 0,
                        this.beforeStart_(0, t, r);
                    if (void 0 === r)
                        return n = e.length,
                        this._cachedIndex = n,
                        this.afterEnd_(n - 1, i, t)
                }
                this._cachedIndex = n,
                this.intervalChanged_(n, i, r)
            }
            return this.interpolate_(n, i, t, r)
        },
        settings: null,
        DefaultSettings_: {},
        getSettings_: function() {
            return this.settings || this.DefaultSettings_
        },
        copySampleValue_: function(t) {
            for (var e = this.resultBuffer, n = this.sampleValues, r = this.valueSize, i = t * r, o = 0; o !== r; ++o)
                e[o] = n[i + o];
            return e
        },
        interpolate_: function() {
            throw new Error("call to abstract method")
        },
        intervalChanged_: function() {}
    }),
    //!\ DECLARE ALIAS AFTER assign prototype !
    Object.assign(hl.prototype, {
        beforeStart_: hl.prototype.copySampleValue_,
        afterEnd_: hl.prototype.copySampleValue_
    }),
    fl.prototype = Object.assign(Object.create(hl.prototype), {
        constructor: fl,
        DefaultSettings_: {
            endingStart: $e,
            endingEnd: $e
        },
        intervalChanged_: function(t, e, n) {
            var r = this.parameterPositions
              , i = t - 2
              , o = t + 1
              , a = r[i]
              , s = r[o];
            if (void 0 === a)
                switch (this.getSettings_().endingStart) {
                case tn:
                    i = t,
                    a = 2 * e - n;
                    break;
                case en:
                    a = e + r[i = r.length - 2] - r[i + 1];
                    break;
                default:
                    i = t,
                    a = n
                }
            if (void 0 === s)
                switch (this.getSettings_().endingEnd) {
                case tn:
                    o = t,
                    s = 2 * n - e;
                    break;
                case en:
                    o = 1,
                    s = n + r[1] - r[0];
                    break;
                default:
                    o = t - 1,
                    s = e
                }
            var u = .5 * (n - e)
              , c = this.valueSize;
            this._weightPrev = u / (e - a),
            this._weightNext = u / (s - n),
            this._offsetPrev = i * c,
            this._offsetNext = o * c
        },
        interpolate_: function(t, e, n, r) {
            for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = s - a, c = this._offsetPrev, l = this._offsetNext, h = this._weightPrev, f = this._weightNext, p = (n - e) / (r - e), d = p * p, m = d * p, v = -h * m + 2 * h * d - h * p, g = (1 + h) * m + (-1.5 - 2 * h) * d + (-.5 + h) * p + 1, y = (-1 - f) * m + (1.5 + f) * d + .5 * p, b = f * m - f * d, x = 0; x !== a; ++x)
                i[x] = v * o[c + x] + g * o[u + x] + y * o[s + x] + b * o[l + x];
            return i
        }
    }),
    pl.prototype = Object.assign(Object.create(hl.prototype), {
        constructor: pl,
        interpolate_: function(t, e, n, r) {
            for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = s - a, c = (n - e) / (r - e), l = 1 - c, h = 0; h !== a; ++h)
                i[h] = o[u + h] * l + o[s + h] * c;
            return i
        }
    }),
    dl.prototype = Object.assign(Object.create(hl.prototype), {
        constructor: dl,
        interpolate_: function(t) {
            return this.copySampleValue_(t - 1)
        }
    }),
    Object.assign(ml, {
        toJSON: function(t) {
            var e, n = t.constructor;
            if (void 0 !== n.toJSON)
                e = n.toJSON(t);
            else {
                e = {
                    name: t.name,
                    times: ll.convertArray(t.times, Array),
                    values: ll.convertArray(t.values, Array)
                };
                var r = t.getInterpolation();
                r !== t.DefaultInterpolation && (e.interpolation = r)
            }
            return e.type = t.ValueTypeName,
            e
        }
    }),
    Object.assign(ml.prototype, {
        constructor: ml,
        TimeBufferType: Float32Array,
        ValueBufferType: Float32Array,
        DefaultInterpolation: Qe,
        InterpolantFactoryMethodDiscrete: function(t) {
            return new dl(this.times,this.values,this.getValueSize(),t)
        },
        InterpolantFactoryMethodLinear: function(t) {
            return new pl(this.times,this.values,this.getValueSize(),t)
        },
        InterpolantFactoryMethodSmooth: function(t) {
            return new fl(this.times,this.values,this.getValueSize(),t)
        },
        setInterpolation: function(t) {
            var e;
            switch (t) {
            case Je:
                e = this.InterpolantFactoryMethodDiscrete;
                break;
            case Qe:
                e = this.InterpolantFactoryMethodLinear;
                break;
            case Ke:
                e = this.InterpolantFactoryMethodSmooth
            }
            if (void 0 === e) {
                var n = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                if (void 0 === this.createInterpolant) {
                    if (t === this.DefaultInterpolation)
                        throw new Error(n);
                    this.setInterpolation(this.DefaultInterpolation)
                }
                return console.warn("THREE.KeyframeTrack:", n),
                this
            }
            return this.createInterpolant = e,
            this
        },
        getInterpolation: function() {
            switch (this.createInterpolant) {
            case this.InterpolantFactoryMethodDiscrete:
                return Je;
            case this.InterpolantFactoryMethodLinear:
                return Qe;
            case this.InterpolantFactoryMethodSmooth:
                return Ke
            }
        },
        getValueSize: function() {
            return this.values.length / this.times.length
        },
        shift: function(t) {
            if (0 !== t)
                for (var e = this.times, n = 0, r = e.length; n !== r; ++n)
                    e[n] += t;
            return this
        },
        scale: function(t) {
            if (1 !== t)
                for (var e = this.times, n = 0, r = e.length; n !== r; ++n)
                    e[n] *= t;
            return this
        },
        trim: function(t, e) {
            for (var n = this.times, r = n.length, i = 0, o = r - 1; i !== r && n[i] < t; )
                ++i;
            for (; -1 !== o && n[o] > e; )
                --o;
            if (++o,
            0 !== i || o !== r) {
                i >= o && (i = (o = Math.max(o, 1)) - 1);
                var a = this.getValueSize();
                this.times = ll.arraySlice(n, i, o),
                this.values = ll.arraySlice(this.values, i * a, o * a)
            }
            return this
        },
        validate: function() {
            var t = !0
              , e = this.getValueSize();
            e - Math.floor(e) != 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this),
            t = !1);
            var n = this.times
              , r = this.values
              , i = n.length;
            0 === i && (console.error("THREE.KeyframeTrack: Track is empty.", this),
            t = !1);
            for (var o = null, a = 0; a !== i; a++) {
                var s = n[a];
                if ("number" == typeof s && isNaN(s)) {
                    console.error("THREE.KeyframeTrack: Time is not a valid number.", this, a, s),
                    t = !1;
                    break
                }
                if (null !== o && o > s) {
                    console.error("THREE.KeyframeTrack: Out of order keys.", this, a, s, o),
                    t = !1;
                    break
                }
                o = s
            }
            if (void 0 !== r && ll.isTypedArray(r)) {
                a = 0;
                for (var u = r.length; a !== u; ++a) {
                    var c = r[a];
                    if (isNaN(c)) {
                        console.error("THREE.KeyframeTrack: Value is not a valid number.", this, a, c),
                        t = !1;
                        break
                    }
                }
            }
            return t
        },
        optimize: function() {
            for (var t = ll.arraySlice(this.times), e = ll.arraySlice(this.values), n = this.getValueSize(), r = this.getInterpolation() === Ke, i = 1, o = t.length - 1, a = 1; a < o; ++a) {
                var s = !1
                  , u = t[a];
                if (u !== t[a + 1] && (1 !== a || u !== u[0]))
                    if (r)
                        s = !0;
                    else
                        for (var c = a * n, l = c - n, h = c + n, f = 0; f !== n; ++f) {
                            var p = e[c + f];
                            if (p !== e[l + f] || p !== e[h + f]) {
                                s = !0;
                                break
                            }
                        }
                if (s) {
                    if (a !== i) {
                        t[i] = t[a];
                        var d = a * n
                          , m = i * n;
                        for (f = 0; f !== n; ++f)
                            e[m + f] = e[d + f]
                    }
                    ++i
                }
            }
            if (o > 0) {
                t[i] = t[o];
                for (d = o * n,
                m = i * n,
                f = 0; f !== n; ++f)
                    e[m + f] = e[d + f];
                ++i
            }
            return i !== t.length ? (this.times = ll.arraySlice(t, 0, i),
            this.values = ll.arraySlice(e, 0, i * n)) : (this.times = t,
            this.values = e),
            this
        },
        clone: function() {
            var t = ll.arraySlice(this.times, 0)
              , e = ll.arraySlice(this.values, 0)
              , n = new (0,
            this.constructor)(this.name,t,e);
            return n.createInterpolant = this.createInterpolant,
            n
        }
    }),
    vl.prototype = Object.assign(Object.create(ml.prototype), {
        constructor: vl,
        ValueTypeName: "bool",
        ValueBufferType: Array,
        DefaultInterpolation: Je,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    }),
    gl.prototype = Object.assign(Object.create(ml.prototype), {
        constructor: gl,
        ValueTypeName: "color"
    }),
    yl.prototype = Object.assign(Object.create(ml.prototype), {
        constructor: yl,
        ValueTypeName: "number"
    }),
    bl.prototype = Object.assign(Object.create(hl.prototype), {
        constructor: bl,
        interpolate_: function(t, e, n, r) {
            for (var i = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, u = (n - e) / (r - e), c = s + a; s !== c; s += 4)
                nr.slerpFlat(i, 0, o, s - a, o, s, u);
            return i
        }
    }),
    xl.prototype = Object.assign(Object.create(ml.prototype), {
        constructor: xl,
        ValueTypeName: "quaternion",
        DefaultInterpolation: Qe,
        InterpolantFactoryMethodLinear: function(t) {
            return new bl(this.times,this.values,this.getValueSize(),t)
        },
        InterpolantFactoryMethodSmooth: void 0
    }),
    _l.prototype = Object.assign(Object.create(ml.prototype), {
        constructor: _l,
        ValueTypeName: "string",
        ValueBufferType: Array,
        DefaultInterpolation: Je,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    }),
    wl.prototype = Object.assign(Object.create(ml.prototype), {
        constructor: wl,
        ValueTypeName: "vector"
    }),
    Object.assign(Ml, {
        parse: function(t) {
            for (var e = [], n = t.tracks, r = 1 / (t.fps || 1), i = 0, o = n.length; i !== o; ++i)
                e.push(Sl(n[i]).scale(r));
            return new Ml(t.name,t.duration,e)
        },
        toJSON: function(t) {
            for (var e = [], n = t.tracks, r = {
                name: t.name,
                duration: t.duration,
                tracks: e,
                uuid: t.uuid
            }, i = 0, o = n.length; i !== o; ++i)
                e.push(ml.toJSON(n[i]));
            return r
        },
        CreateFromMorphTargetSequence: function(t, e, n, r) {
            for (var i = e.length, o = [], a = 0; a < i; a++) {
                var s = []
                  , u = [];
                s.push((a + i - 1) % i, a, (a + 1) % i),
                u.push(0, 1, 0);
                var c = ll.getKeyframeOrder(s);
                s = ll.sortedArray(s, 1, c),
                u = ll.sortedArray(u, 1, c),
                r || 0 !== s[0] || (s.push(i),
                u.push(u[0])),
                o.push(new yl(".morphTargetInfluences[" + e[a].name + "]",s,u).scale(1 / n))
            }
            return new Ml(t,-1,o)
        },
        findByName: function(t, e) {
            var n = t;
            if (!Array.isArray(t)) {
                var r = t;
                n = r.geometry && r.geometry.animations || r.animations
            }
            for (var i = 0; i < n.length; i++)
                if (n[i].name === e)
                    return n[i];
            return null
        },
        CreateClipsFromMorphTargetSequences: function(t, e, n) {
            for (var r = {}, i = /^([\w-]*?)([\d]+)$/, o = 0, a = t.length; o < a; o++) {
                var s = t[o]
                  , u = s.name.match(i);
                if (u && u.length > 1) {
                    var c = r[h = u[1]];
                    c || (r[h] = c = []),
                    c.push(s)
                }
            }
            var l = [];
            for (var h in r)
                l.push(Ml.CreateFromMorphTargetSequence(h, r[h], e, n));
            return l
        },
        parseAnimation: function(t, e) {
            if (!t)
                return console.error("THREE.AnimationClip: No animation in JSONLoader data."),
                null;
            for (var n = function(t, e, n, r, i) {
                if (0 !== n.length) {
                    var o = []
                      , a = [];
                    ll.flattenJSON(n, o, a, r),
                    0 !== o.length && i.push(new t(e,o,a))
                }
            }, r = [], i = t.name || "default", o = t.length || -1, a = t.fps || 30, s = t.hierarchy || [], u = 0; u < s.length; u++) {
                var c = s[u].keys;
                if (c && 0 !== c.length)
                    if (c[0].morphTargets) {
                        for (var l = {}, h = 0; h < c.length; h++)
                            if (c[h].morphTargets)
                                for (var f = 0; f < c[h].morphTargets.length; f++)
                                    l[c[h].morphTargets[f]] = -1;
                        for (var p in l) {
                            var d = []
                              , m = [];
                            for (f = 0; f !== c[h].morphTargets.length; ++f) {
                                var v = c[h];
                                d.push(v.time),
                                m.push(v.morphTarget === p ? 1 : 0)
                            }
                            r.push(new yl(".morphTargetInfluence[" + p + "]",d,m))
                        }
                        o = l.length * (a || 1)
                    } else {
                        var g = ".bones[" + e[u].name + "]";
                        n(wl, g + ".position", c, "pos", r),
                        n(xl, g + ".quaternion", c, "rot", r),
                        n(wl, g + ".scale", c, "scl", r)
                    }
            }
            return 0 === r.length ? null : new Ml(i,o,r)
        }
    }),
    Object.assign(Ml.prototype, {
        resetDuration: function() {
            for (var t = 0, e = 0, n = this.tracks.length; e !== n; ++e) {
                var r = this.tracks[e];
                t = Math.max(t, r.times[r.times.length - 1])
            }
            return this.duration = t,
            this
        },
        trim: function() {
            for (var t = 0; t < this.tracks.length; t++)
                this.tracks[t].trim(0, this.duration);
            return this
        },
        validate: function() {
            for (var t = !0, e = 0; e < this.tracks.length; e++)
                t = t && this.tracks[e].validate();
            return t
        },
        optimize: function() {
            for (var t = 0; t < this.tracks.length; t++)
                this.tracks[t].optimize();
            return this
        },
        clone: function() {
            for (var t = [], e = 0; e < this.tracks.length; e++)
                t.push(this.tracks[e].clone());
            return new Ml(this.name,this.duration,t)
        }
    });
    var El = {
        enabled: !1,
        files: {},
        add: function(t, e) {
            !1 !== this.enabled && (this.files[t] = e)
        },
        get: function(t) {
            if (!1 !== this.enabled)
                return this.files[t]
        },
        remove: function(t) {
            delete this.files[t]
        },
        clear: function() {
            this.files = {}
        }
    };
    function Tl(t, e, n) {
        var r = this
          , i = !1
          , o = 0
          , a = 0
          , s = void 0
          , u = [];
        this.onStart = void 0,
        this.onLoad = t,
        this.onProgress = e,
        this.onError = n,
        this.itemStart = function(t) {
            a++,
            !1 === i && void 0 !== r.onStart && r.onStart(t, o, a),
            i = !0
        }
        ,
        this.itemEnd = function(t) {
            o++,
            void 0 !== r.onProgress && r.onProgress(t, o, a),
            o === a && (i = !1,
            void 0 !== r.onLoad && r.onLoad())
        }
        ,
        this.itemError = function(t) {
            void 0 !== r.onError && r.onError(t)
        }
        ,
        this.resolveURL = function(t) {
            return s ? s(t) : t
        }
        ,
        this.setURLModifier = function(t) {
            return s = t,
            this
        }
        ,
        this.addHandler = function(t, e) {
            return u.push(t, e),
            this
        }
        ,
        this.removeHandler = function(t) {
            var e = u.indexOf(t);
            return -1 !== e && u.splice(e, 2),
            this
        }
        ,
        this.getHandler = function(t) {
            for (var e = 0, n = u.length; e < n; e += 2) {
                var r = u[e]
                  , i = u[e + 1];
                if (r.global && (r.lastIndex = 0),
                r.test(t))
                    return i
            }
            return null
        }
    }
    var Al = new Tl;
    function Pl(t) {
        this.manager = void 0 !== t ? t : Al,
        this.crossOrigin = "anonymous",
        this.path = "",
        this.resourcePath = ""
    }
    Object.assign(Pl.prototype, {
        load: function() {},
        parse: function() {},
        setCrossOrigin: function(t) {
            return this.crossOrigin = t,
            this
        },
        setPath: function(t) {
            return this.path = t,
            this
        },
        setResourcePath: function(t) {
            return this.resourcePath = t,
            this
        }
    });
    var Ll = {};
    function Ol(t) {
        Pl.call(this, t)
    }
    function Rl(t) {
        Pl.call(this, t)
    }
    function Cl(t) {
        Pl.call(this, t)
    }
    function Il(t) {
        Pl.call(this, t)
    }
    function Dl(t) {
        Pl.call(this, t)
    }
    function kl(t) {
        Pl.call(this, t)
    }
    function Nl(t) {
        Pl.call(this, t)
    }
    function zl() {
        this.type = "Curve",
        this.arcLengthDivisions = 200
    }
    function jl(t, e, n, r, i, o, a, s) {
        zl.call(this),
        this.type = "EllipseCurve",
        this.aX = t || 0,
        this.aY = e || 0,
        this.xRadius = n || 1,
        this.yRadius = r || 1,
        this.aStartAngle = i || 0,
        this.aEndAngle = o || 2 * Math.PI,
        this.aClockwise = a || !1,
        this.aRotation = s || 0
    }
    function Fl(t, e, n, r, i, o) {
        jl.call(this, t, e, n, n, r, i, o),
        this.type = "ArcCurve"
    }
    function Bl() {
        var t = 0
          , e = 0
          , n = 0
          , r = 0;
        function i(i, o, a, s) {
            t = i,
            e = a,
            n = -3 * i + 3 * o - 2 * a - s,
            r = 2 * i - 2 * o + a + s
        }
        return {
            initCatmullRom: function(t, e, n, r, o) {
                i(e, n, o * (n - t), o * (r - e))
            },
            initNonuniformCatmullRom: function(t, e, n, r, o, a, s) {
                var u = (e - t) / o - (n - t) / (o + a) + (n - e) / a
                  , c = (n - e) / a - (r - e) / (a + s) + (r - n) / s;
                i(e, n, u *= a, c *= a)
            },
            calc: function(i) {
                var o = i * i;
                return t + e * i + n * o + r * (o * i)
            }
        }
    }
    Ol.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Ol,
        load: function(t, e, n, r) {
            void 0 === t && (t = ""),
            void 0 !== this.path && (t = this.path + t),
            t = this.manager.resolveURL(t);
            var i = this
              , o = El.get(t);
            if (void 0 !== o)
                return i.manager.itemStart(t),
                setTimeout((function() {
                    e && e(o),
                    i.manager.itemEnd(t)
                }
                ), 0),
                o;
            if (void 0 === Ll[t]) {
                var a = t.match(/^data:(.*?)(;base64)?,(.*)$/);
                if (a) {
                    var s = a[1]
                      , u = !!a[2]
                      , c = a[3];
                    c = decodeURIComponent(c),
                    u && (c = atob(c));
                    try {
                        var l, h = (this.responseType || "").toLowerCase();
                        switch (h) {
                        case "arraybuffer":
                        case "blob":
                            for (var f = new Uint8Array(c.length), p = 0; p < c.length; p++)
                                f[p] = c.charCodeAt(p);
                            l = "blob" === h ? new Blob([f.buffer],{
                                type: s
                            }) : f.buffer;
                            break;
                        case "document":
                            var d = new DOMParser;
                            l = d.parseFromString(c, s);
                            break;
                        case "json":
                            l = JSON.parse(c);
                            break;
                        default:
                            l = c
                        }
                        setTimeout((function() {
                            e && e(l),
                            i.manager.itemEnd(t)
                        }
                        ), 0)
                    } catch (e) {
                        setTimeout((function() {
                            r && r(e),
                            i.manager.itemError(t),
                            i.manager.itemEnd(t)
                        }
                        ), 0)
                    }
                } else {
                    Ll[t] = [],
                    Ll[t].push({
                        onLoad: e,
                        onProgress: n,
                        onError: r
                    });
                    var m = new XMLHttpRequest;
                    for (var v in m.open("GET", t, !0),
                    m.addEventListener("load", (function(e) {
                        var n = this.response
                          , r = Ll[t];
                        if (delete Ll[t],
                        200 === this.status || 0 === this.status) {
                            0 === this.status && console.warn("THREE.FileLoader: HTTP Status 0 received."),
                            El.add(t, n);
                            for (var o = 0, a = r.length; o < a; o++) {
                                (s = r[o]).onLoad && s.onLoad(n)
                            }
                            i.manager.itemEnd(t)
                        } else {
                            for (o = 0,
                            a = r.length; o < a; o++) {
                                var s;
                                (s = r[o]).onError && s.onError(e)
                            }
                            i.manager.itemError(t),
                            i.manager.itemEnd(t)
                        }
                    }
                    ), !1),
                    m.addEventListener("progress", (function(e) {
                        for (var n = Ll[t], r = 0, i = n.length; r < i; r++) {
                            var o = n[r];
                            o.onProgress && o.onProgress(e)
                        }
                    }
                    ), !1),
                    m.addEventListener("error", (function(e) {
                        var n = Ll[t];
                        delete Ll[t];
                        for (var r = 0, o = n.length; r < o; r++) {
                            var a = n[r];
                            a.onError && a.onError(e)
                        }
                        i.manager.itemError(t),
                        i.manager.itemEnd(t)
                    }
                    ), !1),
                    m.addEventListener("abort", (function(e) {
                        var n = Ll[t];
                        delete Ll[t];
                        for (var r = 0, o = n.length; r < o; r++) {
                            var a = n[r];
                            a.onError && a.onError(e)
                        }
                        i.manager.itemError(t),
                        i.manager.itemEnd(t)
                    }
                    ), !1),
                    void 0 !== this.responseType && (m.responseType = this.responseType),
                    void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials),
                    m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"),
                    this.requestHeader)
                        m.setRequestHeader(v, this.requestHeader[v]);
                    m.send(null)
                }
                return i.manager.itemStart(t),
                m
            }
            Ll[t].push({
                onLoad: e,
                onProgress: n,
                onError: r
            })
        },
        setResponseType: function(t) {
            return this.responseType = t,
            this
        },
        setWithCredentials: function(t) {
            return this.withCredentials = t,
            this
        },
        setMimeType: function(t) {
            return this.mimeType = t,
            this
        },
        setRequestHeader: function(t) {
            return this.requestHeader = t,
            this
        }
    }),
    Rl.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Rl,
        load: function(t, e, n, r) {
            var i = this
              , o = new Ol(i.manager);
            o.setPath(i.path),
            o.load(t, (function(t) {
                e(i.parse(JSON.parse(t)))
            }
            ), n, r)
        },
        parse: function(t) {
            for (var e = [], n = 0; n < t.length; n++) {
                var r = Ml.parse(t[n]);
                e.push(r)
            }
            return e
        }
    }),
    Cl.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Cl,
        load: function(t, e, n, r) {
            var i = this
              , o = []
              , a = new zu;
            a.image = o;
            var s = new Ol(this.manager);
            function u(u) {
                s.load(t[u], (function(t) {
                    var n = i.parse(t, !0);
                    o[u] = {
                        width: n.width,
                        height: n.height,
                        format: n.format,
                        mipmaps: n.mipmaps
                    },
                    6 === (c += 1) && (1 === n.mipmapCount && (a.minFilter = Rt),
                    a.format = n.format,
                    a.needsUpdate = !0,
                    e && e(a))
                }
                ), n, r)
            }
            if (s.setPath(this.path),
            s.setResponseType("arraybuffer"),
            Array.isArray(t))
                for (var c = 0, l = 0, h = t.length; l < h; ++l)
                    u(l);
            else
                s.load(t, (function(t) {
                    var n = i.parse(t, !0);
                    if (n.isCubemap)
                        for (var r = n.mipmaps.length / n.mipmapCount, s = 0; s < r; s++) {
                            o[s] = {
                                mipmaps: []
                            };
                            for (var u = 0; u < n.mipmapCount; u++)
                                o[s].mipmaps.push(n.mipmaps[s * n.mipmapCount + u]),
                                o[s].format = n.format,
                                o[s].width = n.width,
                                o[s].height = n.height
                        }
                    else
                        a.image.width = n.width,
                        a.image.height = n.height,
                        a.mipmaps = n.mipmaps;
                    1 === n.mipmapCount && (a.minFilter = Rt),
                    a.format = n.format,
                    a.needsUpdate = !0,
                    e && e(a)
                }
                ), n, r);
            return a
        }
    }),
    Il.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Il,
        load: function(t, e, n, r) {
            var i = this
              , o = new Io
              , a = new Ol(this.manager);
            return a.setResponseType("arraybuffer"),
            a.setPath(this.path),
            a.load(t, (function(t) {
                var n = i.parse(t);
                n && (void 0 !== n.image ? o.image = n.image : void 0 !== n.data && (o.image.width = n.width,
                o.image.height = n.height,
                o.image.data = n.data),
                o.wrapS = void 0 !== n.wrapS ? n.wrapS : St,
                o.wrapT = void 0 !== n.wrapT ? n.wrapT : St,
                o.magFilter = void 0 !== n.magFilter ? n.magFilter : Rt,
                o.minFilter = void 0 !== n.minFilter ? n.minFilter : Rt,
                o.anisotropy = void 0 !== n.anisotropy ? n.anisotropy : 1,
                void 0 !== n.format && (o.format = n.format),
                void 0 !== n.type && (o.type = n.type),
                void 0 !== n.mipmaps && (o.mipmaps = n.mipmaps,
                o.minFilter = Dt),
                1 === n.mipmapCount && (o.minFilter = Rt),
                o.needsUpdate = !0,
                e && e(o, n))
            }
            ), n, r),
            o
        }
    }),
    Dl.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Dl,
        load: function(t, e, n, r) {
            void 0 !== this.path && (t = this.path + t),
            t = this.manager.resolveURL(t);
            var i = this
              , o = El.get(t);
            if (void 0 !== o)
                return i.manager.itemStart(t),
                setTimeout((function() {
                    e && e(o),
                    i.manager.itemEnd(t)
                }
                ), 0),
                o;
            var a = document.createElementNS("http://www.w3.org/1999/xhtml", "img");
            function s() {
                a.removeEventListener("load", s, !1),
                a.removeEventListener("error", u, !1),
                El.add(t, this),
                e && e(this),
                i.manager.itemEnd(t)
            }
            function u(e) {
                a.removeEventListener("load", s, !1),
                a.removeEventListener("error", u, !1),
                r && r(e),
                i.manager.itemError(t),
                i.manager.itemEnd(t)
            }
            return a.addEventListener("load", s, !1),
            a.addEventListener("error", u, !1),
            "data:" !== t.substr(0, 5) && void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin),
            i.manager.itemStart(t),
            a.src = t,
            a
        }
    }),
    kl.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: kl,
        load: function(t, e, n, r) {
            var i = new ea
              , o = new Dl(this.manager);
            o.setCrossOrigin(this.crossOrigin),
            o.setPath(this.path);
            var a = 0;
            function s(n) {
                o.load(t[n], (function(t) {
                    i.images[n] = t,
                    6 === ++a && (i.needsUpdate = !0,
                    e && e(i))
                }
                ), void 0, r)
            }
            for (var u = 0; u < t.length; ++u)
                s(u);
            return i
        }
    }),
    Nl.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Nl,
        load: function(t, e, n, r) {
            var i = new Kn
              , o = new Dl(this.manager);
            return o.setCrossOrigin(this.crossOrigin),
            o.setPath(this.path),
            o.load(t, (function(n) {
                i.image = n;
                var r = t.search(/\.jpe?g($|\?)/i) > 0 || 0 === t.search(/^data\:image\/jpeg/);
                i.format = r ? Zt : Jt,
                i.needsUpdate = !0,
                void 0 !== e && e(i)
            }
            ), n, r),
            i
        }
    }),
    Object.assign(zl.prototype, {
        getPoint: function() {
            return console.warn("THREE.Curve: .getPoint() not implemented."),
            null
        },
        getPointAt: function(t, e) {
            var n = this.getUtoTmapping(t);
            return this.getPoint(n, e)
        },
        getPoints: function(t) {
            void 0 === t && (t = 5);
            for (var e = [], n = 0; n <= t; n++)
                e.push(this.getPoint(n / t));
            return e
        },
        getSpacedPoints: function(t) {
            void 0 === t && (t = 5);
            for (var e = [], n = 0; n <= t; n++)
                e.push(this.getPointAt(n / t));
            return e
        },
        getLength: function() {
            var t = this.getLengths();
            return t[t.length - 1]
        },
        getLengths: function(t) {
            if (void 0 === t && (t = this.arcLengthDivisions),
            this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate)
                return this.cacheArcLengths;
            this.needsUpdate = !1;
            var e, n, r = [], i = this.getPoint(0), o = 0;
            for (r.push(0),
            n = 1; n <= t; n++)
                o += (e = this.getPoint(n / t)).distanceTo(i),
                r.push(o),
                i = e;
            return this.cacheArcLengths = r,
            r
        },
        updateArcLengths: function() {
            this.needsUpdate = !0,
            this.getLengths()
        },
        getUtoTmapping: function(t, e) {
            var n, r = this.getLengths(), i = 0, o = r.length;
            n = e || t * r[o - 1];
            for (var a, s = 0, u = o - 1; s <= u; )
                if ((a = r[i = Math.floor(s + (u - s) / 2)] - n) < 0)
                    s = i + 1;
                else {
                    if (!(a > 0)) {
                        u = i;
                        break
                    }
                    u = i - 1
                }
            if (r[i = u] === n)
                return i / (o - 1);
            var c = r[i];
            return (i + (n - c) / (r[i + 1] - c)) / (o - 1)
        },
        getTangent: function(t) {
            var e = t - 1e-4
              , n = t + 1e-4;
            e < 0 && (e = 0),
            n > 1 && (n = 1);
            var r = this.getPoint(e);
            return this.getPoint(n).clone().sub(r).normalize()
        },
        getTangentAt: function(t) {
            var e = this.getUtoTmapping(t);
            return this.getTangent(e)
        },
        computeFrenetFrames: function(t, e) {
            var n, r, i, o = new or, a = [], s = [], u = [], c = new or, l = new pr;
            for (n = 0; n <= t; n++)
                r = n / t,
                a[n] = this.getTangentAt(r),
                a[n].normalize();
            s[0] = new or,
            u[0] = new or;
            var h = Number.MAX_VALUE
              , f = Math.abs(a[0].x)
              , p = Math.abs(a[0].y)
              , d = Math.abs(a[0].z);
            for (f <= h && (h = f,
            o.set(1, 0, 0)),
            p <= h && (h = p,
            o.set(0, 1, 0)),
            d <= h && o.set(0, 0, 1),
            c.crossVectors(a[0], o).normalize(),
            s[0].crossVectors(a[0], c),
            u[0].crossVectors(a[0], s[0]),
            n = 1; n <= t; n++)
                s[n] = s[n - 1].clone(),
                u[n] = u[n - 1].clone(),
                c.crossVectors(a[n - 1], a[n]),
                c.length() > Number.EPSILON && (c.normalize(),
                i = Math.acos(Xn.clamp(a[n - 1].dot(a[n]), -1, 1)),
                s[n].applyMatrix4(l.makeRotationAxis(c, i))),
                u[n].crossVectors(a[n], s[n]);
            if (!0 === e)
                for (i = Math.acos(Xn.clamp(s[0].dot(s[t]), -1, 1)),
                i /= t,
                a[0].dot(c.crossVectors(s[0], s[t])) > 0 && (i = -i),
                n = 1; n <= t; n++)
                    s[n].applyMatrix4(l.makeRotationAxis(a[n], i * n)),
                    u[n].crossVectors(a[n], s[n]);
            return {
                tangents: a,
                normals: s,
                binormals: u
            }
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.arcLengthDivisions = t.arcLengthDivisions,
            this
        },
        toJSON: function() {
            var t = {
                metadata: {
                    version: 4.5,
                    type: "Curve",
                    generator: "Curve.toJSON"
                }
            };
            return t.arcLengthDivisions = this.arcLengthDivisions,
            t.type = this.type,
            t
        },
        fromJSON: function(t) {
            return this.arcLengthDivisions = t.arcLengthDivisions,
            this
        }
    }),
    jl.prototype = Object.create(zl.prototype),
    jl.prototype.constructor = jl,
    jl.prototype.isEllipseCurve = !0,
    jl.prototype.getPoint = function(t, e) {
        for (var n = e || new Yn, r = 2 * Math.PI, i = this.aEndAngle - this.aStartAngle, o = Math.abs(i) < Number.EPSILON; i < 0; )
            i += r;
        for (; i > r; )
            i -= r;
        i < Number.EPSILON && (i = o ? 0 : r),
        !0 !== this.aClockwise || o || (i === r ? i = -r : i -= r);
        var a = this.aStartAngle + t * i
          , s = this.aX + this.xRadius * Math.cos(a)
          , u = this.aY + this.yRadius * Math.sin(a);
        if (0 !== this.aRotation) {
            var c = Math.cos(this.aRotation)
              , l = Math.sin(this.aRotation)
              , h = s - this.aX
              , f = u - this.aY;
            s = h * c - f * l + this.aX,
            u = h * l + f * c + this.aY
        }
        return n.set(s, u)
    }
    ,
    jl.prototype.copy = function(t) {
        return zl.prototype.copy.call(this, t),
        this.aX = t.aX,
        this.aY = t.aY,
        this.xRadius = t.xRadius,
        this.yRadius = t.yRadius,
        this.aStartAngle = t.aStartAngle,
        this.aEndAngle = t.aEndAngle,
        this.aClockwise = t.aClockwise,
        this.aRotation = t.aRotation,
        this
    }
    ,
    jl.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        return t.aX = this.aX,
        t.aY = this.aY,
        t.xRadius = this.xRadius,
        t.yRadius = this.yRadius,
        t.aStartAngle = this.aStartAngle,
        t.aEndAngle = this.aEndAngle,
        t.aClockwise = this.aClockwise,
        t.aRotation = this.aRotation,
        t
    }
    ,
    jl.prototype.fromJSON = function(t) {
        return zl.prototype.fromJSON.call(this, t),
        this.aX = t.aX,
        this.aY = t.aY,
        this.xRadius = t.xRadius,
        this.yRadius = t.yRadius,
        this.aStartAngle = t.aStartAngle,
        this.aEndAngle = t.aEndAngle,
        this.aClockwise = t.aClockwise,
        this.aRotation = t.aRotation,
        this
    }
    ,
    Fl.prototype = Object.create(jl.prototype),
    Fl.prototype.constructor = Fl,
    Fl.prototype.isArcCurve = !0;
    var Ul = new or
      , Gl = new Bl
      , Hl = new Bl
      , Vl = new Bl;
    function Wl(t, e, n, r) {
        zl.call(this),
        this.type = "CatmullRomCurve3",
        this.points = t || [],
        this.closed = e || !1,
        this.curveType = n || "centripetal",
        this.tension = r || .5
    }
    function ql(t, e, n, r, i) {
        var o = .5 * (r - e)
          , a = .5 * (i - n)
          , s = t * t;
        return (2 * n - 2 * r + o + a) * (t * s) + (-3 * n + 3 * r - 2 * o - a) * s + o * t + n
    }
    function Xl(t, e, n, r) {
        return function(t, e) {
            var n = 1 - t;
            return n * n * e
        }(t, e) + function(t, e) {
            return 2 * (1 - t) * t * e
        }(t, n) + function(t, e) {
            return t * t * e
        }(t, r)
    }
    function Yl(t, e, n, r, i) {
        return function(t, e) {
            var n = 1 - t;
            return n * n * n * e
        }(t, e) + function(t, e) {
            var n = 1 - t;
            return 3 * n * n * t * e
        }(t, n) + function(t, e) {
            return 3 * (1 - t) * t * t * e
        }(t, r) + function(t, e) {
            return t * t * t * e
        }(t, i)
    }
    function Zl(t, e, n, r) {
        zl.call(this),
        this.type = "CubicBezierCurve",
        this.v0 = t || new Yn,
        this.v1 = e || new Yn,
        this.v2 = n || new Yn,
        this.v3 = r || new Yn
    }
    function Jl(t, e, n, r) {
        zl.call(this),
        this.type = "CubicBezierCurve3",
        this.v0 = t || new or,
        this.v1 = e || new or,
        this.v2 = n || new or,
        this.v3 = r || new or
    }
    function Ql(t, e) {
        zl.call(this),
        this.type = "LineCurve",
        this.v1 = t || new Yn,
        this.v2 = e || new Yn
    }
    function Kl(t, e) {
        zl.call(this),
        this.type = "LineCurve3",
        this.v1 = t || new or,
        this.v2 = e || new or
    }
    function $l(t, e, n) {
        zl.call(this),
        this.type = "QuadraticBezierCurve",
        this.v0 = t || new Yn,
        this.v1 = e || new Yn,
        this.v2 = n || new Yn
    }
    function th(t, e, n) {
        zl.call(this),
        this.type = "QuadraticBezierCurve3",
        this.v0 = t || new or,
        this.v1 = e || new or,
        this.v2 = n || new or
    }
    function eh(t) {
        zl.call(this),
        this.type = "SplineCurve",
        this.points = t || []
    }
    Wl.prototype = Object.create(zl.prototype),
    Wl.prototype.constructor = Wl,
    Wl.prototype.isCatmullRomCurve3 = !0,
    Wl.prototype.getPoint = function(t, e) {
        var n, r, i, o, a = e || new or, s = this.points, u = s.length, c = (u - (this.closed ? 0 : 1)) * t, l = Math.floor(c), h = c - l;
        if (this.closed ? l += l > 0 ? 0 : (Math.floor(Math.abs(l) / u) + 1) * u : 0 === h && l === u - 1 && (l = u - 2,
        h = 1),
        this.closed || l > 0 ? n = s[(l - 1) % u] : (Ul.subVectors(s[0], s[1]).add(s[0]),
        n = Ul),
        r = s[l % u],
        i = s[(l + 1) % u],
        this.closed || l + 2 < u ? o = s[(l + 2) % u] : (Ul.subVectors(s[u - 1], s[u - 2]).add(s[u - 1]),
        o = Ul),
        "centripetal" === this.curveType || "chordal" === this.curveType) {
            var f = "chordal" === this.curveType ? .5 : .25
              , p = Math.pow(n.distanceToSquared(r), f)
              , d = Math.pow(r.distanceToSquared(i), f)
              , m = Math.pow(i.distanceToSquared(o), f);
            d < 1e-4 && (d = 1),
            p < 1e-4 && (p = d),
            m < 1e-4 && (m = d),
            Gl.initNonuniformCatmullRom(n.x, r.x, i.x, o.x, p, d, m),
            Hl.initNonuniformCatmullRom(n.y, r.y, i.y, o.y, p, d, m),
            Vl.initNonuniformCatmullRom(n.z, r.z, i.z, o.z, p, d, m)
        } else
            "catmullrom" === this.curveType && (Gl.initCatmullRom(n.x, r.x, i.x, o.x, this.tension),
            Hl.initCatmullRom(n.y, r.y, i.y, o.y, this.tension),
            Vl.initCatmullRom(n.z, r.z, i.z, o.z, this.tension));
        return a.set(Gl.calc(h), Hl.calc(h), Vl.calc(h)),
        a
    }
    ,
    Wl.prototype.copy = function(t) {
        zl.prototype.copy.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push(r.clone())
        }
        return this.closed = t.closed,
        this.curveType = t.curveType,
        this.tension = t.tension,
        this
    }
    ,
    Wl.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        t.points = [];
        for (var e = 0, n = this.points.length; e < n; e++) {
            var r = this.points[e];
            t.points.push(r.toArray())
        }
        return t.closed = this.closed,
        t.curveType = this.curveType,
        t.tension = this.tension,
        t
    }
    ,
    Wl.prototype.fromJSON = function(t) {
        zl.prototype.fromJSON.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push((new or).fromArray(r))
        }
        return this.closed = t.closed,
        this.curveType = t.curveType,
        this.tension = t.tension,
        this
    }
    ,
    Zl.prototype = Object.create(zl.prototype),
    Zl.prototype.constructor = Zl,
    Zl.prototype.isCubicBezierCurve = !0,
    Zl.prototype.getPoint = function(t, e) {
        var n = e || new Yn
          , r = this.v0
          , i = this.v1
          , o = this.v2
          , a = this.v3;
        return n.set(Yl(t, r.x, i.x, o.x, a.x), Yl(t, r.y, i.y, o.y, a.y)),
        n
    }
    ,
    Zl.prototype.copy = function(t) {
        return zl.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this.v3.copy(t.v3),
        this
    }
    ,
    Zl.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t.v3 = this.v3.toArray(),
        t
    }
    ,
    Zl.prototype.fromJSON = function(t) {
        return zl.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this.v3.fromArray(t.v3),
        this
    }
    ,
    Jl.prototype = Object.create(zl.prototype),
    Jl.prototype.constructor = Jl,
    Jl.prototype.isCubicBezierCurve3 = !0,
    Jl.prototype.getPoint = function(t, e) {
        var n = e || new or
          , r = this.v0
          , i = this.v1
          , o = this.v2
          , a = this.v3;
        return n.set(Yl(t, r.x, i.x, o.x, a.x), Yl(t, r.y, i.y, o.y, a.y), Yl(t, r.z, i.z, o.z, a.z)),
        n
    }
    ,
    Jl.prototype.copy = function(t) {
        return zl.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this.v3.copy(t.v3),
        this
    }
    ,
    Jl.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t.v3 = this.v3.toArray(),
        t
    }
    ,
    Jl.prototype.fromJSON = function(t) {
        return zl.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this.v3.fromArray(t.v3),
        this
    }
    ,
    Ql.prototype = Object.create(zl.prototype),
    Ql.prototype.constructor = Ql,
    Ql.prototype.isLineCurve = !0,
    Ql.prototype.getPoint = function(t, e) {
        var n = e || new Yn;
        return 1 === t ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1),
        n.multiplyScalar(t).add(this.v1)),
        n
    }
    ,
    Ql.prototype.getPointAt = function(t, e) {
        return this.getPoint(t, e)
    }
    ,
    Ql.prototype.getTangent = function() {
        return this.v2.clone().sub(this.v1).normalize()
    }
    ,
    Ql.prototype.copy = function(t) {
        return zl.prototype.copy.call(this, t),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    Ql.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        return t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    Ql.prototype.fromJSON = function(t) {
        return zl.prototype.fromJSON.call(this, t),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    Kl.prototype = Object.create(zl.prototype),
    Kl.prototype.constructor = Kl,
    Kl.prototype.isLineCurve3 = !0,
    Kl.prototype.getPoint = function(t, e) {
        var n = e || new or;
        return 1 === t ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1),
        n.multiplyScalar(t).add(this.v1)),
        n
    }
    ,
    Kl.prototype.getPointAt = function(t, e) {
        return this.getPoint(t, e)
    }
    ,
    Kl.prototype.copy = function(t) {
        return zl.prototype.copy.call(this, t),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    Kl.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        return t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    Kl.prototype.fromJSON = function(t) {
        return zl.prototype.fromJSON.call(this, t),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    $l.prototype = Object.create(zl.prototype),
    $l.prototype.constructor = $l,
    $l.prototype.isQuadraticBezierCurve = !0,
    $l.prototype.getPoint = function(t, e) {
        var n = e || new Yn
          , r = this.v0
          , i = this.v1
          , o = this.v2;
        return n.set(Xl(t, r.x, i.x, o.x), Xl(t, r.y, i.y, o.y)),
        n
    }
    ,
    $l.prototype.copy = function(t) {
        return zl.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    $l.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    $l.prototype.fromJSON = function(t) {
        return zl.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    th.prototype = Object.create(zl.prototype),
    th.prototype.constructor = th,
    th.prototype.isQuadraticBezierCurve3 = !0,
    th.prototype.getPoint = function(t, e) {
        var n = e || new or
          , r = this.v0
          , i = this.v1
          , o = this.v2;
        return n.set(Xl(t, r.x, i.x, o.x), Xl(t, r.y, i.y, o.y), Xl(t, r.z, i.z, o.z)),
        n
    }
    ,
    th.prototype.copy = function(t) {
        return zl.prototype.copy.call(this, t),
        this.v0.copy(t.v0),
        this.v1.copy(t.v1),
        this.v2.copy(t.v2),
        this
    }
    ,
    th.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        return t.v0 = this.v0.toArray(),
        t.v1 = this.v1.toArray(),
        t.v2 = this.v2.toArray(),
        t
    }
    ,
    th.prototype.fromJSON = function(t) {
        return zl.prototype.fromJSON.call(this, t),
        this.v0.fromArray(t.v0),
        this.v1.fromArray(t.v1),
        this.v2.fromArray(t.v2),
        this
    }
    ,
    eh.prototype = Object.create(zl.prototype),
    eh.prototype.constructor = eh,
    eh.prototype.isSplineCurve = !0,
    eh.prototype.getPoint = function(t, e) {
        var n = e || new Yn
          , r = this.points
          , i = (r.length - 1) * t
          , o = Math.floor(i)
          , a = i - o
          , s = r[0 === o ? o : o - 1]
          , u = r[o]
          , c = r[o > r.length - 2 ? r.length - 1 : o + 1]
          , l = r[o > r.length - 3 ? r.length - 1 : o + 2];
        return n.set(ql(a, s.x, u.x, c.x, l.x), ql(a, s.y, u.y, c.y, l.y)),
        n
    }
    ,
    eh.prototype.copy = function(t) {
        zl.prototype.copy.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push(r.clone())
        }
        return this
    }
    ,
    eh.prototype.toJSON = function() {
        var t = zl.prototype.toJSON.call(this);
        t.points = [];
        for (var e = 0, n = this.points.length; e < n; e++) {
            var r = this.points[e];
            t.points.push(r.toArray())
        }
        return t
    }
    ,
    eh.prototype.fromJSON = function(t) {
        zl.prototype.fromJSON.call(this, t),
        this.points = [];
        for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push((new Yn).fromArray(r))
        }
        return this
    }
    ;
    var nh = Object.freeze({
        __proto__: null,
        ArcCurve: Fl,
        CatmullRomCurve3: Wl,
        CubicBezierCurve: Zl,
        CubicBezierCurve3: Jl,
        EllipseCurve: jl,
        LineCurve: Ql,
        LineCurve3: Kl,
        QuadraticBezierCurve: $l,
        QuadraticBezierCurve3: th,
        SplineCurve: eh
    });
    function rh() {
        zl.call(this),
        this.type = "CurvePath",
        this.curves = [],
        this.autoClose = !1
    }
    function ih(t) {
        rh.call(this),
        this.type = "Path",
        this.currentPoint = new Yn,
        t && this.setFromPoints(t)
    }
    function oh(t) {
        ih.call(this, t),
        this.uuid = Xn.generateUUID(),
        this.type = "Shape",
        this.holes = []
    }
    function ah(t, e) {
        Rr.call(this),
        this.type = "Light",
        this.color = new wi(t),
        this.intensity = void 0 !== e ? e : 1,
        this.receiveShadow = void 0
    }
    function sh(t, e, n) {
        ah.call(this, t, n),
        this.type = "HemisphereLight",
        this.castShadow = void 0,
        this.position.copy(Rr.DefaultUp),
        this.updateMatrix(),
        this.groundColor = new wi(e)
    }
    function uh(t) {
        this.camera = t,
        this.bias = 0,
        this.radius = 1,
        this.mapSize = new Yn(512,512),
        this.map = null,
        this.mapPass = null,
        this.matrix = new pr,
        this._frustum = new No,
        this._frameExtents = new Yn(1,1),
        this._viewportCount = 1,
        this._viewports = [new $n(0,0,1,1)]
    }
    function ch() {
        uh.call(this, new Oo(50,1,.5,500))
    }
    function lh(t, e, n, r, i, o) {
        ah.call(this, t, e),
        this.type = "SpotLight",
        this.position.copy(Rr.DefaultUp),
        this.updateMatrix(),
        this.target = new Rr,
        Object.defineProperty(this, "power", {
            get: function() {
                return this.intensity * Math.PI
            },
            set: function(t) {
                this.intensity = t / Math.PI
            }
        }),
        this.distance = void 0 !== n ? n : 0,
        this.angle = void 0 !== r ? r : Math.PI / 3,
        this.penumbra = void 0 !== i ? i : 0,
        this.decay = void 0 !== o ? o : 1,
        this.shadow = new ch
    }
    function hh() {
        uh.call(this, new Oo(90,1,.5,500)),
        this._frameExtents = new Yn(4,2),
        this._viewportCount = 6,
        this._viewports = [new $n(2,1,1,1), new $n(0,1,1,1), new $n(3,1,1,1), new $n(1,1,1,1), new $n(3,0,1,1), new $n(1,0,1,1)],
        this._cubeDirections = [new or(1,0,0), new or(-1,0,0), new or(0,0,1), new or(0,0,-1), new or(0,1,0), new or(0,-1,0)],
        this._cubeUps = [new or(0,1,0), new or(0,1,0), new or(0,1,0), new or(0,1,0), new or(0,0,1), new or(0,0,-1)]
    }
    function fh(t, e, n, r) {
        ah.call(this, t, e),
        this.type = "PointLight",
        Object.defineProperty(this, "power", {
            get: function() {
                return 4 * this.intensity * Math.PI
            },
            set: function(t) {
                this.intensity = t / (4 * Math.PI)
            }
        }),
        this.distance = void 0 !== n ? n : 0,
        this.decay = void 0 !== r ? r : 1,
        this.shadow = new hh
    }
    function ph(t, e, n, r, i, o) {
        Lo.call(this),
        this.type = "OrthographicCamera",
        this.zoom = 1,
        this.view = null,
        this.left = void 0 !== t ? t : -1,
        this.right = void 0 !== e ? e : 1,
        this.top = void 0 !== n ? n : 1,
        this.bottom = void 0 !== r ? r : -1,
        this.near = void 0 !== i ? i : .1,
        this.far = void 0 !== o ? o : 2e3,
        this.updateProjectionMatrix()
    }
    function dh() {
        uh.call(this, new ph(-5,5,5,-5,.5,500))
    }
    function mh(t, e) {
        ah.call(this, t, e),
        this.type = "DirectionalLight",
        this.position.copy(Rr.DefaultUp),
        this.updateMatrix(),
        this.target = new Rr,
        this.shadow = new dh
    }
    function vh(t, e) {
        ah.call(this, t, e),
        this.type = "AmbientLight",
        this.castShadow = void 0
    }
    function gh(t, e, n, r) {
        ah.call(this, t, e),
        this.type = "RectAreaLight",
        this.width = void 0 !== n ? n : 10,
        this.height = void 0 !== r ? r : 10
    }
    function yh(t) {
        Pl.call(this, t),
        this.textures = {}
    }
    rh.prototype = Object.assign(Object.create(zl.prototype), {
        constructor: rh,
        add: function(t) {
            this.curves.push(t)
        },
        closePath: function() {
            var t = this.curves[0].getPoint(0)
              , e = this.curves[this.curves.length - 1].getPoint(1);
            t.equals(e) || this.curves.push(new Ql(e,t))
        },
        getPoint: function(t) {
            for (var e = t * this.getLength(), n = this.getCurveLengths(), r = 0; r < n.length; ) {
                if (n[r] >= e) {
                    var i = n[r] - e
                      , o = this.curves[r]
                      , a = o.getLength()
                      , s = 0 === a ? 0 : 1 - i / a;
                    return o.getPointAt(s)
                }
                r++
            }
            return null
        },
        getLength: function() {
            var t = this.getCurveLengths();
            return t[t.length - 1]
        },
        updateArcLengths: function() {
            this.needsUpdate = !0,
            this.cacheLengths = null,
            this.getCurveLengths()
        },
        getCurveLengths: function() {
            if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
                return this.cacheLengths;
            for (var t = [], e = 0, n = 0, r = this.curves.length; n < r; n++)
                e += this.curves[n].getLength(),
                t.push(e);
            return this.cacheLengths = t,
            t
        },
        getSpacedPoints: function(t) {
            void 0 === t && (t = 40);
            for (var e = [], n = 0; n <= t; n++)
                e.push(this.getPoint(n / t));
            return this.autoClose && e.push(e[0]),
            e
        },
        getPoints: function(t) {
            t = t || 12;
            for (var e, n = [], r = 0, i = this.curves; r < i.length; r++)
                for (var o = i[r], a = o && o.isEllipseCurve ? 2 * t : o && (o.isLineCurve || o.isLineCurve3) ? 1 : o && o.isSplineCurve ? t * o.points.length : t, s = o.getPoints(a), u = 0; u < s.length; u++) {
                    var c = s[u];
                    e && e.equals(c) || (n.push(c),
                    e = c)
                }
            return this.autoClose && n.length > 1 && !n[n.length - 1].equals(n[0]) && n.push(n[0]),
            n
        },
        copy: function(t) {
            zl.prototype.copy.call(this, t),
            this.curves = [];
            for (var e = 0, n = t.curves.length; e < n; e++) {
                var r = t.curves[e];
                this.curves.push(r.clone())
            }
            return this.autoClose = t.autoClose,
            this
        },
        toJSON: function() {
            var t = zl.prototype.toJSON.call(this);
            t.autoClose = this.autoClose,
            t.curves = [];
            for (var e = 0, n = this.curves.length; e < n; e++) {
                var r = this.curves[e];
                t.curves.push(r.toJSON())
            }
            return t
        },
        fromJSON: function(t) {
            zl.prototype.fromJSON.call(this, t),
            this.autoClose = t.autoClose,
            this.curves = [];
            for (var e = 0, n = t.curves.length; e < n; e++) {
                var r = t.curves[e];
                this.curves.push((new nh[r.type]).fromJSON(r))
            }
            return this
        }
    }),
    ih.prototype = Object.assign(Object.create(rh.prototype), {
        constructor: ih,
        setFromPoints: function(t) {
            this.moveTo(t[0].x, t[0].y);
            for (var e = 1, n = t.length; e < n; e++)
                this.lineTo(t[e].x, t[e].y);
            return this
        },
        moveTo: function(t, e) {
            return this.currentPoint.set(t, e),
            this
        },
        lineTo: function(t, e) {
            var n = new Ql(this.currentPoint.clone(),new Yn(t,e));
            return this.curves.push(n),
            this.currentPoint.set(t, e),
            this
        },
        quadraticCurveTo: function(t, e, n, r) {
            var i = new $l(this.currentPoint.clone(),new Yn(t,e),new Yn(n,r));
            return this.curves.push(i),
            this.currentPoint.set(n, r),
            this
        },
        bezierCurveTo: function(t, e, n, r, i, o) {
            var a = new Zl(this.currentPoint.clone(),new Yn(t,e),new Yn(n,r),new Yn(i,o));
            return this.curves.push(a),
            this.currentPoint.set(i, o),
            this
        },
        splineThru: function(t) {
            var e = new eh([this.currentPoint.clone()].concat(t));
            return this.curves.push(e),
            this.currentPoint.copy(t[t.length - 1]),
            this
        },
        arc: function(t, e, n, r, i, o) {
            var a = this.currentPoint.x
              , s = this.currentPoint.y;
            return this.absarc(t + a, e + s, n, r, i, o),
            this
        },
        absarc: function(t, e, n, r, i, o) {
            return this.absellipse(t, e, n, n, r, i, o),
            this
        },
        ellipse: function(t, e, n, r, i, o, a, s) {
            var u = this.currentPoint.x
              , c = this.currentPoint.y;
            return this.absellipse(t + u, e + c, n, r, i, o, a, s),
            this
        },
        absellipse: function(t, e, n, r, i, o, a, s) {
            var u = new jl(t,e,n,r,i,o,a,s);
            if (this.curves.length > 0) {
                var c = u.getPoint(0);
                c.equals(this.currentPoint) || this.lineTo(c.x, c.y)
            }
            this.curves.push(u);
            var l = u.getPoint(1);
            return this.currentPoint.copy(l),
            this
        },
        copy: function(t) {
            return rh.prototype.copy.call(this, t),
            this.currentPoint.copy(t.currentPoint),
            this
        },
        toJSON: function() {
            var t = rh.prototype.toJSON.call(this);
            return t.currentPoint = this.currentPoint.toArray(),
            t
        },
        fromJSON: function(t) {
            return rh.prototype.fromJSON.call(this, t),
            this.currentPoint.fromArray(t.currentPoint),
            this
        }
    }),
    oh.prototype = Object.assign(Object.create(ih.prototype), {
        constructor: oh,
        getPointsHoles: function(t) {
            for (var e = [], n = 0, r = this.holes.length; n < r; n++)
                e[n] = this.holes[n].getPoints(t);
            return e
        },
        extractPoints: function(t) {
            return {
                shape: this.getPoints(t),
                holes: this.getPointsHoles(t)
            }
        },
        copy: function(t) {
            ih.prototype.copy.call(this, t),
            this.holes = [];
            for (var e = 0, n = t.holes.length; e < n; e++) {
                var r = t.holes[e];
                this.holes.push(r.clone())
            }
            return this
        },
        toJSON: function() {
            var t = ih.prototype.toJSON.call(this);
            t.uuid = this.uuid,
            t.holes = [];
            for (var e = 0, n = this.holes.length; e < n; e++) {
                var r = this.holes[e];
                t.holes.push(r.toJSON())
            }
            return t
        },
        fromJSON: function(t) {
            ih.prototype.fromJSON.call(this, t),
            this.uuid = t.uuid,
            this.holes = [];
            for (var e = 0, n = t.holes.length; e < n; e++) {
                var r = t.holes[e];
                this.holes.push((new ih).fromJSON(r))
            }
            return this
        }
    }),
    ah.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: ah,
        isLight: !0,
        copy: function(t) {
            return Rr.prototype.copy.call(this, t),
            this.color.copy(t.color),
            this.intensity = t.intensity,
            this
        },
        toJSON: function(t) {
            var e = Rr.prototype.toJSON.call(this, t);
            return e.object.color = this.color.getHex(),
            e.object.intensity = this.intensity,
            void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()),
            void 0 !== this.distance && (e.object.distance = this.distance),
            void 0 !== this.angle && (e.object.angle = this.angle),
            void 0 !== this.decay && (e.object.decay = this.decay),
            void 0 !== this.penumbra && (e.object.penumbra = this.penumbra),
            void 0 !== this.shadow && (e.object.shadow = this.shadow.toJSON()),
            e
        }
    }),
    sh.prototype = Object.assign(Object.create(ah.prototype), {
        constructor: sh,
        isHemisphereLight: !0,
        copy: function(t) {
            return ah.prototype.copy.call(this, t),
            this.groundColor.copy(t.groundColor),
            this
        }
    }),
    Object.assign(uh.prototype, {
        _projScreenMatrix: new pr,
        _lightPositionWorld: new or,
        _lookTarget: new or,
        getViewportCount: function() {
            return this._viewportCount
        },
        getFrustum: function() {
            return this._frustum
        },
        updateMatrices: function(t) {
            var e = this.camera
              , n = this.matrix
              , r = this._projScreenMatrix
              , i = this._lookTarget
              , o = this._lightPositionWorld;
            o.setFromMatrixPosition(t.matrixWorld),
            e.position.copy(o),
            i.setFromMatrixPosition(t.target.matrixWorld),
            e.lookAt(i),
            e.updateMatrixWorld(),
            r.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse),
            this._frustum.setFromProjectionMatrix(r),
            n.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1),
            n.multiply(e.projectionMatrix),
            n.multiply(e.matrixWorldInverse)
        },
        getViewport: function(t) {
            return this._viewports[t]
        },
        getFrameExtents: function() {
            return this._frameExtents
        },
        copy: function(t) {
            return this.camera = t.camera.clone(),
            this.bias = t.bias,
            this.radius = t.radius,
            this.mapSize.copy(t.mapSize),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        toJSON: function() {
            var t = {};
            return 0 !== this.bias && (t.bias = this.bias),
            1 !== this.radius && (t.radius = this.radius),
            512 === this.mapSize.x && 512 === this.mapSize.y || (t.mapSize = this.mapSize.toArray()),
            t.camera = this.camera.toJSON(!1).object,
            delete t.camera.matrix,
            t
        }
    }),
    ch.prototype = Object.assign(Object.create(uh.prototype), {
        constructor: ch,
        isSpotLightShadow: !0,
        updateMatrices: function(t) {
            var e = this.camera
              , n = 2 * Xn.RAD2DEG * t.angle
              , r = this.mapSize.width / this.mapSize.height
              , i = t.distance || e.far;
            n === e.fov && r === e.aspect && i === e.far || (e.fov = n,
            e.aspect = r,
            e.far = i,
            e.updateProjectionMatrix()),
            uh.prototype.updateMatrices.call(this, t)
        }
    }),
    lh.prototype = Object.assign(Object.create(ah.prototype), {
        constructor: lh,
        isSpotLight: !0,
        copy: function(t) {
            return ah.prototype.copy.call(this, t),
            this.distance = t.distance,
            this.angle = t.angle,
            this.penumbra = t.penumbra,
            this.decay = t.decay,
            this.target = t.target.clone(),
            this.shadow = t.shadow.clone(),
            this
        }
    }),
    hh.prototype = Object.assign(Object.create(uh.prototype), {
        constructor: hh,
        isPointLightShadow: !0,
        updateMatrices: function(t, e) {
            void 0 === e && (e = 0);
            var n = this.camera
              , r = this.matrix
              , i = this._lightPositionWorld
              , o = this._lookTarget
              , a = this._projScreenMatrix;
            i.setFromMatrixPosition(t.matrixWorld),
            n.position.copy(i),
            o.copy(n.position),
            o.add(this._cubeDirections[e]),
            n.up.copy(this._cubeUps[e]),
            n.lookAt(o),
            n.updateMatrixWorld(),
            r.makeTranslation(-i.x, -i.y, -i.z),
            a.multiplyMatrices(n.projectionMatrix, n.matrixWorldInverse),
            this._frustum.setFromProjectionMatrix(a)
        }
    }),
    fh.prototype = Object.assign(Object.create(ah.prototype), {
        constructor: fh,
        isPointLight: !0,
        copy: function(t) {
            return ah.prototype.copy.call(this, t),
            this.distance = t.distance,
            this.decay = t.decay,
            this.shadow = t.shadow.clone(),
            this
        }
    }),
    ph.prototype = Object.assign(Object.create(Lo.prototype), {
        constructor: ph,
        isOrthographicCamera: !0,
        copy: function(t, e) {
            return Lo.prototype.copy.call(this, t, e),
            this.left = t.left,
            this.right = t.right,
            this.top = t.top,
            this.bottom = t.bottom,
            this.near = t.near,
            this.far = t.far,
            this.zoom = t.zoom,
            this.view = null === t.view ? null : Object.assign({}, t.view),
            this
        },
        setViewOffset: function(t, e, n, r, i, o) {
            null === this.view && (this.view = {
                enabled: !0,
                fullWidth: 1,
                fullHeight: 1,
                offsetX: 0,
                offsetY: 0,
                width: 1,
                height: 1
            }),
            this.view.enabled = !0,
            this.view.fullWidth = t,
            this.view.fullHeight = e,
            this.view.offsetX = n,
            this.view.offsetY = r,
            this.view.width = i,
            this.view.height = o,
            this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            null !== this.view && (this.view.enabled = !1),
            this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var t = (this.right - this.left) / (2 * this.zoom)
              , e = (this.top - this.bottom) / (2 * this.zoom)
              , n = (this.right + this.left) / 2
              , r = (this.top + this.bottom) / 2
              , i = n - t
              , o = n + t
              , a = r + e
              , s = r - e;
            if (null !== this.view && this.view.enabled) {
                var u = (this.right - this.left) / this.view.fullWidth / this.zoom
                  , c = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
                o = (i += u * this.view.offsetX) + u * this.view.width,
                s = (a -= c * this.view.offsetY) - c * this.view.height
            }
            this.projectionMatrix.makeOrthographic(i, o, a, s, this.near, this.far),
            this.projectionMatrixInverse.getInverse(this.projectionMatrix)
        },
        toJSON: function(t) {
            var e = Rr.prototype.toJSON.call(this, t);
            return e.object.zoom = this.zoom,
            e.object.left = this.left,
            e.object.right = this.right,
            e.object.top = this.top,
            e.object.bottom = this.bottom,
            e.object.near = this.near,
            e.object.far = this.far,
            null !== this.view && (e.object.view = Object.assign({}, this.view)),
            e
        }
    }),
    dh.prototype = Object.assign(Object.create(uh.prototype), {
        constructor: dh,
        isDirectionalLightShadow: !0,
        updateMatrices: function(t) {
            uh.prototype.updateMatrices.call(this, t)
        }
    }),
    mh.prototype = Object.assign(Object.create(ah.prototype), {
        constructor: mh,
        isDirectionalLight: !0,
        copy: function(t) {
            return ah.prototype.copy.call(this, t),
            this.target = t.target.clone(),
            this.shadow = t.shadow.clone(),
            this
        }
    }),
    vh.prototype = Object.assign(Object.create(ah.prototype), {
        constructor: vh,
        isAmbientLight: !0
    }),
    gh.prototype = Object.assign(Object.create(ah.prototype), {
        constructor: gh,
        isRectAreaLight: !0,
        copy: function(t) {
            return ah.prototype.copy.call(this, t),
            this.width = t.width,
            this.height = t.height,
            this
        },
        toJSON: function(t) {
            var e = ah.prototype.toJSON.call(this, t);
            return e.object.width = this.width,
            e.object.height = this.height,
            e
        }
    }),
    yh.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: yh,
        load: function(t, e, n, r) {
            var i = this
              , o = new Ol(i.manager);
            o.setPath(i.path),
            o.load(t, (function(t) {
                e(i.parse(JSON.parse(t)))
            }
            ), n, r)
        },
        parse: function(t) {
            var e = this.textures;
            function n(t) {
                return void 0 === e[t] && console.warn("THREE.MaterialLoader: Undefined texture", t),
                e[t]
            }
            var r = new cl[t.type];
            if (void 0 !== t.uuid && (r.uuid = t.uuid),
            void 0 !== t.name && (r.name = t.name),
            void 0 !== t.color && r.color.setHex(t.color),
            void 0 !== t.roughness && (r.roughness = t.roughness),
            void 0 !== t.metalness && (r.metalness = t.metalness),
            void 0 !== t.sheen && (r.sheen = (new wi).setHex(t.sheen)),
            void 0 !== t.emissive && r.emissive.setHex(t.emissive),
            void 0 !== t.specular && r.specular.setHex(t.specular),
            void 0 !== t.shininess && (r.shininess = t.shininess),
            void 0 !== t.clearcoat && (r.clearcoat = t.clearcoat),
            void 0 !== t.clearcoatRoughness && (r.clearcoatRoughness = t.clearcoatRoughness),
            void 0 !== t.fog && (r.fog = t.fog),
            void 0 !== t.flatShading && (r.flatShading = t.flatShading),
            void 0 !== t.blending && (r.blending = t.blending),
            void 0 !== t.combine && (r.combine = t.combine),
            void 0 !== t.side && (r.side = t.side),
            void 0 !== t.opacity && (r.opacity = t.opacity),
            void 0 !== t.transparent && (r.transparent = t.transparent),
            void 0 !== t.alphaTest && (r.alphaTest = t.alphaTest),
            void 0 !== t.depthTest && (r.depthTest = t.depthTest),
            void 0 !== t.depthWrite && (r.depthWrite = t.depthWrite),
            void 0 !== t.colorWrite && (r.colorWrite = t.colorWrite),
            void 0 !== t.stencilWrite && (r.stencilWrite = t.stencilWrite),
            void 0 !== t.stencilWriteMask && (r.stencilWriteMask = t.stencilWriteMask),
            void 0 !== t.stencilFunc && (r.stencilFunc = t.stencilFunc),
            void 0 !== t.stencilRef && (r.stencilRef = t.stencilRef),
            void 0 !== t.stencilFuncMask && (r.stencilFuncMask = t.stencilFuncMask),
            void 0 !== t.stencilFail && (r.stencilFail = t.stencilFail),
            void 0 !== t.stencilZFail && (r.stencilZFail = t.stencilZFail),
            void 0 !== t.stencilZPass && (r.stencilZPass = t.stencilZPass),
            void 0 !== t.wireframe && (r.wireframe = t.wireframe),
            void 0 !== t.wireframeLinewidth && (r.wireframeLinewidth = t.wireframeLinewidth),
            void 0 !== t.wireframeLinecap && (r.wireframeLinecap = t.wireframeLinecap),
            void 0 !== t.wireframeLinejoin && (r.wireframeLinejoin = t.wireframeLinejoin),
            void 0 !== t.rotation && (r.rotation = t.rotation),
            1 !== t.linewidth && (r.linewidth = t.linewidth),
            void 0 !== t.dashSize && (r.dashSize = t.dashSize),
            void 0 !== t.gapSize && (r.gapSize = t.gapSize),
            void 0 !== t.scale && (r.scale = t.scale),
            void 0 !== t.polygonOffset && (r.polygonOffset = t.polygonOffset),
            void 0 !== t.polygonOffsetFactor && (r.polygonOffsetFactor = t.polygonOffsetFactor),
            void 0 !== t.polygonOffsetUnits && (r.polygonOffsetUnits = t.polygonOffsetUnits),
            void 0 !== t.skinning && (r.skinning = t.skinning),
            void 0 !== t.morphTargets && (r.morphTargets = t.morphTargets),
            void 0 !== t.morphNormals && (r.morphNormals = t.morphNormals),
            void 0 !== t.dithering && (r.dithering = t.dithering),
            void 0 !== t.vertexTangents && (r.vertexTangents = t.vertexTangents),
            void 0 !== t.visible && (r.visible = t.visible),
            void 0 !== t.toneMapped && (r.toneMapped = t.toneMapped),
            void 0 !== t.userData && (r.userData = t.userData),
            void 0 !== t.vertexColors && ("number" == typeof t.vertexColors ? r.vertexColors = t.vertexColors > 0 : r.vertexColors = t.vertexColors),
            void 0 !== t.uniforms)
                for (var i in t.uniforms) {
                    var o = t.uniforms[i];
                    switch (r.uniforms[i] = {},
                    o.type) {
                    case "t":
                        r.uniforms[i].value = n(o.value);
                        break;
                    case "c":
                        r.uniforms[i].value = (new wi).setHex(o.value);
                        break;
                    case "v2":
                        r.uniforms[i].value = (new Yn).fromArray(o.value);
                        break;
                    case "v3":
                        r.uniforms[i].value = (new or).fromArray(o.value);
                        break;
                    case "v4":
                        r.uniforms[i].value = (new $n).fromArray(o.value);
                        break;
                    case "m3":
                        r.uniforms[i].value = (new Zn).fromArray(o.value);
                    case "m4":
                        r.uniforms[i].value = (new pr).fromArray(o.value);
                        break;
                    default:
                        r.uniforms[i].value = o.value
                    }
                }
            if (void 0 !== t.defines && (r.defines = t.defines),
            void 0 !== t.vertexShader && (r.vertexShader = t.vertexShader),
            void 0 !== t.fragmentShader && (r.fragmentShader = t.fragmentShader),
            void 0 !== t.extensions)
                for (var a in t.extensions)
                    r.extensions[a] = t.extensions[a];
            if (void 0 !== t.shading && (r.flatShading = 1 === t.shading),
            void 0 !== t.size && (r.size = t.size),
            void 0 !== t.sizeAttenuation && (r.sizeAttenuation = t.sizeAttenuation),
            void 0 !== t.map && (r.map = n(t.map)),
            void 0 !== t.matcap && (r.matcap = n(t.matcap)),
            void 0 !== t.alphaMap && (r.alphaMap = n(t.alphaMap)),
            void 0 !== t.bumpMap && (r.bumpMap = n(t.bumpMap)),
            void 0 !== t.bumpScale && (r.bumpScale = t.bumpScale),
            void 0 !== t.normalMap && (r.normalMap = n(t.normalMap)),
            void 0 !== t.normalMapType && (r.normalMapType = t.normalMapType),
            void 0 !== t.normalScale) {
                var s = t.normalScale;
                !1 === Array.isArray(s) && (s = [s, s]),
                r.normalScale = (new Yn).fromArray(s)
            }
            return void 0 !== t.displacementMap && (r.displacementMap = n(t.displacementMap)),
            void 0 !== t.displacementScale && (r.displacementScale = t.displacementScale),
            void 0 !== t.displacementBias && (r.displacementBias = t.displacementBias),
            void 0 !== t.roughnessMap && (r.roughnessMap = n(t.roughnessMap)),
            void 0 !== t.metalnessMap && (r.metalnessMap = n(t.metalnessMap)),
            void 0 !== t.emissiveMap && (r.emissiveMap = n(t.emissiveMap)),
            void 0 !== t.emissiveIntensity && (r.emissiveIntensity = t.emissiveIntensity),
            void 0 !== t.specularMap && (r.specularMap = n(t.specularMap)),
            void 0 !== t.envMap && (r.envMap = n(t.envMap)),
            void 0 !== t.envMapIntensity && (r.envMapIntensity = t.envMapIntensity),
            void 0 !== t.reflectivity && (r.reflectivity = t.reflectivity),
            void 0 !== t.refractionRatio && (r.refractionRatio = t.refractionRatio),
            void 0 !== t.lightMap && (r.lightMap = n(t.lightMap)),
            void 0 !== t.lightMapIntensity && (r.lightMapIntensity = t.lightMapIntensity),
            void 0 !== t.aoMap && (r.aoMap = n(t.aoMap)),
            void 0 !== t.aoMapIntensity && (r.aoMapIntensity = t.aoMapIntensity),
            void 0 !== t.gradientMap && (r.gradientMap = n(t.gradientMap)),
            void 0 !== t.clearcoatNormalMap && (r.clearcoatNormalMap = n(t.clearcoatNormalMap)),
            void 0 !== t.clearcoatNormalScale && (r.clearcoatNormalScale = (new Yn).fromArray(t.clearcoatNormalScale)),
            r
        },
        setTextures: function(t) {
            return this.textures = t,
            this
        }
    });
    var bh = {
        decodeText: function(t) {
            if ("undefined" != typeof TextDecoder)
                return (new TextDecoder).decode(t);
            for (var e = "", n = 0, r = t.length; n < r; n++)
                e += String.fromCharCode(t[n]);
            try {
                return decodeURIComponent(escape(e))
            } catch (t) {
                return e
            }
        },
        extractUrlBase: function(t) {
            var e = t.lastIndexOf("/");
            return -1 === e ? "./" : t.substr(0, e + 1)
        }
    };
    function xh() {
        Ji.call(this),
        this.type = "InstancedBufferGeometry",
        this.maxInstancedCount = void 0
    }
    function _h(t, e, n, r) {
        "number" == typeof n && (r = n,
        n = !1,
        console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),
        Ri.call(this, t, e, n),
        this.meshPerAttribute = r || 1
    }
    function wh(t) {
        Pl.call(this, t)
    }
    xh.prototype = Object.assign(Object.create(Ji.prototype), {
        constructor: xh,
        isInstancedBufferGeometry: !0,
        copy: function(t) {
            return Ji.prototype.copy.call(this, t),
            this.maxInstancedCount = t.maxInstancedCount,
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        toJSON: function() {
            var t = Ji.prototype.toJSON.call(this);
            return t.maxInstancedCount = this.maxInstancedCount,
            t.isInstancedBufferGeometry = !0,
            t
        }
    }),
    _h.prototype = Object.assign(Object.create(Ri.prototype), {
        constructor: _h,
        isInstancedBufferAttribute: !0,
        copy: function(t) {
            return Ri.prototype.copy.call(this, t),
            this.meshPerAttribute = t.meshPerAttribute,
            this
        },
        toJSON: function() {
            var t = Ri.prototype.toJSON.call(this);
            return t.meshPerAttribute = this.meshPerAttribute,
            t.isInstancedBufferAttribute = !0,
            t
        }
    }),
    wh.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: wh,
        load: function(t, e, n, r) {
            var i = this
              , o = new Ol(i.manager);
            o.setPath(i.path),
            o.load(t, (function(t) {
                e(i.parse(JSON.parse(t)))
            }
            ), n, r)
        },
        parse: function(t) {
            var e = t.isInstancedBufferGeometry ? new xh : new Ji
              , n = t.data.index;
            if (void 0 !== n) {
                var r = new Mh[n.type](n.array);
                e.setIndex(new Ri(r,1))
            }
            var i = t.data.attributes;
            for (var o in i) {
                var a = i[o]
                  , s = (r = new Mh[a.type](a.array),
                new (a.isInstancedBufferAttribute ? _h : Ri)(r,a.itemSize,a.normalized));
                void 0 !== a.name && (s.name = a.name),
                e.setAttribute(o, s)
            }
            var u = t.data.morphAttributes;
            if (u)
                for (var o in u) {
                    for (var c = u[o], l = [], h = 0, f = c.length; h < f; h++) {
                        a = c[h],
                        s = new Ri(r = new Mh[a.type](a.array),a.itemSize,a.normalized);
                        void 0 !== a.name && (s.name = a.name),
                        l.push(s)
                    }
                    e.morphAttributes[o] = l
                }
            t.data.morphTargetsRelative && (e.morphTargetsRelative = !0);
            var p = t.data.groups || t.data.drawcalls || t.data.offsets;
            if (void 0 !== p) {
                h = 0;
                for (var d = p.length; h !== d; ++h) {
                    var m = p[h];
                    e.addGroup(m.start, m.count, m.materialIndex)
                }
            }
            var v = t.data.boundingSphere;
            if (void 0 !== v) {
                var g = new or;
                void 0 !== v.center && g.fromArray(v.center),
                e.boundingSphere = new Zr(g,v.radius)
            }
            return t.name && (e.name = t.name),
            t.userData && (e.userData = t.userData),
            e
        }
    });
    var Mh = {
        Int8Array: Int8Array,
        Uint8Array: Uint8Array,
        Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
        Int16Array: Int16Array,
        Uint16Array: Uint16Array,
        Int32Array: Int32Array,
        Uint32Array: Uint32Array,
        Float32Array: Float32Array,
        Float64Array: Float64Array
    };
    function Sh(t) {
        Pl.call(this, t)
    }
    Sh.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Sh,
        load: function(t, e, n, r) {
            var i = this
              , o = "" === this.path ? bh.extractUrlBase(t) : this.path;
            this.resourcePath = this.resourcePath || o;
            var a = new Ol(i.manager);
            a.setPath(this.path),
            a.load(t, (function(n) {
                var o = null;
                try {
                    o = JSON.parse(n)
                } catch (e) {
                    return void 0 !== r && r(e),
                    void console.error("THREE:ObjectLoader: Can't parse " + t + ".", e.message)
                }
                var a = o.metadata;
                void 0 !== a && void 0 !== a.type && "geometry" !== a.type.toLowerCase() ? i.parse(o, e) : console.error("THREE.ObjectLoader: Can't load " + t)
            }
            ), n, r)
        },
        parse: function(t, e) {
            var n = this.parseShape(t.shapes)
              , r = this.parseGeometries(t.geometries, n)
              , i = this.parseImages(t.images, (function() {
                void 0 !== e && e(s)
            }
            ))
              , o = this.parseTextures(t.textures, i)
              , a = this.parseMaterials(t.materials, o)
              , s = this.parseObject(t.object, r, a);
            return t.animations && (s.animations = this.parseAnimations(t.animations)),
            void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(s),
            s
        },
        parseShape: function(t) {
            var e = {};
            if (void 0 !== t)
                for (var n = 0, r = t.length; n < r; n++) {
                    var i = (new oh).fromJSON(t[n]);
                    e[i.uuid] = i
                }
            return e
        },
        parseGeometries: function(t, e) {
            var n = {};
            if (void 0 !== t)
                for (var r = new wh, i = 0, o = t.length; i < o; i++) {
                    var a, s = t[i];
                    switch (s.type) {
                    case "PlaneGeometry":
                    case "PlaneBufferGeometry":
                        a = new Kc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);
                        break;
                    case "BoxGeometry":
                    case "BoxBufferGeometry":
                    case "CubeGeometry":
                        a = new Kc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);
                        break;
                    case "CircleGeometry":
                    case "CircleBufferGeometry":
                        a = new Kc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);
                        break;
                    case "CylinderGeometry":
                    case "CylinderBufferGeometry":
                        a = new Kc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);
                        break;
                    case "ConeGeometry":
                    case "ConeBufferGeometry":
                        a = new Kc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);
                        break;
                    case "SphereGeometry":
                    case "SphereBufferGeometry":
                        a = new Kc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);
                        break;
                    case "DodecahedronGeometry":
                    case "DodecahedronBufferGeometry":
                    case "IcosahedronGeometry":
                    case "IcosahedronBufferGeometry":
                    case "OctahedronGeometry":
                    case "OctahedronBufferGeometry":
                    case "TetrahedronGeometry":
                    case "TetrahedronBufferGeometry":
                        a = new Kc[s.type](s.radius,s.detail);
                        break;
                    case "RingGeometry":
                    case "RingBufferGeometry":
                        a = new Kc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);
                        break;
                    case "TorusGeometry":
                    case "TorusBufferGeometry":
                        a = new Kc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);
                        break;
                    case "TorusKnotGeometry":
                    case "TorusKnotBufferGeometry":
                        a = new Kc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);
                        break;
                    case "TubeGeometry":
                    case "TubeBufferGeometry":
                        a = new Kc[s.type]((new nh[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);
                        break;
                    case "LatheGeometry":
                    case "LatheBufferGeometry":
                        a = new Kc[s.type](s.points,s.segments,s.phiStart,s.phiLength);
                        break;
                    case "PolyhedronGeometry":
                    case "PolyhedronBufferGeometry":
                        a = new Kc[s.type](s.vertices,s.indices,s.radius,s.details);
                        break;
                    case "ShapeGeometry":
                    case "ShapeBufferGeometry":
                        for (var u = [], c = 0, l = s.shapes.length; c < l; c++) {
                            var h = e[s.shapes[c]];
                            u.push(h)
                        }
                        a = new Kc[s.type](u,s.curveSegments);
                        break;
                    case "ExtrudeGeometry":
                    case "ExtrudeBufferGeometry":
                        for (u = [],
                        c = 0,
                        l = s.shapes.length; c < l; c++) {
                            h = e[s.shapes[c]];
                            u.push(h)
                        }
                        var f = s.options.extrudePath;
                        void 0 !== f && (s.options.extrudePath = (new nh[f.type]).fromJSON(f)),
                        a = new Kc[s.type](u,s.options);
                        break;
                    case "BufferGeometry":
                    case "InstancedBufferGeometry":
                        a = r.parse(s);
                        break;
                    case "Geometry":
                        console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');
                        break;
                    default:
                        console.warn('THREE.ObjectLoader: Unsupported geometry type "' + s.type + '"');
                        continue
                    }
                    a.uuid = s.uuid,
                    void 0 !== s.name && (a.name = s.name),
                    !0 === a.isBufferGeometry && void 0 !== s.userData && (a.userData = s.userData),
                    n[s.uuid] = a
                }
            return n
        },
        parseMaterials: function(t, e) {
            var n = {}
              , r = {};
            if (void 0 !== t) {
                var i = new yh;
                i.setTextures(e);
                for (var o = 0, a = t.length; o < a; o++) {
                    var s = t[o];
                    if ("MultiMaterial" === s.type) {
                        for (var u = [], c = 0; c < s.materials.length; c++) {
                            var l = s.materials[c];
                            void 0 === n[l.uuid] && (n[l.uuid] = i.parse(l)),
                            u.push(n[l.uuid])
                        }
                        r[s.uuid] = u
                    } else
                        void 0 === n[s.uuid] && (n[s.uuid] = i.parse(s)),
                        r[s.uuid] = n[s.uuid]
                }
            }
            return r
        },
        parseAnimations: function(t) {
            for (var e = [], n = 0; n < t.length; n++) {
                var r = t[n]
                  , i = Ml.parse(r);
                void 0 !== r.uuid && (i.uuid = r.uuid),
                e.push(i)
            }
            return e
        },
        parseImages: function(t, e) {
            var n = this
              , r = {};
            function i(t) {
                return n.manager.itemStart(t),
                o.load(t, (function() {
                    n.manager.itemEnd(t)
                }
                ), void 0, (function() {
                    n.manager.itemError(t),
                    n.manager.itemEnd(t)
                }
                ))
            }
            if (void 0 !== t && t.length > 0) {
                var o = new Dl(new Tl(e));
                o.setCrossOrigin(this.crossOrigin);
                for (var a = 0, s = t.length; a < s; a++) {
                    var u = t[a]
                      , c = u.url;
                    if (Array.isArray(c)) {
                        r[u.uuid] = [];
                        for (var l = 0, h = c.length; l < h; l++) {
                            var f = c[l]
                              , p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(f) ? f : n.resourcePath + f;
                            r[u.uuid].push(i(p))
                        }
                    } else {
                        p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url) ? u.url : n.resourcePath + u.url;
                        r[u.uuid] = i(p)
                    }
                }
            }
            return r
        },
        parseTextures: function(t, e) {
            function n(t, e) {
                return "number" == typeof t ? t : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", t),
                e[t])
            }
            var r = {};
            if (void 0 !== t)
                for (var i = 0, o = t.length; i < o; i++) {
                    var a, s = t[i];
                    void 0 === s.image && console.warn('THREE.ObjectLoader: No "image" specified for', s.uuid),
                    void 0 === e[s.image] && console.warn("THREE.ObjectLoader: Undefined image", s.image),
                    (a = Array.isArray(e[s.image]) ? new ea(e[s.image]) : new Kn(e[s.image])).needsUpdate = !0,
                    a.uuid = s.uuid,
                    void 0 !== s.name && (a.name = s.name),
                    void 0 !== s.mapping && (a.mapping = n(s.mapping, Th)),
                    void 0 !== s.offset && a.offset.fromArray(s.offset),
                    void 0 !== s.repeat && a.repeat.fromArray(s.repeat),
                    void 0 !== s.center && a.center.fromArray(s.center),
                    void 0 !== s.rotation && (a.rotation = s.rotation),
                    void 0 !== s.wrap && (a.wrapS = n(s.wrap[0], Ah),
                    a.wrapT = n(s.wrap[1], Ah)),
                    void 0 !== s.format && (a.format = s.format),
                    void 0 !== s.type && (a.type = s.type),
                    void 0 !== s.encoding && (a.encoding = s.encoding),
                    void 0 !== s.minFilter && (a.minFilter = n(s.minFilter, Ph)),
                    void 0 !== s.magFilter && (a.magFilter = n(s.magFilter, Ph)),
                    void 0 !== s.anisotropy && (a.anisotropy = s.anisotropy),
                    void 0 !== s.flipY && (a.flipY = s.flipY),
                    void 0 !== s.premultiplyAlpha && (a.premultiplyAlpha = s.premultiplyAlpha),
                    void 0 !== s.unpackAlignment && (a.unpackAlignment = s.unpackAlignment),
                    r[s.uuid] = a
                }
            return r
        },
        parseObject: function(t, e, n) {
            var r;
            function i(t) {
                return void 0 === e[t] && console.warn("THREE.ObjectLoader: Undefined geometry", t),
                e[t]
            }
            function o(t) {
                if (void 0 !== t) {
                    if (Array.isArray(t)) {
                        for (var e = [], r = 0, i = t.length; r < i; r++) {
                            var o = t[r];
                            void 0 === n[o] && console.warn("THREE.ObjectLoader: Undefined material", o),
                            e.push(n[o])
                        }
                        return e
                    }
                    return void 0 === n[t] && console.warn("THREE.ObjectLoader: Undefined material", t),
                    n[t]
                }
            }
            switch (t.type) {
            case "Scene":
                r = new Cr,
                void 0 !== t.background && Number.isInteger(t.background) && (r.background = new wi(t.background)),
                void 0 !== t.fog && ("Fog" === t.fog.type ? r.fog = new Fs(t.fog.color,t.fog.near,t.fog.far) : "FogExp2" === t.fog.type && (r.fog = new js(t.fog.color,t.fog.density)));
                break;
            case "PerspectiveCamera":
                r = new Oo(t.fov,t.aspect,t.near,t.far),
                void 0 !== t.focus && (r.focus = t.focus),
                void 0 !== t.zoom && (r.zoom = t.zoom),
                void 0 !== t.filmGauge && (r.filmGauge = t.filmGauge),
                void 0 !== t.filmOffset && (r.filmOffset = t.filmOffset),
                void 0 !== t.view && (r.view = Object.assign({}, t.view));
                break;
            case "OrthographicCamera":
                r = new ph(t.left,t.right,t.top,t.bottom,t.near,t.far),
                void 0 !== t.zoom && (r.zoom = t.zoom),
                void 0 !== t.view && (r.view = Object.assign({}, t.view));
                break;
            case "AmbientLight":
                r = new vh(t.color,t.intensity);
                break;
            case "DirectionalLight":
                r = new mh(t.color,t.intensity);
                break;
            case "PointLight":
                r = new fh(t.color,t.intensity,t.distance,t.decay);
                break;
            case "RectAreaLight":
                r = new gh(t.color,t.intensity,t.width,t.height);
                break;
            case "SpotLight":
                r = new lh(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);
                break;
            case "HemisphereLight":
                r = new sh(t.color,t.groundColor,t.intensity);
                break;
            case "SkinnedMesh":
                console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");
            case "Mesh":
                var a = i(t.geometry)
                  , s = o(t.material);
                r = a.bones && a.bones.length > 0 ? new uu(a,s) : new mo(a,s);
                break;
            case "InstancedMesh":
                a = i(t.geometry),
                s = o(t.material);
                var u = t.count
                  , c = t.instanceMatrix;
                (r = new gu(a,s,u)).instanceMatrix = new Ri(new Float32Array(c.array),16);
                break;
            case "LOD":
                r = new su;
                break;
            case "Line":
                r = new Su(i(t.geometry),o(t.material),t.mode);
                break;
            case "LineLoop":
                r = new Pu(i(t.geometry),o(t.material));
                break;
            case "LineSegments":
                r = new Au(i(t.geometry),o(t.material));
                break;
            case "PointCloud":
            case "Points":
                r = new Du(i(t.geometry),o(t.material));
                break;
            case "Sprite":
                r = new ru(o(t.material));
                break;
            case "Group":
                r = new ks;
                break;
            default:
                r = new Rr
            }
            if (r.uuid = t.uuid,
            void 0 !== t.name && (r.name = t.name),
            void 0 !== t.matrix ? (r.matrix.fromArray(t.matrix),
            void 0 !== t.matrixAutoUpdate && (r.matrixAutoUpdate = t.matrixAutoUpdate),
            r.matrixAutoUpdate && r.matrix.decompose(r.position, r.quaternion, r.scale)) : (void 0 !== t.position && r.position.fromArray(t.position),
            void 0 !== t.rotation && r.rotation.fromArray(t.rotation),
            void 0 !== t.quaternion && r.quaternion.fromArray(t.quaternion),
            void 0 !== t.scale && r.scale.fromArray(t.scale)),
            void 0 !== t.castShadow && (r.castShadow = t.castShadow),
            void 0 !== t.receiveShadow && (r.receiveShadow = t.receiveShadow),
            t.shadow && (void 0 !== t.shadow.bias && (r.shadow.bias = t.shadow.bias),
            void 0 !== t.shadow.radius && (r.shadow.radius = t.shadow.radius),
            void 0 !== t.shadow.mapSize && r.shadow.mapSize.fromArray(t.shadow.mapSize),
            void 0 !== t.shadow.camera && (r.shadow.camera = this.parseObject(t.shadow.camera))),
            void 0 !== t.visible && (r.visible = t.visible),
            void 0 !== t.frustumCulled && (r.frustumCulled = t.frustumCulled),
            void 0 !== t.renderOrder && (r.renderOrder = t.renderOrder),
            void 0 !== t.userData && (r.userData = t.userData),
            void 0 !== t.layers && (r.layers.mask = t.layers),
            void 0 !== t.children)
                for (var l = t.children, h = 0; h < l.length; h++)
                    r.add(this.parseObject(l[h], e, n));
            if ("LOD" === t.type) {
                void 0 !== t.autoUpdate && (r.autoUpdate = t.autoUpdate);
                for (var f = t.levels, p = 0; p < f.length; p++) {
                    var d = f[p]
                      , m = r.getObjectByProperty("uuid", d.object);
                    void 0 !== m && r.addLevel(m, d.distance)
                }
            }
            return r
        }
    });
    var Eh, Th = {
        UVMapping: mt,
        CubeReflectionMapping: vt,
        CubeRefractionMapping: gt,
        EquirectangularReflectionMapping: yt,
        EquirectangularRefractionMapping: bt,
        SphericalReflectionMapping: xt,
        CubeUVReflectionMapping: _t,
        CubeUVRefractionMapping: wt
    }, Ah = {
        RepeatWrapping: Mt,
        ClampToEdgeWrapping: St,
        MirroredRepeatWrapping: Et
    }, Ph = {
        NearestFilter: Tt,
        NearestMipmapNearestFilter: At,
        NearestMipmapLinearFilter: Lt,
        LinearFilter: Rt,
        LinearMipmapNearestFilter: Ct,
        LinearMipmapLinearFilter: Dt
    };
    function Lh(t) {
        "undefined" == typeof createImageBitmap && console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),
        "undefined" == typeof fetch && console.warn("THREE.ImageBitmapLoader: fetch() not supported."),
        Pl.call(this, t),
        this.options = void 0
    }
    function Oh() {
        this.type = "ShapePath",
        this.color = new wi,
        this.subPaths = [],
        this.currentPath = null
    }
    function Rh(t) {
        this.type = "Font",
        this.data = t
    }
    function Ch(t, e, n, r, i) {
        var o = i.glyphs[t] || i.glyphs["?"];
        if (o) {
            var a, s, u, c, l, h, f, p, d = new Oh;
            if (o.o)
                for (var m = o._cachedOutline || (o._cachedOutline = o.o.split(" ")), v = 0, g = m.length; v < g; ) {
                    switch (m[v++]) {
                    case "m":
                        a = m[v++] * e + n,
                        s = m[v++] * e + r,
                        d.moveTo(a, s);
                        break;
                    case "l":
                        a = m[v++] * e + n,
                        s = m[v++] * e + r,
                        d.lineTo(a, s);
                        break;
                    case "q":
                        u = m[v++] * e + n,
                        c = m[v++] * e + r,
                        l = m[v++] * e + n,
                        h = m[v++] * e + r,
                        d.quadraticCurveTo(l, h, u, c);
                        break;
                    case "b":
                        u = m[v++] * e + n,
                        c = m[v++] * e + r,
                        l = m[v++] * e + n,
                        h = m[v++] * e + r,
                        f = m[v++] * e + n,
                        p = m[v++] * e + r,
                        d.bezierCurveTo(l, h, f, p, u, c)
                    }
                }
            return {
                offsetX: o.ha * e,
                path: d
            }
        }
        console.error('THREE.Font: character "' + t + '" does not exists in font family ' + i.familyName + ".")
    }
    function Ih(t) {
        Pl.call(this, t)
    }
    Lh.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Lh,
        setOptions: function(t) {
            return this.options = t,
            this
        },
        load: function(t, e, n, r) {
            void 0 === t && (t = ""),
            void 0 !== this.path && (t = this.path + t),
            t = this.manager.resolveURL(t);
            var i = this
              , o = El.get(t);
            if (void 0 !== o)
                return i.manager.itemStart(t),
                setTimeout((function() {
                    e && e(o),
                    i.manager.itemEnd(t)
                }
                ), 0),
                o;
            fetch(t).then((function(t) {
                return t.blob()
            }
            )).then((function(t) {
                return void 0 === i.options ? createImageBitmap(t) : createImageBitmap(t, i.options)
            }
            )).then((function(n) {
                El.add(t, n),
                e && e(n),
                i.manager.itemEnd(t)
            }
            )).catch((function(e) {
                r && r(e),
                i.manager.itemError(t),
                i.manager.itemEnd(t)
            }
            )),
            i.manager.itemStart(t)
        }
    }),
    Object.assign(Oh.prototype, {
        moveTo: function(t, e) {
            return this.currentPath = new ih,
            this.subPaths.push(this.currentPath),
            this.currentPath.moveTo(t, e),
            this
        },
        lineTo: function(t, e) {
            return this.currentPath.lineTo(t, e),
            this
        },
        quadraticCurveTo: function(t, e, n, r) {
            return this.currentPath.quadraticCurveTo(t, e, n, r),
            this
        },
        bezierCurveTo: function(t, e, n, r, i, o) {
            return this.currentPath.bezierCurveTo(t, e, n, r, i, o),
            this
        },
        splineThru: function(t) {
            return this.currentPath.splineThru(t),
            this
        },
        toShapes: function(t, e) {
            function n(t) {
                for (var e = [], n = 0, r = t.length; n < r; n++) {
                    var i = t[n]
                      , o = new oh;
                    o.curves = i.curves,
                    e.push(o)
                }
                return e
            }
            function r(t, e) {
                for (var n = e.length, r = !1, i = n - 1, o = 0; o < n; i = o++) {
                    var a = e[i]
                      , s = e[o]
                      , u = s.x - a.x
                      , c = s.y - a.y;
                    if (Math.abs(c) > Number.EPSILON) {
                        if (c < 0 && (a = e[o],
                        u = -u,
                        s = e[i],
                        c = -c),
                        t.y < a.y || t.y > s.y)
                            continue;
                        if (t.y === a.y) {
                            if (t.x === a.x)
                                return !0
                        } else {
                            var l = c * (t.x - a.x) - u * (t.y - a.y);
                            if (0 === l)
                                return !0;
                            if (l < 0)
                                continue;
                            r = !r
                        }
                    } else {
                        if (t.y !== a.y)
                            continue;
                        if (s.x <= t.x && t.x <= a.x || a.x <= t.x && t.x <= s.x)
                            return !0
                    }
                }
                return r
            }
            var i = Ac.isClockWise
              , o = this.subPaths;
            if (0 === o.length)
                return [];
            if (!0 === e)
                return n(o);
            var a, s, u, c = [];
            if (1 === o.length)
                return s = o[0],
                (u = new oh).curves = s.curves,
                c.push(u),
                c;
            var l = !i(o[0].getPoints());
            l = t ? !l : l;
            var h, f, p = [], d = [], m = [], v = 0;
            d[v] = void 0,
            m[v] = [];
            for (var g = 0, y = o.length; g < y; g++)
                a = i(h = (s = o[g]).getPoints()),
                (a = t ? !a : a) ? (!l && d[v] && v++,
                d[v] = {
                    s: new oh,
                    p: h
                },
                d[v].s.curves = s.curves,
                l && v++,
                m[v] = []) : m[v].push({
                    h: s,
                    p: h[0]
                });
            if (!d[0])
                return n(o);
            if (d.length > 1) {
                for (var b = !1, x = [], _ = 0, w = d.length; _ < w; _++)
                    p[_] = [];
                for (_ = 0,
                w = d.length; _ < w; _++)
                    for (var M = m[_], S = 0; S < M.length; S++) {
                        for (var E = M[S], T = !0, A = 0; A < d.length; A++)
                            r(E.p, d[A].p) && (_ !== A && x.push({
                                froms: _,
                                tos: A,
                                hole: S
                            }),
                            T ? (T = !1,
                            p[A].push(E)) : b = !0);
                        T && p[_].push(E)
                    }
                x.length > 0 && (b || (m = p))
            }
            g = 0;
            for (var P = d.length; g < P; g++) {
                u = d[g].s,
                c.push(u);
                for (var L = 0, O = (f = m[g]).length; L < O; L++)
                    u.holes.push(f[L].h)
            }
            return c
        }
    }),
    Object.assign(Rh.prototype, {
        isFont: !0,
        generateShapes: function(t, e) {
            void 0 === e && (e = 100);
            for (var n = [], r = function(t, e, n) {
                for (var r = Array.from ? Array.from(t) : String(t).split(""), i = e / n.resolution, o = (n.boundingBox.yMax - n.boundingBox.yMin + n.underlineThickness) * i, a = [], s = 0, u = 0, c = 0; c < r.length; c++) {
                    var l = r[c];
                    if ("\n" === l)
                        s = 0,
                        u -= o;
                    else {
                        var h = Ch(l, i, s, u, n);
                        s += h.offsetX,
                        a.push(h.path)
                    }
                }
                return a
            }(t, e, this.data), i = 0, o = r.length; i < o; i++)
                Array.prototype.push.apply(n, r[i].toShapes());
            return n
        }
    }),
    Ih.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: Ih,
        load: function(t, e, n, r) {
            var i = this
              , o = new Ol(this.manager);
            o.setPath(this.path),
            o.load(t, (function(t) {
                var n;
                try {
                    n = JSON.parse(t)
                } catch (e) {
                    console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),
                    n = JSON.parse(t.substring(65, t.length - 2))
                }
                var r = i.parse(n);
                e && e(r)
            }
            ), n, r)
        },
        parse: function(t) {
            return new Rh(t)
        }
    });
    var Dh = {
        getContext: function() {
            return void 0 === Eh && (Eh = new (window.AudioContext || window.webkitAudioContext)),
            Eh
        },
        setContext: function(t) {
            Eh = t
        }
    };
    function kh(t) {
        Pl.call(this, t)
    }
    function Nh() {
        this.coefficients = [];
        for (var t = 0; t < 9; t++)
            this.coefficients.push(new or)
    }
    function zh(t, e) {
        ah.call(this, void 0, e),
        this.sh = void 0 !== t ? t : new Nh
    }
    function jh(t, e, n) {
        zh.call(this, void 0, n);
        var r = (new wi).set(t)
          , i = (new wi).set(e)
          , o = new or(r.r,r.g,r.b)
          , a = new or(i.r,i.g,i.b)
          , s = Math.sqrt(Math.PI)
          , u = s * Math.sqrt(.75);
        this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),
        this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)
    }
    function Fh(t, e) {
        zh.call(this, void 0, e);
        var n = (new wi).set(t);
        this.sh.coefficients[0].set(n.r, n.g, n.b).multiplyScalar(2 * Math.sqrt(Math.PI))
    }
    kh.prototype = Object.assign(Object.create(Pl.prototype), {
        constructor: kh,
        load: function(t, e, n, r) {
            var i = new Ol(this.manager);
            i.setResponseType("arraybuffer"),
            i.setPath(this.path),
            i.load(t, (function(t) {
                var n = t.slice(0);
                Dh.getContext().decodeAudioData(n, (function(t) {
                    e(t)
                }
                ))
            }
            ), n, r)
        }
    }),
    Object.assign(Nh.prototype, {
        isSphericalHarmonics3: !0,
        set: function(t) {
            for (var e = 0; e < 9; e++)
                this.coefficients[e].copy(t[e]);
            return this
        },
        zero: function() {
            for (var t = 0; t < 9; t++)
                this.coefficients[t].set(0, 0, 0);
            return this
        },
        getAt: function(t, e) {
            var n = t.x
              , r = t.y
              , i = t.z
              , o = this.coefficients;
            return e.copy(o[0]).multiplyScalar(.282095),
            e.addScale(o[1], .488603 * r),
            e.addScale(o[2], .488603 * i),
            e.addScale(o[3], .488603 * n),
            e.addScale(o[4], n * r * 1.092548),
            e.addScale(o[5], r * i * 1.092548),
            e.addScale(o[6], .315392 * (3 * i * i - 1)),
            e.addScale(o[7], n * i * 1.092548),
            e.addScale(o[8], .546274 * (n * n - r * r)),
            e
        },
        getIrradianceAt: function(t, e) {
            var n = t.x
              , r = t.y
              , i = t.z
              , o = this.coefficients;
            return e.copy(o[0]).multiplyScalar(.886227),
            e.addScale(o[1], 1.023328 * r),
            e.addScale(o[2], 1.023328 * i),
            e.addScale(o[3], 1.023328 * n),
            e.addScale(o[4], .858086 * n * r),
            e.addScale(o[5], .858086 * r * i),
            e.addScale(o[6], .743125 * i * i - .247708),
            e.addScale(o[7], .858086 * n * i),
            e.addScale(o[8], .429043 * (n * n - r * r)),
            e
        },
        add: function(t) {
            for (var e = 0; e < 9; e++)
                this.coefficients[e].add(t.coefficients[e]);
            return this
        },
        scale: function(t) {
            for (var e = 0; e < 9; e++)
                this.coefficients[e].multiplyScalar(t);
            return this
        },
        lerp: function(t, e) {
            for (var n = 0; n < 9; n++)
                this.coefficients[n].lerp(t.coefficients[n], e);
            return this
        },
        equals: function(t) {
            for (var e = 0; e < 9; e++)
                if (!this.coefficients[e].equals(t.coefficients[e]))
                    return !1;
            return !0
        },
        copy: function(t) {
            return this.set(t.coefficients)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var n = this.coefficients, r = 0; r < 9; r++)
                n[r].fromArray(t, e + 3 * r);
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []),
            void 0 === e && (e = 0);
            for (var n = this.coefficients, r = 0; r < 9; r++)
                n[r].toArray(t, e + 3 * r);
            return t
        }
    }),
    Object.assign(Nh, {
        getBasisAt: function(t, e) {
            var n = t.x
              , r = t.y
              , i = t.z;
            e[0] = .282095,
            e[1] = .488603 * r,
            e[2] = .488603 * i,
            e[3] = .488603 * n,
            e[4] = 1.092548 * n * r,
            e[5] = 1.092548 * r * i,
            e[6] = .315392 * (3 * i * i - 1),
            e[7] = 1.092548 * n * i,
            e[8] = .546274 * (n * n - r * r)
        }
    }),
    zh.prototype = Object.assign(Object.create(ah.prototype), {
        constructor: zh,
        isLightProbe: !0,
        copy: function(t) {
            return ah.prototype.copy.call(this, t),
            this.sh.copy(t.sh),
            this.intensity = t.intensity,
            this
        },
        toJSON: function(t) {
            return ah.prototype.toJSON.call(this, t)
        }
    }),
    jh.prototype = Object.assign(Object.create(zh.prototype), {
        constructor: jh,
        isHemisphereLightProbe: !0,
        copy: function(t) {
            return zh.prototype.copy.call(this, t),
            this
        },
        toJSON: function(t) {
            return zh.prototype.toJSON.call(this, t)
        }
    }),
    Fh.prototype = Object.assign(Object.create(zh.prototype), {
        constructor: Fh,
        isAmbientLightProbe: !0,
        copy: function(t) {
            return zh.prototype.copy.call(this, t),
            this
        },
        toJSON: function(t) {
            return zh.prototype.toJSON.call(this, t)
        }
    });
    var Bh = new pr
      , Uh = new pr;
    function Gh() {
        this.type = "StereoCamera",
        this.aspect = 1,
        this.eyeSep = .064,
        this.cameraL = new Oo,
        this.cameraL.layers.enable(1),
        this.cameraL.matrixAutoUpdate = !1,
        this.cameraR = new Oo,
        this.cameraR.layers.enable(2),
        this.cameraR.matrixAutoUpdate = !1,
        this._cache = {
            focus: null,
            fov: null,
            aspect: null,
            near: null,
            far: null,
            zoom: null,
            eyeSep: null
        }
    }
    function Hh(t) {
        this.autoStart = void 0 === t || t,
        this.startTime = 0,
        this.oldTime = 0,
        this.elapsedTime = 0,
        this.running = !1
    }
    Object.assign(Gh.prototype, {
        update: function(t) {
            var e = this._cache;
            if (e.focus !== t.focus || e.fov !== t.fov || e.aspect !== t.aspect * this.aspect || e.near !== t.near || e.far !== t.far || e.zoom !== t.zoom || e.eyeSep !== this.eyeSep) {
                e.focus = t.focus,
                e.fov = t.fov,
                e.aspect = t.aspect * this.aspect,
                e.near = t.near,
                e.far = t.far,
                e.zoom = t.zoom,
                e.eyeSep = this.eyeSep;
                var n, r, i = t.projectionMatrix.clone(), o = e.eyeSep / 2, a = o * e.near / e.focus, s = e.near * Math.tan(Xn.DEG2RAD * e.fov * .5) / e.zoom;
                Uh.elements[12] = -o,
                Bh.elements[12] = o,
                n = -s * e.aspect + a,
                r = s * e.aspect + a,
                i.elements[0] = 2 * e.near / (r - n),
                i.elements[8] = (r + n) / (r - n),
                this.cameraL.projectionMatrix.copy(i),
                n = -s * e.aspect - a,
                r = s * e.aspect - a,
                i.elements[0] = 2 * e.near / (r - n),
                i.elements[8] = (r + n) / (r - n),
                this.cameraR.projectionMatrix.copy(i)
            }
            this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Uh),
            this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Bh)
        }
    }),
    Object.assign(Hh.prototype, {
        start: function() {
            this.startTime = ("undefined" == typeof performance ? Date : performance).now(),
            this.oldTime = this.startTime,
            this.elapsedTime = 0,
            this.running = !0
        },
        stop: function() {
            this.getElapsedTime(),
            this.running = !1,
            this.autoStart = !1
        },
        getElapsedTime: function() {
            return this.getDelta(),
            this.elapsedTime
        },
        getDelta: function() {
            var t = 0;
            if (this.autoStart && !this.running)
                return this.start(),
                0;
            if (this.running) {
                var e = ("undefined" == typeof performance ? Date : performance).now();
                t = (e - this.oldTime) / 1e3,
                this.oldTime = e,
                this.elapsedTime += t
            }
            return t
        }
    });
    var Vh = new or
      , Wh = new nr
      , qh = new or
      , Xh = new or;
    function Yh() {
        Rr.call(this),
        this.type = "AudioListener",
        this.context = Dh.getContext(),
        this.gain = this.context.createGain(),
        this.gain.connect(this.context.destination),
        this.filter = null,
        this.timeDelta = 0,
        this._clock = new Hh
    }
    function Zh(t) {
        Rr.call(this),
        this.type = "Audio",
        this.listener = t,
        this.context = t.context,
        this.gain = this.context.createGain(),
        this.gain.connect(t.getInput()),
        this.autoplay = !1,
        this.buffer = null,
        this.detune = 0,
        this.loop = !1,
        this.loopStart = 0,
        this.loopEnd = 0,
        this.offset = 0,
        this.duration = void 0,
        this.playbackRate = 1,
        this.isPlaying = !1,
        this.hasPlaybackControl = !0,
        this.sourceType = "empty",
        this._startedAt = 0,
        this._pausedAt = 0,
        this.filters = []
    }
    Yh.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: Yh,
        getInput: function() {
            return this.gain
        },
        removeFilter: function() {
            return null !== this.filter && (this.gain.disconnect(this.filter),
            this.filter.disconnect(this.context.destination),
            this.gain.connect(this.context.destination),
            this.filter = null),
            this
        },
        getFilter: function() {
            return this.filter
        },
        setFilter: function(t) {
            return null !== this.filter ? (this.gain.disconnect(this.filter),
            this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination),
            this.filter = t,
            this.gain.connect(this.filter),
            this.filter.connect(this.context.destination),
            this
        },
        getMasterVolume: function() {
            return this.gain.gain.value
        },
        setMasterVolume: function(t) {
            return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01),
            this
        },
        updateMatrixWorld: function(t) {
            Rr.prototype.updateMatrixWorld.call(this, t);
            var e = this.context.listener
              , n = this.up;
            if (this.timeDelta = this._clock.getDelta(),
            this.matrixWorld.decompose(Vh, Wh, qh),
            Xh.set(0, 0, -1).applyQuaternion(Wh),
            e.positionX) {
                var r = this.context.currentTime + this.timeDelta;
                e.positionX.linearRampToValueAtTime(Vh.x, r),
                e.positionY.linearRampToValueAtTime(Vh.y, r),
                e.positionZ.linearRampToValueAtTime(Vh.z, r),
                e.forwardX.linearRampToValueAtTime(Xh.x, r),
                e.forwardY.linearRampToValueAtTime(Xh.y, r),
                e.forwardZ.linearRampToValueAtTime(Xh.z, r),
                e.upX.linearRampToValueAtTime(n.x, r),
                e.upY.linearRampToValueAtTime(n.y, r),
                e.upZ.linearRampToValueAtTime(n.z, r)
            } else
                e.setPosition(Vh.x, Vh.y, Vh.z),
                e.setOrientation(Xh.x, Xh.y, Xh.z, n.x, n.y, n.z)
        }
    }),
    Zh.prototype = Object.assign(Object.create(Rr.prototype), {
        constructor: Zh,
        getOutput: function() {
            return this.gain
        },
        setNodeSource: function(t) {
            return this.hasPlaybackControl = !1,
            this.sourceType = "audioNode",
            this.source = t,
            this.connect(),
            this
        },
        setMediaElementSource: function(t) {
            return this.hasPlaybackControl = !1,
            this.sourceType = "mediaNode",
            this.source = this.context.createMediaElementSource(t),
            this.connect(),
            this
        },
        setMediaStreamSource: function(t) {
            return this.hasPlaybackControl = !1,
            this.sourceType = "mediaStreamNode",
            this.source = this.context.createMediaStreamSource(t),
            this.connect(),
            this
        },
        setBuffer: function(t) {
            return this.buffer = t,
            this.sourceType = "buffer",
            this.autoplay && this.play(),
            this
        },
        play: function(t) {
            if (void 0 === t && (t = 0),
            !0 !== this.isPlaying) {
                if (!1 !== this.hasPlaybackControl) {
                    this._startedAt = this.context.currentTime + t;
                    var e = this.context.createBufferSource();
                    return e.buffer = this.buffer,
                    e.loop = this.loop,
                    e.loopStart = this.loopStart,
                    e.loopEnd = this.loopEnd,
                    e.onended = this.onEnded.bind(this),
                    e.start(this._startedAt, this._pausedAt + this.offset, this.duration),
                    this.isPlaying = !0,
                    this.source = e,
                    this.setDetune(this.detune),
                    this.setPlaybackRate(this.playbackRate),
                    this.connect()
                }
                console.warn("THREE.Audio: this Audio has no playback control.")
            } else
                console.warn("THREE.Audio: Audio is already playing.")
        },
        pause: function() {
            if (!1 !== this.hasPlaybackControl)
                return !0 === this.isPlaying && (this._pausedAt += Math.max(this.context.currentTime - this._startedAt, 0) * this.playbackRate,
                this.source.stop(),
                this.source.onended = null,
                this.isPlaying = !1),
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        stop: function() {
            if (!1 !== this.hasPlaybackControl)
                return this._pausedAt = 0,
                this.source.stop(),
                this.source.onended = null,
                this.isPlaying = !1,
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        connect: function() {
            if (this.filters.length > 0) {
                this.source.connect(this.filters[0]);
                for (var t = 1, e = this.filters.length; t < e; t++)
                    this.filters[t - 1].connect(this.filters[t]);
                this.filters[this.filters.length - 1].connect(this.getOutput())
            } else
                this.source.connect(this.getOutput());
            return this
        },
        disconnect: function() {
            if (this.filters.length > 0) {
                this.source.disconnect(this.filters[0]);
                for (var t = 1, e = this.filters.length; t < e; t++)
                    this.filters[t - 1].disconnect(this.filters[t]);
                this.filters[this.filters.length - 1].disconnect(this.getOutput())
            } else
                this.source.disconnect(this.getOutput());
            return this
        },
        getFilters: function() {
            return this.filters
        },
        setFilters: function(t) {
            return t || (t = []),
            !0 === this.isPlaying ? (this.disconnect(),
            this.filters = t,
            this.connect()) : this.filters = t,
            this
        },
        setDetune: function(t) {
            if (this.detune = t,
            void 0 !== this.source.detune)
                return !0 === this.isPlaying && this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, .01),
                this
        },
        getDetune: function() {
            return this.detune
        },
        getFilter: function() {
            return this.getFilters()[0]
        },
        setFilter: function(t) {
            return this.setFilters(t ? [t] : [])
        },
        setPlaybackRate: function(t) {
            if (!1 !== this.hasPlaybackControl)
                return this.playbackRate = t,
                !0 === this.isPlaying && this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, .01),
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        getPlaybackRate: function() {
            return this.playbackRate
        },
        onEnded: function() {
            this.isPlaying = !1
        },
        getLoop: function() {
            return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."),
            !1) : this.loop
        },
        setLoop: function(t) {
            if (!1 !== this.hasPlaybackControl)
                return this.loop = t,
                !0 === this.isPlaying && (this.source.loop = this.loop),
                this;
            console.warn("THREE.Audio: this Audio has no playback control.")
        },
        setLoopStart: function(t) {
            return this.loopStart = t,
            this
        },
        setLoopEnd: function(t) {
            return this.loopEnd = t,
            this
        },
        getVolume: function() {
            return this.gain.gain.value
        },
        setVolume: function(t) {
            return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01),
            this
        }
    });
    var Jh = new or
      , Qh = new nr
      , Kh = new or
      , $h = new or;
    function tf(t) {
        Zh.call(this, t),
        this.panner = this.context.createPanner(),
        this.panner.panningModel = "HRTF",
        this.panner.connect(this.gain)
    }
    function ef(t, e) {
        this.analyser = t.context.createAnalyser(),
        this.analyser.fftSize = void 0 !== e ? e : 2048,
        this.data = new Uint8Array(this.analyser.frequencyBinCount),
        t.getOutput().connect(this.analyser)
    }
    function nf(t, e, n) {
        this.binding = t,
        this.valueSize = n;
        var r, i = Float64Array;
        switch (e) {
        case "quaternion":
            r = this._slerp;
            break;
        case "string":
        case "bool":
            i = Array,
            r = this._select;
            break;
        default:
            r = this._lerp
        }
        this.buffer = new i(4 * n),
        this._mixBufferRegion = r,
        this.cumulativeWeight = 0,
        this.useCount = 0,
        this.referenceCount = 0
    }
    tf.prototype = Object.assign(Object.create(Zh.prototype), {
        constructor: tf,
        getOutput: function() {
            return this.panner
        },
        getRefDistance: function() {
            return this.panner.refDistance
        },
        setRefDistance: function(t) {
            return this.panner.refDistance = t,
            this
        },
        getRolloffFactor: function() {
            return this.panner.rolloffFactor
        },
        setRolloffFactor: function(t) {
            return this.panner.rolloffFactor = t,
            this
        },
        getDistanceModel: function() {
            return this.panner.distanceModel
        },
        setDistanceModel: function(t) {
            return this.panner.distanceModel = t,
            this
        },
        getMaxDistance: function() {
            return this.panner.maxDistance
        },
        setMaxDistance: function(t) {
            return this.panner.maxDistance = t,
            this
        },
        setDirectionalCone: function(t, e, n) {
            return this.panner.coneInnerAngle = t,
            this.panner.coneOuterAngle = e,
            this.panner.coneOuterGain = n,
            this
        },
        updateMatrixWorld: function(t) {
            if (Rr.prototype.updateMatrixWorld.call(this, t),
            !0 !== this.hasPlaybackControl || !1 !== this.isPlaying) {
                this.matrixWorld.decompose(Jh, Qh, Kh),
                $h.set(0, 0, 1).applyQuaternion(Qh);
                var e = this.panner;
                if (e.positionX) {
                    var n = this.context.currentTime + this.listener.timeDelta;
                    e.positionX.linearRampToValueAtTime(Jh.x, n),
                    e.positionY.linearRampToValueAtTime(Jh.y, n),
                    e.positionZ.linearRampToValueAtTime(Jh.z, n),
                    e.orientationX.linearRampToValueAtTime($h.x, n),
                    e.orientationY.linearRampToValueAtTime($h.y, n),
                    e.orientationZ.linearRampToValueAtTime($h.z, n)
                } else
                    e.setPosition(Jh.x, Jh.y, Jh.z),
                    e.setOrientation($h.x, $h.y, $h.z)
            }
        }
    }),
    Object.assign(ef.prototype, {
        getFrequencyData: function() {
            return this.analyser.getByteFrequencyData(this.data),
            this.data
        },
        getAverageFrequency: function() {
            for (var t = 0, e = this.getFrequencyData(), n = 0; n < e.length; n++)
                t += e[n];
            return t / e.length
        }
    }),
    Object.assign(nf.prototype, {
        accumulate: function(t, e) {
            var n = this.buffer
              , r = this.valueSize
              , i = t * r + r
              , o = this.cumulativeWeight;
            if (0 === o) {
                for (var a = 0; a !== r; ++a)
                    n[i + a] = n[a];
                o = e
            } else {
                var s = e / (o += e);
                this._mixBufferRegion(n, i, 0, s, r)
            }
            this.cumulativeWeight = o
        },
        apply: function(t) {
            var e = this.valueSize
              , n = this.buffer
              , r = t * e + e
              , i = this.cumulativeWeight
              , o = this.binding;
            if (this.cumulativeWeight = 0,
            i < 1) {
                var a = 3 * e;
                this._mixBufferRegion(n, r, a, 1 - i, e)
            }
            for (var s = e, u = e + e; s !== u; ++s)
                if (n[s] !== n[s + e]) {
                    o.setValue(n, r);
                    break
                }
        },
        saveOriginalState: function() {
            var t = this.binding
              , e = this.buffer
              , n = this.valueSize
              , r = 3 * n;
            t.getValue(e, r);
            for (var i = n, o = r; i !== o; ++i)
                e[i] = e[r + i % n];
            this.cumulativeWeight = 0
        },
        restoreOriginalState: function() {
            var t = 3 * this.valueSize;
            this.binding.setValue(this.buffer, t)
        },
        _select: function(t, e, n, r, i) {
            if (r >= .5)
                for (var o = 0; o !== i; ++o)
                    t[e + o] = t[n + o]
        },
        _slerp: function(t, e, n, r) {
            nr.slerpFlat(t, e, t, e, t, n, r)
        },
        _lerp: function(t, e, n, r, i) {
            for (var o = 1 - r, a = 0; a !== i; ++a) {
                var s = e + a;
                t[s] = t[s] * o + t[n + a] * r
            }
        }
    });
    var rf = new RegExp("[\\[\\]\\.:\\/]","g")
      , of = "[^" + "\\[\\]\\.:\\/".replace("\\.", "") + "]"
      , af = /((?:WC+[\/:])*)/.source.replace("WC", "[^\\[\\]\\.:\\/]")
      , sf = /(WCOD+)?/.source.replace("WCOD", of)
      , uf = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", "[^\\[\\]\\.:\\/]")
      , cf = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", "[^\\[\\]\\.:\\/]")
      , lf = new RegExp("^" + af + sf + uf + cf + "$")
      , hf = ["material", "materials", "bones"];
    function ff(t, e, n) {
        var r = n || pf.parseTrackName(e);
        this._targetGroup = t,
        this._bindings = t.subscribe_(e, r)
    }
    function pf(t, e, n) {
        this.path = e,
        this.parsedPath = n || pf.parseTrackName(e),
        this.node = pf.findNode(t, this.parsedPath.nodeName) || t,
        this.rootNode = t
    }
    function df() {
        this.uuid = Xn.generateUUID(),
        this._objects = Array.prototype.slice.call(arguments),
        this.nCachedObjects_ = 0;
        var t = {};
        this._indicesByUUID = t;
        for (var e = 0, n = arguments.length; e !== n; ++e)
            t[arguments[e].uuid] = e;
        this._paths = [],
        this._parsedPaths = [],
        this._bindings = [],
        this._bindingsIndicesByPath = {};
        var r = this;
        this.stats = {
            objects: {
                get total() {
                    return r._objects.length
                },
                get inUse() {
                    return this.total - r.nCachedObjects_
                }
            },
            get bindingsPerObject() {
                return r._bindings.length
            }
        }
    }
    function mf(t, e, n) {
        this._mixer = t,
        this._clip = e,
        this._localRoot = n || null;
        for (var r = e.tracks, i = r.length, o = new Array(i), a = {
            endingStart: $e,
            endingEnd: $e
        }, s = 0; s !== i; ++s) {
            var u = r[s].createInterpolant(null);
            o[s] = u,
            u.settings = a
        }
        this._interpolantSettings = a,
        this._interpolants = o,
        this._propertyBindings = new Array(i),
        this._cacheIndex = null,
        this._byClipCacheIndex = null,
        this._timeScaleInterpolant = null,
        this._weightInterpolant = null,
        this.loop = Ye,
        this._loopCount = -1,
        this._startTime = null,
        this.time = 0,
        this.timeScale = 1,
        this._effectiveTimeScale = 1,
        this.weight = 1,
        this._effectiveWeight = 1,
        this.repetitions = 1 / 0,
        this.paused = !1,
        this.enabled = !0,
        this.clampWhenFinished = !1,
        this.zeroSlopeAtStart = !0,
        this.zeroSlopeAtEnd = !0
    }
    function vf(t) {
        this._root = t,
        this._initMemoryManager(),
        this._accuIndex = 0,
        this.time = 0,
        this.timeScale = 1
    }
    function gf(t) {
        "string" == typeof t && (console.warn("THREE.Uniform: Type parameter is no longer needed."),
        t = arguments[1]),
        this.value = t
    }
    function yf(t, e, n) {
        Bs.call(this, t, e),
        this.meshPerAttribute = n || 1
    }
    function bf(t, e, n, r) {
        this.ray = new ri(t,e),
        this.near = n || 0,
        this.far = r || 1 / 0,
        this.camera = null,
        this.layers = new gr,
        this.params = {
            Mesh: {},
            Line: {
                threshold: 1
            },
            LOD: {},
            Points: {
                threshold: 1
            },
            Sprite: {}
        },
        Object.defineProperties(this.params, {
            PointCloud: {
                get: function() {
                    return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),
                    this.Points
                }
            }
        })
    }
    function xf(t, e) {
        return t.distance - e.distance
    }
    function _f(t, e, n, r) {
        if (t.layers.test(e.layers) && t.raycast(e, n),
        !0 === r)
            for (var i = t.children, o = 0, a = i.length; o < a; o++)
                _f(i[o], e, n, !0)
    }
    function wf(t, e, n) {
        return this.radius = void 0 !== t ? t : 1,
        this.phi = void 0 !== e ? e : 0,
        this.theta = void 0 !== n ? n : 0,
        this
    }
    function Mf(t, e, n) {
        return this.radius = void 0 !== t ? t : 1,
        this.theta = void 0 !== e ? e : 0,
        this.y = void 0 !== n ? n : 0,
        this
    }
    Object.assign(ff.prototype, {
        getValue: function(t, e) {
            this.bind();
            var n = this._targetGroup.nCachedObjects_
              , r = this._bindings[n];
            void 0 !== r && r.getValue(t, e)
        },
        setValue: function(t, e) {
            for (var n = this._bindings, r = this._targetGroup.nCachedObjects_, i = n.length; r !== i; ++r)
                n[r].setValue(t, e)
        },
        bind: function() {
            for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, n = t.length; e !== n; ++e)
                t[e].bind()
        },
        unbind: function() {
            for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, n = t.length; e !== n; ++e)
                t[e].unbind()
        }
    }),
    Object.assign(pf, {
        Composite: ff,
        create: function(t, e, n) {
            return t && t.isAnimationObjectGroup ? new pf.Composite(t,e,n) : new pf(t,e,n)
        },
        sanitizeNodeName: function(t) {
            return t.replace(/\s/g, "_").replace(rf, "")
        },
        parseTrackName: function(t) {
            var e = lf.exec(t);
            if (!e)
                throw new Error("PropertyBinding: Cannot parse trackName: " + t);
            var n = {
                nodeName: e[2],
                objectName: e[3],
                objectIndex: e[4],
                propertyName: e[5],
                propertyIndex: e[6]
            }
              , r = n.nodeName && n.nodeName.lastIndexOf(".");
            if (void 0 !== r && -1 !== r) {
                var i = n.nodeName.substring(r + 1);
                -1 !== hf.indexOf(i) && (n.nodeName = n.nodeName.substring(0, r),
                n.objectName = i)
            }
            if (null === n.propertyName || 0 === n.propertyName.length)
                throw new Error("PropertyBinding: can not parse propertyName from trackName: " + t);
            return n
        },
        findNode: function(t, e) {
            if (!e || "" === e || "." === e || -1 === e || e === t.name || e === t.uuid)
                return t;
            if (t.skeleton) {
                var n = t.skeleton.getBoneByName(e);
                if (void 0 !== n)
                    return n
            }
            if (t.children) {
                var r = function t(n) {
                    for (var r = 0; r < n.length; r++) {
                        var i = n[r];
                        if (i.name === e || i.uuid === e)
                            return i;
                        var o = t(i.children);
                        if (o)
                            return o
                    }
                    return null
                }(t.children);
                if (r)
                    return r
            }
            return null
        }
    }),
    Object.assign(pf.prototype, {
        _getValue_unavailable: function() {},
        _setValue_unavailable: function() {},
        BindingType: {
            Direct: 0,
            EntireArray: 1,
            ArrayElement: 2,
            HasFromToArray: 3
        },
        Versioning: {
            None: 0,
            NeedsUpdate: 1,
            MatrixWorldNeedsUpdate: 2
        },
        GetterByBindingType: [function(t, e) {
            t[e] = this.node[this.propertyName]
        }
        , function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                t[e++] = n[r]
        }
        , function(t, e) {
            t[e] = this.resolvedProperty[this.propertyIndex]
        }
        , function(t, e) {
            this.resolvedProperty.toArray(t, e)
        }
        ],
        SetterByBindingTypeAndVersioning: [[function(t, e) {
            this.targetObject[this.propertyName] = t[e]
        }
        , function(t, e) {
            this.targetObject[this.propertyName] = t[e],
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            this.targetObject[this.propertyName] = t[e],
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ], [function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                n[r] = t[e++]
        }
        , function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                n[r] = t[e++];
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            for (var n = this.resolvedProperty, r = 0, i = n.length; r !== i; ++r)
                n[r] = t[e++];
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ], [function(t, e) {
            this.resolvedProperty[this.propertyIndex] = t[e]
        }
        , function(t, e) {
            this.resolvedProperty[this.propertyIndex] = t[e],
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            this.resolvedProperty[this.propertyIndex] = t[e],
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ], [function(t, e) {
            this.resolvedProperty.fromArray(t, e)
        }
        , function(t, e) {
            this.resolvedProperty.fromArray(t, e),
            this.targetObject.needsUpdate = !0
        }
        , function(t, e) {
            this.resolvedProperty.fromArray(t, e),
            this.targetObject.matrixWorldNeedsUpdate = !0
        }
        ]],
        getValue: function(t, e) {
            this.bind(),
            this.getValue(t, e)
        },
        setValue: function(t, e) {
            this.bind(),
            this.setValue(t, e)
        },
        bind: function() {
            var t = this.node
              , e = this.parsedPath
              , n = e.objectName
              , r = e.propertyName
              , i = e.propertyIndex;
            if (t || (t = pf.findNode(this.rootNode, e.nodeName) || this.rootNode,
            this.node = t),
            this.getValue = this._getValue_unavailable,
            this.setValue = this._setValue_unavailable,
            t) {
                if (n) {
                    var o = e.objectIndex;
                    switch (n) {
                    case "materials":
                        if (!t.material)
                            return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                        if (!t.material.materials)
                            return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
                        t = t.material.materials;
                        break;
                    case "bones":
                        if (!t.skeleton)
                            return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
                        t = t.skeleton.bones;
                        for (var a = 0; a < t.length; a++)
                            if (t[a].name === o) {
                                o = a;
                                break
                            }
                        break;
                    default:
                        if (void 0 === t[n])
                            return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
                        t = t[n]
                    }
                    if (void 0 !== o) {
                        if (void 0 === t[o])
                            return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, t);
                        t = t[o]
                    }
                }
                var s = t[r];
                if (void 0 !== s) {
                    var u = this.Versioning.None;
                    this.targetObject = t,
                    void 0 !== t.needsUpdate ? u = this.Versioning.NeedsUpdate : void 0 !== t.matrixWorldNeedsUpdate && (u = this.Versioning.MatrixWorldNeedsUpdate);
                    var c = this.BindingType.Direct;
                    if (void 0 !== i) {
                        if ("morphTargetInfluences" === r) {
                            if (!t.geometry)
                                return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
                            if (t.geometry.isBufferGeometry) {
                                if (!t.geometry.morphAttributes)
                                    return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
                                for (a = 0; a < this.node.geometry.morphAttributes.position.length; a++)
                                    if (t.geometry.morphAttributes.position[a].name === i) {
                                        i = a;
                                        break
                                    }
                            } else {
                                if (!t.geometry.morphTargets)
                                    return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.", this);
                                for (a = 0; a < this.node.geometry.morphTargets.length; a++)
                                    if (t.geometry.morphTargets[a].name === i) {
                                        i = a;
                                        break
                                    }
                            }
                        }
                        c = this.BindingType.ArrayElement,
                        this.resolvedProperty = s,
                        this.propertyIndex = i
                    } else
                        void 0 !== s.fromArray && void 0 !== s.toArray ? (c = this.BindingType.HasFromToArray,
                        this.resolvedProperty = s) : Array.isArray(s) ? (c = this.BindingType.EntireArray,
                        this.resolvedProperty = s) : this.propertyName = r;
                    this.getValue = this.GetterByBindingType[c],
                    this.setValue = this.SetterByBindingTypeAndVersioning[c][u]
                } else {
                    var l = e.nodeName;
                    console.error("THREE.PropertyBinding: Trying to update property for track: " + l + "." + r + " but it wasn't found.", t)
                }
            } else
                console.error("THREE.PropertyBinding: Trying to update node for track: " + this.path + " but it wasn't found.")
        },
        unbind: function() {
            this.node = null,
            this.getValue = this._getValue_unbound,
            this.setValue = this._setValue_unbound
        }
    }),
    //!\ DECLARE ALIAS AFTER assign prototype !
    Object.assign(pf.prototype, {
        _getValue_unbound: pf.prototype.getValue,
        _setValue_unbound: pf.prototype.setValue
    }),
    Object.assign(df.prototype, {
        isAnimationObjectGroup: !0,
        add: function() {
            for (var t = this._objects, e = t.length, n = this.nCachedObjects_, r = this._indicesByUUID, i = this._paths, o = this._parsedPaths, a = this._bindings, s = a.length, u = void 0, c = 0, l = arguments.length; c !== l; ++c) {
                var h = arguments[c]
                  , f = h.uuid
                  , p = r[f];
                if (void 0 === p) {
                    p = e++,
                    r[f] = p,
                    t.push(h);
                    for (var d = 0, m = s; d !== m; ++d)
                        a[d].push(new pf(h,i[d],o[d]))
                } else if (p < n) {
                    u = t[p];
                    var v = --n
                      , g = t[v];
                    r[g.uuid] = p,
                    t[p] = g,
                    r[f] = v,
                    t[v] = h;
                    for (d = 0,
                    m = s; d !== m; ++d) {
                        var y = a[d]
                          , b = y[v]
                          , x = y[p];
                        y[p] = b,
                        void 0 === x && (x = new pf(h,i[d],o[d])),
                        y[v] = x
                    }
                } else
                    t[p] !== u && console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")
            }
            this.nCachedObjects_ = n
        },
        remove: function() {
            for (var t = this._objects, e = this.nCachedObjects_, n = this._indicesByUUID, r = this._bindings, i = r.length, o = 0, a = arguments.length; o !== a; ++o) {
                var s = arguments[o]
                  , u = s.uuid
                  , c = n[u];
                if (void 0 !== c && c >= e) {
                    var l = e++
                      , h = t[l];
                    n[h.uuid] = c,
                    t[c] = h,
                    n[u] = l,
                    t[l] = s;
                    for (var f = 0, p = i; f !== p; ++f) {
                        var d = r[f]
                          , m = d[l]
                          , v = d[c];
                        d[c] = m,
                        d[l] = v
                    }
                }
            }
            this.nCachedObjects_ = e
        },
        uncache: function() {
            for (var t = this._objects, e = t.length, n = this.nCachedObjects_, r = this._indicesByUUID, i = this._bindings, o = i.length, a = 0, s = arguments.length; a !== s; ++a) {
                var u = arguments[a]
                  , c = u.uuid
                  , l = r[c];
                if (void 0 !== l)
                    if (delete r[c],
                    l < n) {
                        var h = --n
                          , f = t[h]
                          , p = t[y = --e];
                        r[f.uuid] = l,
                        t[l] = f,
                        r[p.uuid] = h,
                        t[h] = p,
                        t.pop();
                        for (var d = 0, m = o; d !== m; ++d) {
                            var v = (b = i[d])[h]
                              , g = b[y];
                            b[l] = v,
                            b[h] = g,
                            b.pop()
                        }
                    } else {
                        var y;
                        r[(p = t[y = --e]).uuid] = l,
                        t[l] = p,
                        t.pop();
                        for (d = 0,
                        m = o; d !== m; ++d) {
                            var b;
                            (b = i[d])[l] = b[y],
                            b.pop()
                        }
                    }
            }
            this.nCachedObjects_ = n
        },
        subscribe_: function(t, e) {
            var n = this._bindingsIndicesByPath
              , r = n[t]
              , i = this._bindings;
            if (void 0 !== r)
                return i[r];
            var o = this._paths
              , a = this._parsedPaths
              , s = this._objects
              , u = s.length
              , c = this.nCachedObjects_
              , l = new Array(u);
            r = i.length,
            n[t] = r,
            o.push(t),
            a.push(e),
            i.push(l);
            for (var h = c, f = s.length; h !== f; ++h) {
                var p = s[h];
                l[h] = new pf(p,t,e)
            }
            return l
        },
        unsubscribe_: function(t) {
            var e = this._bindingsIndicesByPath
              , n = e[t];
            if (void 0 !== n) {
                var r = this._paths
                  , i = this._parsedPaths
                  , o = this._bindings
                  , a = o.length - 1
                  , s = o[a];
                e[t[a]] = n,
                o[n] = s,
                o.pop(),
                i[n] = i[a],
                i.pop(),
                r[n] = r[a],
                r.pop()
            }
        }
    }),
    Object.assign(mf.prototype, {
        play: function() {
            return this._mixer._activateAction(this),
            this
        },
        stop: function() {
            return this._mixer._deactivateAction(this),
            this.reset()
        },
        reset: function() {
            return this.paused = !1,
            this.enabled = !0,
            this.time = 0,
            this._loopCount = -1,
            this._startTime = null,
            this.stopFading().stopWarping()
        },
        isRunning: function() {
            return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
        },
        isScheduled: function() {
            return this._mixer._isActiveAction(this)
        },
        startAt: function(t) {
            return this._startTime = t,
            this
        },
        setLoop: function(t, e) {
            return this.loop = t,
            this.repetitions = e,
            this
        },
        setEffectiveWeight: function(t) {
            return this.weight = t,
            this._effectiveWeight = this.enabled ? t : 0,
            this.stopFading()
        },
        getEffectiveWeight: function() {
            return this._effectiveWeight
        },
        fadeIn: function(t) {
            return this._scheduleFading(t, 0, 1)
        },
        fadeOut: function(t) {
            return this._scheduleFading(t, 1, 0)
        },
        crossFadeFrom: function(t, e, n) {
            if (t.fadeOut(e),
            this.fadeIn(e),
            n) {
                var r = this._clip.duration
                  , i = t._clip.duration
                  , o = i / r
                  , a = r / i;
                t.warp(1, o, e),
                this.warp(a, 1, e)
            }
            return this
        },
        crossFadeTo: function(t, e, n) {
            return t.crossFadeFrom(this, e, n)
        },
        stopFading: function() {
            var t = this._weightInterpolant;
            return null !== t && (this._weightInterpolant = null,
            this._mixer._takeBackControlInterpolant(t)),
            this
        },
        setEffectiveTimeScale: function(t) {
            return this.timeScale = t,
            this._effectiveTimeScale = this.paused ? 0 : t,
            this.stopWarping()
        },
        getEffectiveTimeScale: function() {
            return this._effectiveTimeScale
        },
        setDuration: function(t) {
            return this.timeScale = this._clip.duration / t,
            this.stopWarping()
        },
        syncWith: function(t) {
            return this.time = t.time,
            this.timeScale = t.timeScale,
            this.stopWarping()
        },
        halt: function(t) {
            return this.warp(this._effectiveTimeScale, 0, t)
        },
        warp: function(t, e, n) {
            var r = this._mixer
              , i = r.time
              , o = this._timeScaleInterpolant
              , a = this.timeScale;
            null === o && (o = r._lendControlInterpolant(),
            this._timeScaleInterpolant = o);
            var s = o.parameterPositions
              , u = o.sampleValues;
            return s[0] = i,
            s[1] = i + n,
            u[0] = t / a,
            u[1] = e / a,
            this
        },
        stopWarping: function() {
            var t = this._timeScaleInterpolant;
            return null !== t && (this._timeScaleInterpolant = null,
            this._mixer._takeBackControlInterpolant(t)),
            this
        },
        getMixer: function() {
            return this._mixer
        },
        getClip: function() {
            return this._clip
        },
        getRoot: function() {
            return this._localRoot || this._mixer._root
        },
        _update: function(t, e, n, r) {
            if (this.enabled) {
                var i = this._startTime;
                if (null !== i) {
                    var o = (t - i) * n;
                    if (o < 0 || 0 === n)
                        return;
                    this._startTime = null,
                    e = n * o
                }
                e *= this._updateTimeScale(t);
                var a = this._updateTime(e)
                  , s = this._updateWeight(t);
                if (s > 0)
                    for (var u = this._interpolants, c = this._propertyBindings, l = 0, h = u.length; l !== h; ++l)
                        u[l].evaluate(a),
                        c[l].accumulate(r, s)
            } else
                this._updateWeight(t)
        },
        _updateWeight: function(t) {
            var e = 0;
            if (this.enabled) {
                e = this.weight;
                var n = this._weightInterpolant;
                if (null !== n) {
                    var r = n.evaluate(t)[0];
                    e *= r,
                    t > n.parameterPositions[1] && (this.stopFading(),
                    0 === r && (this.enabled = !1))
                }
            }
            return this._effectiveWeight = e,
            e
        },
        _updateTimeScale: function(t) {
            var e = 0;
            if (!this.paused) {
                e = this.timeScale;
                var n = this._timeScaleInterpolant;
                if (null !== n)
                    e *= n.evaluate(t)[0],
                    t > n.parameterPositions[1] && (this.stopWarping(),
                    0 === e ? this.paused = !0 : this.timeScale = e)
            }
            return this._effectiveTimeScale = e,
            e
        },
        _updateTime: function(t) {
            var e = this.time + t
              , n = this._clip.duration
              , r = this.loop
              , i = this._loopCount
              , o = r === Ze;
            if (0 === t)
                return -1 === i ? e : o && 1 == (1 & i) ? n - e : e;
            if (r === Xe) {
                -1 === i && (this._loopCount = 0,
                this._setEndings(!0, !0, !1));
                t: {
                    if (e >= n)
                        e = n;
                    else {
                        if (!(e < 0)) {
                            this.time = e;
                            break t
                        }
                        e = 0
                    }
                    this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                    this.time = e,
                    this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: t < 0 ? -1 : 1
                    })
                }
            } else {
                if (-1 === i && (t >= 0 ? (i = 0,
                this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)),
                e >= n || e < 0) {
                    var a = Math.floor(e / n);
                    e -= n * a,
                    i += Math.abs(a);
                    var s = this.repetitions - i;
                    if (s <= 0)
                        this.clampWhenFinished ? this.paused = !0 : this.enabled = !1,
                        e = t > 0 ? n : 0,
                        this.time = e,
                        this._mixer.dispatchEvent({
                            type: "finished",
                            action: this,
                            direction: t > 0 ? 1 : -1
                        });
                    else {
                        if (1 === s) {
                            var u = t < 0;
                            this._setEndings(u, !u, o)
                        } else
                            this._setEndings(!1, !1, o);
                        this._loopCount = i,
                        this.time = e,
                        this._mixer.dispatchEvent({
                            type: "loop",
                            action: this,
                            loopDelta: a
                        })
                    }
                } else
                    this.time = e;
                if (o && 1 == (1 & i))
                    return n - e
            }
            return e
        },
        _setEndings: function(t, e, n) {
            var r = this._interpolantSettings;
            n ? (r.endingStart = tn,
            r.endingEnd = tn) : (r.endingStart = t ? this.zeroSlopeAtStart ? tn : $e : en,
            r.endingEnd = e ? this.zeroSlopeAtEnd ? tn : $e : en)
        },
        _scheduleFading: function(t, e, n) {
            var r = this._mixer
              , i = r.time
              , o = this._weightInterpolant;
            null === o && (o = r._lendControlInterpolant(),
            this._weightInterpolant = o);
            var a = o.parameterPositions
              , s = o.sampleValues;
            return a[0] = i,
            s[0] = e,
            a[1] = i + t,
            s[1] = n,
            this
        }
    }),
    vf.prototype = Object.assign(Object.create(Hn.prototype), {
        constructor: vf,
        _bindAction: function(t, e) {
            var n = t._localRoot || this._root
              , r = t._clip.tracks
              , i = r.length
              , o = t._propertyBindings
              , a = t._interpolants
              , s = n.uuid
              , u = this._bindingsByRootAndName
              , c = u[s];
            void 0 === c && (c = {},
            u[s] = c);
            for (var l = 0; l !== i; ++l) {
                var h = r[l]
                  , f = h.name
                  , p = c[f];
                if (void 0 !== p)
                    o[l] = p;
                else {
                    if (void 0 !== (p = o[l])) {
                        null === p._cacheIndex && (++p.referenceCount,
                        this._addInactiveBinding(p, s, f));
                        continue
                    }
                    var d = e && e._propertyBindings[l].binding.parsedPath;
                    ++(p = new nf(pf.create(n, f, d),h.ValueTypeName,h.getValueSize())).referenceCount,
                    this._addInactiveBinding(p, s, f),
                    o[l] = p
                }
                a[l].resultBuffer = p.buffer
            }
        },
        _activateAction: function(t) {
            if (!this._isActiveAction(t)) {
                if (null === t._cacheIndex) {
                    var e = (t._localRoot || this._root).uuid
                      , n = t._clip.uuid
                      , r = this._actionsByClip[n];
                    this._bindAction(t, r && r.knownActions[0]),
                    this._addInactiveAction(t, n, e)
                }
                for (var i = t._propertyBindings, o = 0, a = i.length; o !== a; ++o) {
                    var s = i[o];
                    0 == s.useCount++ && (this._lendBinding(s),
                    s.saveOriginalState())
                }
                this._lendAction(t)
            }
        },
        _deactivateAction: function(t) {
            if (this._isActiveAction(t)) {
                for (var e = t._propertyBindings, n = 0, r = e.length; n !== r; ++n) {
                    var i = e[n];
                    0 == --i.useCount && (i.restoreOriginalState(),
                    this._takeBackBinding(i))
                }
                this._takeBackAction(t)
            }
        },
        _initMemoryManager: function() {
            this._actions = [],
            this._nActiveActions = 0,
            this._actionsByClip = {},
            this._bindings = [],
            this._nActiveBindings = 0,
            this._bindingsByRootAndName = {},
            this._controlInterpolants = [],
            this._nActiveControlInterpolants = 0;
            var t = this;
            this.stats = {
                actions: {
                    get total() {
                        return t._actions.length
                    },
                    get inUse() {
                        return t._nActiveActions
                    }
                },
                bindings: {
                    get total() {
                        return t._bindings.length
                    },
                    get inUse() {
                        return t._nActiveBindings
                    }
                },
                controlInterpolants: {
                    get total() {
                        return t._controlInterpolants.length
                    },
                    get inUse() {
                        return t._nActiveControlInterpolants
                    }
                }
            }
        },
        _isActiveAction: function(t) {
            var e = t._cacheIndex;
            return null !== e && e < this._nActiveActions
        },
        _addInactiveAction: function(t, e, n) {
            var r = this._actions
              , i = this._actionsByClip
              , o = i[e];
            if (void 0 === o)
                o = {
                    knownActions: [t],
                    actionByRoot: {}
                },
                t._byClipCacheIndex = 0,
                i[e] = o;
            else {
                var a = o.knownActions;
                t._byClipCacheIndex = a.length,
                a.push(t)
            }
            t._cacheIndex = r.length,
            r.push(t),
            o.actionByRoot[n] = t
        },
        _removeInactiveAction: function(t) {
            var e = this._actions
              , n = e[e.length - 1]
              , r = t._cacheIndex;
            n._cacheIndex = r,
            e[r] = n,
            e.pop(),
            t._cacheIndex = null;
            var i = t._clip.uuid
              , o = this._actionsByClip
              , a = o[i]
              , s = a.knownActions
              , u = s[s.length - 1]
              , c = t._byClipCacheIndex;
            u._byClipCacheIndex = c,
            s[c] = u,
            s.pop(),
            t._byClipCacheIndex = null,
            delete a.actionByRoot[(t._localRoot || this._root).uuid],
            0 === s.length && delete o[i],
            this._removeInactiveBindingsForAction(t)
        },
        _removeInactiveBindingsForAction: function(t) {
            for (var e = t._propertyBindings, n = 0, r = e.length; n !== r; ++n) {
                var i = e[n];
                0 == --i.referenceCount && this._removeInactiveBinding(i)
            }
        },
        _lendAction: function(t) {
            var e = this._actions
              , n = t._cacheIndex
              , r = this._nActiveActions++
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _takeBackAction: function(t) {
            var e = this._actions
              , n = t._cacheIndex
              , r = --this._nActiveActions
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _addInactiveBinding: function(t, e, n) {
            var r = this._bindingsByRootAndName
              , i = r[e]
              , o = this._bindings;
            void 0 === i && (i = {},
            r[e] = i),
            i[n] = t,
            t._cacheIndex = o.length,
            o.push(t)
        },
        _removeInactiveBinding: function(t) {
            var e = this._bindings
              , n = t.binding
              , r = n.rootNode.uuid
              , i = n.path
              , o = this._bindingsByRootAndName
              , a = o[r]
              , s = e[e.length - 1]
              , u = t._cacheIndex;
            s._cacheIndex = u,
            e[u] = s,
            e.pop(),
            delete a[i],
            0 === Object.keys(a).length && delete o[r]
        },
        _lendBinding: function(t) {
            var e = this._bindings
              , n = t._cacheIndex
              , r = this._nActiveBindings++
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _takeBackBinding: function(t) {
            var e = this._bindings
              , n = t._cacheIndex
              , r = --this._nActiveBindings
              , i = e[r];
            t._cacheIndex = r,
            e[r] = t,
            i._cacheIndex = n,
            e[n] = i
        },
        _lendControlInterpolant: function() {
            var t = this._controlInterpolants
              , e = this._nActiveControlInterpolants++
              , n = t[e];
            return void 0 === n && ((n = new pl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex = e,
            t[e] = n),
            n
        },
        _takeBackControlInterpolant: function(t) {
            var e = this._controlInterpolants
              , n = t.__cacheIndex
              , r = --this._nActiveControlInterpolants
              , i = e[r];
            t.__cacheIndex = r,
            e[r] = t,
            i.__cacheIndex = n,
            e[n] = i
        },
        _controlInterpolantsResultBuffer: new Float32Array(1),
        clipAction: function(t, e) {
            var n = e || this._root
              , r = n.uuid
              , i = "string" == typeof t ? Ml.findByName(n, t) : t
              , o = null !== i ? i.uuid : t
              , a = this._actionsByClip[o]
              , s = null;
            if (void 0 !== a) {
                var u = a.actionByRoot[r];
                if (void 0 !== u)
                    return u;
                s = a.knownActions[0],
                null === i && (i = s._clip)
            }
            if (null === i)
                return null;
            var c = new mf(this,i,e);
            return this._bindAction(c, s),
            this._addInactiveAction(c, o, r),
            c
        },
        existingAction: function(t, e) {
            var n = e || this._root
              , r = n.uuid
              , i = "string" == typeof t ? Ml.findByName(n, t) : t
              , o = i ? i.uuid : t
              , a = this._actionsByClip[o];
            return void 0 !== a && a.actionByRoot[r] || null
        },
        stopAllAction: function() {
            var t = this._actions
              , e = this._nActiveActions
              , n = this._bindings
              , r = this._nActiveBindings;
            this._nActiveActions = 0,
            this._nActiveBindings = 0;
            for (var i = 0; i !== e; ++i)
                t[i].reset();
            for (i = 0; i !== r; ++i)
                n[i].useCount = 0;
            return this
        },
        update: function(t) {
            t *= this.timeScale;
            for (var e = this._actions, n = this._nActiveActions, r = this.time += t, i = Math.sign(t), o = this._accuIndex ^= 1, a = 0; a !== n; ++a) {
                e[a]._update(r, t, i, o)
            }
            var s = this._bindings
              , u = this._nActiveBindings;
            for (a = 0; a !== u; ++a)
                s[a].apply(o);
            return this
        },
        setTime: function(t) {
            this.time = 0;
            for (var e = 0; e < this._actions.length; e++)
                this._actions[e].time = 0;
            return this.update(t)
        },
        getRoot: function() {
            return this._root
        },
        uncacheClip: function(t) {
            var e = this._actions
              , n = t.uuid
              , r = this._actionsByClip
              , i = r[n];
            if (void 0 !== i) {
                for (var o = i.knownActions, a = 0, s = o.length; a !== s; ++a) {
                    var u = o[a];
                    this._deactivateAction(u);
                    var c = u._cacheIndex
                      , l = e[e.length - 1];
                    u._cacheIndex = null,
                    u._byClipCacheIndex = null,
                    l._cacheIndex = c,
                    e[c] = l,
                    e.pop(),
                    this._removeInactiveBindingsForAction(u)
                }
                delete r[n]
            }
        },
        uncacheRoot: function(t) {
            var e = t.uuid
              , n = this._actionsByClip;
            for (var r in n) {
                var i = n[r].actionByRoot[e];
                void 0 !== i && (this._deactivateAction(i),
                this._removeInactiveAction(i))
            }
            var o = this._bindingsByRootAndName[e];
            if (void 0 !== o)
                for (var a in o) {
                    var s = o[a];
                    s.restoreOriginalState(),
                    this._removeInactiveBinding(s)
                }
        },
        uncacheAction: function(t, e) {
            var n = this.existingAction(t, e);
            null !== n && (this._deactivateAction(n),
            this._removeInactiveAction(n))
        }
    }),
    gf.prototype.clone = function() {
        return new gf(void 0 === this.value.clone ? this.value : this.value.clone())
    }
    ,
    yf.prototype = Object.assign(Object.create(Bs.prototype), {
        constructor: yf,
        isInstancedInterleavedBuffer: !0,
        copy: function(t) {
            return Bs.prototype.copy.call(this, t),
            this.meshPerAttribute = t.meshPerAttribute,
            this
        }
    }),
    Object.assign(bf.prototype, {
        set: function(t, e) {
            this.ray.set(t, e)
        },
        setFromCamera: function(t, e) {
            e && e.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld),
            this.ray.direction.set(t.x, t.y, .5).unproject(e).sub(this.ray.origin).normalize(),
            this.camera = e) : e && e.isOrthographicCamera ? (this.ray.origin.set(t.x, t.y, (e.near + e.far) / (e.near - e.far)).unproject(e),
            this.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld),
            this.camera = e) : console.error("THREE.Raycaster: Unsupported camera type.")
        },
        intersectObject: function(t, e, n) {
            var r = n || [];
            return _f(t, this, r, e),
            r.sort(xf),
            r
        },
        intersectObjects: function(t, e, n) {
            var r = n || [];
            if (!1 === Array.isArray(t))
                return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),
                r;
            for (var i = 0, o = t.length; i < o; i++)
                _f(t[i], this, r, e);
            return r.sort(xf),
            r
        }
    }),
    Object.assign(wf.prototype, {
        set: function(t, e, n) {
            return this.radius = t,
            this.phi = e,
            this.theta = n,
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.radius = t.radius,
            this.phi = t.phi,
            this.theta = t.theta,
            this
        },
        makeSafe: function() {
            return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)),
            this
        },
        setFromVector3: function(t) {
            return this.setFromCartesianCoords(t.x, t.y, t.z)
        },
        setFromCartesianCoords: function(t, e, n) {
            return this.radius = Math.sqrt(t * t + e * e + n * n),
            0 === this.radius ? (this.theta = 0,
            this.phi = 0) : (this.theta = Math.atan2(t, n),
            this.phi = Math.acos(Xn.clamp(e / this.radius, -1, 1))),
            this
        }
    }),
    Object.assign(Mf.prototype, {
        set: function(t, e, n) {
            return this.radius = t,
            this.theta = e,
            this.y = n,
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.radius = t.radius,
            this.theta = t.theta,
            this.y = t.y,
            this
        },
        setFromVector3: function(t) {
            return this.setFromCartesianCoords(t.x, t.y, t.z)
        },
        setFromCartesianCoords: function(t, e, n) {
            return this.radius = Math.sqrt(t * t + n * n),
            this.theta = Math.atan2(t, n),
            this.y = e,
            this
        }
    });
    var Sf = new Yn;
    function Ef(t, e) {
        this.min = void 0 !== t ? t : new Yn(1 / 0,1 / 0),
        this.max = void 0 !== e ? e : new Yn(-1 / 0,-1 / 0)
    }
    Object.assign(Ef.prototype, {
        set: function(t, e) {
            return this.min.copy(t),
            this.max.copy(e),
            this
        },
        setFromPoints: function(t) {
            this.makeEmpty();
            for (var e = 0, n = t.length; e < n; e++)
                this.expandByPoint(t[e]);
            return this
        },
        setFromCenterAndSize: function(t, e) {
            var n = Sf.copy(e).multiplyScalar(.5);
            return this.min.copy(t).sub(n),
            this.max.copy(t).add(n),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.min.copy(t.min),
            this.max.copy(t.max),
            this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = 1 / 0,
            this.max.x = this.max.y = -1 / 0,
            this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y
        },
        getCenter: function(t) {
            return void 0 === t && (console.warn("THREE.Box2: .getCenter() target is now required"),
            t = new Yn),
            this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(t) {
            return void 0 === t && (console.warn("THREE.Box2: .getSize() target is now required"),
            t = new Yn),
            this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
        },
        expandByPoint: function(t) {
            return this.min.min(t),
            this.max.max(t),
            this
        },
        expandByVector: function(t) {
            return this.min.sub(t),
            this.max.add(t),
            this
        },
        expandByScalar: function(t) {
            return this.min.addScalar(-t),
            this.max.addScalar(t),
            this
        },
        containsPoint: function(t) {
            return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
        },
        containsBox: function(t) {
            return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
        },
        getParameter: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box2: .getParameter() target is now required"),
            e = new Yn),
            e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
        },
        intersectsBox: function(t) {
            return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
        },
        clampPoint: function(t, e) {
            return void 0 === e && (console.warn("THREE.Box2: .clampPoint() target is now required"),
            e = new Yn),
            e.copy(t).clamp(this.min, this.max)
        },
        distanceToPoint: function(t) {
            return Sf.copy(t).clamp(this.min, this.max).sub(t).length()
        },
        intersect: function(t) {
            return this.min.max(t.min),
            this.max.min(t.max),
            this
        },
        union: function(t) {
            return this.min.min(t.min),
            this.max.max(t.max),
            this
        },
        translate: function(t) {
            return this.min.add(t),
            this.max.add(t),
            this
        },
        equals: function(t) {
            return t.min.equals(this.min) && t.max.equals(this.max)
        }
    });
    var Tf = new or
      , Af = new or;
    function Pf(t, e) {
        this.start = void 0 !== t ? t : new or,
        this.end = void 0 !== e ? e : new or
    }
    function Lf(t) {
        Rr.call(this),
        this.material = t,
        this.render = function() {}
    }
    Object.assign(Pf.prototype, {
        set: function(t, e) {
            return this.start.copy(t),
            this.end.copy(e),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.start.copy(t.start),
            this.end.copy(t.end),
            this
        },
        getCenter: function(t) {
            return void 0 === t && (console.warn("THREE.Line3: .getCenter() target is now required"),
            t = new or),
            t.addVectors(this.start, this.end).multiplyScalar(.5)
        },
        delta: function(t) {
            return void 0 === t && (console.warn("THREE.Line3: .delta() target is now required"),
            t = new or),
            t.subVectors(this.end, this.start)
        },
        distanceSq: function() {
            return this.start.distanceToSquared(this.end)
        },
        distance: function() {
            return this.start.distanceTo(this.end)
        },
        at: function(t, e) {
            return void 0 === e && (console.warn("THREE.Line3: .at() target is now required"),
            e = new or),
            this.delta(e).multiplyScalar(t).add(this.start)
        },
        closestPointToPointParameter: function(t, e) {
            Tf.subVectors(t, this.start),
            Af.subVectors(this.end, this.start);
            var n = Af.dot(Af)
              , r = Af.dot(Tf) / n;
            return e && (r = Xn.clamp(r, 0, 1)),
            r
        },
        closestPointToPoint: function(t, e, n) {
            var r = this.closestPointToPointParameter(t, e);
            return void 0 === n && (console.warn("THREE.Line3: .closestPointToPoint() target is now required"),
            n = new or),
            this.delta(n).multiplyScalar(r).add(this.start)
        },
        applyMatrix4: function(t) {
            return this.start.applyMatrix4(t),
            this.end.applyMatrix4(t),
            this
        },
        equals: function(t) {
            return t.start.equals(this.start) && t.end.equals(this.end)
        }
    }),
    Lf.prototype = Object.create(Rr.prototype),
    Lf.prototype.constructor = Lf,
    Lf.prototype.isImmediateRenderObject = !0;
    var Of = new or;
    function Rf(t, e) {
        Rr.call(this),
        this.light = t,
        this.light.updateMatrixWorld(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.color = e;
        for (var n = new Ji, r = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], i = 0, o = 1; i < 32; i++,
        o++) {
            var a = i / 32 * Math.PI * 2
              , s = o / 32 * Math.PI * 2;
            r.push(Math.cos(a), Math.sin(a), 1, Math.cos(s), Math.sin(s), 1)
        }
        n.setAttribute("position", new Fi(r,3));
        var u = new yu({
            fog: !1
        });
        this.cone = new Au(n,u),
        this.add(this.cone),
        this.update()
    }
    Rf.prototype = Object.create(Rr.prototype),
    Rf.prototype.constructor = Rf,
    Rf.prototype.dispose = function() {
        this.cone.geometry.dispose(),
        this.cone.material.dispose()
    }
    ,
    Rf.prototype.update = function() {
        this.light.updateMatrixWorld();
        var t = this.light.distance ? this.light.distance : 1e3
          , e = t * Math.tan(this.light.angle);
        this.cone.scale.set(e, e, t),
        Of.setFromMatrixPosition(this.light.target.matrixWorld),
        this.cone.lookAt(Of),
        void 0 !== this.color ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color)
    }
    ;
    var Cf = new or
      , If = new pr
      , Df = new pr;
    function kf(t) {
        for (var e = function t(e) {
            var n = [];
            e && e.isBone && n.push(e);
            for (var r = 0; r < e.children.length; r++)
                n.push.apply(n, t(e.children[r]));
            return n
        }(t), n = new Ji, r = [], i = [], o = new wi(0,0,1), a = new wi(0,1,0), s = 0; s < e.length; s++) {
            var u = e[s];
            u.parent && u.parent.isBone && (r.push(0, 0, 0),
            r.push(0, 0, 0),
            i.push(o.r, o.g, o.b),
            i.push(a.r, a.g, a.b))
        }
        n.setAttribute("position", new Fi(r,3)),
        n.setAttribute("color", new Fi(i,3));
        var c = new yu({
            vertexColors: !0,
            depthTest: !1,
            depthWrite: !1,
            transparent: !0
        });
        Au.call(this, n, c),
        this.root = t,
        this.bones = e,
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1
    }
    function Nf(t, e, n) {
        this.light = t,
        this.light.updateMatrixWorld(),
        this.color = n;
        var r = new zc(e,4,2)
          , i = new Li({
            wireframe: !0,
            fog: !1
        });
        mo.call(this, r, i),
        this.matrix = this.light.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.update()
    }
    kf.prototype = Object.create(Au.prototype),
    kf.prototype.constructor = kf,
    kf.prototype.isSkeletonHelper = !0,
    kf.prototype.updateMatrixWorld = function(t) {
        var e = this.bones
          , n = this.geometry
          , r = n.getAttribute("position");
        Df.getInverse(this.root.matrixWorld);
        for (var i = 0, o = 0; i < e.length; i++) {
            var a = e[i];
            a.parent && a.parent.isBone && (If.multiplyMatrices(Df, a.matrixWorld),
            Cf.setFromMatrixPosition(If),
            r.setXYZ(o, Cf.x, Cf.y, Cf.z),
            If.multiplyMatrices(Df, a.parent.matrixWorld),
            Cf.setFromMatrixPosition(If),
            r.setXYZ(o + 1, Cf.x, Cf.y, Cf.z),
            o += 2)
        }
        n.getAttribute("position").needsUpdate = !0,
        Rr.prototype.updateMatrixWorld.call(this, t)
    }
    ,
    Nf.prototype = Object.create(mo.prototype),
    Nf.prototype.constructor = Nf,
    Nf.prototype.dispose = function() {
        this.geometry.dispose(),
        this.material.dispose()
    }
    ,
    Nf.prototype.update = function() {
        void 0 !== this.color ? this.material.color.set(this.color) : this.material.color.copy(this.light.color)
    }
    ;
    var zf = new or
      , jf = new wi
      , Ff = new wi;
    function Bf(t, e, n) {
        Rr.call(this),
        this.light = t,
        this.light.updateMatrixWorld(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.color = n;
        var r = new Yu(e);
        r.rotateY(.5 * Math.PI),
        this.material = new Li({
            wireframe: !0,
            fog: !1
        }),
        void 0 === this.color && (this.material.vertexColors = !0);
        var i = r.getAttribute("position")
          , o = new Float32Array(3 * i.count);
        r.setAttribute("color", new Ri(o,3)),
        this.add(new mo(r,this.material)),
        this.update()
    }
    function Uf(t, e, n, r) {
        t = t || 10,
        e = e || 10,
        n = new wi(void 0 !== n ? n : 4473924),
        r = new wi(void 0 !== r ? r : 8947848);
        for (var i = e / 2, o = t / e, a = t / 2, s = [], u = [], c = 0, l = 0, h = -a; c <= e; c++,
        h += o) {
            s.push(-a, 0, h, a, 0, h),
            s.push(h, 0, -a, h, 0, a);
            var f = c === i ? n : r;
            f.toArray(u, l),
            l += 3,
            f.toArray(u, l),
            l += 3,
            f.toArray(u, l),
            l += 3,
            f.toArray(u, l),
            l += 3
        }
        var p = new Ji;
        p.setAttribute("position", new Fi(s,3)),
        p.setAttribute("color", new Fi(u,3));
        var d = new yu({
            vertexColors: !0
        });
        Au.call(this, p, d)
    }
    function Gf(t, e, n, r, i, o) {
        t = t || 10,
        e = e || 16,
        n = n || 8,
        r = r || 64,
        i = new wi(void 0 !== i ? i : 4473924),
        o = new wi(void 0 !== o ? o : 8947848);
        var a, s, u, c, l, h, f, p = [], d = [];
        for (c = 0; c <= e; c++)
            u = c / e * (2 * Math.PI),
            a = Math.sin(u) * t,
            s = Math.cos(u) * t,
            p.push(0, 0, 0),
            p.push(a, 0, s),
            f = 1 & c ? i : o,
            d.push(f.r, f.g, f.b),
            d.push(f.r, f.g, f.b);
        for (c = 0; c <= n; c++)
            for (f = 1 & c ? i : o,
            h = t - t / n * c,
            l = 0; l < r; l++)
                u = l / r * (2 * Math.PI),
                a = Math.sin(u) * h,
                s = Math.cos(u) * h,
                p.push(a, 0, s),
                d.push(f.r, f.g, f.b),
                u = (l + 1) / r * (2 * Math.PI),
                a = Math.sin(u) * h,
                s = Math.cos(u) * h,
                p.push(a, 0, s),
                d.push(f.r, f.g, f.b);
        var m = new Ji;
        m.setAttribute("position", new Fi(p,3)),
        m.setAttribute("color", new Fi(d,3));
        var v = new yu({
            vertexColors: !0
        });
        Au.call(this, m, v)
    }
    Bf.prototype = Object.create(Rr.prototype),
    Bf.prototype.constructor = Bf,
    Bf.prototype.dispose = function() {
        this.children[0].geometry.dispose(),
        this.children[0].material.dispose()
    }
    ,
    Bf.prototype.update = function() {
        var t = this.children[0];
        if (void 0 !== this.color)
            this.material.color.set(this.color);
        else {
            var e = t.geometry.getAttribute("color");
            jf.copy(this.light.color),
            Ff.copy(this.light.groundColor);
            for (var n = 0, r = e.count; n < r; n++) {
                var i = n < r / 2 ? jf : Ff;
                e.setXYZ(n, i.r, i.g, i.b)
            }
            e.needsUpdate = !0
        }
        t.lookAt(zf.setFromMatrixPosition(this.light.matrixWorld).negate())
    }
    ,
    Uf.prototype = Object.assign(Object.create(Au.prototype), {
        constructor: Uf,
        copy: function(t) {
            return Au.prototype.copy.call(this, t),
            this.geometry.copy(t.geometry),
            this.material.copy(t.material),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    }),
    Gf.prototype = Object.create(Au.prototype),
    Gf.prototype.constructor = Gf;
    var Hf = new or
      , Vf = new or
      , Wf = new or;
    function qf(t, e, n) {
        Rr.call(this),
        this.light = t,
        this.light.updateMatrixWorld(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.color = n,
        void 0 === e && (e = 1);
        var r = new Ji;
        r.setAttribute("position", new Fi([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0],3));
        var i = new yu({
            fog: !1
        });
        this.lightPlane = new Su(r,i),
        this.add(this.lightPlane),
        (r = new Ji).setAttribute("position", new Fi([0, 0, 0, 0, 0, 1],3)),
        this.targetLine = new Su(r,i),
        this.add(this.targetLine),
        this.update()
    }
    qf.prototype = Object.create(Rr.prototype),
    qf.prototype.constructor = qf,
    qf.prototype.dispose = function() {
        this.lightPlane.geometry.dispose(),
        this.lightPlane.material.dispose(),
        this.targetLine.geometry.dispose(),
        this.targetLine.material.dispose()
    }
    ,
    qf.prototype.update = function() {
        Hf.setFromMatrixPosition(this.light.matrixWorld),
        Vf.setFromMatrixPosition(this.light.target.matrixWorld),
        Wf.subVectors(Vf, Hf),
        this.lightPlane.lookAt(Vf),
        void 0 !== this.color ? (this.lightPlane.material.color.set(this.color),
        this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color),
        this.targetLine.material.color.copy(this.light.color)),
        this.targetLine.lookAt(Vf),
        this.targetLine.scale.z = Wf.length()
    }
    ;
    var Xf = new or
      , Yf = new Lo;
    function Zf(t) {
        var e = new Ji
          , n = new yu({
            color: 16777215,
            vertexColors: !0
        })
          , r = []
          , i = []
          , o = {}
          , a = new wi(16755200)
          , s = new wi(16711680)
          , u = new wi(43775)
          , c = new wi(16777215)
          , l = new wi(3355443);
        function h(t, e, n) {
            f(t, n),
            f(e, n)
        }
        function f(t, e) {
            r.push(0, 0, 0),
            i.push(e.r, e.g, e.b),
            void 0 === o[t] && (o[t] = []),
            o[t].push(r.length / 3 - 1)
        }
        h("n1", "n2", a),
        h("n2", "n4", a),
        h("n4", "n3", a),
        h("n3", "n1", a),
        h("f1", "f2", a),
        h("f2", "f4", a),
        h("f4", "f3", a),
        h("f3", "f1", a),
        h("n1", "f1", a),
        h("n2", "f2", a),
        h("n3", "f3", a),
        h("n4", "f4", a),
        h("p", "n1", s),
        h("p", "n2", s),
        h("p", "n3", s),
        h("p", "n4", s),
        h("u1", "u2", u),
        h("u2", "u3", u),
        h("u3", "u1", u),
        h("c", "t", c),
        h("p", "c", l),
        h("cn1", "cn2", l),
        h("cn3", "cn4", l),
        h("cf1", "cf2", l),
        h("cf3", "cf4", l),
        e.setAttribute("position", new Fi(r,3)),
        e.setAttribute("color", new Fi(i,3)),
        Au.call(this, e, n),
        this.camera = t,
        this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(),
        this.matrix = t.matrixWorld,
        this.matrixAutoUpdate = !1,
        this.pointMap = o,
        this.update()
    }
    function Jf(t, e, n, r, i, o, a) {
        Xf.set(i, o, a).unproject(r);
        var s = e[t];
        if (void 0 !== s)
            for (var u = n.getAttribute("position"), c = 0, l = s.length; c < l; c++)
                u.setXYZ(s[c], Xf.x, Xf.y, Xf.z)
    }
    Zf.prototype = Object.create(Au.prototype),
    Zf.prototype.constructor = Zf,
    Zf.prototype.update = function() {
        var t = this.geometry
          , e = this.pointMap;
        Yf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),
        Jf("c", e, t, Yf, 0, 0, -1),
        Jf("t", e, t, Yf, 0, 0, 1),
        Jf("n1", e, t, Yf, -1, -1, -1),
        Jf("n2", e, t, Yf, 1, -1, -1),
        Jf("n3", e, t, Yf, -1, 1, -1),
        Jf("n4", e, t, Yf, 1, 1, -1),
        Jf("f1", e, t, Yf, -1, -1, 1),
        Jf("f2", e, t, Yf, 1, -1, 1),
        Jf("f3", e, t, Yf, -1, 1, 1),
        Jf("f4", e, t, Yf, 1, 1, 1),
        Jf("u1", e, t, Yf, .7, 1.1, -1),
        Jf("u2", e, t, Yf, -.7, 1.1, -1),
        Jf("u3", e, t, Yf, 0, 2, -1),
        Jf("cf1", e, t, Yf, -1, 0, 1),
        Jf("cf2", e, t, Yf, 1, 0, 1),
        Jf("cf3", e, t, Yf, 0, -1, 1),
        Jf("cf4", e, t, Yf, 0, 1, 1),
        Jf("cn1", e, t, Yf, -1, 0, -1),
        Jf("cn2", e, t, Yf, 1, 0, -1),
        Jf("cn3", e, t, Yf, 0, -1, -1),
        Jf("cn4", e, t, Yf, 0, 1, -1),
        t.getAttribute("position").needsUpdate = !0
    }
    ;
    var Qf = new qr;
    function Kf(t, e) {
        this.object = t,
        void 0 === e && (e = 16776960);
        var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7])
          , r = new Float32Array(24)
          , i = new Ji;
        i.setIndex(new Ri(n,1)),
        i.setAttribute("position", new Ri(r,3)),
        Au.call(this, i, new yu({
            color: e
        })),
        this.matrixAutoUpdate = !1,
        this.update()
    }
    function $f(t, e) {
        this.type = "Box3Helper",
        this.box = t,
        e = e || 16776960;
        var n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7])
          , r = new Ji;
        r.setIndex(new Ri(n,1)),
        r.setAttribute("position", new Fi([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1],3)),
        Au.call(this, r, new yu({
            color: e
        })),
        this.geometry.computeBoundingSphere()
    }
    function tp(t, e, n) {
        this.type = "PlaneHelper",
        this.plane = t,
        this.size = void 0 === e ? 1 : e;
        var r = void 0 !== n ? n : 16776960
          , i = new Ji;
        i.setAttribute("position", new Fi([1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0],3)),
        i.computeBoundingSphere(),
        Su.call(this, i, new yu({
            color: r
        }));
        var o = new Ji;
        o.setAttribute("position", new Fi([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1],3)),
        o.computeBoundingSphere(),
        this.add(new mo(o,new Li({
            color: r,
            opacity: .2,
            transparent: !0,
            depthWrite: !1
        })))
    }
    Kf.prototype = Object.create(Au.prototype),
    Kf.prototype.constructor = Kf,
    Kf.prototype.update = function(t) {
        if (void 0 !== t && console.warn("THREE.BoxHelper: .update() has no longer arguments."),
        void 0 !== this.object && Qf.setFromObject(this.object),
        !Qf.isEmpty()) {
            var e = Qf.min
              , n = Qf.max
              , r = this.geometry.attributes.position
              , i = r.array;
            i[0] = n.x,
            i[1] = n.y,
            i[2] = n.z,
            i[3] = e.x,
            i[4] = n.y,
            i[5] = n.z,
            i[6] = e.x,
            i[7] = e.y,
            i[8] = n.z,
            i[9] = n.x,
            i[10] = e.y,
            i[11] = n.z,
            i[12] = n.x,
            i[13] = n.y,
            i[14] = e.z,
            i[15] = e.x,
            i[16] = n.y,
            i[17] = e.z,
            i[18] = e.x,
            i[19] = e.y,
            i[20] = e.z,
            i[21] = n.x,
            i[22] = e.y,
            i[23] = e.z,
            r.needsUpdate = !0,
            this.geometry.computeBoundingSphere()
        }
    }
    ,
    Kf.prototype.setFromObject = function(t) {
        return this.object = t,
        this.update(),
        this
    }
    ,
    Kf.prototype.copy = function(t) {
        return Au.prototype.copy.call(this, t),
        this.object = t.object,
        this
    }
    ,
    Kf.prototype.clone = function() {
        return (new this.constructor).copy(this)
    }
    ,
    $f.prototype = Object.create(Au.prototype),
    $f.prototype.constructor = $f,
    $f.prototype.updateMatrixWorld = function(t) {
        var e = this.box;
        e.isEmpty() || (e.getCenter(this.position),
        e.getSize(this.scale),
        this.scale.multiplyScalar(.5),
        Rr.prototype.updateMatrixWorld.call(this, t))
    }
    ,
    tp.prototype = Object.create(Su.prototype),
    tp.prototype.constructor = tp,
    tp.prototype.updateMatrixWorld = function(t) {
        var e = -this.plane.constant;
        Math.abs(e) < 1e-8 && (e = 1e-8),
        this.scale.set(.5 * this.size, .5 * this.size, e),
        this.children[0].material.side = e < 0 ? T : E,
        this.lookAt(this.plane.normal),
        Rr.prototype.updateMatrixWorld.call(this, t)
    }
    ;
    var ep, np, rp = new or;
    function ip(t, e, n, r, i, o) {
        Rr.call(this),
        void 0 === t && (t = new or(0,0,1)),
        void 0 === e && (e = new or(0,0,0)),
        void 0 === n && (n = 1),
        void 0 === r && (r = 16776960),
        void 0 === i && (i = .2 * n),
        void 0 === o && (o = .2 * i),
        void 0 === ep && ((ep = new Ji).setAttribute("position", new Fi([0, 0, 0, 0, 1, 0],3)),
        (np = new Xc(0,.5,1,5,1)).translate(0, -.5, 0)),
        this.position.copy(e),
        this.line = new Su(ep,new yu({
            color: r
        })),
        this.line.matrixAutoUpdate = !1,
        this.add(this.line),
        this.cone = new mo(np,new Li({
            color: r
        })),
        this.cone.matrixAutoUpdate = !1,
        this.add(this.cone),
        this.setDirection(t),
        this.setLength(n, i, o)
    }
    function op(t) {
        var e = [0, 0, 0, t = t || 1, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t]
          , n = new Ji;
        n.setAttribute("position", new Fi(e,3)),
        n.setAttribute("color", new Fi([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1],3));
        var r = new yu({
            vertexColors: !0
        });
        Au.call(this, n, r)
    }
    ip.prototype = Object.create(Rr.prototype),
    ip.prototype.constructor = ip,
    ip.prototype.setDirection = function(t) {
        if (t.y > .99999)
            this.quaternion.set(0, 0, 0, 1);
        else if (t.y < -.99999)
            this.quaternion.set(1, 0, 0, 0);
        else {
            rp.set(t.z, 0, -t.x).normalize();
            var e = Math.acos(t.y);
            this.quaternion.setFromAxisAngle(rp, e)
        }
    }
    ,
    ip.prototype.setLength = function(t, e, n) {
        void 0 === e && (e = .2 * t),
        void 0 === n && (n = .2 * e),
        this.line.scale.set(1, Math.max(1e-4, t - e), 1),
        this.line.updateMatrix(),
        this.cone.scale.set(n, e, n),
        this.cone.position.y = t,
        this.cone.updateMatrix()
    }
    ,
    ip.prototype.setColor = function(t) {
        this.line.material.color.set(t),
        this.cone.material.color.set(t)
    }
    ,
    ip.prototype.copy = function(t) {
        return Rr.prototype.copy.call(this, t, !1),
        this.line.copy(t.line),
        this.cone.copy(t.cone),
        this
    }
    ,
    ip.prototype.clone = function() {
        return (new this.constructor).copy(this)
    }
    ,
    op.prototype = Object.create(Au.prototype),
    op.prototype.constructor = op;
    var ap, sp, up, cp, lp = Math.pow(2, 8), hp = [.125, .215, .35, .446, .526, .582], fp = 5 + hp.length, pp = (i(r = {}, an, 0),
    i(r, sn, 1),
    i(r, cn, 2),
    i(r, hn, 3),
    i(r, fn, 4),
    i(r, pn, 5),
    i(r, un, 6),
    r), dp = new ph, mp = (ap = 20,
    sp = new Float32Array(ap),
    up = new or(0,1,0),
    (cp = new tl({
        defines: {
            n: ap
        },
        uniforms: {
            envMap: {
                value: null
            },
            samples: {
                value: 1
            },
            weights: {
                value: sp
            },
            latitudinal: {
                value: !1
            },
            dTheta: {
                value: 0
            },
            mipInt: {
                value: 0
            },
            poleAxis: {
                value: up
            },
            inputEncoding: {
                value: pp[an]
            },
            outputEncoding: {
                value: pp[an]
            }
        },
        vertexShader: "\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",
        fragmentShader: "\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t", "\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),
        blending: O,
        depthTest: !1,
        depthWrite: !1
    })).type = "SphericalGaussianBlur",
    cp), vp = null, gp = null, yp = function() {
        for (var t = [], e = [], n = [], r = 8, i = 0; i < fp; i++) {
            var o = Math.pow(2, r);
            e.push(o);
            var a = 1 / o;
            i > 4 ? a = hp[i - 8 + 4 - 1] : 0 == i && (a = 0),
            n.push(a);
            for (var s = 1 / (o - 1), u = -s / 2, c = 1 + s / 2, l = [u, u, c, u, c, c, u, u, c, c, u, c], h = new Float32Array(108), f = new Float32Array(72), p = new Float32Array(36), d = 0; d < 6; d++) {
                var m = d % 3 * 2 / 3 - 1
                  , v = d > 2 ? 0 : -1
                  , g = [m, v, 0, m + 2 / 3, v, 0, m + 2 / 3, v + 1, 0, m, v, 0, m + 2 / 3, v + 1, 0, m, v + 1, 0];
                h.set(g, 18 * d),
                f.set(l, 12 * d);
                var y = [d, d, d, d, d, d];
                p.set(y, 6 * d)
            }
            var b = new Ji;
            b.setAttribute("position", new Ri(h,3)),
            b.setAttribute("uv", new Ri(f,2)),
            b.setAttribute("faceIndex", new Ri(p,1)),
            t.push(b),
            r > 4 && r--
        }
        return {
            _lodPlanes: t,
            _sizeLods: e,
            _sigmas: n
        }
    }(), bp = yp._lodPlanes, xp = yp._sizeLods, _p = yp._sigmas, wp = null, Mp = null, Sp = null, Ep = (1 + Math.sqrt(5)) / 2, Tp = 1 / Ep, Ap = [new or(1,1,1), new or(-1,1,1), new or(1,1,-1), new or(-1,1,-1), new or(0,Ep,Tp), new or(0,Ep,-Tp), new or(Tp,0,Ep), new or(-Tp,0,Ep), new or(Ep,Tp,0), new or(-Ep,Tp,0)];
    function Pp(t) {
        Mp = t,
        Cp(mp)
    }
    function Lp(t) {
        var e = {
            magFilter: Tt,
            minFilter: Tt,
            generateMipmaps: !1,
            type: t ? t.type : Nt,
            format: t ? t.format : $t,
            encoding: t ? t.encoding : cn,
            depthBuffer: !1,
            stencilBuffer: !1
        }
          , n = Ip(e);
        return n.depthBuffer = !t,
        wp = Ip(e),
        n
    }
    function Op(t) {
        wp.dispose(),
        Mp.setRenderTarget(Sp),
        t.scissorTest = !1,
        t.setSize(t.width, t.height)
    }
    function Rp(t, e, n, r) {
        var i = new Oo(90,1,e,n)
          , o = [1, 1, 1, 1, -1, 1]
          , a = [1, 1, -1, -1, -1, 1]
          , s = Mp.outputEncoding
          , u = Mp.toneMapping
          , c = Mp.toneMappingExposure
          , l = Mp.getClearColor()
          , h = Mp.getClearAlpha();
        Mp.toneMapping = lt,
        Mp.toneMappingExposure = 1,
        Mp.outputEncoding = an,
        t.scale.z *= -1;
        var f = t.background;
        if (f && f.isColor) {
            f.convertSRGBToLinear();
            var p = Math.max(f.r, f.g, f.b)
              , d = Math.min(Math.max(Math.ceil(Math.log2(p)), -128), 127);
            f = f.multiplyScalar(Math.pow(2, -d));
            var m = (d + 128) / 255;
            Mp.setClearColor(f, m),
            t.background = null
        }
        for (var v = 0; v < 6; v++) {
            var g = v % 3;
            0 == g ? (i.up.set(0, o[v], 0),
            i.lookAt(a[v], 0, 0)) : 1 == g ? (i.up.set(0, 0, o[v]),
            i.lookAt(0, a[v], 0)) : (i.up.set(0, o[v], 0),
            i.lookAt(0, 0, a[v])),
            Dp(r, g * lp, v > 2 ? lp : 0, lp, lp),
            Mp.setRenderTarget(r),
            Mp.render(t, i)
        }
        Mp.toneMapping = u,
        Mp.toneMappingExposure = c,
        Mp.outputEncoding = s,
        Mp.setClearColor(l, h),
        t.scale.z *= -1
    }
    function Cp(t) {
        var e = new Cr;
        e.add(new mo(bp[0],t)),
        Mp.compile(e, dp)
    }
    function Ip(t) {
        var e = new tr(3 * lp,3 * lp,t);
        return e.texture.mapping = _t,
        e.texture.name = "PMREM.cubeUv",
        e.scissorTest = !0,
        e
    }
    function Dp(t, e, n, r, i) {
        t.viewport.set(e, n, r, i),
        t.scissor.set(e, n, r, i)
    }
    function kp(t) {
        var e = Mp.autoClear;
        Mp.autoClear = !1;
        for (var n = 1; n < fp; n++) {
            Np(t, n - 1, n, Math.sqrt(_p[n] * _p[n] - _p[n - 1] * _p[n - 1]), Ap[(n - 1) % Ap.length])
        }
        Mp.autoClear = e
    }
    function Np(t, e, n, r, i) {
        zp(t, wp, e, n, r, "latitudinal", i),
        zp(wp, t, n, n, r, "longitudinal", i)
    }
    function zp(t, e, n, r, i, o, a) {
        "latitudinal" !== o && "longitudinal" !== o && console.error("blur direction must be either latitudinal or longitudinal!");
        var s = new Cr;
        s.add(new mo(bp[r],mp));
        var u = mp.uniforms
          , c = xp[n] - 1
          , l = isFinite(i) ? Math.PI / (2 * c) : 2 * Math.PI / 39
          , h = i / l
          , f = isFinite(i) ? 1 + Math.floor(3 * h) : 20;
        f > 20 && console.warn("sigmaRadians, ".concat(i, ", is too large and will clip, as it requested ").concat(f, " samples when the maximum is set to ").concat(20));
        for (var p = [], d = 0, m = 0; m < 20; ++m) {
            var v = m / h
              , g = Math.exp(-v * v / 2);
            p.push(g),
            0 == m ? d += g : m < f && (d += 2 * g)
        }
        for (m = 0; m < p.length; m++)
            p[m] = p[m] / d;
        u.envMap.value = t.texture,
        u.samples.value = f,
        u.weights.value = p,
        u.latitudinal.value = "latitudinal" === o,
        a && (u.poleAxis.value = a),
        u.dTheta.value = l,
        u.mipInt.value = 8 - n,
        u.inputEncoding.value = pp[t.texture.encoding],
        u.outputEncoding.value = pp[t.texture.encoding];
        var y = xp[r];
        Dp(e, v = 3 * Math.max(0, lp - 2 * y), (0 === r ? 0 : 2 * lp) + 2 * y * (r > 4 ? r - 8 + 4 : 0), 3 * y, 2 * y),
        Mp.setRenderTarget(e),
        Mp.render(s, dp)
    }
    function jp() {
        var t = new tl({
            uniforms: {
                envMap: {
                    value: null
                },
                texelSize: {
                    value: new Yn(1,1)
                },
                inputEncoding: {
                    value: pp[an]
                },
                outputEncoding: {
                    value: pp[an]
                }
            },
            vertexShader: "\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",
            fragmentShader: "\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t", "\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),
            blending: O,
            depthTest: !1,
            depthWrite: !1
        });
        return t.type = "EquirectangularToCubeUV",
        t
    }
    function Fp() {
        var t = new tl({
            uniforms: {
                envMap: {
                    value: null
                },
                inputEncoding: {
                    value: pp[an]
                },
                outputEncoding: {
                    value: pp[an]
                }
            },
            vertexShader: "\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",
            fragmentShader: "\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t", "\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),
            blending: O,
            depthTest: !1,
            depthWrite: !1
        });
        return t.type = "CubemapToCubeUV",
        t
    }
    function Bp(t, e, n, r, i, o, a) {
        return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),
        new Ti(t,e,n,i,o,a)
    }
    Pp.prototype = {
        constructor: Pp,
        fromScene: function(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
              , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : .1
              , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 100;
            Sp = Mp.getRenderTarget();
            var i = Lp();
            return Rp(t, n, r, i),
            e > 0 && Np(i, 0, 0, e),
            kp(i),
            Op(i),
            i
        },
        fromEquirectangular: function(t) {
            return t.magFilter = Tt,
            t.minFilter = Tt,
            t.generateMipmaps = !1,
            this.fromCubemap(t)
        },
        fromCubemap: function(t) {
            Sp = Mp.getRenderTarget();
            var e = Lp(t);
            return function(t, e) {
                var n = new Cr;
                t.isCubeTexture ? null == gp && (gp = Fp()) : null == vp && (vp = jp());
                var r = t.isCubeTexture ? gp : vp;
                n.add(new mo(bp[0],r));
                var i = r.uniforms;
                i.envMap.value = t,
                t.isCubeTexture || i.texelSize.value.set(1 / t.image.width, 1 / t.image.height);
                i.inputEncoding.value = pp[t.encoding],
                i.outputEncoding.value = pp[t.encoding],
                Dp(e, 0, 0, 3 * lp, 2 * lp),
                Mp.setRenderTarget(e),
                Mp.render(n, dp)
            }(t, e),
            kp(e),
            Op(e),
            e
        },
        compileCubemapShader: function() {
            null == gp && Cp(gp = Fp())
        },
        compileEquirectangularShader: function() {
            null == vp && Cp(vp = jp())
        },
        dispose: function() {
            mp.dispose(),
            null != gp && gp.dispose(),
            null != vp && vp.dispose();
            for (var t = 0; t < bp.length; t++)
                bp[t].dispose()
        }
    };
    var Up = 0
      , Gp = 1
      , Hp = 0
      , Vp = 1
      , Wp = 2;
    function qp(t) {
        return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),
        t
    }
    function Xp(t) {
        return void 0 === t && (t = []),
        console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),
        t.isMultiMaterial = !0,
        t.materials = t,
        t.clone = function() {
            return t.slice()
        }
        ,
        t
    }
    function Yp(t, e) {
        return console.warn("THREE.PointCloud has been renamed to THREE.Points."),
        new Du(t,e)
    }
    function Zp(t) {
        return console.warn("THREE.Particle has been renamed to THREE.Sprite."),
        new ru(t)
    }
    function Jp(t, e) {
        return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),
        new Du(t,e)
    }
    function Qp(t) {
        return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),
        new Lu(t)
    }
    function Kp(t) {
        return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),
        new Lu(t)
    }
    function $p(t) {
        return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),
        new Lu(t)
    }
    function td(t, e, n) {
        return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),
        new or(t,e,n)
    }
    function ed(t, e) {
        return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),
        new Ri(t,e).setUsage(kn)
    }
    function nd(t, e) {
        return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),
        new Ci(t,e)
    }
    function rd(t, e) {
        return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),
        new Ii(t,e)
    }
    function id(t, e) {
        return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),
        new Di(t,e)
    }
    function od(t, e) {
        return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),
        new ki(t,e)
    }
    function ad(t, e) {
        return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),
        new Ni(t,e)
    }
    function sd(t, e) {
        return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),
        new zi(t,e)
    }
    function ud(t, e) {
        return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),
        new ji(t,e)
    }
    function cd(t, e) {
        return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),
        new Fi(t,e)
    }
    function ld(t, e) {
        return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),
        new Bi(t,e)
    }
    function hd(t) {
        console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),
        Wl.call(this, t),
        this.type = "catmullrom",
        this.closed = !0
    }
    function fd(t) {
        console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),
        Wl.call(this, t),
        this.type = "catmullrom"
    }
    function pd(t) {
        console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),
        Wl.call(this, t),
        this.type = "catmullrom"
    }
    function dd(t) {
        return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),
        new op(t)
    }
    function md(t, e) {
        return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),
        new Kf(t,e)
    }
    function vd(t, e) {
        return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),
        new Au(new Wc(t.geometry),new yu({
            color: void 0 !== e ? e : 16777215
        }))
    }
    function gd(t, e) {
        return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),
        new Au(new Bu(t.geometry),new yu({
            color: void 0 !== e ? e : 16777215
        }))
    }
    function yd(t) {
        return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),
        new Ol(t)
    }
    function bd(t) {
        return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),
        new Il(t)
    }
    function xd(t, e, n) {
        return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),
        new Co(t,n)
    }
    zl.create = function(t, e) {
        return console.log("THREE.Curve.create() has been deprecated"),
        t.prototype = Object.create(zl.prototype),
        t.prototype.constructor = t,
        t.prototype.getPoint = e,
        t
    }
    ,
    Object.assign(rh.prototype, {
        createPointsGeometry: function(t) {
            console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
            var e = this.getPoints(t);
            return this.createGeometry(e)
        },
        createSpacedPointsGeometry: function(t) {
            console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
            var e = this.getSpacedPoints(t);
            return this.createGeometry(e)
        },
        createGeometry: function(t) {
            console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
            for (var e = new wo, n = 0, r = t.length; n < r; n++) {
                var i = t[n];
                e.vertices.push(new or(i.x,i.y,i.z || 0))
            }
            return e
        }
    }),
    Object.assign(ih.prototype, {
        fromPoints: function(t) {
            return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),
            this.setFromPoints(t)
        }
    }),
    hd.prototype = Object.create(Wl.prototype),
    fd.prototype = Object.create(Wl.prototype),
    pd.prototype = Object.create(Wl.prototype),
    Object.assign(pd.prototype, {
        initFromArray: function() {
            console.error("THREE.Spline: .initFromArray() has been removed.")
        },
        getControlPointsArray: function() {
            console.error("THREE.Spline: .getControlPointsArray() has been removed.")
        },
        reparametrizeByArcLength: function() {
            console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")
        }
    }),
    Uf.prototype.setColors = function() {
        console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
    }
    ,
    kf.prototype.update = function() {
        console.error("THREE.SkeletonHelper: update() no longer needs to be called.")
    }
    ,
    Object.assign(Pl.prototype, {
        extractUrlBase: function(t) {
            return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),
            bh.extractUrlBase(t)
        }
    }),
    Pl.Handlers = {
        add: function() {
            console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")
        },
        get: function() {
            console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")
        }
    },
    Object.assign(Sh.prototype, {
        setTexturePath: function(t) {
            return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),
            this.setResourcePath(t)
        }
    }),
    Object.assign(Ef.prototype, {
        center: function(t) {
            return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),
            this.getCenter(t)
        },
        empty: function() {
            return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),
            this.isEmpty()
        },
        isIntersectionBox: function(t) {
            return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(t)
        },
        size: function(t) {
            return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),
            this.getSize(t)
        }
    }),
    Object.assign(qr.prototype, {
        center: function(t) {
            return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),
            this.getCenter(t)
        },
        empty: function() {
            return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),
            this.isEmpty()
        },
        isIntersectionBox: function(t) {
            return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(t)
        },
        isIntersectionSphere: function(t) {
            return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
            this.intersectsSphere(t)
        },
        size: function(t) {
            return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),
            this.getSize(t)
        }
    }),
    No.prototype.setFromMatrix = function(t) {
        return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),
        this.setFromProjectionMatrix(t)
    }
    ,
    Pf.prototype.center = function(t) {
        return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),
        this.getCenter(t)
    }
    ,
    Object.assign(Xn, {
        random16: function() {
            return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),
            Math.random()
        },
        nearestPowerOfTwo: function(t) {
            return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),
            Xn.floorPowerOfTwo(t)
        },
        nextPowerOfTwo: function(t) {
            return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),
            Xn.ceilPowerOfTwo(t)
        }
    }),
    Object.assign(Zn.prototype, {
        flattenToArrayOffset: function(t, e) {
            return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
            this.toArray(t, e)
        },
        multiplyVector3: function(t) {
            return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),
            t.applyMatrix3(this)
        },
        multiplyVector3Array: function() {
            console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")
        },
        applyToBufferAttribute: function(t) {
            return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),
            t.applyMatrix3(this)
        },
        applyToVector3Array: function() {
            console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")
        }
    }),
    Object.assign(pr.prototype, {
        extractPosition: function(t) {
            return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),
            this.copyPosition(t)
        },
        flattenToArrayOffset: function(t, e) {
            return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),
            this.toArray(t, e)
        },
        getPosition: function() {
            return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),
            (new or).setFromMatrixColumn(this, 3)
        },
        setRotationFromQuaternion: function(t) {
            return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),
            this.makeRotationFromQuaternion(t)
        },
        multiplyToArray: function() {
            console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")
        },
        multiplyVector3: function(t) {
            return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            t.applyMatrix4(this)
        },
        multiplyVector4: function(t) {
            return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            t.applyMatrix4(this)
        },
        multiplyVector3Array: function() {
            console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")
        },
        rotateAxis: function(t) {
            console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),
            t.transformDirection(this)
        },
        crossVector: function(t) {
            return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),
            t.applyMatrix4(this)
        },
        translate: function() {
            console.error("THREE.Matrix4: .translate() has been removed.")
        },
        rotateX: function() {
            console.error("THREE.Matrix4: .rotateX() has been removed.")
        },
        rotateY: function() {
            console.error("THREE.Matrix4: .rotateY() has been removed.")
        },
        rotateZ: function() {
            console.error("THREE.Matrix4: .rotateZ() has been removed.")
        },
        rotateByAxis: function() {
            console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
        },
        applyToBufferAttribute: function(t) {
            return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),
            t.applyMatrix4(this)
        },
        applyToVector3Array: function() {
            console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")
        },
        makeFrustum: function(t, e, n, r, i, o) {
            return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),
            this.makePerspective(t, e, r, n, i, o)
        }
    }),
    si.prototype.isIntersectionLine = function(t) {
        return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),
        this.intersectsLine(t)
    }
    ,
    nr.prototype.multiplyVector3 = function(t) {
        return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),
        t.applyQuaternion(this)
    }
    ,
    Object.assign(ri.prototype, {
        isIntersectionBox: function(t) {
            return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),
            this.intersectsBox(t)
        },
        isIntersectionPlane: function(t) {
            return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),
            this.intersectsPlane(t)
        },
        isIntersectionSphere: function(t) {
            return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),
            this.intersectsSphere(t)
        }
    }),
    Object.assign(yi.prototype, {
        area: function() {
            return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),
            this.getArea()
        },
        barycoordFromPoint: function(t, e) {
            return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),
            this.getBarycoord(t, e)
        },
        midpoint: function(t) {
            return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),
            this.getMidpoint(t)
        },
        normal: function(t) {
            return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),
            this.getNormal(t)
        },
        plane: function(t) {
            return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),
            this.getPlane(t)
        }
    }),
    Object.assign(yi, {
        barycoordFromPoint: function(t, e, n, r, i) {
            return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),
            yi.getBarycoord(t, e, n, r, i)
        },
        normal: function(t, e, n, r) {
            return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),
            yi.getNormal(t, e, n, r)
        }
    }),
    Object.assign(oh.prototype, {
        extractAllPoints: function(t) {
            return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),
            this.extractPoints(t)
        },
        extrude: function(t) {
            return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),
            new Oc(this,t)
        },
        makeGeometry: function(t) {
            return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),
            new Gc(this,t)
        }
    }),
    Object.assign(Yn.prototype, {
        fromAttribute: function(t, e, n) {
            return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),
            this.fromBufferAttribute(t, e, n)
        },
        distanceToManhattan: function(t) {
            return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),
            this.manhattanDistanceTo(t)
        },
        lengthManhattan: function() {
            return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),
            this.manhattanLength()
        }
    }),
    Object.assign(or.prototype, {
        setEulerFromRotationMatrix: function() {
            console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
        },
        setEulerFromQuaternion: function() {
            console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
        },
        getPositionFromMatrix: function(t) {
            return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),
            this.setFromMatrixPosition(t)
        },
        getScaleFromMatrix: function(t) {
            return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),
            this.setFromMatrixScale(t)
        },
        getColumnFromMatrix: function(t, e) {
            return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),
            this.setFromMatrixColumn(e, t)
        },
        applyProjection: function(t) {
            return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),
            this.applyMatrix4(t)
        },
        fromAttribute: function(t, e, n) {
            return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),
            this.fromBufferAttribute(t, e, n)
        },
        distanceToManhattan: function(t) {
            return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),
            this.manhattanDistanceTo(t)
        },
        lengthManhattan: function() {
            return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),
            this.manhattanLength()
        }
    }),
    Object.assign($n.prototype, {
        fromAttribute: function(t, e, n) {
            return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),
            this.fromBufferAttribute(t, e, n)
        },
        lengthManhattan: function() {
            return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),
            this.manhattanLength()
        }
    }),
    Object.assign(wo.prototype, {
        computeTangents: function() {
            console.error("THREE.Geometry: .computeTangents() has been removed.")
        },
        computeLineDistances: function() {
            console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")
        },
        applyMatrix: function(t) {
            return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),
            this.applyMatrix4(t)
        }
    }),
    Object.assign(Rr.prototype, {
        getChildByName: function(t) {
            return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),
            this.getObjectByName(t)
        },
        renderDepth: function() {
            console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
        },
        translate: function(t, e) {
            return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),
            this.translateOnAxis(e, t)
        },
        getWorldRotation: function() {
            console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")
        },
        applyMatrix: function(t) {
            return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),
            this.applyMatrix4(t)
        }
    }),
    Object.defineProperties(Rr.prototype, {
        eulerOrder: {
            get: function() {
                return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                this.rotation.order
            },
            set: function(t) {
                console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),
                this.rotation.order = t
            }
        },
        useQuaternion: {
            get: function() {
                console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
            },
            set: function() {
                console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
            }
        }
    }),
    Object.assign(mo.prototype, {
        setDrawMode: function() {
            console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")
        }
    }),
    Object.defineProperties(mo.prototype, {
        drawMode: {
            get: function() {
                return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),
                nn
            },
            set: function() {
                console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")
            }
        }
    }),
    Object.defineProperties(su.prototype, {
        objects: {
            get: function() {
                return console.warn("THREE.LOD: .objects has been renamed to .levels."),
                this.levels
            }
        }
    }),
    Object.defineProperty(hu.prototype, "useVertexTexture", {
        get: function() {
            console.warn("THREE.Skeleton: useVertexTexture has been removed.")
        },
        set: function() {
            console.warn("THREE.Skeleton: useVertexTexture has been removed.")
        }
    }),
    uu.prototype.initBones = function() {
        console.error("THREE.SkinnedMesh: initBones() has been removed.")
    }
    ,
    Object.defineProperty(zl.prototype, "__arcLengthDivisions", {
        get: function() {
            return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),
            this.arcLengthDivisions
        },
        set: function(t) {
            console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),
            this.arcLengthDivisions = t
        }
    }),
    Oo.prototype.setLens = function(t, e) {
        console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),
        void 0 !== e && (this.filmGauge = e),
        this.setFocalLength(t)
    }
    ,
    Object.defineProperties(ah.prototype, {
        onlyShadow: {
            set: function() {
                console.warn("THREE.Light: .onlyShadow has been removed.")
            }
        },
        shadowCameraFov: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),
                this.shadow.camera.fov = t
            }
        },
        shadowCameraLeft: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),
                this.shadow.camera.left = t
            }
        },
        shadowCameraRight: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),
                this.shadow.camera.right = t
            }
        },
        shadowCameraTop: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),
                this.shadow.camera.top = t
            }
        },
        shadowCameraBottom: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),
                this.shadow.camera.bottom = t
            }
        },
        shadowCameraNear: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),
                this.shadow.camera.near = t
            }
        },
        shadowCameraFar: {
            set: function(t) {
                console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),
                this.shadow.camera.far = t
            }
        },
        shadowCameraVisible: {
            set: function() {
                console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
            }
        },
        shadowBias: {
            set: function(t) {
                console.warn("THREE.Light: .shadowBias is now .shadow.bias."),
                this.shadow.bias = t
            }
        },
        shadowDarkness: {
            set: function() {
                console.warn("THREE.Light: .shadowDarkness has been removed.")
            }
        },
        shadowMapWidth: {
            set: function(t) {
                console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),
                this.shadow.mapSize.width = t
            }
        },
        shadowMapHeight: {
            set: function(t) {
                console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),
                this.shadow.mapSize.height = t
            }
        }
    }),
    Object.defineProperties(Ri.prototype, {
        length: {
            get: function() {
                return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),
                this.array.length
            }
        },
        dynamic: {
            get: function() {
                return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),
                this.usage === kn
            },
            set: function() {
                console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),
                this.setUsage(kn)
            }
        }
    }),
    Object.assign(Ri.prototype, {
        setDynamic: function(t) {
            return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),
            this.setUsage(!0 === t ? kn : Dn),
            this
        },
        copyIndicesArray: function() {
            console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")
        },
        setArray: function() {
            console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
        }
    }),
    Object.assign(Ji.prototype, {
        addIndex: function(t) {
            console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),
            this.setIndex(t)
        },
        addAttribute: function(t, e) {
            return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),
            e && e.isBufferAttribute || e && e.isInterleavedBufferAttribute ? "index" === t ? (console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
            this.setIndex(e),
            this) : this.setAttribute(t, e) : (console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),
            this.setAttribute(t, new Ri(arguments[1],arguments[2])))
        },
        addDrawCall: function(t, e, n) {
            void 0 !== n && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),
            console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),
            this.addGroup(t, e)
        },
        clearDrawCalls: function() {
            console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),
            this.clearGroups()
        },
        computeTangents: function() {
            console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
        },
        computeOffsets: function() {
            console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
        },
        removeAttribute: function(t) {
            return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),
            this.deleteAttribute(t)
        },
        applyMatrix: function(t) {
            return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),
            this.applyMatrix4(t)
        }
    }),
    Object.defineProperties(Ji.prototype, {
        drawcalls: {
            get: function() {
                return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),
                this.groups
            }
        },
        offsets: {
            get: function() {
                return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),
                this.groups
            }
        }
    }),
    Object.defineProperties(bf.prototype, {
        linePrecision: {
            get: function() {
                return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),
                this.params.Line.threshold
            },
            set: function(t) {
                console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),
                this.params.Line.threshold = t
            }
        }
    }),
    Object.defineProperties(Bs.prototype, {
        dynamic: {
            get: function() {
                return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),
                this.usage === kn
            },
            set: function(t) {
                console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),
                this.setUsage(t)
            }
        }
    }),
    Object.assign(Bs.prototype, {
        setDynamic: function(t) {
            return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),
            this.setUsage(!0 === t ? kn : Dn),
            this
        },
        setArray: function() {
            console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")
        }
    }),
    Object.assign(Rc.prototype, {
        getArrays: function() {
            console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")
        },
        addShapeList: function() {
            console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")
        },
        addShape: function() {
            console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")
        }
    }),
    Object.defineProperties(gf.prototype, {
        dynamic: {
            set: function() {
                console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
            }
        },
        onUpdate: {
            value: function() {
                return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),
                this
            }
        }
    }),
    Object.defineProperties(Pi.prototype, {
        wrapAround: {
            get: function() {
                console.warn("THREE.Material: .wrapAround has been removed.")
            },
            set: function() {
                console.warn("THREE.Material: .wrapAround has been removed.")
            }
        },
        overdraw: {
            get: function() {
                console.warn("THREE.Material: .overdraw has been removed.")
            },
            set: function() {
                console.warn("THREE.Material: .overdraw has been removed.")
            }
        },
        wrapRGB: {
            get: function() {
                return console.warn("THREE.Material: .wrapRGB has been removed."),
                new wi
            }
        },
        shading: {
            get: function() {
                console.error("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead.")
            },
            set: function(t) {
                console.warn("THREE." + this.type + ": .shading has been removed. Use the boolean .flatShading instead."),
                this.flatShading = t === P
            }
        },
        stencilMask: {
            get: function() {
                return console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."),
                this.stencilFuncMask
            },
            set: function(t) {
                console.warn("THREE." + this.type + ": .stencilMask has been removed. Use .stencilFuncMask instead."),
                this.stencilFuncMask = t
            }
        }
    }),
    Object.defineProperties(rl.prototype, {
        metal: {
            get: function() {
                return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),
                !1
            },
            set: function() {
                console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
            }
        }
    }),
    Object.defineProperties(Po.prototype, {
        derivatives: {
            get: function() {
                return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                this.extensions.derivatives
            },
            set: function(t) {
                console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),
                this.extensions.derivatives = t
            }
        }
    }),
    Object.assign(zs.prototype, {
        clearTarget: function(t, e, n, r) {
            console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),
            this.setRenderTarget(t),
            this.clear(e, n, r)
        },
        animate: function(t) {
            console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),
            this.setAnimationLoop(t)
        },
        getCurrentRenderTarget: function() {
            return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),
            this.getRenderTarget()
        },
        getMaxAnisotropy: function() {
            return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),
            this.capabilities.getMaxAnisotropy()
        },
        getPrecision: function() {
            return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),
            this.capabilities.precision
        },
        resetGLState: function() {
            return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),
            this.state.reset()
        },
        supportsFloatTextures: function() {
            return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),
            this.extensions.get("OES_texture_float")
        },
        supportsHalfFloatTextures: function() {
            return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),
            this.extensions.get("OES_texture_half_float")
        },
        supportsStandardDerivatives: function() {
            return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),
            this.extensions.get("OES_standard_derivatives")
        },
        supportsCompressedTextureS3TC: function() {
            return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),
            this.extensions.get("WEBGL_compressed_texture_s3tc")
        },
        supportsCompressedTexturePVRTC: function() {
            return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),
            this.extensions.get("WEBGL_compressed_texture_pvrtc")
        },
        supportsBlendMinMax: function() {
            return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),
            this.extensions.get("EXT_blend_minmax")
        },
        supportsVertexTextures: function() {
            return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),
            this.capabilities.vertexTextures
        },
        supportsInstancedArrays: function() {
            return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),
            this.extensions.get("ANGLE_instanced_arrays")
        },
        enableScissorTest: function(t) {
            console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),
            this.setScissorTest(t)
        },
        initMaterial: function() {
            console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
        },
        addPrePlugin: function() {
            console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
        },
        addPostPlugin: function() {
            console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
        },
        updateShadowMap: function() {
            console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
        },
        setFaceCulling: function() {
            console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")
        },
        allocTextureUnit: function() {
            console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")
        },
        setTexture: function() {
            console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")
        },
        setTexture2D: function() {
            console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")
        },
        setTextureCube: function() {
            console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")
        },
        getActiveMipMapLevel: function() {
            return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),
            this.getActiveMipmapLevel()
        }
    }),
    Object.defineProperties(zs.prototype, {
        shadowMapEnabled: {
            get: function() {
                return this.shadowMap.enabled
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),
                this.shadowMap.enabled = t
            }
        },
        shadowMapType: {
            get: function() {
                return this.shadowMap.type
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),
                this.shadowMap.type = t
            }
        },
        shadowMapCullFace: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")
            }
        },
        context: {
            get: function() {
                return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),
                this.getContext()
            }
        },
        vr: {
            get: function() {
                return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),
                this.xr
            }
        },
        gammaInput: {
            get: function() {
                return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),
                !1
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")
            }
        },
        gammaOutput: {
            get: function() {
                return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),
                !1
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),
                this.outputEncoding = !0 === t ? sn : an
            }
        }
    }),
    Object.defineProperties(Os.prototype, {
        cullFace: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")
            }
        },
        renderReverseSided: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")
            }
        },
        renderSingleSided: {
            get: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
            },
            set: function() {
                console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")
            }
        }
    }),
    Object.defineProperties(tr.prototype, {
        wrapS: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                this.texture.wrapS
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),
                this.texture.wrapS = t
            }
        },
        wrapT: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                this.texture.wrapT
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),
                this.texture.wrapT = t
            }
        },
        magFilter: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                this.texture.magFilter
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),
                this.texture.magFilter = t
            }
        },
        minFilter: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                this.texture.minFilter
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),
                this.texture.minFilter = t
            }
        },
        anisotropy: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                this.texture.anisotropy
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),
                this.texture.anisotropy = t
            }
        },
        offset: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                this.texture.offset
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),
                this.texture.offset = t
            }
        },
        repeat: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                this.texture.repeat
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),
                this.texture.repeat = t
            }
        },
        format: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                this.texture.format
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),
                this.texture.format = t
            }
        },
        type: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                this.texture.type
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),
                this.texture.type = t
            }
        },
        generateMipmaps: {
            get: function() {
                return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                this.texture.generateMipmaps
            },
            set: function(t) {
                console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),
                this.texture.generateMipmaps = t
            }
        }
    }),
    Object.defineProperties(Zh.prototype, {
        load: {
            value: function(t) {
                console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
                var e = this;
                return (new kh).load(t, (function(t) {
                    e.setBuffer(t)
                }
                )),
                this
            }
        },
        startTime: {
            set: function() {
                console.warn("THREE.Audio: .startTime is now .play( delay ).")
            }
        }
    }),
    ef.prototype.getData = function() {
        return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),
        this.getFrequencyData()
    }
    ,
    Ro.prototype.updateCubeMap = function(t, e) {
        return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),
        this.update(t, e)
    }
    ;
    var _d = {
        merge: function(t, e, n) {
            var r;
            console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),
            e.isMesh && (e.matrixAutoUpdate && e.updateMatrix(),
            r = e.matrix,
            e = e.geometry),
            t.merge(e, r, n)
        },
        center: function(t) {
            return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),
            t.center()
        }
    };
    function wd() {
        console.error("THREE.CanvasRenderer has been removed")
    }
    function Md() {
        console.error("THREE.JSONLoader has been removed.")
    }
    Jn.crossOrigin = void 0,
    Jn.loadTexture = function(t, e, n, r) {
        console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
        var i = new Nl;
        i.setCrossOrigin(this.crossOrigin);
        var o = i.load(t, n, void 0, r);
        return e && (o.mapping = e),
        o
    }
    ,
    Jn.loadTextureCube = function(t, e, n, r) {
        console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
        var i = new kl;
        i.setCrossOrigin(this.crossOrigin);
        var o = i.load(t, n, void 0, r);
        return e && (o.mapping = e),
        o
    }
    ,
    Jn.loadCompressedTexture = function() {
        console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
    }
    ,
    Jn.loadCompressedTextureCube = function() {
        console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
    }
    ;
    var Sd = {
        createMultiMaterialObject: function() {
            console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")
        },
        detach: function() {
            console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")
        },
        attach: function() {
            console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")
        }
    };
    function Ed() {
        console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")
    }
    "undefined" != typeof __THREE_DEVTOOLS__ && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{
        detail: {
            revision: f
        }
    }))
}
, function(t, e, n) {
    t.exports = n(378)
}
, function(t, e) {
    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}
, function(t, e, n) {
    var r = n(6);
    t.exports = function(t) {
        if (!r(t))
            throw TypeError(t + " is not an object!");
        return t
    }
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    t.exports = function(t) {
        return "object" === n(t) ? null !== t : "function" == typeof t
    }
}
, function(t, e, n) {
    var r = n(63)("wks")
      , i = n(39)
      , o = n(3).Symbol
      , a = "function" == typeof o;
    (t.exports = function(t) {
        return r[t] || (r[t] = a && o[t] || (a ? o : i)("Symbol." + t))
    }
    ).store = r
}
, function(t, e, n) {
    var r = n(24)
      , i = Math.min;
    t.exports = function(t) {
        return t > 0 ? i(r(t), 9007199254740991) : 0
    }
}
, function(t, e) {
    var n = t.exports = {
        version: "2.6.11"
    };
    "number" == typeof __e && (__e = n)
}
, function(t, e, n) {
    t.exports = !n(4)((function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    }
    ))
}
, function(t, e, n) {
    var r = n(5)
      , i = n(124)
      , o = n(34)
      , a = Object.defineProperty;
    e.f = n(10) ? Object.defineProperty : function(t, e, n) {
        if (r(t),
        e = o(e, !0),
        r(n),
        i)
            try {
                return a(t, e, n)
            } catch (t) {}
        if ("get"in n || "set"in n)
            throw TypeError("Accessors not supported!");
        return "value"in n && (t[e] = n.value),
        t
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        return function(t) {
            if (Array.isArray(t))
                return t
        }(t) || function(t, e) {
            if (!(Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)))
                return;
            var n = []
              , r = !0
              , i = !1
              , o = void 0;
            try {
                for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value),
                !e || n.length !== e); r = !0)
                    ;
            } catch (t) {
                i = !0,
                o = t
            } finally {
                try {
                    r || null == s.return || s.return()
                } finally {
                    if (i)
                        throw o
                }
            }
            return n
        }(t, e) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }
    var i = function(t) {
        var e = new Set;
        do {
            var n = !0
              , r = !1
              , i = void 0;
            try {
                for (var o, a = Reflect.ownKeys(t)[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {
                    var s = o.value;
                    e.add([t, s])
                }
            } catch (t) {
                r = !0,
                i = t
            } finally {
                try {
                    n || null == a.return || a.return()
                } finally {
                    if (r)
                        throw i
                }
            }
        } while ((t = Reflect.getPrototypeOf(t)) && t !== Object.prototype);
        return e
    };
    t.exports = function(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
          , n = e.include
          , o = e.exclude
          , a = function(t) {
            var e = function(e) {
                return "string" == typeof e ? t === e : e.test(t)
            };
            return n ? n.some(e) : !o || !o.some(e)
        }
          , s = !0
          , u = !1
          , c = void 0;
        try {
            for (var l, h = i(t.constructor.prototype)[Symbol.iterator](); !(s = (l = h.next()).done); s = !0) {
                var f = r(l.value, 2)
                  , p = f[0]
                  , d = f[1];
                if ("constructor" !== d && a(d)) {
                    var m = Reflect.getOwnPropertyDescriptor(p, d);
                    m && "function" == typeof m.value && (t[d] = t[d].bind(t))
                }
            }
        } catch (t) {
            u = !0,
            c = t
        } finally {
            try {
                s || null == h.return || h.return()
            } finally {
                if (u)
                    throw c
            }
        }
        return t
    }
}
, function(t, e, n) {
    var r = n(178)
      , i = n(120)
      , o = n(473)
      , a = n(28);
    t.exports = function(t, e) {
        return (a(t) ? r : o)(t, i(e, 3))
    }
}
, function(t, e, n) {
    var r = n(31);
    t.exports = function(t) {
        return Object(r(t))
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i, o = "object" === ("undefined" == typeof Reflect ? "undefined" : r(Reflect)) ? Reflect : null, a = o && "function" == typeof o.apply ? o.apply : function(t, e, n) {
        return Function.prototype.apply.call(t, e, n)
    }
    ;
    i = o && "function" == typeof o.ownKeys ? o.ownKeys : Object.getOwnPropertySymbols ? function(t) {
        return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))
    }
    : function(t) {
        return Object.getOwnPropertyNames(t)
    }
    ;
    var s = Number.isNaN || function(t) {
        return t != t
    }
    ;
    function u() {
        u.init.call(this)
    }
    t.exports = u,
    u.EventEmitter = u,
    u.prototype._events = void 0,
    u.prototype._eventsCount = 0,
    u.prototype._maxListeners = void 0;
    var c = 10;
    function l(t) {
        if ("function" != typeof t)
            throw new TypeError('The "listener" argument must be of type Function. Received type ' + r(t))
    }
    function h(t) {
        return void 0 === t._maxListeners ? u.defaultMaxListeners : t._maxListeners
    }
    function f(t, e, n, r) {
        var i, o, a, s;
        if (l(n),
        void 0 === (o = t._events) ? (o = t._events = Object.create(null),
        t._eventsCount = 0) : (void 0 !== o.newListener && (t.emit("newListener", e, n.listener ? n.listener : n),
        o = t._events),
        a = o[e]),
        void 0 === a)
            a = o[e] = n,
            ++t._eventsCount;
        else if ("function" == typeof a ? a = o[e] = r ? [n, a] : [a, n] : r ? a.unshift(n) : a.push(n),
        (i = h(t)) > 0 && a.length > i && !a.warned) {
            a.warned = !0;
            var u = new Error("Possible EventEmitter memory leak detected. " + a.length + " " + String(e) + " listeners added. Use emitter.setMaxListeners() to increase limit");
            u.name = "MaxListenersExceededWarning",
            u.emitter = t,
            u.type = e,
            u.count = a.length,
            s = u,
            console && console.warn && console.warn(s)
        }
        return t
    }
    function p() {
        if (!this.fired)
            return this.target.removeListener(this.type, this.wrapFn),
            this.fired = !0,
            0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
    }
    function d(t, e, n) {
        var r = {
            fired: !1,
            wrapFn: void 0,
            target: t,
            type: e,
            listener: n
        }
          , i = p.bind(r);
        return i.listener = n,
        r.wrapFn = i,
        i
    }
    function m(t, e, n) {
        var r = t._events;
        if (void 0 === r)
            return [];
        var i = r[e];
        return void 0 === i ? [] : "function" == typeof i ? n ? [i.listener || i] : [i] : n ? function(t) {
            for (var e = new Array(t.length), n = 0; n < e.length; ++n)
                e[n] = t[n].listener || t[n];
            return e
        }(i) : g(i, i.length)
    }
    function v(t) {
        var e = this._events;
        if (void 0 !== e) {
            var n = e[t];
            if ("function" == typeof n)
                return 1;
            if (void 0 !== n)
                return n.length
        }
        return 0
    }
    function g(t, e) {
        for (var n = new Array(e), r = 0; r < e; ++r)
            n[r] = t[r];
        return n
    }
    Object.defineProperty(u, "defaultMaxListeners", {
        enumerable: !0,
        get: function() {
            return c
        },
        set: function(t) {
            if ("number" != typeof t || t < 0 || s(t))
                throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + t + ".");
            c = t
        }
    }),
    u.init = function() {
        void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null),
        this._eventsCount = 0),
        this._maxListeners = this._maxListeners || void 0
    }
    ,
    u.prototype.setMaxListeners = function(t) {
        if ("number" != typeof t || t < 0 || s(t))
            throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + t + ".");
        return this._maxListeners = t,
        this
    }
    ,
    u.prototype.getMaxListeners = function() {
        return h(this)
    }
    ,
    u.prototype.emit = function(t) {
        for (var e = [], n = 1; n < arguments.length; n++)
            e.push(arguments[n]);
        var r = "error" === t
          , i = this._events;
        if (void 0 !== i)
            r = r && void 0 === i.error;
        else if (!r)
            return !1;
        if (r) {
            var o;
            if (e.length > 0 && (o = e[0]),
            o instanceof Error)
                throw o;
            var s = new Error("Unhandled error." + (o ? " (" + o.message + ")" : ""));
            throw s.context = o,
            s
        }
        var u = i[t];
        if (void 0 === u)
            return !1;
        if ("function" == typeof u)
            a(u, this, e);
        else {
            var c = u.length
              , l = g(u, c);
            for (n = 0; n < c; ++n)
                a(l[n], this, e)
        }
        return !0
    }
    ,
    u.prototype.addListener = function(t, e) {
        return f(this, t, e, !1)
    }
    ,
    u.prototype.on = u.prototype.addListener,
    u.prototype.prependListener = function(t, e) {
        return f(this, t, e, !0)
    }
    ,
    u.prototype.once = function(t, e) {
        return l(e),
        this.on(t, d(this, t, e)),
        this
    }
    ,
    u.prototype.prependOnceListener = function(t, e) {
        return l(e),
        this.prependListener(t, d(this, t, e)),
        this
    }
    ,
    u.prototype.removeListener = function(t, e) {
        var n, r, i, o, a;
        if (l(e),
        void 0 === (r = this._events))
            return this;
        if (void 0 === (n = r[t]))
            return this;
        if (n === e || n.listener === e)
            0 == --this._eventsCount ? this._events = Object.create(null) : (delete r[t],
            r.removeListener && this.emit("removeListener", t, n.listener || e));
        else if ("function" != typeof n) {
            for (i = -1,
            o = n.length - 1; o >= 0; o--)
                if (n[o] === e || n[o].listener === e) {
                    a = n[o].listener,
                    i = o;
                    break
                }
            if (i < 0)
                return this;
            0 === i ? n.shift() : function(t, e) {
                for (; e + 1 < t.length; e++)
                    t[e] = t[e + 1];
                t.pop()
            }(n, i),
            1 === n.length && (r[t] = n[0]),
            void 0 !== r.removeListener && this.emit("removeListener", t, a || e)
        }
        return this
    }
    ,
    u.prototype.off = u.prototype.removeListener,
    u.prototype.removeAllListeners = function(t) {
        var e, n, r;
        if (void 0 === (n = this._events))
            return this;
        if (void 0 === n.removeListener)
            return 0 === arguments.length ? (this._events = Object.create(null),
            this._eventsCount = 0) : void 0 !== n[t] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[t]),
            this;
        if (0 === arguments.length) {
            var i, o = Object.keys(n);
            for (r = 0; r < o.length; ++r)
                "removeListener" !== (i = o[r]) && this.removeAllListeners(i);
            return this.removeAllListeners("removeListener"),
            this._events = Object.create(null),
            this._eventsCount = 0,
            this
        }
        if ("function" == typeof (e = n[t]))
            this.removeListener(t, e);
        else if (void 0 !== e)
            for (r = e.length - 1; r >= 0; r--)
                this.removeListener(t, e[r]);
        return this
    }
    ,
    u.prototype.listeners = function(t) {
        return m(this, t, !0)
    }
    ,
    u.prototype.rawListeners = function(t) {
        return m(this, t, !1)
    }
    ,
    u.listenerCount = function(t, e) {
        return "function" == typeof t.listenerCount ? t.listenerCount(e) : v.call(t, e)
    }
    ,
    u.prototype.listenerCount = v,
    u.prototype.eventNames = function() {
        return this._eventsCount > 0 ? i(this._events) : []
    }
}
, function(t, e, n) {
    var r = n(3)
      , i = n(19)
      , o = n(18)
      , a = n(39)("src")
      , s = n(192)
      , u = ("" + s).split("toString");
    n(9).inspectSource = function(t) {
        return s.call(t)
    }
    ,
    (t.exports = function(t, e, n, s) {
        var c = "function" == typeof n;
        c && (o(n, "name") || i(n, "name", e)),
        t[e] !== n && (c && (o(n, a) || i(n, a, t[e] ? "" + t[e] : u.join(String(e)))),
        t === r ? t[e] = n : s ? t[e] ? t[e] = n : i(t, e, n) : (delete t[e],
        i(t, e, n)))
    }
    )(Function.prototype, "toString", (function() {
        return "function" == typeof this && this[a] || s.call(this)
    }
    ))
}
, function(t, e, n) {
    var r = n(0)
      , i = n(4)
      , o = n(31)
      , a = /"/g
      , s = function(t, e, n, r) {
        var i = String(o(t))
          , s = "<" + e;
        return "" !== n && (s += " " + n + '="' + String(r).replace(a, "&quot;") + '"'),
        s + ">" + i + "</" + e + ">"
    };
    t.exports = function(t, e) {
        var n = {};
        n[t] = e(s),
        r(r.P + r.F * i((function() {
            var e = ""[t]('"');
            return e !== e.toLowerCase() || e.split('"').length > 3
        }
        )), "String", n)
    }
}
, function(t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return n.call(t, e)
    }
}
, function(t, e, n) {
    var r = n(11)
      , i = n(38);
    t.exports = n(10) ? function(t, e, n) {
        return r.f(t, e, i(1, n))
    }
    : function(t, e, n) {
        return t[e] = n,
        t
    }
}
, function(t, e, n) {
    var r = n(56)
      , i = n(31);
    t.exports = function(t) {
        return r(i(t))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(4);
    t.exports = function(t, e) {
        return !!t && r((function() {
            e ? t.call(null, (function() {}
            ), 1) : t.call(null)
        }
        ))
    }
}
, function(t, e, n) {
    var r = n(23);
    t.exports = function(t, e, n) {
        if (r(t),
        void 0 === e)
            return t;
        switch (n) {
        case 1:
            return function(n) {
                return t.call(e, n)
            }
            ;
        case 2:
            return function(n, r) {
                return t.call(e, n, r)
            }
            ;
        case 3:
            return function(n, r, i) {
                return t.call(e, n, r, i)
            }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}
, function(t, e) {
    t.exports = function(t) {
        if ("function" != typeof t)
            throw TypeError(t + " is not a function!");
        return t
    }
}
, function(t, e) {
    var n = Math.ceil
      , r = Math.floor;
    t.exports = function(t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? r : n)(t)
    }
}
, function(t, e, n) {
    var r = n(57)
      , i = n(38)
      , o = n(20)
      , a = n(34)
      , s = n(18)
      , u = n(124)
      , c = Object.getOwnPropertyDescriptor;
    e.f = n(10) ? c : function(t, e) {
        if (t = o(t),
        e = a(e, !0),
        u)
            try {
                return c(t, e)
            } catch (t) {}
        if (s(t, e))
            return i(!r.f.call(t, e), t[e])
    }
}
, function(t, e, n) {
    var r = n(0)
      , i = n(9)
      , o = n(4);
    t.exports = function(t, e) {
        var n = (i.Object || {})[t] || Object[t]
          , a = {};
        a[t] = e(n),
        r(r.S + r.F * o((function() {
            n(1)
        }
        )), "Object", a)
    }
}
, function(t, e, n) {
    var r = n(22)
      , i = n(56)
      , o = n(14)
      , a = n(8)
      , s = n(140);
    t.exports = function(t, e) {
        var n = 1 == t
          , u = 2 == t
          , c = 3 == t
          , l = 4 == t
          , h = 6 == t
          , f = 5 == t || h
          , p = e || s;
        return function(e, s, d) {
            for (var m, v, g = o(e), y = i(g), b = r(s, d, 3), x = a(y.length), _ = 0, w = n ? p(e, x) : u ? p(e, 0) : void 0; x > _; _++)
                if ((f || _ in y) && (v = b(m = y[_], _, g),
                t))
                    if (n)
                        w[_] = v;
                    else if (v)
                        switch (t) {
                        case 3:
                            return !0;
                        case 5:
                            return m;
                        case 6:
                            return _;
                        case 2:
                            w.push(m)
                        }
                    else if (l)
                        return !1;
            return h ? -1 : c || l ? l : w
        }
    }
}
, function(t, e) {
    var n = Array.isArray;
    t.exports = n
}
, function(t, e, n) {
    (function(t, r) {
        var i;
        function o(t) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
            )(t)
        }
        /**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
        (function() {
            var a = "Expected a function"
              , s = "__lodash_placeholder__"
              , u = [["ary", 128], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", 16], ["flip", 512], ["partial", 32], ["partialRight", 64], ["rearg", 256]]
              , c = "[object Arguments]"
              , l = "[object Array]"
              , h = "[object Boolean]"
              , f = "[object Date]"
              , p = "[object Error]"
              , d = "[object Function]"
              , m = "[object GeneratorFunction]"
              , v = "[object Map]"
              , g = "[object Number]"
              , y = "[object Object]"
              , b = "[object RegExp]"
              , x = "[object Set]"
              , _ = "[object String]"
              , w = "[object Symbol]"
              , M = "[object WeakMap]"
              , S = "[object ArrayBuffer]"
              , E = "[object DataView]"
              , T = "[object Float32Array]"
              , A = "[object Float64Array]"
              , P = "[object Int8Array]"
              , L = "[object Int16Array]"
              , O = "[object Int32Array]"
              , R = "[object Uint8Array]"
              , C = "[object Uint16Array]"
              , I = "[object Uint32Array]"
              , D = /\b__p \+= '';/g
              , k = /\b(__p \+=) '' \+/g
              , N = /(__e\(.*?\)|\b__t\)) \+\n'';/g
              , z = /&(?:amp|lt|gt|quot|#39);/g
              , j = /[&<>"']/g
              , F = RegExp(z.source)
              , B = RegExp(j.source)
              , U = /<%-([\s\S]+?)%>/g
              , G = /<%([\s\S]+?)%>/g
              , H = /<%=([\s\S]+?)%>/g
              , V = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
              , W = /^\w*$/
              , q = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
              , X = /[\\^$.*+?()[\]{}|]/g
              , Y = RegExp(X.source)
              , Z = /^\s+|\s+$/g
              , J = /^\s+/
              , Q = /\s+$/
              , K = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/
              , $ = /\{\n\/\* \[wrapped with (.+)\] \*/
              , tt = /,? & /
              , et = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g
              , nt = /\\(\\)?/g
              , rt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g
              , it = /\w*$/
              , ot = /^[-+]0x[0-9a-f]+$/i
              , at = /^0b[01]+$/i
              , st = /^\[object .+?Constructor\]$/
              , ut = /^0o[0-7]+$/i
              , ct = /^(?:0|[1-9]\d*)$/
              , lt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g
              , ht = /($^)/
              , ft = /['\n\r\u2028\u2029\\]/g
              , pt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff"
              , dt = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000"
              , mt = "[\\ud800-\\udfff]"
              , vt = "[" + dt + "]"
              , gt = "[" + pt + "]"
              , yt = "\\d+"
              , bt = "[\\u2700-\\u27bf]"
              , xt = "[a-z\\xdf-\\xf6\\xf8-\\xff]"
              , _t = "[^\\ud800-\\udfff" + dt + yt + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]"
              , wt = "\\ud83c[\\udffb-\\udfff]"
              , Mt = "[^\\ud800-\\udfff]"
              , St = "(?:\\ud83c[\\udde6-\\uddff]){2}"
              , Et = "[\\ud800-\\udbff][\\udc00-\\udfff]"
              , Tt = "[A-Z\\xc0-\\xd6\\xd8-\\xde]"
              , At = "(?:" + xt + "|" + _t + ")"
              , Pt = "(?:" + Tt + "|" + _t + ")"
              , Lt = "(?:" + gt + "|" + wt + ")" + "?"
              , Ot = "[\\ufe0e\\ufe0f]?" + Lt + ("(?:\\u200d(?:" + [Mt, St, Et].join("|") + ")[\\ufe0e\\ufe0f]?" + Lt + ")*")
              , Rt = "(?:" + [bt, St, Et].join("|") + ")" + Ot
              , Ct = "(?:" + [Mt + gt + "?", gt, St, Et, mt].join("|") + ")"
              , It = RegExp("['’]", "g")
              , Dt = RegExp(gt, "g")
              , kt = RegExp(wt + "(?=" + wt + ")|" + Ct + Ot, "g")
              , Nt = RegExp([Tt + "?" + xt + "+(?:['’](?:d|ll|m|re|s|t|ve))?(?=" + [vt, Tt, "$"].join("|") + ")", Pt + "+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=" + [vt, Tt + At, "$"].join("|") + ")", Tt + "?" + At + "+(?:['’](?:d|ll|m|re|s|t|ve))?", Tt + "+(?:['’](?:D|LL|M|RE|S|T|VE))?", "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", yt, Rt].join("|"), "g")
              , zt = RegExp("[\\u200d\\ud800-\\udfff" + pt + "\\ufe0e\\ufe0f]")
              , jt = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/
              , Ft = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"]
              , Bt = -1
              , Ut = {};
            Ut[T] = Ut[A] = Ut[P] = Ut[L] = Ut[O] = Ut[R] = Ut["[object Uint8ClampedArray]"] = Ut[C] = Ut[I] = !0,
            Ut[c] = Ut[l] = Ut[S] = Ut[h] = Ut[E] = Ut[f] = Ut[p] = Ut[d] = Ut[v] = Ut[g] = Ut[y] = Ut[b] = Ut[x] = Ut[_] = Ut[M] = !1;
            var Gt = {};
            Gt[c] = Gt[l] = Gt[S] = Gt[E] = Gt[h] = Gt[f] = Gt[T] = Gt[A] = Gt[P] = Gt[L] = Gt[O] = Gt[v] = Gt[g] = Gt[y] = Gt[b] = Gt[x] = Gt[_] = Gt[w] = Gt[R] = Gt["[object Uint8ClampedArray]"] = Gt[C] = Gt[I] = !0,
            Gt[p] = Gt[d] = Gt[M] = !1;
            var Ht = {
                "\\": "\\",
                "'": "'",
                "\n": "n",
                "\r": "r",
                "\u2028": "u2028",
                "\u2029": "u2029"
            }
              , Vt = parseFloat
              , Wt = parseInt
              , qt = "object" == (void 0 === t ? "undefined" : o(t)) && t && t.Object === Object && t
              , Xt = "object" == ("undefined" == typeof self ? "undefined" : o(self)) && self && self.Object === Object && self
              , Yt = qt || Xt || Function("return this")()
              , Zt = "object" == o(e) && e && !e.nodeType && e
              , Jt = Zt && "object" == o(r) && r && !r.nodeType && r
              , Qt = Jt && Jt.exports === Zt
              , Kt = Qt && qt.process
              , $t = function() {
                try {
                    var t = Jt && Jt.require && Jt.require("util").types;
                    return t || Kt && Kt.binding && Kt.binding("util")
                } catch (t) {}
            }()
              , te = $t && $t.isArrayBuffer
              , ee = $t && $t.isDate
              , ne = $t && $t.isMap
              , re = $t && $t.isRegExp
              , ie = $t && $t.isSet
              , oe = $t && $t.isTypedArray;
            function ae(t, e, n) {
                switch (n.length) {
                case 0:
                    return t.call(e);
                case 1:
                    return t.call(e, n[0]);
                case 2:
                    return t.call(e, n[0], n[1]);
                case 3:
                    return t.call(e, n[0], n[1], n[2])
                }
                return t.apply(e, n)
            }
            function se(t, e, n, r) {
                for (var i = -1, o = null == t ? 0 : t.length; ++i < o; ) {
                    var a = t[i];
                    e(r, a, n(a), t)
                }
                return r
            }
            function ue(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t); )
                    ;
                return t
            }
            function ce(t, e) {
                for (var n = null == t ? 0 : t.length; n-- && !1 !== e(t[n], n, t); )
                    ;
                return t
            }
            function le(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
                    if (!e(t[n], n, t))
                        return !1;
                return !0
            }
            function he(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length, i = 0, o = []; ++n < r; ) {
                    var a = t[n];
                    e(a, n, t) && (o[i++] = a)
                }
                return o
            }
            function fe(t, e) {
                return !!(null == t ? 0 : t.length) && we(t, e, 0) > -1
            }
            function pe(t, e, n) {
                for (var r = -1, i = null == t ? 0 : t.length; ++r < i; )
                    if (n(e, t[r]))
                        return !0;
                return !1
            }
            function de(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length, i = Array(r); ++n < r; )
                    i[n] = e(t[n], n, t);
                return i
            }
            function me(t, e) {
                for (var n = -1, r = e.length, i = t.length; ++n < r; )
                    t[i + n] = e[n];
                return t
            }
            function ve(t, e, n, r) {
                var i = -1
                  , o = null == t ? 0 : t.length;
                for (r && o && (n = t[++i]); ++i < o; )
                    n = e(n, t[i], i, t);
                return n
            }
            function ge(t, e, n, r) {
                var i = null == t ? 0 : t.length;
                for (r && i && (n = t[--i]); i--; )
                    n = e(n, t[i], i, t);
                return n
            }
            function ye(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
                    if (e(t[n], n, t))
                        return !0;
                return !1
            }
            var be = Te("length");
            function xe(t, e, n) {
                var r;
                return n(t, (function(t, n, i) {
                    if (e(t, n, i))
                        return r = n,
                        !1
                }
                )),
                r
            }
            function _e(t, e, n, r) {
                for (var i = t.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
                    if (e(t[o], o, t))
                        return o;
                return -1
            }
            function we(t, e, n) {
                return e == e ? function(t, e, n) {
                    var r = n - 1
                      , i = t.length;
                    for (; ++r < i; )
                        if (t[r] === e)
                            return r;
                    return -1
                }(t, e, n) : _e(t, Se, n)
            }
            function Me(t, e, n, r) {
                for (var i = n - 1, o = t.length; ++i < o; )
                    if (r(t[i], e))
                        return i;
                return -1
            }
            function Se(t) {
                return t != t
            }
            function Ee(t, e) {
                var n = null == t ? 0 : t.length;
                return n ? Le(t, e) / n : NaN
            }
            function Te(t) {
                return function(e) {
                    return null == e ? void 0 : e[t]
                }
            }
            function Ae(t) {
                return function(e) {
                    return null == t ? void 0 : t[e]
                }
            }
            function Pe(t, e, n, r, i) {
                return i(t, (function(t, i, o) {
                    n = r ? (r = !1,
                    t) : e(n, t, i, o)
                }
                )),
                n
            }
            function Le(t, e) {
                for (var n, r = -1, i = t.length; ++r < i; ) {
                    var o = e(t[r]);
                    void 0 !== o && (n = void 0 === n ? o : n + o)
                }
                return n
            }
            function Oe(t, e) {
                for (var n = -1, r = Array(t); ++n < t; )
                    r[n] = e(n);
                return r
            }
            function Re(t) {
                return function(e) {
                    return t(e)
                }
            }
            function Ce(t, e) {
                return de(e, (function(e) {
                    return t[e]
                }
                ))
            }
            function Ie(t, e) {
                return t.has(e)
            }
            function De(t, e) {
                for (var n = -1, r = t.length; ++n < r && we(e, t[n], 0) > -1; )
                    ;
                return n
            }
            function ke(t, e) {
                for (var n = t.length; n-- && we(e, t[n], 0) > -1; )
                    ;
                return n
            }
            function Ne(t, e) {
                for (var n = t.length, r = 0; n--; )
                    t[n] === e && ++r;
                return r
            }
            var ze = Ae({
                "À": "A",
                "Á": "A",
                "Â": "A",
                "Ã": "A",
                "Ä": "A",
                "Å": "A",
                "à": "a",
                "á": "a",
                "â": "a",
                "ã": "a",
                "ä": "a",
                "å": "a",
                "Ç": "C",
                "ç": "c",
                "Ð": "D",
                "ð": "d",
                "È": "E",
                "É": "E",
                "Ê": "E",
                "Ë": "E",
                "è": "e",
                "é": "e",
                "ê": "e",
                "ë": "e",
                "Ì": "I",
                "Í": "I",
                "Î": "I",
                "Ï": "I",
                "ì": "i",
                "í": "i",
                "î": "i",
                "ï": "i",
                "Ñ": "N",
                "ñ": "n",
                "Ò": "O",
                "Ó": "O",
                "Ô": "O",
                "Õ": "O",
                "Ö": "O",
                "Ø": "O",
                "ò": "o",
                "ó": "o",
                "ô": "o",
                "õ": "o",
                "ö": "o",
                "ø": "o",
                "Ù": "U",
                "Ú": "U",
                "Û": "U",
                "Ü": "U",
                "ù": "u",
                "ú": "u",
                "û": "u",
                "ü": "u",
                "Ý": "Y",
                "ý": "y",
                "ÿ": "y",
                "Æ": "Ae",
                "æ": "ae",
                "Þ": "Th",
                "þ": "th",
                "ß": "ss",
                "Ā": "A",
                "Ă": "A",
                "Ą": "A",
                "ā": "a",
                "ă": "a",
                "ą": "a",
                "Ć": "C",
                "Ĉ": "C",
                "Ċ": "C",
                "Č": "C",
                "ć": "c",
                "ĉ": "c",
                "ċ": "c",
                "č": "c",
                "Ď": "D",
                "Đ": "D",
                "ď": "d",
                "đ": "d",
                "Ē": "E",
                "Ĕ": "E",
                "Ė": "E",
                "Ę": "E",
                "Ě": "E",
                "ē": "e",
                "ĕ": "e",
                "ė": "e",
                "ę": "e",
                "ě": "e",
                "Ĝ": "G",
                "Ğ": "G",
                "Ġ": "G",
                "Ģ": "G",
                "ĝ": "g",
                "ğ": "g",
                "ġ": "g",
                "ģ": "g",
                "Ĥ": "H",
                "Ħ": "H",
                "ĥ": "h",
                "ħ": "h",
                "Ĩ": "I",
                "Ī": "I",
                "Ĭ": "I",
                "Į": "I",
                "İ": "I",
                "ĩ": "i",
                "ī": "i",
                "ĭ": "i",
                "į": "i",
                "ı": "i",
                "Ĵ": "J",
                "ĵ": "j",
                "Ķ": "K",
                "ķ": "k",
                "ĸ": "k",
                "Ĺ": "L",
                "Ļ": "L",
                "Ľ": "L",
                "Ŀ": "L",
                "Ł": "L",
                "ĺ": "l",
                "ļ": "l",
                "ľ": "l",
                "ŀ": "l",
                "ł": "l",
                "Ń": "N",
                "Ņ": "N",
                "Ň": "N",
                "Ŋ": "N",
                "ń": "n",
                "ņ": "n",
                "ň": "n",
                "ŋ": "n",
                "Ō": "O",
                "Ŏ": "O",
                "Ő": "O",
                "ō": "o",
                "ŏ": "o",
                "ő": "o",
                "Ŕ": "R",
                "Ŗ": "R",
                "Ř": "R",
                "ŕ": "r",
                "ŗ": "r",
                "ř": "r",
                "Ś": "S",
                "Ŝ": "S",
                "Ş": "S",
                "Š": "S",
                "ś": "s",
                "ŝ": "s",
                "ş": "s",
                "š": "s",
                "Ţ": "T",
                "Ť": "T",
                "Ŧ": "T",
                "ţ": "t",
                "ť": "t",
                "ŧ": "t",
                "Ũ": "U",
                "Ū": "U",
                "Ŭ": "U",
                "Ů": "U",
                "Ű": "U",
                "Ų": "U",
                "ũ": "u",
                "ū": "u",
                "ŭ": "u",
                "ů": "u",
                "ű": "u",
                "ų": "u",
                "Ŵ": "W",
                "ŵ": "w",
                "Ŷ": "Y",
                "ŷ": "y",
                "Ÿ": "Y",
                "Ź": "Z",
                "Ż": "Z",
                "Ž": "Z",
                "ź": "z",
                "ż": "z",
                "ž": "z",
                "Ĳ": "IJ",
                "ĳ": "ij",
                "Œ": "Oe",
                "œ": "oe",
                "ŉ": "'n",
                "ſ": "s"
            })
              , je = Ae({
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;"
            });
            function Fe(t) {
                return "\\" + Ht[t]
            }
            function Be(t) {
                return zt.test(t)
            }
            function Ue(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach((function(t, r) {
                    n[++e] = [r, t]
                }
                )),
                n
            }
            function Ge(t, e) {
                return function(n) {
                    return t(e(n))
                }
            }
            function He(t, e) {
                for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
                    var a = t[n];
                    a !== e && a !== s || (t[n] = s,
                    o[i++] = n)
                }
                return o
            }
            function Ve(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach((function(t) {
                    n[++e] = t
                }
                )),
                n
            }
            function We(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach((function(t) {
                    n[++e] = [t, t]
                }
                )),
                n
            }
            function qe(t) {
                return Be(t) ? function(t) {
                    var e = kt.lastIndex = 0;
                    for (; kt.test(t); )
                        ++e;
                    return e
                }(t) : be(t)
            }
            function Xe(t) {
                return Be(t) ? function(t) {
                    return t.match(kt) || []
                }(t) : function(t) {
                    return t.split("")
                }(t)
            }
            var Ye = Ae({
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'"
            });
            var Ze = function t(e) {
                var n, r = (e = null == e ? Yt : Ze.defaults(Yt.Object(), e, Ze.pick(Yt, Ft))).Array, i = e.Date, pt = e.Error, dt = e.Function, mt = e.Math, vt = e.Object, gt = e.RegExp, yt = e.String, bt = e.TypeError, xt = r.prototype, _t = dt.prototype, wt = vt.prototype, Mt = e["__core-js_shared__"], St = _t.toString, Et = wt.hasOwnProperty, Tt = 0, At = (n = /[^.]+$/.exec(Mt && Mt.keys && Mt.keys.IE_PROTO || "")) ? "Symbol(src)_1." + n : "", Pt = wt.toString, Lt = St.call(vt), Ot = Yt._, Rt = gt("^" + St.call(Et).replace(X, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), Ct = Qt ? e.Buffer : void 0, kt = e.Symbol, zt = e.Uint8Array, Ht = Ct ? Ct.allocUnsafe : void 0, qt = Ge(vt.getPrototypeOf, vt), Xt = vt.create, Zt = wt.propertyIsEnumerable, Jt = xt.splice, Kt = kt ? kt.isConcatSpreadable : void 0, $t = kt ? kt.iterator : void 0, be = kt ? kt.toStringTag : void 0, Ae = function() {
                    try {
                        var t = to(vt, "defineProperty");
                        return t({}, "", {}),
                        t
                    } catch (t) {}
                }(), Je = e.clearTimeout !== Yt.clearTimeout && e.clearTimeout, Qe = i && i.now !== Yt.Date.now && i.now, Ke = e.setTimeout !== Yt.setTimeout && e.setTimeout, $e = mt.ceil, tn = mt.floor, en = vt.getOwnPropertySymbols, nn = Ct ? Ct.isBuffer : void 0, rn = e.isFinite, on = xt.join, an = Ge(vt.keys, vt), sn = mt.max, un = mt.min, cn = i.now, ln = e.parseInt, hn = mt.random, fn = xt.reverse, pn = to(e, "DataView"), dn = to(e, "Map"), mn = to(e, "Promise"), vn = to(e, "Set"), gn = to(e, "WeakMap"), yn = to(vt, "create"), bn = gn && new gn, xn = {}, _n = Po(pn), wn = Po(dn), Mn = Po(mn), Sn = Po(vn), En = Po(gn), Tn = kt ? kt.prototype : void 0, An = Tn ? Tn.valueOf : void 0, Pn = Tn ? Tn.toString : void 0;
                function Ln(t) {
                    if (Wa(t) && !Da(t) && !(t instanceof In)) {
                        if (t instanceof Cn)
                            return t;
                        if (Et.call(t, "__wrapped__"))
                            return Lo(t)
                    }
                    return new Cn(t)
                }
                var On = function() {
                    function t() {}
                    return function(e) {
                        if (!Va(e))
                            return {};
                        if (Xt)
                            return Xt(e);
                        t.prototype = e;
                        var n = new t;
                        return t.prototype = void 0,
                        n
                    }
                }();
                function Rn() {}
                function Cn(t, e) {
                    this.__wrapped__ = t,
                    this.__actions__ = [],
                    this.__chain__ = !!e,
                    this.__index__ = 0,
                    this.__values__ = void 0
                }
                function In(t) {
                    this.__wrapped__ = t,
                    this.__actions__ = [],
                    this.__dir__ = 1,
                    this.__filtered__ = !1,
                    this.__iteratees__ = [],
                    this.__takeCount__ = 4294967295,
                    this.__views__ = []
                }
                function Dn(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                        var r = t[e];
                        this.set(r[0], r[1])
                    }
                }
                function kn(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                        var r = t[e];
                        this.set(r[0], r[1])
                    }
                }
                function Nn(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                        var r = t[e];
                        this.set(r[0], r[1])
                    }
                }
                function zn(t) {
                    var e = -1
                      , n = null == t ? 0 : t.length;
                    for (this.__data__ = new Nn; ++e < n; )
                        this.add(t[e])
                }
                function jn(t) {
                    var e = this.__data__ = new kn(t);
                    this.size = e.size
                }
                function Fn(t, e) {
                    var n = Da(t)
                      , r = !n && Ia(t)
                      , i = !n && !r && ja(t)
                      , o = !n && !r && !i && $a(t)
                      , a = n || r || i || o
                      , s = a ? Oe(t.length, yt) : []
                      , u = s.length;
                    for (var c in t)
                        !e && !Et.call(t, c) || a && ("length" == c || i && ("offset" == c || "parent" == c) || o && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || so(c, u)) || s.push(c);
                    return s
                }
                function Bn(t) {
                    var e = t.length;
                    return e ? t[zr(0, e - 1)] : void 0
                }
                function Un(t, e) {
                    return Eo(yi(t), Jn(e, 0, t.length))
                }
                function Gn(t) {
                    return Eo(yi(t))
                }
                function Hn(t, e, n) {
                    (void 0 === n || Oa(t[e], n)) && (void 0 !== n || e in t) || Yn(t, e, n)
                }
                function Vn(t, e, n) {
                    var r = t[e];
                    Et.call(t, e) && Oa(r, n) && (void 0 !== n || e in t) || Yn(t, e, n)
                }
                function Wn(t, e) {
                    for (var n = t.length; n--; )
                        if (Oa(t[n][0], e))
                            return n;
                    return -1
                }
                function qn(t, e, n, r) {
                    return er(t, (function(t, i, o) {
                        e(r, t, n(t), o)
                    }
                    )),
                    r
                }
                function Xn(t, e) {
                    return t && bi(e, _s(e), t)
                }
                function Yn(t, e, n) {
                    "__proto__" == e && Ae ? Ae(t, e, {
                        configurable: !0,
                        enumerable: !0,
                        value: n,
                        writable: !0
                    }) : t[e] = n
                }
                function Zn(t, e) {
                    for (var n = -1, i = e.length, o = r(i), a = null == t; ++n < i; )
                        o[n] = a ? void 0 : vs(t, e[n]);
                    return o
                }
                function Jn(t, e, n) {
                    return t == t && (void 0 !== n && (t = t <= n ? t : n),
                    void 0 !== e && (t = t >= e ? t : e)),
                    t
                }
                function Qn(t, e, n, r, i, o) {
                    var a, s = 1 & e, u = 2 & e, l = 4 & e;
                    if (n && (a = i ? n(t, r, i, o) : n(t)),
                    void 0 !== a)
                        return a;
                    if (!Va(t))
                        return t;
                    var p = Da(t);
                    if (p) {
                        if (a = function(t) {
                            var e = t.length
                              , n = new t.constructor(e);
                            e && "string" == typeof t[0] && Et.call(t, "index") && (n.index = t.index,
                            n.input = t.input);
                            return n
                        }(t),
                        !s)
                            return yi(t, a)
                    } else {
                        var M = ro(t)
                          , D = M == d || M == m;
                        if (ja(t))
                            return fi(t, s);
                        if (M == y || M == c || D && !i) {
                            if (a = u || D ? {} : oo(t),
                            !s)
                                return u ? function(t, e) {
                                    return bi(t, no(t), e)
                                }(t, function(t, e) {
                                    return t && bi(e, ws(e), t)
                                }(a, t)) : function(t, e) {
                                    return bi(t, eo(t), e)
                                }(t, Xn(a, t))
                        } else {
                            if (!Gt[M])
                                return i ? t : {};
                            a = function(t, e, n) {
                                var r = t.constructor;
                                switch (e) {
                                case S:
                                    return pi(t);
                                case h:
                                case f:
                                    return new r(+t);
                                case E:
                                    return function(t, e) {
                                        var n = e ? pi(t.buffer) : t.buffer;
                                        return new t.constructor(n,t.byteOffset,t.byteLength)
                                    }(t, n);
                                case T:
                                case A:
                                case P:
                                case L:
                                case O:
                                case R:
                                case "[object Uint8ClampedArray]":
                                case C:
                                case I:
                                    return di(t, n);
                                case v:
                                    return new r;
                                case g:
                                case _:
                                    return new r(t);
                                case b:
                                    return function(t) {
                                        var e = new t.constructor(t.source,it.exec(t));
                                        return e.lastIndex = t.lastIndex,
                                        e
                                    }(t);
                                case x:
                                    return new r;
                                case w:
                                    return i = t,
                                    An ? vt(An.call(i)) : {}
                                }
                                var i
                            }(t, M, s)
                        }
                    }
                    o || (o = new jn);
                    var k = o.get(t);
                    if (k)
                        return k;
                    o.set(t, a),
                    Ja(t) ? t.forEach((function(r) {
                        a.add(Qn(r, e, n, r, t, o))
                    }
                    )) : qa(t) && t.forEach((function(r, i) {
                        a.set(i, Qn(r, e, n, i, t, o))
                    }
                    ));
                    var N = p ? void 0 : (l ? u ? Xi : qi : u ? ws : _s)(t);
                    return ue(N || t, (function(r, i) {
                        N && (r = t[i = r]),
                        Vn(a, i, Qn(r, e, n, i, t, o))
                    }
                    )),
                    a
                }
                function Kn(t, e, n) {
                    var r = n.length;
                    if (null == t)
                        return !r;
                    for (t = vt(t); r--; ) {
                        var i = n[r]
                          , o = e[i]
                          , a = t[i];
                        if (void 0 === a && !(i in t) || !o(a))
                            return !1
                    }
                    return !0
                }
                function $n(t, e, n) {
                    if ("function" != typeof t)
                        throw new bt(a);
                    return _o((function() {
                        t.apply(void 0, n)
                    }
                    ), e)
                }
                function tr(t, e, n, r) {
                    var i = -1
                      , o = fe
                      , a = !0
                      , s = t.length
                      , u = []
                      , c = e.length;
                    if (!s)
                        return u;
                    n && (e = de(e, Re(n))),
                    r ? (o = pe,
                    a = !1) : e.length >= 200 && (o = Ie,
                    a = !1,
                    e = new zn(e));
                    t: for (; ++i < s; ) {
                        var l = t[i]
                          , h = null == n ? l : n(l);
                        if (l = r || 0 !== l ? l : 0,
                        a && h == h) {
                            for (var f = c; f--; )
                                if (e[f] === h)
                                    continue t;
                            u.push(l)
                        } else
                            o(e, h, r) || u.push(l)
                    }
                    return u
                }
                Ln.templateSettings = {
                    escape: U,
                    evaluate: G,
                    interpolate: H,
                    variable: "",
                    imports: {
                        _: Ln
                    }
                },
                Ln.prototype = Rn.prototype,
                Ln.prototype.constructor = Ln,
                Cn.prototype = On(Rn.prototype),
                Cn.prototype.constructor = Cn,
                In.prototype = On(Rn.prototype),
                In.prototype.constructor = In,
                Dn.prototype.clear = function() {
                    this.__data__ = yn ? yn(null) : {},
                    this.size = 0
                }
                ,
                Dn.prototype.delete = function(t) {
                    var e = this.has(t) && delete this.__data__[t];
                    return this.size -= e ? 1 : 0,
                    e
                }
                ,
                Dn.prototype.get = function(t) {
                    var e = this.__data__;
                    if (yn) {
                        var n = e[t];
                        return "__lodash_hash_undefined__" === n ? void 0 : n
                    }
                    return Et.call(e, t) ? e[t] : void 0
                }
                ,
                Dn.prototype.has = function(t) {
                    var e = this.__data__;
                    return yn ? void 0 !== e[t] : Et.call(e, t)
                }
                ,
                Dn.prototype.set = function(t, e) {
                    var n = this.__data__;
                    return this.size += this.has(t) ? 0 : 1,
                    n[t] = yn && void 0 === e ? "__lodash_hash_undefined__" : e,
                    this
                }
                ,
                kn.prototype.clear = function() {
                    this.__data__ = [],
                    this.size = 0
                }
                ,
                kn.prototype.delete = function(t) {
                    var e = this.__data__
                      , n = Wn(e, t);
                    return !(n < 0) && (n == e.length - 1 ? e.pop() : Jt.call(e, n, 1),
                    --this.size,
                    !0)
                }
                ,
                kn.prototype.get = function(t) {
                    var e = this.__data__
                      , n = Wn(e, t);
                    return n < 0 ? void 0 : e[n][1]
                }
                ,
                kn.prototype.has = function(t) {
                    return Wn(this.__data__, t) > -1
                }
                ,
                kn.prototype.set = function(t, e) {
                    var n = this.__data__
                      , r = Wn(n, t);
                    return r < 0 ? (++this.size,
                    n.push([t, e])) : n[r][1] = e,
                    this
                }
                ,
                Nn.prototype.clear = function() {
                    this.size = 0,
                    this.__data__ = {
                        hash: new Dn,
                        map: new (dn || kn),
                        string: new Dn
                    }
                }
                ,
                Nn.prototype.delete = function(t) {
                    var e = Ki(this, t).delete(t);
                    return this.size -= e ? 1 : 0,
                    e
                }
                ,
                Nn.prototype.get = function(t) {
                    return Ki(this, t).get(t)
                }
                ,
                Nn.prototype.has = function(t) {
                    return Ki(this, t).has(t)
                }
                ,
                Nn.prototype.set = function(t, e) {
                    var n = Ki(this, t)
                      , r = n.size;
                    return n.set(t, e),
                    this.size += n.size == r ? 0 : 1,
                    this
                }
                ,
                zn.prototype.add = zn.prototype.push = function(t) {
                    return this.__data__.set(t, "__lodash_hash_undefined__"),
                    this
                }
                ,
                zn.prototype.has = function(t) {
                    return this.__data__.has(t)
                }
                ,
                jn.prototype.clear = function() {
                    this.__data__ = new kn,
                    this.size = 0
                }
                ,
                jn.prototype.delete = function(t) {
                    var e = this.__data__
                      , n = e.delete(t);
                    return this.size = e.size,
                    n
                }
                ,
                jn.prototype.get = function(t) {
                    return this.__data__.get(t)
                }
                ,
                jn.prototype.has = function(t) {
                    return this.__data__.has(t)
                }
                ,
                jn.prototype.set = function(t, e) {
                    var n = this.__data__;
                    if (n instanceof kn) {
                        var r = n.__data__;
                        if (!dn || r.length < 199)
                            return r.push([t, e]),
                            this.size = ++n.size,
                            this;
                        n = this.__data__ = new Nn(r)
                    }
                    return n.set(t, e),
                    this.size = n.size,
                    this
                }
                ;
                var er = wi(cr)
                  , nr = wi(lr, !0);
                function rr(t, e) {
                    var n = !0;
                    return er(t, (function(t, r, i) {
                        return n = !!e(t, r, i)
                    }
                    )),
                    n
                }
                function ir(t, e, n) {
                    for (var r = -1, i = t.length; ++r < i; ) {
                        var o = t[r]
                          , a = e(o);
                        if (null != a && (void 0 === s ? a == a && !Ka(a) : n(a, s)))
                            var s = a
                              , u = o
                    }
                    return u
                }
                function or(t, e) {
                    var n = [];
                    return er(t, (function(t, r, i) {
                        e(t, r, i) && n.push(t)
                    }
                    )),
                    n
                }
                function ar(t, e, n, r, i) {
                    var o = -1
                      , a = t.length;
                    for (n || (n = ao),
                    i || (i = []); ++o < a; ) {
                        var s = t[o];
                        e > 0 && n(s) ? e > 1 ? ar(s, e - 1, n, r, i) : me(i, s) : r || (i[i.length] = s)
                    }
                    return i
                }
                var sr = Mi()
                  , ur = Mi(!0);
                function cr(t, e) {
                    return t && sr(t, e, _s)
                }
                function lr(t, e) {
                    return t && ur(t, e, _s)
                }
                function hr(t, e) {
                    return he(e, (function(e) {
                        return Ua(t[e])
                    }
                    ))
                }
                function fr(t, e) {
                    for (var n = 0, r = (e = ui(e, t)).length; null != t && n < r; )
                        t = t[Ao(e[n++])];
                    return n && n == r ? t : void 0
                }
                function pr(t, e, n) {
                    var r = e(t);
                    return Da(t) ? r : me(r, n(t))
                }
                function dr(t) {
                    return null == t ? void 0 === t ? "[object Undefined]" : "[object Null]" : be && be in vt(t) ? function(t) {
                        var e = Et.call(t, be)
                          , n = t[be];
                        try {
                            t[be] = void 0;
                            var r = !0
                        } catch (t) {}
                        var i = Pt.call(t);
                        r && (e ? t[be] = n : delete t[be]);
                        return i
                    }(t) : function(t) {
                        return Pt.call(t)
                    }(t)
                }
                function mr(t, e) {
                    return t > e
                }
                function vr(t, e) {
                    return null != t && Et.call(t, e)
                }
                function gr(t, e) {
                    return null != t && e in vt(t)
                }
                function yr(t, e, n) {
                    for (var i = n ? pe : fe, o = t[0].length, a = t.length, s = a, u = r(a), c = 1 / 0, l = []; s--; ) {
                        var h = t[s];
                        s && e && (h = de(h, Re(e))),
                        c = un(h.length, c),
                        u[s] = !n && (e || o >= 120 && h.length >= 120) ? new zn(s && h) : void 0
                    }
                    h = t[0];
                    var f = -1
                      , p = u[0];
                    t: for (; ++f < o && l.length < c; ) {
                        var d = h[f]
                          , m = e ? e(d) : d;
                        if (d = n || 0 !== d ? d : 0,
                        !(p ? Ie(p, m) : i(l, m, n))) {
                            for (s = a; --s; ) {
                                var v = u[s];
                                if (!(v ? Ie(v, m) : i(t[s], m, n)))
                                    continue t
                            }
                            p && p.push(m),
                            l.push(d)
                        }
                    }
                    return l
                }
                function br(t, e, n) {
                    var r = null == (t = go(t, e = ui(e, t))) ? t : t[Ao(Bo(e))];
                    return null == r ? void 0 : ae(r, t, n)
                }
                function xr(t) {
                    return Wa(t) && dr(t) == c
                }
                function _r(t, e, n, r, i) {
                    return t === e || (null == t || null == e || !Wa(t) && !Wa(e) ? t != t && e != e : function(t, e, n, r, i, o) {
                        var a = Da(t)
                          , s = Da(e)
                          , u = a ? l : ro(t)
                          , d = s ? l : ro(e)
                          , m = (u = u == c ? y : u) == y
                          , M = (d = d == c ? y : d) == y
                          , T = u == d;
                        if (T && ja(t)) {
                            if (!ja(e))
                                return !1;
                            a = !0,
                            m = !1
                        }
                        if (T && !m)
                            return o || (o = new jn),
                            a || $a(t) ? Vi(t, e, n, r, i, o) : function(t, e, n, r, i, o, a) {
                                switch (n) {
                                case E:
                                    if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                                        return !1;
                                    t = t.buffer,
                                    e = e.buffer;
                                case S:
                                    return !(t.byteLength != e.byteLength || !o(new zt(t), new zt(e)));
                                case h:
                                case f:
                                case g:
                                    return Oa(+t, +e);
                                case p:
                                    return t.name == e.name && t.message == e.message;
                                case b:
                                case _:
                                    return t == e + "";
                                case v:
                                    var s = Ue;
                                case x:
                                    var u = 1 & r;
                                    if (s || (s = Ve),
                                    t.size != e.size && !u)
                                        return !1;
                                    var c = a.get(t);
                                    if (c)
                                        return c == e;
                                    r |= 2,
                                    a.set(t, e);
                                    var l = Vi(s(t), s(e), r, i, o, a);
                                    return a.delete(t),
                                    l;
                                case w:
                                    if (An)
                                        return An.call(t) == An.call(e)
                                }
                                return !1
                            }(t, e, u, n, r, i, o);
                        if (!(1 & n)) {
                            var A = m && Et.call(t, "__wrapped__")
                              , P = M && Et.call(e, "__wrapped__");
                            if (A || P) {
                                var L = A ? t.value() : t
                                  , O = P ? e.value() : e;
                                return o || (o = new jn),
                                i(L, O, n, r, o)
                            }
                        }
                        if (!T)
                            return !1;
                        return o || (o = new jn),
                        function(t, e, n, r, i, o) {
                            var a = 1 & n
                              , s = qi(t)
                              , u = s.length
                              , c = qi(e).length;
                            if (u != c && !a)
                                return !1;
                            var l = u;
                            for (; l--; ) {
                                var h = s[l];
                                if (!(a ? h in e : Et.call(e, h)))
                                    return !1
                            }
                            var f = o.get(t);
                            if (f && o.get(e))
                                return f == e;
                            var p = !0;
                            o.set(t, e),
                            o.set(e, t);
                            var d = a;
                            for (; ++l < u; ) {
                                h = s[l];
                                var m = t[h]
                                  , v = e[h];
                                if (r)
                                    var g = a ? r(v, m, h, e, t, o) : r(m, v, h, t, e, o);
                                if (!(void 0 === g ? m === v || i(m, v, n, r, o) : g)) {
                                    p = !1;
                                    break
                                }
                                d || (d = "constructor" == h)
                            }
                            if (p && !d) {
                                var y = t.constructor
                                  , b = e.constructor;
                                y != b && "constructor"in t && "constructor"in e && !("function" == typeof y && y instanceof y && "function" == typeof b && b instanceof b) && (p = !1)
                            }
                            return o.delete(t),
                            o.delete(e),
                            p
                        }(t, e, n, r, i, o)
                    }(t, e, n, r, _r, i))
                }
                function wr(t, e, n, r) {
                    var i = n.length
                      , o = i
                      , a = !r;
                    if (null == t)
                        return !o;
                    for (t = vt(t); i--; ) {
                        var s = n[i];
                        if (a && s[2] ? s[1] !== t[s[0]] : !(s[0]in t))
                            return !1
                    }
                    for (; ++i < o; ) {
                        var u = (s = n[i])[0]
                          , c = t[u]
                          , l = s[1];
                        if (a && s[2]) {
                            if (void 0 === c && !(u in t))
                                return !1
                        } else {
                            var h = new jn;
                            if (r)
                                var f = r(c, l, u, t, e, h);
                            if (!(void 0 === f ? _r(l, c, 3, r, h) : f))
                                return !1
                        }
                    }
                    return !0
                }
                function Mr(t) {
                    return !(!Va(t) || (e = t,
                    At && At in e)) && (Ua(t) ? Rt : st).test(Po(t));
                    var e
                }
                function Sr(t) {
                    return "function" == typeof t ? t : null == t ? Xs : "object" == o(t) ? Da(t) ? Or(t[0], t[1]) : Lr(t) : nu(t)
                }
                function Er(t) {
                    if (!fo(t))
                        return an(t);
                    var e = [];
                    for (var n in vt(t))
                        Et.call(t, n) && "constructor" != n && e.push(n);
                    return e
                }
                function Tr(t) {
                    if (!Va(t))
                        return function(t) {
                            var e = [];
                            if (null != t)
                                for (var n in vt(t))
                                    e.push(n);
                            return e
                        }(t);
                    var e = fo(t)
                      , n = [];
                    for (var r in t)
                        ("constructor" != r || !e && Et.call(t, r)) && n.push(r);
                    return n
                }
                function Ar(t, e) {
                    return t < e
                }
                function Pr(t, e) {
                    var n = -1
                      , i = Na(t) ? r(t.length) : [];
                    return er(t, (function(t, r, o) {
                        i[++n] = e(t, r, o)
                    }
                    )),
                    i
                }
                function Lr(t) {
                    var e = $i(t);
                    return 1 == e.length && e[0][2] ? mo(e[0][0], e[0][1]) : function(n) {
                        return n === t || wr(n, t, e)
                    }
                }
                function Or(t, e) {
                    return co(t) && po(e) ? mo(Ao(t), e) : function(n) {
                        var r = vs(n, t);
                        return void 0 === r && r === e ? gs(n, t) : _r(e, r, 3)
                    }
                }
                function Rr(t, e, n, r, i) {
                    t !== e && sr(e, (function(o, a) {
                        if (i || (i = new jn),
                        Va(o))
                            !function(t, e, n, r, i, o, a) {
                                var s = bo(t, n)
                                  , u = bo(e, n)
                                  , c = a.get(u);
                                if (c)
                                    return void Hn(t, n, c);
                                var l = o ? o(s, u, n + "", t, e, a) : void 0
                                  , h = void 0 === l;
                                if (h) {
                                    var f = Da(u)
                                      , p = !f && ja(u)
                                      , d = !f && !p && $a(u);
                                    l = u,
                                    f || p || d ? Da(s) ? l = s : za(s) ? l = yi(s) : p ? (h = !1,
                                    l = fi(u, !0)) : d ? (h = !1,
                                    l = di(u, !0)) : l = [] : Ya(u) || Ia(u) ? (l = s,
                                    Ia(s) ? l = ss(s) : Va(s) && !Ua(s) || (l = oo(u))) : h = !1
                                }
                                h && (a.set(u, l),
                                i(l, u, r, o, a),
                                a.delete(u));
                                Hn(t, n, l)
                            }(t, e, a, n, Rr, r, i);
                        else {
                            var s = r ? r(bo(t, a), o, a + "", t, e, i) : void 0;
                            void 0 === s && (s = o),
                            Hn(t, a, s)
                        }
                    }
                    ), ws)
                }
                function Cr(t, e) {
                    var n = t.length;
                    if (n)
                        return so(e += e < 0 ? n : 0, n) ? t[e] : void 0
                }
                function Ir(t, e, n) {
                    var r = -1;
                    return e = de(e.length ? e : [Xs], Re(Qi())),
                    function(t, e) {
                        var n = t.length;
                        for (t.sort(e); n--; )
                            t[n] = t[n].value;
                        return t
                    }(Pr(t, (function(t, n, i) {
                        return {
                            criteria: de(e, (function(e) {
                                return e(t)
                            }
                            )),
                            index: ++r,
                            value: t
                        }
                    }
                    )), (function(t, e) {
                        return function(t, e, n) {
                            var r = -1
                              , i = t.criteria
                              , o = e.criteria
                              , a = i.length
                              , s = n.length;
                            for (; ++r < a; ) {
                                var u = mi(i[r], o[r]);
                                if (u) {
                                    if (r >= s)
                                        return u;
                                    var c = n[r];
                                    return u * ("desc" == c ? -1 : 1)
                                }
                            }
                            return t.index - e.index
                        }(t, e, n)
                    }
                    ))
                }
                function Dr(t, e, n) {
                    for (var r = -1, i = e.length, o = {}; ++r < i; ) {
                        var a = e[r]
                          , s = fr(t, a);
                        n(s, a) && Gr(o, ui(a, t), s)
                    }
                    return o
                }
                function kr(t, e, n, r) {
                    var i = r ? Me : we
                      , o = -1
                      , a = e.length
                      , s = t;
                    for (t === e && (e = yi(e)),
                    n && (s = de(t, Re(n))); ++o < a; )
                        for (var u = 0, c = e[o], l = n ? n(c) : c; (u = i(s, l, u, r)) > -1; )
                            s !== t && Jt.call(s, u, 1),
                            Jt.call(t, u, 1);
                    return t
                }
                function Nr(t, e) {
                    for (var n = t ? e.length : 0, r = n - 1; n--; ) {
                        var i = e[n];
                        if (n == r || i !== o) {
                            var o = i;
                            so(i) ? Jt.call(t, i, 1) : ti(t, i)
                        }
                    }
                    return t
                }
                function zr(t, e) {
                    return t + tn(hn() * (e - t + 1))
                }
                function jr(t, e) {
                    var n = "";
                    if (!t || e < 1 || e > 9007199254740991)
                        return n;
                    do {
                        e % 2 && (n += t),
                        (e = tn(e / 2)) && (t += t)
                    } while (e);
                    return n
                }
                function Fr(t, e) {
                    return wo(vo(t, e, Xs), t + "")
                }
                function Br(t) {
                    return Bn(Os(t))
                }
                function Ur(t, e) {
                    var n = Os(t);
                    return Eo(n, Jn(e, 0, n.length))
                }
                function Gr(t, e, n, r) {
                    if (!Va(t))
                        return t;
                    for (var i = -1, o = (e = ui(e, t)).length, a = o - 1, s = t; null != s && ++i < o; ) {
                        var u = Ao(e[i])
                          , c = n;
                        if (i != a) {
                            var l = s[u];
                            void 0 === (c = r ? r(l, u, s) : void 0) && (c = Va(l) ? l : so(e[i + 1]) ? [] : {})
                        }
                        Vn(s, u, c),
                        s = s[u]
                    }
                    return t
                }
                var Hr = bn ? function(t, e) {
                    return bn.set(t, e),
                    t
                }
                : Xs
                  , Vr = Ae ? function(t, e) {
                    return Ae(t, "toString", {
                        configurable: !0,
                        enumerable: !1,
                        value: Vs(e),
                        writable: !0
                    })
                }
                : Xs;
                function Wr(t) {
                    return Eo(Os(t))
                }
                function qr(t, e, n) {
                    var i = -1
                      , o = t.length;
                    e < 0 && (e = -e > o ? 0 : o + e),
                    (n = n > o ? o : n) < 0 && (n += o),
                    o = e > n ? 0 : n - e >>> 0,
                    e >>>= 0;
                    for (var a = r(o); ++i < o; )
                        a[i] = t[i + e];
                    return a
                }
                function Xr(t, e) {
                    var n;
                    return er(t, (function(t, r, i) {
                        return !(n = e(t, r, i))
                    }
                    )),
                    !!n
                }
                function Yr(t, e, n) {
                    var r = 0
                      , i = null == t ? r : t.length;
                    if ("number" == typeof e && e == e && i <= 2147483647) {
                        for (; r < i; ) {
                            var o = r + i >>> 1
                              , a = t[o];
                            null !== a && !Ka(a) && (n ? a <= e : a < e) ? r = o + 1 : i = o
                        }
                        return i
                    }
                    return Zr(t, e, Xs, n)
                }
                function Zr(t, e, n, r) {
                    e = n(e);
                    for (var i = 0, o = null == t ? 0 : t.length, a = e != e, s = null === e, u = Ka(e), c = void 0 === e; i < o; ) {
                        var l = tn((i + o) / 2)
                          , h = n(t[l])
                          , f = void 0 !== h
                          , p = null === h
                          , d = h == h
                          , m = Ka(h);
                        if (a)
                            var v = r || d;
                        else
                            v = c ? d && (r || f) : s ? d && f && (r || !p) : u ? d && f && !p && (r || !m) : !p && !m && (r ? h <= e : h < e);
                        v ? i = l + 1 : o = l
                    }
                    return un(o, 4294967294)
                }
                function Jr(t, e) {
                    for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
                        var a = t[n]
                          , s = e ? e(a) : a;
                        if (!n || !Oa(s, u)) {
                            var u = s;
                            o[i++] = 0 === a ? 0 : a
                        }
                    }
                    return o
                }
                function Qr(t) {
                    return "number" == typeof t ? t : Ka(t) ? NaN : +t
                }
                function Kr(t) {
                    if ("string" == typeof t)
                        return t;
                    if (Da(t))
                        return de(t, Kr) + "";
                    if (Ka(t))
                        return Pn ? Pn.call(t) : "";
                    var e = t + "";
                    return "0" == e && 1 / t == -1 / 0 ? "-0" : e
                }
                function $r(t, e, n) {
                    var r = -1
                      , i = fe
                      , o = t.length
                      , a = !0
                      , s = []
                      , u = s;
                    if (n)
                        a = !1,
                        i = pe;
                    else if (o >= 200) {
                        var c = e ? null : ji(t);
                        if (c)
                            return Ve(c);
                        a = !1,
                        i = Ie,
                        u = new zn
                    } else
                        u = e ? [] : s;
                    t: for (; ++r < o; ) {
                        var l = t[r]
                          , h = e ? e(l) : l;
                        if (l = n || 0 !== l ? l : 0,
                        a && h == h) {
                            for (var f = u.length; f--; )
                                if (u[f] === h)
                                    continue t;
                            e && u.push(h),
                            s.push(l)
                        } else
                            i(u, h, n) || (u !== s && u.push(h),
                            s.push(l))
                    }
                    return s
                }
                function ti(t, e) {
                    return null == (t = go(t, e = ui(e, t))) || delete t[Ao(Bo(e))]
                }
                function ei(t, e, n, r) {
                    return Gr(t, e, n(fr(t, e)), r)
                }
                function ni(t, e, n, r) {
                    for (var i = t.length, o = r ? i : -1; (r ? o-- : ++o < i) && e(t[o], o, t); )
                        ;
                    return n ? qr(t, r ? 0 : o, r ? o + 1 : i) : qr(t, r ? o + 1 : 0, r ? i : o)
                }
                function ri(t, e) {
                    var n = t;
                    return n instanceof In && (n = n.value()),
                    ve(e, (function(t, e) {
                        return e.func.apply(e.thisArg, me([t], e.args))
                    }
                    ), n)
                }
                function ii(t, e, n) {
                    var i = t.length;
                    if (i < 2)
                        return i ? $r(t[0]) : [];
                    for (var o = -1, a = r(i); ++o < i; )
                        for (var s = t[o], u = -1; ++u < i; )
                            u != o && (a[o] = tr(a[o] || s, t[u], e, n));
                    return $r(ar(a, 1), e, n)
                }
                function oi(t, e, n) {
                    for (var r = -1, i = t.length, o = e.length, a = {}; ++r < i; ) {
                        var s = r < o ? e[r] : void 0;
                        n(a, t[r], s)
                    }
                    return a
                }
                function ai(t) {
                    return za(t) ? t : []
                }
                function si(t) {
                    return "function" == typeof t ? t : Xs
                }
                function ui(t, e) {
                    return Da(t) ? t : co(t, e) ? [t] : To(us(t))
                }
                var ci = Fr;
                function li(t, e, n) {
                    var r = t.length;
                    return n = void 0 === n ? r : n,
                    !e && n >= r ? t : qr(t, e, n)
                }
                var hi = Je || function(t) {
                    return Yt.clearTimeout(t)
                }
                ;
                function fi(t, e) {
                    if (e)
                        return t.slice();
                    var n = t.length
                      , r = Ht ? Ht(n) : new t.constructor(n);
                    return t.copy(r),
                    r
                }
                function pi(t) {
                    var e = new t.constructor(t.byteLength);
                    return new zt(e).set(new zt(t)),
                    e
                }
                function di(t, e) {
                    var n = e ? pi(t.buffer) : t.buffer;
                    return new t.constructor(n,t.byteOffset,t.length)
                }
                function mi(t, e) {
                    if (t !== e) {
                        var n = void 0 !== t
                          , r = null === t
                          , i = t == t
                          , o = Ka(t)
                          , a = void 0 !== e
                          , s = null === e
                          , u = e == e
                          , c = Ka(e);
                        if (!s && !c && !o && t > e || o && a && u && !s && !c || r && a && u || !n && u || !i)
                            return 1;
                        if (!r && !o && !c && t < e || c && n && i && !r && !o || s && n && i || !a && i || !u)
                            return -1
                    }
                    return 0
                }
                function vi(t, e, n, i) {
                    for (var o = -1, a = t.length, s = n.length, u = -1, c = e.length, l = sn(a - s, 0), h = r(c + l), f = !i; ++u < c; )
                        h[u] = e[u];
                    for (; ++o < s; )
                        (f || o < a) && (h[n[o]] = t[o]);
                    for (; l--; )
                        h[u++] = t[o++];
                    return h
                }
                function gi(t, e, n, i) {
                    for (var o = -1, a = t.length, s = -1, u = n.length, c = -1, l = e.length, h = sn(a - u, 0), f = r(h + l), p = !i; ++o < h; )
                        f[o] = t[o];
                    for (var d = o; ++c < l; )
                        f[d + c] = e[c];
                    for (; ++s < u; )
                        (p || o < a) && (f[d + n[s]] = t[o++]);
                    return f
                }
                function yi(t, e) {
                    var n = -1
                      , i = t.length;
                    for (e || (e = r(i)); ++n < i; )
                        e[n] = t[n];
                    return e
                }
                function bi(t, e, n, r) {
                    var i = !n;
                    n || (n = {});
                    for (var o = -1, a = e.length; ++o < a; ) {
                        var s = e[o]
                          , u = r ? r(n[s], t[s], s, n, t) : void 0;
                        void 0 === u && (u = t[s]),
                        i ? Yn(n, s, u) : Vn(n, s, u)
                    }
                    return n
                }
                function xi(t, e) {
                    return function(n, r) {
                        var i = Da(n) ? se : qn
                          , o = e ? e() : {};
                        return i(n, t, Qi(r, 2), o)
                    }
                }
                function _i(t) {
                    return Fr((function(e, n) {
                        var r = -1
                          , i = n.length
                          , o = i > 1 ? n[i - 1] : void 0
                          , a = i > 2 ? n[2] : void 0;
                        for (o = t.length > 3 && "function" == typeof o ? (i--,
                        o) : void 0,
                        a && uo(n[0], n[1], a) && (o = i < 3 ? void 0 : o,
                        i = 1),
                        e = vt(e); ++r < i; ) {
                            var s = n[r];
                            s && t(e, s, r, o)
                        }
                        return e
                    }
                    ))
                }
                function wi(t, e) {
                    return function(n, r) {
                        if (null == n)
                            return n;
                        if (!Na(n))
                            return t(n, r);
                        for (var i = n.length, o = e ? i : -1, a = vt(n); (e ? o-- : ++o < i) && !1 !== r(a[o], o, a); )
                            ;
                        return n
                    }
                }
                function Mi(t) {
                    return function(e, n, r) {
                        for (var i = -1, o = vt(e), a = r(e), s = a.length; s--; ) {
                            var u = a[t ? s : ++i];
                            if (!1 === n(o[u], u, o))
                                break
                        }
                        return e
                    }
                }
                function Si(t) {
                    return function(e) {
                        var n = Be(e = us(e)) ? Xe(e) : void 0
                          , r = n ? n[0] : e.charAt(0)
                          , i = n ? li(n, 1).join("") : e.slice(1);
                        return r[t]() + i
                    }
                }
                function Ei(t) {
                    return function(e) {
                        return ve(Us(Is(e).replace(It, "")), t, "")
                    }
                }
                function Ti(t) {
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                        case 0:
                            return new t;
                        case 1:
                            return new t(e[0]);
                        case 2:
                            return new t(e[0],e[1]);
                        case 3:
                            return new t(e[0],e[1],e[2]);
                        case 4:
                            return new t(e[0],e[1],e[2],e[3]);
                        case 5:
                            return new t(e[0],e[1],e[2],e[3],e[4]);
                        case 6:
                            return new t(e[0],e[1],e[2],e[3],e[4],e[5]);
                        case 7:
                            return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])
                        }
                        var n = On(t.prototype)
                          , r = t.apply(n, e);
                        return Va(r) ? r : n
                    }
                }
                function Ai(t) {
                    return function(e, n, r) {
                        var i = vt(e);
                        if (!Na(e)) {
                            var o = Qi(n, 3);
                            e = _s(e),
                            n = function(t) {
                                return o(i[t], t, i)
                            }
                        }
                        var a = t(e, n, r);
                        return a > -1 ? i[o ? e[a] : a] : void 0
                    }
                }
                function Pi(t) {
                    return Wi((function(e) {
                        var n = e.length
                          , r = n
                          , i = Cn.prototype.thru;
                        for (t && e.reverse(); r--; ) {
                            var o = e[r];
                            if ("function" != typeof o)
                                throw new bt(a);
                            if (i && !s && "wrapper" == Zi(o))
                                var s = new Cn([],!0)
                        }
                        for (r = s ? r : n; ++r < n; ) {
                            var u = Zi(o = e[r])
                              , c = "wrapper" == u ? Yi(o) : void 0;
                            s = c && lo(c[0]) && 424 == c[1] && !c[4].length && 1 == c[9] ? s[Zi(c[0])].apply(s, c[3]) : 1 == o.length && lo(o) ? s[u]() : s.thru(o)
                        }
                        return function() {
                            var t = arguments
                              , r = t[0];
                            if (s && 1 == t.length && Da(r))
                                return s.plant(r).value();
                            for (var i = 0, o = n ? e[i].apply(this, t) : r; ++i < n; )
                                o = e[i].call(this, o);
                            return o
                        }
                    }
                    ))
                }
                function Li(t, e, n, i, o, a, s, u, c, l) {
                    var h = 128 & e
                      , f = 1 & e
                      , p = 2 & e
                      , d = 24 & e
                      , m = 512 & e
                      , v = p ? void 0 : Ti(t);
                    return function g() {
                        for (var y = arguments.length, b = r(y), x = y; x--; )
                            b[x] = arguments[x];
                        if (d)
                            var _ = Ji(g)
                              , w = Ne(b, _);
                        if (i && (b = vi(b, i, o, d)),
                        a && (b = gi(b, a, s, d)),
                        y -= w,
                        d && y < l) {
                            var M = He(b, _);
                            return Ni(t, e, Li, g.placeholder, n, b, M, u, c, l - y)
                        }
                        var S = f ? n : this
                          , E = p ? S[t] : t;
                        return y = b.length,
                        u ? b = yo(b, u) : m && y > 1 && b.reverse(),
                        h && c < y && (b.length = c),
                        this && this !== Yt && this instanceof g && (E = v || Ti(E)),
                        E.apply(S, b)
                    }
                }
                function Oi(t, e) {
                    return function(n, r) {
                        return function(t, e, n, r) {
                            return cr(t, (function(t, i, o) {
                                e(r, n(t), i, o)
                            }
                            )),
                            r
                        }(n, t, e(r), {})
                    }
                }
                function Ri(t, e) {
                    return function(n, r) {
                        var i;
                        if (void 0 === n && void 0 === r)
                            return e;
                        if (void 0 !== n && (i = n),
                        void 0 !== r) {
                            if (void 0 === i)
                                return r;
                            "string" == typeof n || "string" == typeof r ? (n = Kr(n),
                            r = Kr(r)) : (n = Qr(n),
                            r = Qr(r)),
                            i = t(n, r)
                        }
                        return i
                    }
                }
                function Ci(t) {
                    return Wi((function(e) {
                        return e = de(e, Re(Qi())),
                        Fr((function(n) {
                            var r = this;
                            return t(e, (function(t) {
                                return ae(t, r, n)
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                function Ii(t, e) {
                    var n = (e = void 0 === e ? " " : Kr(e)).length;
                    if (n < 2)
                        return n ? jr(e, t) : e;
                    var r = jr(e, $e(t / qe(e)));
                    return Be(e) ? li(Xe(r), 0, t).join("") : r.slice(0, t)
                }
                function Di(t) {
                    return function(e, n, i) {
                        return i && "number" != typeof i && uo(e, n, i) && (n = i = void 0),
                        e = rs(e),
                        void 0 === n ? (n = e,
                        e = 0) : n = rs(n),
                        function(t, e, n, i) {
                            for (var o = -1, a = sn($e((e - t) / (n || 1)), 0), s = r(a); a--; )
                                s[i ? a : ++o] = t,
                                t += n;
                            return s
                        }(e, n, i = void 0 === i ? e < n ? 1 : -1 : rs(i), t)
                    }
                }
                function ki(t) {
                    return function(e, n) {
                        return "string" == typeof e && "string" == typeof n || (e = as(e),
                        n = as(n)),
                        t(e, n)
                    }
                }
                function Ni(t, e, n, r, i, o, a, s, u, c) {
                    var l = 8 & e;
                    e |= l ? 32 : 64,
                    4 & (e &= ~(l ? 64 : 32)) || (e &= -4);
                    var h = [t, e, i, l ? o : void 0, l ? a : void 0, l ? void 0 : o, l ? void 0 : a, s, u, c]
                      , f = n.apply(void 0, h);
                    return lo(t) && xo(f, h),
                    f.placeholder = r,
                    Mo(f, t, e)
                }
                function zi(t) {
                    var e = mt[t];
                    return function(t, n) {
                        if (t = as(t),
                        (n = null == n ? 0 : un(is(n), 292)) && rn(t)) {
                            var r = (us(t) + "e").split("e");
                            return +((r = (us(e(r[0] + "e" + (+r[1] + n))) + "e").split("e"))[0] + "e" + (+r[1] - n))
                        }
                        return e(t)
                    }
                }
                var ji = vn && 1 / Ve(new vn([, -0]))[1] == 1 / 0 ? function(t) {
                    return new vn(t)
                }
                : Ks;
                function Fi(t) {
                    return function(e) {
                        var n = ro(e);
                        return n == v ? Ue(e) : n == x ? We(e) : function(t, e) {
                            return de(e, (function(e) {
                                return [e, t[e]]
                            }
                            ))
                        }(e, t(e))
                    }
                }
                function Bi(t, e, n, i, o, u, c, l) {
                    var h = 2 & e;
                    if (!h && "function" != typeof t)
                        throw new bt(a);
                    var f = i ? i.length : 0;
                    if (f || (e &= -97,
                    i = o = void 0),
                    c = void 0 === c ? c : sn(is(c), 0),
                    l = void 0 === l ? l : is(l),
                    f -= o ? o.length : 0,
                    64 & e) {
                        var p = i
                          , d = o;
                        i = o = void 0
                    }
                    var m = h ? void 0 : Yi(t)
                      , v = [t, e, n, i, o, p, d, u, c, l];
                    if (m && function(t, e) {
                        var n = t[1]
                          , r = e[1]
                          , i = n | r
                          , o = i < 131
                          , a = 128 == r && 8 == n || 128 == r && 256 == n && t[7].length <= e[8] || 384 == r && e[7].length <= e[8] && 8 == n;
                        if (!o && !a)
                            return t;
                        1 & r && (t[2] = e[2],
                        i |= 1 & n ? 0 : 4);
                        var u = e[3];
                        if (u) {
                            var c = t[3];
                            t[3] = c ? vi(c, u, e[4]) : u,
                            t[4] = c ? He(t[3], s) : e[4]
                        }
                        (u = e[5]) && (c = t[5],
                        t[5] = c ? gi(c, u, e[6]) : u,
                        t[6] = c ? He(t[5], s) : e[6]);
                        (u = e[7]) && (t[7] = u);
                        128 & r && (t[8] = null == t[8] ? e[8] : un(t[8], e[8]));
                        null == t[9] && (t[9] = e[9]);
                        t[0] = e[0],
                        t[1] = i
                    }(v, m),
                    t = v[0],
                    e = v[1],
                    n = v[2],
                    i = v[3],
                    o = v[4],
                    !(l = v[9] = void 0 === v[9] ? h ? 0 : t.length : sn(v[9] - f, 0)) && 24 & e && (e &= -25),
                    e && 1 != e)
                        g = 8 == e || 16 == e ? function(t, e, n) {
                            var i = Ti(t);
                            return function o() {
                                for (var a = arguments.length, s = r(a), u = a, c = Ji(o); u--; )
                                    s[u] = arguments[u];
                                var l = a < 3 && s[0] !== c && s[a - 1] !== c ? [] : He(s, c);
                                if ((a -= l.length) < n)
                                    return Ni(t, e, Li, o.placeholder, void 0, s, l, void 0, void 0, n - a);
                                var h = this && this !== Yt && this instanceof o ? i : t;
                                return ae(h, this, s)
                            }
                        }(t, e, l) : 32 != e && 33 != e || o.length ? Li.apply(void 0, v) : function(t, e, n, i) {
                            var o = 1 & e
                              , a = Ti(t);
                            return function e() {
                                for (var s = -1, u = arguments.length, c = -1, l = i.length, h = r(l + u), f = this && this !== Yt && this instanceof e ? a : t; ++c < l; )
                                    h[c] = i[c];
                                for (; u--; )
                                    h[c++] = arguments[++s];
                                return ae(f, o ? n : this, h)
                            }
                        }(t, e, n, i);
                    else
                        var g = function(t, e, n) {
                            var r = 1 & e
                              , i = Ti(t);
                            return function e() {
                                var o = this && this !== Yt && this instanceof e ? i : t;
                                return o.apply(r ? n : this, arguments)
                            }
                        }(t, e, n);
                    return Mo((m ? Hr : xo)(g, v), t, e)
                }
                function Ui(t, e, n, r) {
                    return void 0 === t || Oa(t, wt[n]) && !Et.call(r, n) ? e : t
                }
                function Gi(t, e, n, r, i, o) {
                    return Va(t) && Va(e) && (o.set(e, t),
                    Rr(t, e, void 0, Gi, o),
                    o.delete(e)),
                    t
                }
                function Hi(t) {
                    return Ya(t) ? void 0 : t
                }
                function Vi(t, e, n, r, i, o) {
                    var a = 1 & n
                      , s = t.length
                      , u = e.length;
                    if (s != u && !(a && u > s))
                        return !1;
                    var c = o.get(t);
                    if (c && o.get(e))
                        return c == e;
                    var l = -1
                      , h = !0
                      , f = 2 & n ? new zn : void 0;
                    for (o.set(t, e),
                    o.set(e, t); ++l < s; ) {
                        var p = t[l]
                          , d = e[l];
                        if (r)
                            var m = a ? r(d, p, l, e, t, o) : r(p, d, l, t, e, o);
                        if (void 0 !== m) {
                            if (m)
                                continue;
                            h = !1;
                            break
                        }
                        if (f) {
                            if (!ye(e, (function(t, e) {
                                if (!Ie(f, e) && (p === t || i(p, t, n, r, o)))
                                    return f.push(e)
                            }
                            ))) {
                                h = !1;
                                break
                            }
                        } else if (p !== d && !i(p, d, n, r, o)) {
                            h = !1;
                            break
                        }
                    }
                    return o.delete(t),
                    o.delete(e),
                    h
                }
                function Wi(t) {
                    return wo(vo(t, void 0, ko), t + "")
                }
                function qi(t) {
                    return pr(t, _s, eo)
                }
                function Xi(t) {
                    return pr(t, ws, no)
                }
                var Yi = bn ? function(t) {
                    return bn.get(t)
                }
                : Ks;
                function Zi(t) {
                    for (var e = t.name + "", n = xn[e], r = Et.call(xn, e) ? n.length : 0; r--; ) {
                        var i = n[r]
                          , o = i.func;
                        if (null == o || o == t)
                            return i.name
                    }
                    return e
                }
                function Ji(t) {
                    return (Et.call(Ln, "placeholder") ? Ln : t).placeholder
                }
                function Qi() {
                    var t = Ln.iteratee || Ys;
                    return t = t === Ys ? Sr : t,
                    arguments.length ? t(arguments[0], arguments[1]) : t
                }
                function Ki(t, e) {
                    var n, r, i = t.__data__;
                    return ("string" == (r = o(n = e)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== n : null === n) ? i["string" == typeof e ? "string" : "hash"] : i.map
                }
                function $i(t) {
                    for (var e = _s(t), n = e.length; n--; ) {
                        var r = e[n]
                          , i = t[r];
                        e[n] = [r, i, po(i)]
                    }
                    return e
                }
                function to(t, e) {
                    var n = function(t, e) {
                        return null == t ? void 0 : t[e]
                    }(t, e);
                    return Mr(n) ? n : void 0
                }
                var eo = en ? function(t) {
                    return null == t ? [] : (t = vt(t),
                    he(en(t), (function(e) {
                        return Zt.call(t, e)
                    }
                    )))
                }
                : ou
                  , no = en ? function(t) {
                    for (var e = []; t; )
                        me(e, eo(t)),
                        t = qt(t);
                    return e
                }
                : ou
                  , ro = dr;
                function io(t, e, n) {
                    for (var r = -1, i = (e = ui(e, t)).length, o = !1; ++r < i; ) {
                        var a = Ao(e[r]);
                        if (!(o = null != t && n(t, a)))
                            break;
                        t = t[a]
                    }
                    return o || ++r != i ? o : !!(i = null == t ? 0 : t.length) && Ha(i) && so(a, i) && (Da(t) || Ia(t))
                }
                function oo(t) {
                    return "function" != typeof t.constructor || fo(t) ? {} : On(qt(t))
                }
                function ao(t) {
                    return Da(t) || Ia(t) || !!(Kt && t && t[Kt])
                }
                function so(t, e) {
                    var n = o(t);
                    return !!(e = null == e ? 9007199254740991 : e) && ("number" == n || "symbol" != n && ct.test(t)) && t > -1 && t % 1 == 0 && t < e
                }
                function uo(t, e, n) {
                    if (!Va(n))
                        return !1;
                    var r = o(e);
                    return !!("number" == r ? Na(n) && so(e, n.length) : "string" == r && e in n) && Oa(n[e], t)
                }
                function co(t, e) {
                    if (Da(t))
                        return !1;
                    var n = o(t);
                    return !("number" != n && "symbol" != n && "boolean" != n && null != t && !Ka(t)) || (W.test(t) || !V.test(t) || null != e && t in vt(e))
                }
                function lo(t) {
                    var e = Zi(t)
                      , n = Ln[e];
                    if ("function" != typeof n || !(e in In.prototype))
                        return !1;
                    if (t === n)
                        return !0;
                    var r = Yi(n);
                    return !!r && t === r[0]
                }
                (pn && ro(new pn(new ArrayBuffer(1))) != E || dn && ro(new dn) != v || mn && "[object Promise]" != ro(mn.resolve()) || vn && ro(new vn) != x || gn && ro(new gn) != M) && (ro = function(t) {
                    var e = dr(t)
                      , n = e == y ? t.constructor : void 0
                      , r = n ? Po(n) : "";
                    if (r)
                        switch (r) {
                        case _n:
                            return E;
                        case wn:
                            return v;
                        case Mn:
                            return "[object Promise]";
                        case Sn:
                            return x;
                        case En:
                            return M
                        }
                    return e
                }
                );
                var ho = Mt ? Ua : au;
                function fo(t) {
                    var e = t && t.constructor;
                    return t === ("function" == typeof e && e.prototype || wt)
                }
                function po(t) {
                    return t == t && !Va(t)
                }
                function mo(t, e) {
                    return function(n) {
                        return null != n && (n[t] === e && (void 0 !== e || t in vt(n)))
                    }
                }
                function vo(t, e, n) {
                    return e = sn(void 0 === e ? t.length - 1 : e, 0),
                    function() {
                        for (var i = arguments, o = -1, a = sn(i.length - e, 0), s = r(a); ++o < a; )
                            s[o] = i[e + o];
                        o = -1;
                        for (var u = r(e + 1); ++o < e; )
                            u[o] = i[o];
                        return u[e] = n(s),
                        ae(t, this, u)
                    }
                }
                function go(t, e) {
                    return e.length < 2 ? t : fr(t, qr(e, 0, -1))
                }
                function yo(t, e) {
                    for (var n = t.length, r = un(e.length, n), i = yi(t); r--; ) {
                        var o = e[r];
                        t[r] = so(o, n) ? i[o] : void 0
                    }
                    return t
                }
                function bo(t, e) {
                    if (("constructor" !== e || "function" != typeof t[e]) && "__proto__" != e)
                        return t[e]
                }
                var xo = So(Hr)
                  , _o = Ke || function(t, e) {
                    return Yt.setTimeout(t, e)
                }
                  , wo = So(Vr);
                function Mo(t, e, n) {
                    var r = e + "";
                    return wo(t, function(t, e) {
                        var n = e.length;
                        if (!n)
                            return t;
                        var r = n - 1;
                        return e[r] = (n > 1 ? "& " : "") + e[r],
                        e = e.join(n > 2 ? ", " : " "),
                        t.replace(K, "{\n/* [wrapped with " + e + "] */\n")
                    }(r, function(t, e) {
                        return ue(u, (function(n) {
                            var r = "_." + n[0];
                            e & n[1] && !fe(t, r) && t.push(r)
                        }
                        )),
                        t.sort()
                    }(function(t) {
                        var e = t.match($);
                        return e ? e[1].split(tt) : []
                    }(r), n)))
                }
                function So(t) {
                    var e = 0
                      , n = 0;
                    return function() {
                        var r = cn()
                          , i = 16 - (r - n);
                        if (n = r,
                        i > 0) {
                            if (++e >= 800)
                                return arguments[0]
                        } else
                            e = 0;
                        return t.apply(void 0, arguments)
                    }
                }
                function Eo(t, e) {
                    var n = -1
                      , r = t.length
                      , i = r - 1;
                    for (e = void 0 === e ? r : e; ++n < e; ) {
                        var o = zr(n, i)
                          , a = t[o];
                        t[o] = t[n],
                        t[n] = a
                    }
                    return t.length = e,
                    t
                }
                var To = function(t) {
                    var e = Sa(t, (function(t) {
                        return 500 === n.size && n.clear(),
                        t
                    }
                    ))
                      , n = e.cache;
                    return e
                }((function(t) {
                    var e = [];
                    return 46 === t.charCodeAt(0) && e.push(""),
                    t.replace(q, (function(t, n, r, i) {
                        e.push(r ? i.replace(nt, "$1") : n || t)
                    }
                    )),
                    e
                }
                ));
                function Ao(t) {
                    if ("string" == typeof t || Ka(t))
                        return t;
                    var e = t + "";
                    return "0" == e && 1 / t == -1 / 0 ? "-0" : e
                }
                function Po(t) {
                    if (null != t) {
                        try {
                            return St.call(t)
                        } catch (t) {}
                        try {
                            return t + ""
                        } catch (t) {}
                    }
                    return ""
                }
                function Lo(t) {
                    if (t instanceof In)
                        return t.clone();
                    var e = new Cn(t.__wrapped__,t.__chain__);
                    return e.__actions__ = yi(t.__actions__),
                    e.__index__ = t.__index__,
                    e.__values__ = t.__values__,
                    e
                }
                var Oo = Fr((function(t, e) {
                    return za(t) ? tr(t, ar(e, 1, za, !0)) : []
                }
                ))
                  , Ro = Fr((function(t, e) {
                    var n = Bo(e);
                    return za(n) && (n = void 0),
                    za(t) ? tr(t, ar(e, 1, za, !0), Qi(n, 2)) : []
                }
                ))
                  , Co = Fr((function(t, e) {
                    var n = Bo(e);
                    return za(n) && (n = void 0),
                    za(t) ? tr(t, ar(e, 1, za, !0), void 0, n) : []
                }
                ));
                function Io(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = null == n ? 0 : is(n);
                    return i < 0 && (i = sn(r + i, 0)),
                    _e(t, Qi(e, 3), i)
                }
                function Do(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = r - 1;
                    return void 0 !== n && (i = is(n),
                    i = n < 0 ? sn(r + i, 0) : un(i, r - 1)),
                    _e(t, Qi(e, 3), i, !0)
                }
                function ko(t) {
                    return (null == t ? 0 : t.length) ? ar(t, 1) : []
                }
                function No(t) {
                    return t && t.length ? t[0] : void 0
                }
                var zo = Fr((function(t) {
                    var e = de(t, ai);
                    return e.length && e[0] === t[0] ? yr(e) : []
                }
                ))
                  , jo = Fr((function(t) {
                    var e = Bo(t)
                      , n = de(t, ai);
                    return e === Bo(n) ? e = void 0 : n.pop(),
                    n.length && n[0] === t[0] ? yr(n, Qi(e, 2)) : []
                }
                ))
                  , Fo = Fr((function(t) {
                    var e = Bo(t)
                      , n = de(t, ai);
                    return (e = "function" == typeof e ? e : void 0) && n.pop(),
                    n.length && n[0] === t[0] ? yr(n, void 0, e) : []
                }
                ));
                function Bo(t) {
                    var e = null == t ? 0 : t.length;
                    return e ? t[e - 1] : void 0
                }
                var Uo = Fr(Go);
                function Go(t, e) {
                    return t && t.length && e && e.length ? kr(t, e) : t
                }
                var Ho = Wi((function(t, e) {
                    var n = null == t ? 0 : t.length
                      , r = Zn(t, e);
                    return Nr(t, de(e, (function(t) {
                        return so(t, n) ? +t : t
                    }
                    )).sort(mi)),
                    r
                }
                ));
                function Vo(t) {
                    return null == t ? t : fn.call(t)
                }
                var Wo = Fr((function(t) {
                    return $r(ar(t, 1, za, !0))
                }
                ))
                  , qo = Fr((function(t) {
                    var e = Bo(t);
                    return za(e) && (e = void 0),
                    $r(ar(t, 1, za, !0), Qi(e, 2))
                }
                ))
                  , Xo = Fr((function(t) {
                    var e = Bo(t);
                    return e = "function" == typeof e ? e : void 0,
                    $r(ar(t, 1, za, !0), void 0, e)
                }
                ));
                function Yo(t) {
                    if (!t || !t.length)
                        return [];
                    var e = 0;
                    return t = he(t, (function(t) {
                        if (za(t))
                            return e = sn(t.length, e),
                            !0
                    }
                    )),
                    Oe(e, (function(e) {
                        return de(t, Te(e))
                    }
                    ))
                }
                function Zo(t, e) {
                    if (!t || !t.length)
                        return [];
                    var n = Yo(t);
                    return null == e ? n : de(n, (function(t) {
                        return ae(e, void 0, t)
                    }
                    ))
                }
                var Jo = Fr((function(t, e) {
                    return za(t) ? tr(t, e) : []
                }
                ))
                  , Qo = Fr((function(t) {
                    return ii(he(t, za))
                }
                ))
                  , Ko = Fr((function(t) {
                    var e = Bo(t);
                    return za(e) && (e = void 0),
                    ii(he(t, za), Qi(e, 2))
                }
                ))
                  , $o = Fr((function(t) {
                    var e = Bo(t);
                    return e = "function" == typeof e ? e : void 0,
                    ii(he(t, za), void 0, e)
                }
                ))
                  , ta = Fr(Yo);
                var ea = Fr((function(t) {
                    var e = t.length
                      , n = e > 1 ? t[e - 1] : void 0;
                    return n = "function" == typeof n ? (t.pop(),
                    n) : void 0,
                    Zo(t, n)
                }
                ));
                function na(t) {
                    var e = Ln(t);
                    return e.__chain__ = !0,
                    e
                }
                function ra(t, e) {
                    return e(t)
                }
                var ia = Wi((function(t) {
                    var e = t.length
                      , n = e ? t[0] : 0
                      , r = this.__wrapped__
                      , i = function(e) {
                        return Zn(e, t)
                    };
                    return !(e > 1 || this.__actions__.length) && r instanceof In && so(n) ? ((r = r.slice(n, +n + (e ? 1 : 0))).__actions__.push({
                        func: ra,
                        args: [i],
                        thisArg: void 0
                    }),
                    new Cn(r,this.__chain__).thru((function(t) {
                        return e && !t.length && t.push(void 0),
                        t
                    }
                    ))) : this.thru(i)
                }
                ));
                var oa = xi((function(t, e, n) {
                    Et.call(t, n) ? ++t[n] : Yn(t, n, 1)
                }
                ));
                var aa = Ai(Io)
                  , sa = Ai(Do);
                function ua(t, e) {
                    return (Da(t) ? ue : er)(t, Qi(e, 3))
                }
                function ca(t, e) {
                    return (Da(t) ? ce : nr)(t, Qi(e, 3))
                }
                var la = xi((function(t, e, n) {
                    Et.call(t, n) ? t[n].push(e) : Yn(t, n, [e])
                }
                ));
                var ha = Fr((function(t, e, n) {
                    var i = -1
                      , o = "function" == typeof e
                      , a = Na(t) ? r(t.length) : [];
                    return er(t, (function(t) {
                        a[++i] = o ? ae(e, t, n) : br(t, e, n)
                    }
                    )),
                    a
                }
                ))
                  , fa = xi((function(t, e, n) {
                    Yn(t, n, e)
                }
                ));
                function pa(t, e) {
                    return (Da(t) ? de : Pr)(t, Qi(e, 3))
                }
                var da = xi((function(t, e, n) {
                    t[n ? 0 : 1].push(e)
                }
                ), (function() {
                    return [[], []]
                }
                ));
                var ma = Fr((function(t, e) {
                    if (null == t)
                        return [];
                    var n = e.length;
                    return n > 1 && uo(t, e[0], e[1]) ? e = [] : n > 2 && uo(e[0], e[1], e[2]) && (e = [e[0]]),
                    Ir(t, ar(e, 1), [])
                }
                ))
                  , va = Qe || function() {
                    return Yt.Date.now()
                }
                ;
                function ga(t, e, n) {
                    return e = n ? void 0 : e,
                    Bi(t, 128, void 0, void 0, void 0, void 0, e = t && null == e ? t.length : e)
                }
                function ya(t, e) {
                    var n;
                    if ("function" != typeof e)
                        throw new bt(a);
                    return t = is(t),
                    function() {
                        return --t > 0 && (n = e.apply(this, arguments)),
                        t <= 1 && (e = void 0),
                        n
                    }
                }
                var ba = Fr((function(t, e, n) {
                    var r = 1;
                    if (n.length) {
                        var i = He(n, Ji(ba));
                        r |= 32
                    }
                    return Bi(t, r, e, n, i)
                }
                ))
                  , xa = Fr((function(t, e, n) {
                    var r = 3;
                    if (n.length) {
                        var i = He(n, Ji(xa));
                        r |= 32
                    }
                    return Bi(e, r, t, n, i)
                }
                ));
                function _a(t, e, n) {
                    var r, i, o, s, u, c, l = 0, h = !1, f = !1, p = !0;
                    if ("function" != typeof t)
                        throw new bt(a);
                    function d(e) {
                        var n = r
                          , o = i;
                        return r = i = void 0,
                        l = e,
                        s = t.apply(o, n)
                    }
                    function m(t) {
                        return l = t,
                        u = _o(g, e),
                        h ? d(t) : s
                    }
                    function v(t) {
                        var n = t - c;
                        return void 0 === c || n >= e || n < 0 || f && t - l >= o
                    }
                    function g() {
                        var t = va();
                        if (v(t))
                            return y(t);
                        u = _o(g, function(t) {
                            var n = e - (t - c);
                            return f ? un(n, o - (t - l)) : n
                        }(t))
                    }
                    function y(t) {
                        return u = void 0,
                        p && r ? d(t) : (r = i = void 0,
                        s)
                    }
                    function b() {
                        var t = va()
                          , n = v(t);
                        if (r = arguments,
                        i = this,
                        c = t,
                        n) {
                            if (void 0 === u)
                                return m(c);
                            if (f)
                                return hi(u),
                                u = _o(g, e),
                                d(c)
                        }
                        return void 0 === u && (u = _o(g, e)),
                        s
                    }
                    return e = as(e) || 0,
                    Va(n) && (h = !!n.leading,
                    o = (f = "maxWait"in n) ? sn(as(n.maxWait) || 0, e) : o,
                    p = "trailing"in n ? !!n.trailing : p),
                    b.cancel = function() {
                        void 0 !== u && hi(u),
                        l = 0,
                        r = c = i = u = void 0
                    }
                    ,
                    b.flush = function() {
                        return void 0 === u ? s : y(va())
                    }
                    ,
                    b
                }
                var wa = Fr((function(t, e) {
                    return $n(t, 1, e)
                }
                ))
                  , Ma = Fr((function(t, e, n) {
                    return $n(t, as(e) || 0, n)
                }
                ));
                function Sa(t, e) {
                    if ("function" != typeof t || null != e && "function" != typeof e)
                        throw new bt(a);
                    var n = function n() {
                        var r = arguments
                          , i = e ? e.apply(this, r) : r[0]
                          , o = n.cache;
                        if (o.has(i))
                            return o.get(i);
                        var a = t.apply(this, r);
                        return n.cache = o.set(i, a) || o,
                        a
                    };
                    return n.cache = new (Sa.Cache || Nn),
                    n
                }
                function Ea(t) {
                    if ("function" != typeof t)
                        throw new bt(a);
                    return function() {
                        var e = arguments;
                        switch (e.length) {
                        case 0:
                            return !t.call(this);
                        case 1:
                            return !t.call(this, e[0]);
                        case 2:
                            return !t.call(this, e[0], e[1]);
                        case 3:
                            return !t.call(this, e[0], e[1], e[2])
                        }
                        return !t.apply(this, e)
                    }
                }
                Sa.Cache = Nn;
                var Ta = ci((function(t, e) {
                    var n = (e = 1 == e.length && Da(e[0]) ? de(e[0], Re(Qi())) : de(ar(e, 1), Re(Qi()))).length;
                    return Fr((function(r) {
                        for (var i = -1, o = un(r.length, n); ++i < o; )
                            r[i] = e[i].call(this, r[i]);
                        return ae(t, this, r)
                    }
                    ))
                }
                ))
                  , Aa = Fr((function(t, e) {
                    return Bi(t, 32, void 0, e, He(e, Ji(Aa)))
                }
                ))
                  , Pa = Fr((function(t, e) {
                    return Bi(t, 64, void 0, e, He(e, Ji(Pa)))
                }
                ))
                  , La = Wi((function(t, e) {
                    return Bi(t, 256, void 0, void 0, void 0, e)
                }
                ));
                function Oa(t, e) {
                    return t === e || t != t && e != e
                }
                var Ra = ki(mr)
                  , Ca = ki((function(t, e) {
                    return t >= e
                }
                ))
                  , Ia = xr(function() {
                    return arguments
                }()) ? xr : function(t) {
                    return Wa(t) && Et.call(t, "callee") && !Zt.call(t, "callee")
                }
                  , Da = r.isArray
                  , ka = te ? Re(te) : function(t) {
                    return Wa(t) && dr(t) == S
                }
                ;
                function Na(t) {
                    return null != t && Ha(t.length) && !Ua(t)
                }
                function za(t) {
                    return Wa(t) && Na(t)
                }
                var ja = nn || au
                  , Fa = ee ? Re(ee) : function(t) {
                    return Wa(t) && dr(t) == f
                }
                ;
                function Ba(t) {
                    if (!Wa(t))
                        return !1;
                    var e = dr(t);
                    return e == p || "[object DOMException]" == e || "string" == typeof t.message && "string" == typeof t.name && !Ya(t)
                }
                function Ua(t) {
                    if (!Va(t))
                        return !1;
                    var e = dr(t);
                    return e == d || e == m || "[object AsyncFunction]" == e || "[object Proxy]" == e
                }
                function Ga(t) {
                    return "number" == typeof t && t == is(t)
                }
                function Ha(t) {
                    return "number" == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991
                }
                function Va(t) {
                    var e = o(t);
                    return null != t && ("object" == e || "function" == e)
                }
                function Wa(t) {
                    return null != t && "object" == o(t)
                }
                var qa = ne ? Re(ne) : function(t) {
                    return Wa(t) && ro(t) == v
                }
                ;
                function Xa(t) {
                    return "number" == typeof t || Wa(t) && dr(t) == g
                }
                function Ya(t) {
                    if (!Wa(t) || dr(t) != y)
                        return !1;
                    var e = qt(t);
                    if (null === e)
                        return !0;
                    var n = Et.call(e, "constructor") && e.constructor;
                    return "function" == typeof n && n instanceof n && St.call(n) == Lt
                }
                var Za = re ? Re(re) : function(t) {
                    return Wa(t) && dr(t) == b
                }
                ;
                var Ja = ie ? Re(ie) : function(t) {
                    return Wa(t) && ro(t) == x
                }
                ;
                function Qa(t) {
                    return "string" == typeof t || !Da(t) && Wa(t) && dr(t) == _
                }
                function Ka(t) {
                    return "symbol" == o(t) || Wa(t) && dr(t) == w
                }
                var $a = oe ? Re(oe) : function(t) {
                    return Wa(t) && Ha(t.length) && !!Ut[dr(t)]
                }
                ;
                var ts = ki(Ar)
                  , es = ki((function(t, e) {
                    return t <= e
                }
                ));
                function ns(t) {
                    if (!t)
                        return [];
                    if (Na(t))
                        return Qa(t) ? Xe(t) : yi(t);
                    if ($t && t[$t])
                        return function(t) {
                            for (var e, n = []; !(e = t.next()).done; )
                                n.push(e.value);
                            return n
                        }(t[$t]());
                    var e = ro(t);
                    return (e == v ? Ue : e == x ? Ve : Os)(t)
                }
                function rs(t) {
                    return t ? (t = as(t)) === 1 / 0 || t === -1 / 0 ? 17976931348623157e292 * (t < 0 ? -1 : 1) : t == t ? t : 0 : 0 === t ? t : 0
                }
                function is(t) {
                    var e = rs(t)
                      , n = e % 1;
                    return e == e ? n ? e - n : e : 0
                }
                function os(t) {
                    return t ? Jn(is(t), 0, 4294967295) : 0
                }
                function as(t) {
                    if ("number" == typeof t)
                        return t;
                    if (Ka(t))
                        return NaN;
                    if (Va(t)) {
                        var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                        t = Va(e) ? e + "" : e
                    }
                    if ("string" != typeof t)
                        return 0 === t ? t : +t;
                    t = t.replace(Z, "");
                    var n = at.test(t);
                    return n || ut.test(t) ? Wt(t.slice(2), n ? 2 : 8) : ot.test(t) ? NaN : +t
                }
                function ss(t) {
                    return bi(t, ws(t))
                }
                function us(t) {
                    return null == t ? "" : Kr(t)
                }
                var cs = _i((function(t, e) {
                    if (fo(e) || Na(e))
                        bi(e, _s(e), t);
                    else
                        for (var n in e)
                            Et.call(e, n) && Vn(t, n, e[n])
                }
                ))
                  , ls = _i((function(t, e) {
                    bi(e, ws(e), t)
                }
                ))
                  , hs = _i((function(t, e, n, r) {
                    bi(e, ws(e), t, r)
                }
                ))
                  , fs = _i((function(t, e, n, r) {
                    bi(e, _s(e), t, r)
                }
                ))
                  , ps = Wi(Zn);
                var ds = Fr((function(t, e) {
                    t = vt(t);
                    var n = -1
                      , r = e.length
                      , i = r > 2 ? e[2] : void 0;
                    for (i && uo(e[0], e[1], i) && (r = 1); ++n < r; )
                        for (var o = e[n], a = ws(o), s = -1, u = a.length; ++s < u; ) {
                            var c = a[s]
                              , l = t[c];
                            (void 0 === l || Oa(l, wt[c]) && !Et.call(t, c)) && (t[c] = o[c])
                        }
                    return t
                }
                ))
                  , ms = Fr((function(t) {
                    return t.push(void 0, Gi),
                    ae(Ss, void 0, t)
                }
                ));
                function vs(t, e, n) {
                    var r = null == t ? void 0 : fr(t, e);
                    return void 0 === r ? n : r
                }
                function gs(t, e) {
                    return null != t && io(t, e, gr)
                }
                var ys = Oi((function(t, e, n) {
                    null != e && "function" != typeof e.toString && (e = Pt.call(e)),
                    t[e] = n
                }
                ), Vs(Xs))
                  , bs = Oi((function(t, e, n) {
                    null != e && "function" != typeof e.toString && (e = Pt.call(e)),
                    Et.call(t, e) ? t[e].push(n) : t[e] = [n]
                }
                ), Qi)
                  , xs = Fr(br);
                function _s(t) {
                    return Na(t) ? Fn(t) : Er(t)
                }
                function ws(t) {
                    return Na(t) ? Fn(t, !0) : Tr(t)
                }
                var Ms = _i((function(t, e, n) {
                    Rr(t, e, n)
                }
                ))
                  , Ss = _i((function(t, e, n, r) {
                    Rr(t, e, n, r)
                }
                ))
                  , Es = Wi((function(t, e) {
                    var n = {};
                    if (null == t)
                        return n;
                    var r = !1;
                    e = de(e, (function(e) {
                        return e = ui(e, t),
                        r || (r = e.length > 1),
                        e
                    }
                    )),
                    bi(t, Xi(t), n),
                    r && (n = Qn(n, 7, Hi));
                    for (var i = e.length; i--; )
                        ti(n, e[i]);
                    return n
                }
                ));
                var Ts = Wi((function(t, e) {
                    return null == t ? {} : function(t, e) {
                        return Dr(t, e, (function(e, n) {
                            return gs(t, n)
                        }
                        ))
                    }(t, e)
                }
                ));
                function As(t, e) {
                    if (null == t)
                        return {};
                    var n = de(Xi(t), (function(t) {
                        return [t]
                    }
                    ));
                    return e = Qi(e),
                    Dr(t, n, (function(t, n) {
                        return e(t, n[0])
                    }
                    ))
                }
                var Ps = Fi(_s)
                  , Ls = Fi(ws);
                function Os(t) {
                    return null == t ? [] : Ce(t, _s(t))
                }
                var Rs = Ei((function(t, e, n) {
                    return e = e.toLowerCase(),
                    t + (n ? Cs(e) : e)
                }
                ));
                function Cs(t) {
                    return Bs(us(t).toLowerCase())
                }
                function Is(t) {
                    return (t = us(t)) && t.replace(lt, ze).replace(Dt, "")
                }
                var Ds = Ei((function(t, e, n) {
                    return t + (n ? "-" : "") + e.toLowerCase()
                }
                ))
                  , ks = Ei((function(t, e, n) {
                    return t + (n ? " " : "") + e.toLowerCase()
                }
                ))
                  , Ns = Si("toLowerCase");
                var zs = Ei((function(t, e, n) {
                    return t + (n ? "_" : "") + e.toLowerCase()
                }
                ));
                var js = Ei((function(t, e, n) {
                    return t + (n ? " " : "") + Bs(e)
                }
                ));
                var Fs = Ei((function(t, e, n) {
                    return t + (n ? " " : "") + e.toUpperCase()
                }
                ))
                  , Bs = Si("toUpperCase");
                function Us(t, e, n) {
                    return t = us(t),
                    void 0 === (e = n ? void 0 : e) ? function(t) {
                        return jt.test(t)
                    }(t) ? function(t) {
                        return t.match(Nt) || []
                    }(t) : function(t) {
                        return t.match(et) || []
                    }(t) : t.match(e) || []
                }
                var Gs = Fr((function(t, e) {
                    try {
                        return ae(t, void 0, e)
                    } catch (t) {
                        return Ba(t) ? t : new pt(t)
                    }
                }
                ))
                  , Hs = Wi((function(t, e) {
                    return ue(e, (function(e) {
                        e = Ao(e),
                        Yn(t, e, ba(t[e], t))
                    }
                    )),
                    t
                }
                ));
                function Vs(t) {
                    return function() {
                        return t
                    }
                }
                var Ws = Pi()
                  , qs = Pi(!0);
                function Xs(t) {
                    return t
                }
                function Ys(t) {
                    return Sr("function" == typeof t ? t : Qn(t, 1))
                }
                var Zs = Fr((function(t, e) {
                    return function(n) {
                        return br(n, t, e)
                    }
                }
                ))
                  , Js = Fr((function(t, e) {
                    return function(n) {
                        return br(t, n, e)
                    }
                }
                ));
                function Qs(t, e, n) {
                    var r = _s(e)
                      , i = hr(e, r);
                    null != n || Va(e) && (i.length || !r.length) || (n = e,
                    e = t,
                    t = this,
                    i = hr(e, _s(e)));
                    var o = !(Va(n) && "chain"in n && !n.chain)
                      , a = Ua(t);
                    return ue(i, (function(n) {
                        var r = e[n];
                        t[n] = r,
                        a && (t.prototype[n] = function() {
                            var e = this.__chain__;
                            if (o || e) {
                                var n = t(this.__wrapped__)
                                  , i = n.__actions__ = yi(this.__actions__);
                                return i.push({
                                    func: r,
                                    args: arguments,
                                    thisArg: t
                                }),
                                n.__chain__ = e,
                                n
                            }
                            return r.apply(t, me([this.value()], arguments))
                        }
                        )
                    }
                    )),
                    t
                }
                function Ks() {}
                var $s = Ci(de)
                  , tu = Ci(le)
                  , eu = Ci(ye);
                function nu(t) {
                    return co(t) ? Te(Ao(t)) : function(t) {
                        return function(e) {
                            return fr(e, t)
                        }
                    }(t)
                }
                var ru = Di()
                  , iu = Di(!0);
                function ou() {
                    return []
                }
                function au() {
                    return !1
                }
                var su = Ri((function(t, e) {
                    return t + e
                }
                ), 0)
                  , uu = zi("ceil")
                  , cu = Ri((function(t, e) {
                    return t / e
                }
                ), 1)
                  , lu = zi("floor");
                var hu, fu = Ri((function(t, e) {
                    return t * e
                }
                ), 1), pu = zi("round"), du = Ri((function(t, e) {
                    return t - e
                }
                ), 0);
                return Ln.after = function(t, e) {
                    if ("function" != typeof e)
                        throw new bt(a);
                    return t = is(t),
                    function() {
                        if (--t < 1)
                            return e.apply(this, arguments)
                    }
                }
                ,
                Ln.ary = ga,
                Ln.assign = cs,
                Ln.assignIn = ls,
                Ln.assignInWith = hs,
                Ln.assignWith = fs,
                Ln.at = ps,
                Ln.before = ya,
                Ln.bind = ba,
                Ln.bindAll = Hs,
                Ln.bindKey = xa,
                Ln.castArray = function() {
                    if (!arguments.length)
                        return [];
                    var t = arguments[0];
                    return Da(t) ? t : [t]
                }
                ,
                Ln.chain = na,
                Ln.chunk = function(t, e, n) {
                    e = (n ? uo(t, e, n) : void 0 === e) ? 1 : sn(is(e), 0);
                    var i = null == t ? 0 : t.length;
                    if (!i || e < 1)
                        return [];
                    for (var o = 0, a = 0, s = r($e(i / e)); o < i; )
                        s[a++] = qr(t, o, o += e);
                    return s
                }
                ,
                Ln.compact = function(t) {
                    for (var e = -1, n = null == t ? 0 : t.length, r = 0, i = []; ++e < n; ) {
                        var o = t[e];
                        o && (i[r++] = o)
                    }
                    return i
                }
                ,
                Ln.concat = function() {
                    var t = arguments.length;
                    if (!t)
                        return [];
                    for (var e = r(t - 1), n = arguments[0], i = t; i--; )
                        e[i - 1] = arguments[i];
                    return me(Da(n) ? yi(n) : [n], ar(e, 1))
                }
                ,
                Ln.cond = function(t) {
                    var e = null == t ? 0 : t.length
                      , n = Qi();
                    return t = e ? de(t, (function(t) {
                        if ("function" != typeof t[1])
                            throw new bt(a);
                        return [n(t[0]), t[1]]
                    }
                    )) : [],
                    Fr((function(n) {
                        for (var r = -1; ++r < e; ) {
                            var i = t[r];
                            if (ae(i[0], this, n))
                                return ae(i[1], this, n)
                        }
                    }
                    ))
                }
                ,
                Ln.conforms = function(t) {
                    return function(t) {
                        var e = _s(t);
                        return function(n) {
                            return Kn(n, t, e)
                        }
                    }(Qn(t, 1))
                }
                ,
                Ln.constant = Vs,
                Ln.countBy = oa,
                Ln.create = function(t, e) {
                    var n = On(t);
                    return null == e ? n : Xn(n, e)
                }
                ,
                Ln.curry = function t(e, n, r) {
                    var i = Bi(e, 8, void 0, void 0, void 0, void 0, void 0, n = r ? void 0 : n);
                    return i.placeholder = t.placeholder,
                    i
                }
                ,
                Ln.curryRight = function t(e, n, r) {
                    var i = Bi(e, 16, void 0, void 0, void 0, void 0, void 0, n = r ? void 0 : n);
                    return i.placeholder = t.placeholder,
                    i
                }
                ,
                Ln.debounce = _a,
                Ln.defaults = ds,
                Ln.defaultsDeep = ms,
                Ln.defer = wa,
                Ln.delay = Ma,
                Ln.difference = Oo,
                Ln.differenceBy = Ro,
                Ln.differenceWith = Co,
                Ln.drop = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? qr(t, (e = n || void 0 === e ? 1 : is(e)) < 0 ? 0 : e, r) : []
                }
                ,
                Ln.dropRight = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? qr(t, 0, (e = r - (e = n || void 0 === e ? 1 : is(e))) < 0 ? 0 : e) : []
                }
                ,
                Ln.dropRightWhile = function(t, e) {
                    return t && t.length ? ni(t, Qi(e, 3), !0, !0) : []
                }
                ,
                Ln.dropWhile = function(t, e) {
                    return t && t.length ? ni(t, Qi(e, 3), !0) : []
                }
                ,
                Ln.fill = function(t, e, n, r) {
                    var i = null == t ? 0 : t.length;
                    return i ? (n && "number" != typeof n && uo(t, e, n) && (n = 0,
                    r = i),
                    function(t, e, n, r) {
                        var i = t.length;
                        for ((n = is(n)) < 0 && (n = -n > i ? 0 : i + n),
                        (r = void 0 === r || r > i ? i : is(r)) < 0 && (r += i),
                        r = n > r ? 0 : os(r); n < r; )
                            t[n++] = e;
                        return t
                    }(t, e, n, r)) : []
                }
                ,
                Ln.filter = function(t, e) {
                    return (Da(t) ? he : or)(t, Qi(e, 3))
                }
                ,
                Ln.flatMap = function(t, e) {
                    return ar(pa(t, e), 1)
                }
                ,
                Ln.flatMapDeep = function(t, e) {
                    return ar(pa(t, e), 1 / 0)
                }
                ,
                Ln.flatMapDepth = function(t, e, n) {
                    return n = void 0 === n ? 1 : is(n),
                    ar(pa(t, e), n)
                }
                ,
                Ln.flatten = ko,
                Ln.flattenDeep = function(t) {
                    return (null == t ? 0 : t.length) ? ar(t, 1 / 0) : []
                }
                ,
                Ln.flattenDepth = function(t, e) {
                    return (null == t ? 0 : t.length) ? ar(t, e = void 0 === e ? 1 : is(e)) : []
                }
                ,
                Ln.flip = function(t) {
                    return Bi(t, 512)
                }
                ,
                Ln.flow = Ws,
                Ln.flowRight = qs,
                Ln.fromPairs = function(t) {
                    for (var e = -1, n = null == t ? 0 : t.length, r = {}; ++e < n; ) {
                        var i = t[e];
                        r[i[0]] = i[1]
                    }
                    return r
                }
                ,
                Ln.functions = function(t) {
                    return null == t ? [] : hr(t, _s(t))
                }
                ,
                Ln.functionsIn = function(t) {
                    return null == t ? [] : hr(t, ws(t))
                }
                ,
                Ln.groupBy = la,
                Ln.initial = function(t) {
                    return (null == t ? 0 : t.length) ? qr(t, 0, -1) : []
                }
                ,
                Ln.intersection = zo,
                Ln.intersectionBy = jo,
                Ln.intersectionWith = Fo,
                Ln.invert = ys,
                Ln.invertBy = bs,
                Ln.invokeMap = ha,
                Ln.iteratee = Ys,
                Ln.keyBy = fa,
                Ln.keys = _s,
                Ln.keysIn = ws,
                Ln.map = pa,
                Ln.mapKeys = function(t, e) {
                    var n = {};
                    return e = Qi(e, 3),
                    cr(t, (function(t, r, i) {
                        Yn(n, e(t, r, i), t)
                    }
                    )),
                    n
                }
                ,
                Ln.mapValues = function(t, e) {
                    var n = {};
                    return e = Qi(e, 3),
                    cr(t, (function(t, r, i) {
                        Yn(n, r, e(t, r, i))
                    }
                    )),
                    n
                }
                ,
                Ln.matches = function(t) {
                    return Lr(Qn(t, 1))
                }
                ,
                Ln.matchesProperty = function(t, e) {
                    return Or(t, Qn(e, 1))
                }
                ,
                Ln.memoize = Sa,
                Ln.merge = Ms,
                Ln.mergeWith = Ss,
                Ln.method = Zs,
                Ln.methodOf = Js,
                Ln.mixin = Qs,
                Ln.negate = Ea,
                Ln.nthArg = function(t) {
                    return t = is(t),
                    Fr((function(e) {
                        return Cr(e, t)
                    }
                    ))
                }
                ,
                Ln.omit = Es,
                Ln.omitBy = function(t, e) {
                    return As(t, Ea(Qi(e)))
                }
                ,
                Ln.once = function(t) {
                    return ya(2, t)
                }
                ,
                Ln.orderBy = function(t, e, n, r) {
                    return null == t ? [] : (Da(e) || (e = null == e ? [] : [e]),
                    Da(n = r ? void 0 : n) || (n = null == n ? [] : [n]),
                    Ir(t, e, n))
                }
                ,
                Ln.over = $s,
                Ln.overArgs = Ta,
                Ln.overEvery = tu,
                Ln.overSome = eu,
                Ln.partial = Aa,
                Ln.partialRight = Pa,
                Ln.partition = da,
                Ln.pick = Ts,
                Ln.pickBy = As,
                Ln.property = nu,
                Ln.propertyOf = function(t) {
                    return function(e) {
                        return null == t ? void 0 : fr(t, e)
                    }
                }
                ,
                Ln.pull = Uo,
                Ln.pullAll = Go,
                Ln.pullAllBy = function(t, e, n) {
                    return t && t.length && e && e.length ? kr(t, e, Qi(n, 2)) : t
                }
                ,
                Ln.pullAllWith = function(t, e, n) {
                    return t && t.length && e && e.length ? kr(t, e, void 0, n) : t
                }
                ,
                Ln.pullAt = Ho,
                Ln.range = ru,
                Ln.rangeRight = iu,
                Ln.rearg = La,
                Ln.reject = function(t, e) {
                    return (Da(t) ? he : or)(t, Ea(Qi(e, 3)))
                }
                ,
                Ln.remove = function(t, e) {
                    var n = [];
                    if (!t || !t.length)
                        return n;
                    var r = -1
                      , i = []
                      , o = t.length;
                    for (e = Qi(e, 3); ++r < o; ) {
                        var a = t[r];
                        e(a, r, t) && (n.push(a),
                        i.push(r))
                    }
                    return Nr(t, i),
                    n
                }
                ,
                Ln.rest = function(t, e) {
                    if ("function" != typeof t)
                        throw new bt(a);
                    return Fr(t, e = void 0 === e ? e : is(e))
                }
                ,
                Ln.reverse = Vo,
                Ln.sampleSize = function(t, e, n) {
                    return e = (n ? uo(t, e, n) : void 0 === e) ? 1 : is(e),
                    (Da(t) ? Un : Ur)(t, e)
                }
                ,
                Ln.set = function(t, e, n) {
                    return null == t ? t : Gr(t, e, n)
                }
                ,
                Ln.setWith = function(t, e, n, r) {
                    return r = "function" == typeof r ? r : void 0,
                    null == t ? t : Gr(t, e, n, r)
                }
                ,
                Ln.shuffle = function(t) {
                    return (Da(t) ? Gn : Wr)(t)
                }
                ,
                Ln.slice = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? (n && "number" != typeof n && uo(t, e, n) ? (e = 0,
                    n = r) : (e = null == e ? 0 : is(e),
                    n = void 0 === n ? r : is(n)),
                    qr(t, e, n)) : []
                }
                ,
                Ln.sortBy = ma,
                Ln.sortedUniq = function(t) {
                    return t && t.length ? Jr(t) : []
                }
                ,
                Ln.sortedUniqBy = function(t, e) {
                    return t && t.length ? Jr(t, Qi(e, 2)) : []
                }
                ,
                Ln.split = function(t, e, n) {
                    return n && "number" != typeof n && uo(t, e, n) && (e = n = void 0),
                    (n = void 0 === n ? 4294967295 : n >>> 0) ? (t = us(t)) && ("string" == typeof e || null != e && !Za(e)) && !(e = Kr(e)) && Be(t) ? li(Xe(t), 0, n) : t.split(e, n) : []
                }
                ,
                Ln.spread = function(t, e) {
                    if ("function" != typeof t)
                        throw new bt(a);
                    return e = null == e ? 0 : sn(is(e), 0),
                    Fr((function(n) {
                        var r = n[e]
                          , i = li(n, 0, e);
                        return r && me(i, r),
                        ae(t, this, i)
                    }
                    ))
                }
                ,
                Ln.tail = function(t) {
                    var e = null == t ? 0 : t.length;
                    return e ? qr(t, 1, e) : []
                }
                ,
                Ln.take = function(t, e, n) {
                    return t && t.length ? qr(t, 0, (e = n || void 0 === e ? 1 : is(e)) < 0 ? 0 : e) : []
                }
                ,
                Ln.takeRight = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    return r ? qr(t, (e = r - (e = n || void 0 === e ? 1 : is(e))) < 0 ? 0 : e, r) : []
                }
                ,
                Ln.takeRightWhile = function(t, e) {
                    return t && t.length ? ni(t, Qi(e, 3), !1, !0) : []
                }
                ,
                Ln.takeWhile = function(t, e) {
                    return t && t.length ? ni(t, Qi(e, 3)) : []
                }
                ,
                Ln.tap = function(t, e) {
                    return e(t),
                    t
                }
                ,
                Ln.throttle = function(t, e, n) {
                    var r = !0
                      , i = !0;
                    if ("function" != typeof t)
                        throw new bt(a);
                    return Va(n) && (r = "leading"in n ? !!n.leading : r,
                    i = "trailing"in n ? !!n.trailing : i),
                    _a(t, e, {
                        leading: r,
                        maxWait: e,
                        trailing: i
                    })
                }
                ,
                Ln.thru = ra,
                Ln.toArray = ns,
                Ln.toPairs = Ps,
                Ln.toPairsIn = Ls,
                Ln.toPath = function(t) {
                    return Da(t) ? de(t, Ao) : Ka(t) ? [t] : yi(To(us(t)))
                }
                ,
                Ln.toPlainObject = ss,
                Ln.transform = function(t, e, n) {
                    var r = Da(t)
                      , i = r || ja(t) || $a(t);
                    if (e = Qi(e, 4),
                    null == n) {
                        var o = t && t.constructor;
                        n = i ? r ? new o : [] : Va(t) && Ua(o) ? On(qt(t)) : {}
                    }
                    return (i ? ue : cr)(t, (function(t, r, i) {
                        return e(n, t, r, i)
                    }
                    )),
                    n
                }
                ,
                Ln.unary = function(t) {
                    return ga(t, 1)
                }
                ,
                Ln.union = Wo,
                Ln.unionBy = qo,
                Ln.unionWith = Xo,
                Ln.uniq = function(t) {
                    return t && t.length ? $r(t) : []
                }
                ,
                Ln.uniqBy = function(t, e) {
                    return t && t.length ? $r(t, Qi(e, 2)) : []
                }
                ,
                Ln.uniqWith = function(t, e) {
                    return e = "function" == typeof e ? e : void 0,
                    t && t.length ? $r(t, void 0, e) : []
                }
                ,
                Ln.unset = function(t, e) {
                    return null == t || ti(t, e)
                }
                ,
                Ln.unzip = Yo,
                Ln.unzipWith = Zo,
                Ln.update = function(t, e, n) {
                    return null == t ? t : ei(t, e, si(n))
                }
                ,
                Ln.updateWith = function(t, e, n, r) {
                    return r = "function" == typeof r ? r : void 0,
                    null == t ? t : ei(t, e, si(n), r)
                }
                ,
                Ln.values = Os,
                Ln.valuesIn = function(t) {
                    return null == t ? [] : Ce(t, ws(t))
                }
                ,
                Ln.without = Jo,
                Ln.words = Us,
                Ln.wrap = function(t, e) {
                    return Aa(si(e), t)
                }
                ,
                Ln.xor = Qo,
                Ln.xorBy = Ko,
                Ln.xorWith = $o,
                Ln.zip = ta,
                Ln.zipObject = function(t, e) {
                    return oi(t || [], e || [], Vn)
                }
                ,
                Ln.zipObjectDeep = function(t, e) {
                    return oi(t || [], e || [], Gr)
                }
                ,
                Ln.zipWith = ea,
                Ln.entries = Ps,
                Ln.entriesIn = Ls,
                Ln.extend = ls,
                Ln.extendWith = hs,
                Qs(Ln, Ln),
                Ln.add = su,
                Ln.attempt = Gs,
                Ln.camelCase = Rs,
                Ln.capitalize = Cs,
                Ln.ceil = uu,
                Ln.clamp = function(t, e, n) {
                    return void 0 === n && (n = e,
                    e = void 0),
                    void 0 !== n && (n = (n = as(n)) == n ? n : 0),
                    void 0 !== e && (e = (e = as(e)) == e ? e : 0),
                    Jn(as(t), e, n)
                }
                ,
                Ln.clone = function(t) {
                    return Qn(t, 4)
                }
                ,
                Ln.cloneDeep = function(t) {
                    return Qn(t, 5)
                }
                ,
                Ln.cloneDeepWith = function(t, e) {
                    return Qn(t, 5, e = "function" == typeof e ? e : void 0)
                }
                ,
                Ln.cloneWith = function(t, e) {
                    return Qn(t, 4, e = "function" == typeof e ? e : void 0)
                }
                ,
                Ln.conformsTo = function(t, e) {
                    return null == e || Kn(t, e, _s(e))
                }
                ,
                Ln.deburr = Is,
                Ln.defaultTo = function(t, e) {
                    return null == t || t != t ? e : t
                }
                ,
                Ln.divide = cu,
                Ln.endsWith = function(t, e, n) {
                    t = us(t),
                    e = Kr(e);
                    var r = t.length
                      , i = n = void 0 === n ? r : Jn(is(n), 0, r);
                    return (n -= e.length) >= 0 && t.slice(n, i) == e
                }
                ,
                Ln.eq = Oa,
                Ln.escape = function(t) {
                    return (t = us(t)) && B.test(t) ? t.replace(j, je) : t
                }
                ,
                Ln.escapeRegExp = function(t) {
                    return (t = us(t)) && Y.test(t) ? t.replace(X, "\\$&") : t
                }
                ,
                Ln.every = function(t, e, n) {
                    var r = Da(t) ? le : rr;
                    return n && uo(t, e, n) && (e = void 0),
                    r(t, Qi(e, 3))
                }
                ,
                Ln.find = aa,
                Ln.findIndex = Io,
                Ln.findKey = function(t, e) {
                    return xe(t, Qi(e, 3), cr)
                }
                ,
                Ln.findLast = sa,
                Ln.findLastIndex = Do,
                Ln.findLastKey = function(t, e) {
                    return xe(t, Qi(e, 3), lr)
                }
                ,
                Ln.floor = lu,
                Ln.forEach = ua,
                Ln.forEachRight = ca,
                Ln.forIn = function(t, e) {
                    return null == t ? t : sr(t, Qi(e, 3), ws)
                }
                ,
                Ln.forInRight = function(t, e) {
                    return null == t ? t : ur(t, Qi(e, 3), ws)
                }
                ,
                Ln.forOwn = function(t, e) {
                    return t && cr(t, Qi(e, 3))
                }
                ,
                Ln.forOwnRight = function(t, e) {
                    return t && lr(t, Qi(e, 3))
                }
                ,
                Ln.get = vs,
                Ln.gt = Ra,
                Ln.gte = Ca,
                Ln.has = function(t, e) {
                    return null != t && io(t, e, vr)
                }
                ,
                Ln.hasIn = gs,
                Ln.head = No,
                Ln.identity = Xs,
                Ln.includes = function(t, e, n, r) {
                    t = Na(t) ? t : Os(t),
                    n = n && !r ? is(n) : 0;
                    var i = t.length;
                    return n < 0 && (n = sn(i + n, 0)),
                    Qa(t) ? n <= i && t.indexOf(e, n) > -1 : !!i && we(t, e, n) > -1
                }
                ,
                Ln.indexOf = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = null == n ? 0 : is(n);
                    return i < 0 && (i = sn(r + i, 0)),
                    we(t, e, i)
                }
                ,
                Ln.inRange = function(t, e, n) {
                    return e = rs(e),
                    void 0 === n ? (n = e,
                    e = 0) : n = rs(n),
                    function(t, e, n) {
                        return t >= un(e, n) && t < sn(e, n)
                    }(t = as(t), e, n)
                }
                ,
                Ln.invoke = xs,
                Ln.isArguments = Ia,
                Ln.isArray = Da,
                Ln.isArrayBuffer = ka,
                Ln.isArrayLike = Na,
                Ln.isArrayLikeObject = za,
                Ln.isBoolean = function(t) {
                    return !0 === t || !1 === t || Wa(t) && dr(t) == h
                }
                ,
                Ln.isBuffer = ja,
                Ln.isDate = Fa,
                Ln.isElement = function(t) {
                    return Wa(t) && 1 === t.nodeType && !Ya(t)
                }
                ,
                Ln.isEmpty = function(t) {
                    if (null == t)
                        return !0;
                    if (Na(t) && (Da(t) || "string" == typeof t || "function" == typeof t.splice || ja(t) || $a(t) || Ia(t)))
                        return !t.length;
                    var e = ro(t);
                    if (e == v || e == x)
                        return !t.size;
                    if (fo(t))
                        return !Er(t).length;
                    for (var n in t)
                        if (Et.call(t, n))
                            return !1;
                    return !0
                }
                ,
                Ln.isEqual = function(t, e) {
                    return _r(t, e)
                }
                ,
                Ln.isEqualWith = function(t, e, n) {
                    var r = (n = "function" == typeof n ? n : void 0) ? n(t, e) : void 0;
                    return void 0 === r ? _r(t, e, void 0, n) : !!r
                }
                ,
                Ln.isError = Ba,
                Ln.isFinite = function(t) {
                    return "number" == typeof t && rn(t)
                }
                ,
                Ln.isFunction = Ua,
                Ln.isInteger = Ga,
                Ln.isLength = Ha,
                Ln.isMap = qa,
                Ln.isMatch = function(t, e) {
                    return t === e || wr(t, e, $i(e))
                }
                ,
                Ln.isMatchWith = function(t, e, n) {
                    return n = "function" == typeof n ? n : void 0,
                    wr(t, e, $i(e), n)
                }
                ,
                Ln.isNaN = function(t) {
                    return Xa(t) && t != +t
                }
                ,
                Ln.isNative = function(t) {
                    if (ho(t))
                        throw new pt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
                    return Mr(t)
                }
                ,
                Ln.isNil = function(t) {
                    return null == t
                }
                ,
                Ln.isNull = function(t) {
                    return null === t
                }
                ,
                Ln.isNumber = Xa,
                Ln.isObject = Va,
                Ln.isObjectLike = Wa,
                Ln.isPlainObject = Ya,
                Ln.isRegExp = Za,
                Ln.isSafeInteger = function(t) {
                    return Ga(t) && t >= -9007199254740991 && t <= 9007199254740991
                }
                ,
                Ln.isSet = Ja,
                Ln.isString = Qa,
                Ln.isSymbol = Ka,
                Ln.isTypedArray = $a,
                Ln.isUndefined = function(t) {
                    return void 0 === t
                }
                ,
                Ln.isWeakMap = function(t) {
                    return Wa(t) && ro(t) == M
                }
                ,
                Ln.isWeakSet = function(t) {
                    return Wa(t) && "[object WeakSet]" == dr(t)
                }
                ,
                Ln.join = function(t, e) {
                    return null == t ? "" : on.call(t, e)
                }
                ,
                Ln.kebabCase = Ds,
                Ln.last = Bo,
                Ln.lastIndexOf = function(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r)
                        return -1;
                    var i = r;
                    return void 0 !== n && (i = (i = is(n)) < 0 ? sn(r + i, 0) : un(i, r - 1)),
                    e == e ? function(t, e, n) {
                        for (var r = n + 1; r--; )
                            if (t[r] === e)
                                return r;
                        return r
                    }(t, e, i) : _e(t, Se, i, !0)
                }
                ,
                Ln.lowerCase = ks,
                Ln.lowerFirst = Ns,
                Ln.lt = ts,
                Ln.lte = es,
                Ln.max = function(t) {
                    return t && t.length ? ir(t, Xs, mr) : void 0
                }
                ,
                Ln.maxBy = function(t, e) {
                    return t && t.length ? ir(t, Qi(e, 2), mr) : void 0
                }
                ,
                Ln.mean = function(t) {
                    return Ee(t, Xs)
                }
                ,
                Ln.meanBy = function(t, e) {
                    return Ee(t, Qi(e, 2))
                }
                ,
                Ln.min = function(t) {
                    return t && t.length ? ir(t, Xs, Ar) : void 0
                }
                ,
                Ln.minBy = function(t, e) {
                    return t && t.length ? ir(t, Qi(e, 2), Ar) : void 0
                }
                ,
                Ln.stubArray = ou,
                Ln.stubFalse = au,
                Ln.stubObject = function() {
                    return {}
                }
                ,
                Ln.stubString = function() {
                    return ""
                }
                ,
                Ln.stubTrue = function() {
                    return !0
                }
                ,
                Ln.multiply = fu,
                Ln.nth = function(t, e) {
                    return t && t.length ? Cr(t, is(e)) : void 0
                }
                ,
                Ln.noConflict = function() {
                    return Yt._ === this && (Yt._ = Ot),
                    this
                }
                ,
                Ln.noop = Ks,
                Ln.now = va,
                Ln.pad = function(t, e, n) {
                    t = us(t);
                    var r = (e = is(e)) ? qe(t) : 0;
                    if (!e || r >= e)
                        return t;
                    var i = (e - r) / 2;
                    return Ii(tn(i), n) + t + Ii($e(i), n)
                }
                ,
                Ln.padEnd = function(t, e, n) {
                    t = us(t);
                    var r = (e = is(e)) ? qe(t) : 0;
                    return e && r < e ? t + Ii(e - r, n) : t
                }
                ,
                Ln.padStart = function(t, e, n) {
                    t = us(t);
                    var r = (e = is(e)) ? qe(t) : 0;
                    return e && r < e ? Ii(e - r, n) + t : t
                }
                ,
                Ln.parseInt = function(t, e, n) {
                    return n || null == e ? e = 0 : e && (e = +e),
                    ln(us(t).replace(J, ""), e || 0)
                }
                ,
                Ln.random = function(t, e, n) {
                    if (n && "boolean" != typeof n && uo(t, e, n) && (e = n = void 0),
                    void 0 === n && ("boolean" == typeof e ? (n = e,
                    e = void 0) : "boolean" == typeof t && (n = t,
                    t = void 0)),
                    void 0 === t && void 0 === e ? (t = 0,
                    e = 1) : (t = rs(t),
                    void 0 === e ? (e = t,
                    t = 0) : e = rs(e)),
                    t > e) {
                        var r = t;
                        t = e,
                        e = r
                    }
                    if (n || t % 1 || e % 1) {
                        var i = hn();
                        return un(t + i * (e - t + Vt("1e-" + ((i + "").length - 1))), e)
                    }
                    return zr(t, e)
                }
                ,
                Ln.reduce = function(t, e, n) {
                    var r = Da(t) ? ve : Pe
                      , i = arguments.length < 3;
                    return r(t, Qi(e, 4), n, i, er)
                }
                ,
                Ln.reduceRight = function(t, e, n) {
                    var r = Da(t) ? ge : Pe
                      , i = arguments.length < 3;
                    return r(t, Qi(e, 4), n, i, nr)
                }
                ,
                Ln.repeat = function(t, e, n) {
                    return e = (n ? uo(t, e, n) : void 0 === e) ? 1 : is(e),
                    jr(us(t), e)
                }
                ,
                Ln.replace = function() {
                    var t = arguments
                      , e = us(t[0]);
                    return t.length < 3 ? e : e.replace(t[1], t[2])
                }
                ,
                Ln.result = function(t, e, n) {
                    var r = -1
                      , i = (e = ui(e, t)).length;
                    for (i || (i = 1,
                    t = void 0); ++r < i; ) {
                        var o = null == t ? void 0 : t[Ao(e[r])];
                        void 0 === o && (r = i,
                        o = n),
                        t = Ua(o) ? o.call(t) : o
                    }
                    return t
                }
                ,
                Ln.round = pu,
                Ln.runInContext = t,
                Ln.sample = function(t) {
                    return (Da(t) ? Bn : Br)(t)
                }
                ,
                Ln.size = function(t) {
                    if (null == t)
                        return 0;
                    if (Na(t))
                        return Qa(t) ? qe(t) : t.length;
                    var e = ro(t);
                    return e == v || e == x ? t.size : Er(t).length
                }
                ,
                Ln.snakeCase = zs,
                Ln.some = function(t, e, n) {
                    var r = Da(t) ? ye : Xr;
                    return n && uo(t, e, n) && (e = void 0),
                    r(t, Qi(e, 3))
                }
                ,
                Ln.sortedIndex = function(t, e) {
                    return Yr(t, e)
                }
                ,
                Ln.sortedIndexBy = function(t, e, n) {
                    return Zr(t, e, Qi(n, 2))
                }
                ,
                Ln.sortedIndexOf = function(t, e) {
                    var n = null == t ? 0 : t.length;
                    if (n) {
                        var r = Yr(t, e);
                        if (r < n && Oa(t[r], e))
                            return r
                    }
                    return -1
                }
                ,
                Ln.sortedLastIndex = function(t, e) {
                    return Yr(t, e, !0)
                }
                ,
                Ln.sortedLastIndexBy = function(t, e, n) {
                    return Zr(t, e, Qi(n, 2), !0)
                }
                ,
                Ln.sortedLastIndexOf = function(t, e) {
                    if (null == t ? 0 : t.length) {
                        var n = Yr(t, e, !0) - 1;
                        if (Oa(t[n], e))
                            return n
                    }
                    return -1
                }
                ,
                Ln.startCase = js,
                Ln.startsWith = function(t, e, n) {
                    return t = us(t),
                    n = null == n ? 0 : Jn(is(n), 0, t.length),
                    e = Kr(e),
                    t.slice(n, n + e.length) == e
                }
                ,
                Ln.subtract = du,
                Ln.sum = function(t) {
                    return t && t.length ? Le(t, Xs) : 0
                }
                ,
                Ln.sumBy = function(t, e) {
                    return t && t.length ? Le(t, Qi(e, 2)) : 0
                }
                ,
                Ln.template = function(t, e, n) {
                    var r = Ln.templateSettings;
                    n && uo(t, e, n) && (e = void 0),
                    t = us(t),
                    e = hs({}, e, r, Ui);
                    var i, o, a = hs({}, e.imports, r.imports, Ui), s = _s(a), u = Ce(a, s), c = 0, l = e.interpolate || ht, h = "__p += '", f = gt((e.escape || ht).source + "|" + l.source + "|" + (l === H ? rt : ht).source + "|" + (e.evaluate || ht).source + "|$", "g"), p = "//# sourceURL=" + (Et.call(e, "sourceURL") ? (e.sourceURL + "").replace(/[\r\n]/g, " ") : "lodash.templateSources[" + ++Bt + "]") + "\n";
                    t.replace(f, (function(e, n, r, a, s, u) {
                        return r || (r = a),
                        h += t.slice(c, u).replace(ft, Fe),
                        n && (i = !0,
                        h += "' +\n__e(" + n + ") +\n'"),
                        s && (o = !0,
                        h += "';\n" + s + ";\n__p += '"),
                        r && (h += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                        c = u + e.length,
                        e
                    }
                    )),
                    h += "';\n";
                    var d = Et.call(e, "variable") && e.variable;
                    d || (h = "with (obj) {\n" + h + "\n}\n"),
                    h = (o ? h.replace(D, "") : h).replace(k, "$1").replace(N, "$1;"),
                    h = "function(" + (d || "obj") + ") {\n" + (d ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i ? ", __e = _.escape" : "") + (o ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h + "return __p\n}";
                    var m = Gs((function() {
                        return dt(s, p + "return " + h).apply(void 0, u)
                    }
                    ));
                    if (m.source = h,
                    Ba(m))
                        throw m;
                    return m
                }
                ,
                Ln.times = function(t, e) {
                    if ((t = is(t)) < 1 || t > 9007199254740991)
                        return [];
                    var n = 4294967295
                      , r = un(t, 4294967295);
                    t -= 4294967295;
                    for (var i = Oe(r, e = Qi(e)); ++n < t; )
                        e(n);
                    return i
                }
                ,
                Ln.toFinite = rs,
                Ln.toInteger = is,
                Ln.toLength = os,
                Ln.toLower = function(t) {
                    return us(t).toLowerCase()
                }
                ,
                Ln.toNumber = as,
                Ln.toSafeInteger = function(t) {
                    return t ? Jn(is(t), -9007199254740991, 9007199254740991) : 0 === t ? t : 0
                }
                ,
                Ln.toString = us,
                Ln.toUpper = function(t) {
                    return us(t).toUpperCase()
                }
                ,
                Ln.trim = function(t, e, n) {
                    if ((t = us(t)) && (n || void 0 === e))
                        return t.replace(Z, "");
                    if (!t || !(e = Kr(e)))
                        return t;
                    var r = Xe(t)
                      , i = Xe(e);
                    return li(r, De(r, i), ke(r, i) + 1).join("")
                }
                ,
                Ln.trimEnd = function(t, e, n) {
                    if ((t = us(t)) && (n || void 0 === e))
                        return t.replace(Q, "");
                    if (!t || !(e = Kr(e)))
                        return t;
                    var r = Xe(t);
                    return li(r, 0, ke(r, Xe(e)) + 1).join("")
                }
                ,
                Ln.trimStart = function(t, e, n) {
                    if ((t = us(t)) && (n || void 0 === e))
                        return t.replace(J, "");
                    if (!t || !(e = Kr(e)))
                        return t;
                    var r = Xe(t);
                    return li(r, De(r, Xe(e))).join("")
                }
                ,
                Ln.truncate = function(t, e) {
                    var n = 30
                      , r = "...";
                    if (Va(e)) {
                        var i = "separator"in e ? e.separator : i;
                        n = "length"in e ? is(e.length) : n,
                        r = "omission"in e ? Kr(e.omission) : r
                    }
                    var o = (t = us(t)).length;
                    if (Be(t)) {
                        var a = Xe(t);
                        o = a.length
                    }
                    if (n >= o)
                        return t;
                    var s = n - qe(r);
                    if (s < 1)
                        return r;
                    var u = a ? li(a, 0, s).join("") : t.slice(0, s);
                    if (void 0 === i)
                        return u + r;
                    if (a && (s += u.length - s),
                    Za(i)) {
                        if (t.slice(s).search(i)) {
                            var c, l = u;
                            for (i.global || (i = gt(i.source, us(it.exec(i)) + "g")),
                            i.lastIndex = 0; c = i.exec(l); )
                                var h = c.index;
                            u = u.slice(0, void 0 === h ? s : h)
                        }
                    } else if (t.indexOf(Kr(i), s) != s) {
                        var f = u.lastIndexOf(i);
                        f > -1 && (u = u.slice(0, f))
                    }
                    return u + r
                }
                ,
                Ln.unescape = function(t) {
                    return (t = us(t)) && F.test(t) ? t.replace(z, Ye) : t
                }
                ,
                Ln.uniqueId = function(t) {
                    var e = ++Tt;
                    return us(t) + e
                }
                ,
                Ln.upperCase = Fs,
                Ln.upperFirst = Bs,
                Ln.each = ua,
                Ln.eachRight = ca,
                Ln.first = No,
                Qs(Ln, (hu = {},
                cr(Ln, (function(t, e) {
                    Et.call(Ln.prototype, e) || (hu[e] = t)
                }
                )),
                hu), {
                    chain: !1
                }),
                Ln.VERSION = "4.17.15",
                ue(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], (function(t) {
                    Ln[t].placeholder = Ln
                }
                )),
                ue(["drop", "take"], (function(t, e) {
                    In.prototype[t] = function(n) {
                        n = void 0 === n ? 1 : sn(is(n), 0);
                        var r = this.__filtered__ && !e ? new In(this) : this.clone();
                        return r.__filtered__ ? r.__takeCount__ = un(n, r.__takeCount__) : r.__views__.push({
                            size: un(n, 4294967295),
                            type: t + (r.__dir__ < 0 ? "Right" : "")
                        }),
                        r
                    }
                    ,
                    In.prototype[t + "Right"] = function(e) {
                        return this.reverse()[t](e).reverse()
                    }
                }
                )),
                ue(["filter", "map", "takeWhile"], (function(t, e) {
                    var n = e + 1
                      , r = 1 == n || 3 == n;
                    In.prototype[t] = function(t) {
                        var e = this.clone();
                        return e.__iteratees__.push({
                            iteratee: Qi(t, 3),
                            type: n
                        }),
                        e.__filtered__ = e.__filtered__ || r,
                        e
                    }
                }
                )),
                ue(["head", "last"], (function(t, e) {
                    var n = "take" + (e ? "Right" : "");
                    In.prototype[t] = function() {
                        return this[n](1).value()[0]
                    }
                }
                )),
                ue(["initial", "tail"], (function(t, e) {
                    var n = "drop" + (e ? "" : "Right");
                    In.prototype[t] = function() {
                        return this.__filtered__ ? new In(this) : this[n](1)
                    }
                }
                )),
                In.prototype.compact = function() {
                    return this.filter(Xs)
                }
                ,
                In.prototype.find = function(t) {
                    return this.filter(t).head()
                }
                ,
                In.prototype.findLast = function(t) {
                    return this.reverse().find(t)
                }
                ,
                In.prototype.invokeMap = Fr((function(t, e) {
                    return "function" == typeof t ? new In(this) : this.map((function(n) {
                        return br(n, t, e)
                    }
                    ))
                }
                )),
                In.prototype.reject = function(t) {
                    return this.filter(Ea(Qi(t)))
                }
                ,
                In.prototype.slice = function(t, e) {
                    t = is(t);
                    var n = this;
                    return n.__filtered__ && (t > 0 || e < 0) ? new In(n) : (t < 0 ? n = n.takeRight(-t) : t && (n = n.drop(t)),
                    void 0 !== e && (n = (e = is(e)) < 0 ? n.dropRight(-e) : n.take(e - t)),
                    n)
                }
                ,
                In.prototype.takeRightWhile = function(t) {
                    return this.reverse().takeWhile(t).reverse()
                }
                ,
                In.prototype.toArray = function() {
                    return this.take(4294967295)
                }
                ,
                cr(In.prototype, (function(t, e) {
                    var n = /^(?:filter|find|map|reject)|While$/.test(e)
                      , r = /^(?:head|last)$/.test(e)
                      , i = Ln[r ? "take" + ("last" == e ? "Right" : "") : e]
                      , o = r || /^find/.test(e);
                    i && (Ln.prototype[e] = function() {
                        var e = this.__wrapped__
                          , a = r ? [1] : arguments
                          , s = e instanceof In
                          , u = a[0]
                          , c = s || Da(e)
                          , l = function(t) {
                            var e = i.apply(Ln, me([t], a));
                            return r && h ? e[0] : e
                        };
                        c && n && "function" == typeof u && 1 != u.length && (s = c = !1);
                        var h = this.__chain__
                          , f = !!this.__actions__.length
                          , p = o && !h
                          , d = s && !f;
                        if (!o && c) {
                            e = d ? e : new In(this);
                            var m = t.apply(e, a);
                            return m.__actions__.push({
                                func: ra,
                                args: [l],
                                thisArg: void 0
                            }),
                            new Cn(m,h)
                        }
                        return p && d ? t.apply(this, a) : (m = this.thru(l),
                        p ? r ? m.value()[0] : m.value() : m)
                    }
                    )
                }
                )),
                ue(["pop", "push", "shift", "sort", "splice", "unshift"], (function(t) {
                    var e = xt[t]
                      , n = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru"
                      , r = /^(?:pop|shift)$/.test(t);
                    Ln.prototype[t] = function() {
                        var t = arguments;
                        if (r && !this.__chain__) {
                            var i = this.value();
                            return e.apply(Da(i) ? i : [], t)
                        }
                        return this[n]((function(n) {
                            return e.apply(Da(n) ? n : [], t)
                        }
                        ))
                    }
                }
                )),
                cr(In.prototype, (function(t, e) {
                    var n = Ln[e];
                    if (n) {
                        var r = n.name + "";
                        Et.call(xn, r) || (xn[r] = []),
                        xn[r].push({
                            name: e,
                            func: n
                        })
                    }
                }
                )),
                xn[Li(void 0, 2).name] = [{
                    name: "wrapper",
                    func: void 0
                }],
                In.prototype.clone = function() {
                    var t = new In(this.__wrapped__);
                    return t.__actions__ = yi(this.__actions__),
                    t.__dir__ = this.__dir__,
                    t.__filtered__ = this.__filtered__,
                    t.__iteratees__ = yi(this.__iteratees__),
                    t.__takeCount__ = this.__takeCount__,
                    t.__views__ = yi(this.__views__),
                    t
                }
                ,
                In.prototype.reverse = function() {
                    if (this.__filtered__) {
                        var t = new In(this);
                        t.__dir__ = -1,
                        t.__filtered__ = !0
                    } else
                        (t = this.clone()).__dir__ *= -1;
                    return t
                }
                ,
                In.prototype.value = function() {
                    var t = this.__wrapped__.value()
                      , e = this.__dir__
                      , n = Da(t)
                      , r = e < 0
                      , i = n ? t.length : 0
                      , o = function(t, e, n) {
                        var r = -1
                          , i = n.length;
                        for (; ++r < i; ) {
                            var o = n[r]
                              , a = o.size;
                            switch (o.type) {
                            case "drop":
                                t += a;
                                break;
                            case "dropRight":
                                e -= a;
                                break;
                            case "take":
                                e = un(e, t + a);
                                break;
                            case "takeRight":
                                t = sn(t, e - a)
                            }
                        }
                        return {
                            start: t,
                            end: e
                        }
                    }(0, i, this.__views__)
                      , a = o.start
                      , s = o.end
                      , u = s - a
                      , c = r ? s : a - 1
                      , l = this.__iteratees__
                      , h = l.length
                      , f = 0
                      , p = un(u, this.__takeCount__);
                    if (!n || !r && i == u && p == u)
                        return ri(t, this.__actions__);
                    var d = [];
                    t: for (; u-- && f < p; ) {
                        for (var m = -1, v = t[c += e]; ++m < h; ) {
                            var g = l[m]
                              , y = g.iteratee
                              , b = g.type
                              , x = y(v);
                            if (2 == b)
                                v = x;
                            else if (!x) {
                                if (1 == b)
                                    continue t;
                                break t
                            }
                        }
                        d[f++] = v
                    }
                    return d
                }
                ,
                Ln.prototype.at = ia,
                Ln.prototype.chain = function() {
                    return na(this)
                }
                ,
                Ln.prototype.commit = function() {
                    return new Cn(this.value(),this.__chain__)
                }
                ,
                Ln.prototype.next = function() {
                    void 0 === this.__values__ && (this.__values__ = ns(this.value()));
                    var t = this.__index__ >= this.__values__.length;
                    return {
                        done: t,
                        value: t ? void 0 : this.__values__[this.__index__++]
                    }
                }
                ,
                Ln.prototype.plant = function(t) {
                    for (var e, n = this; n instanceof Rn; ) {
                        var r = Lo(n);
                        r.__index__ = 0,
                        r.__values__ = void 0,
                        e ? i.__wrapped__ = r : e = r;
                        var i = r;
                        n = n.__wrapped__
                    }
                    return i.__wrapped__ = t,
                    e
                }
                ,
                Ln.prototype.reverse = function() {
                    var t = this.__wrapped__;
                    if (t instanceof In) {
                        var e = t;
                        return this.__actions__.length && (e = new In(this)),
                        (e = e.reverse()).__actions__.push({
                            func: ra,
                            args: [Vo],
                            thisArg: void 0
                        }),
                        new Cn(e,this.__chain__)
                    }
                    return this.thru(Vo)
                }
                ,
                Ln.prototype.toJSON = Ln.prototype.valueOf = Ln.prototype.value = function() {
                    return ri(this.__wrapped__, this.__actions__)
                }
                ,
                Ln.prototype.first = Ln.prototype.head,
                $t && (Ln.prototype[$t] = function() {
                    return this
                }
                ),
                Ln
            }();
            "object" == o(n(179)) && n(179) ? (Yt._ = Ze,
            void 0 === (i = function() {
                return Ze
            }
            .call(e, n, e, r)) || (r.exports = i)) : Jt ? ((Jt.exports = Ze)._ = Ze,
            Zt._ = Ze) : Yt._ = Ze
        }
        ).call(this)
    }
    ).call(this, n(116), n(75)(t))
}
, function(t, e) {
    var n = {}.toString;
    t.exports = function(t) {
        return n.call(t).slice(8, -1)
    }
}
, function(t, e) {
    t.exports = function(t) {
        if (null == t)
            throw TypeError("Can't call method on  " + t);
        return t
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    if (n(10)) {
        var i = n(40)
          , o = n(3)
          , a = n(4)
          , s = n(0)
          , u = n(74)
          , c = n(112)
          , l = n(22)
          , h = n(52)
          , f = n(38)
          , p = n(19)
          , d = n(53)
          , m = n(24)
          , v = n(8)
          , g = n(151)
          , y = n(42)
          , b = n(34)
          , x = n(18)
          , _ = n(58)
          , w = n(6)
          , M = n(14)
          , S = n(104)
          , E = n(43)
          , T = n(45)
          , A = n(44).f
          , P = n(106)
          , L = n(39)
          , O = n(7)
          , R = n(27)
          , C = n(64)
          , I = n(59)
          , D = n(108)
          , k = n(50)
          , N = n(67)
          , z = n(51)
          , j = n(107)
          , F = n(142)
          , B = n(11)
          , U = n(25)
          , G = B.f
          , H = U.f
          , V = o.RangeError
          , W = o.TypeError
          , q = o.Uint8Array
          , X = Array.prototype
          , Y = c.ArrayBuffer
          , Z = c.DataView
          , J = R(0)
          , Q = R(2)
          , K = R(3)
          , $ = R(4)
          , tt = R(5)
          , et = R(6)
          , nt = C(!0)
          , rt = C(!1)
          , it = D.values
          , ot = D.keys
          , at = D.entries
          , st = X.lastIndexOf
          , ut = X.reduce
          , ct = X.reduceRight
          , lt = X.join
          , ht = X.sort
          , ft = X.slice
          , pt = X.toString
          , dt = X.toLocaleString
          , mt = O("iterator")
          , vt = O("toStringTag")
          , gt = L("typed_constructor")
          , yt = L("def_constructor")
          , bt = u.CONSTR
          , xt = u.TYPED
          , _t = u.VIEW
          , wt = R(1, (function(t, e) {
            return At(I(t, t[yt]), e)
        }
        ))
          , Mt = a((function() {
            return 1 === new q(new Uint16Array([1]).buffer)[0]
        }
        ))
          , St = !!q && !!q.prototype.set && a((function() {
            new q(1).set({})
        }
        ))
          , Et = function(t, e) {
            var n = m(t);
            if (n < 0 || n % e)
                throw V("Wrong offset!");
            return n
        }
          , Tt = function(t) {
            if (w(t) && xt in t)
                return t;
            throw W(t + " is not a typed array!")
        }
          , At = function(t, e) {
            if (!(w(t) && gt in t))
                throw W("It is not a typed array constructor!");
            return new t(e)
        }
          , Pt = function(t, e) {
            return Lt(I(t, t[yt]), e)
        }
          , Lt = function(t, e) {
            for (var n = 0, r = e.length, i = At(t, r); r > n; )
                i[n] = e[n++];
            return i
        }
          , Ot = function(t, e, n) {
            G(t, e, {
                get: function() {
                    return this._d[n]
                }
            })
        }
          , Rt = function(t) {
            var e, n, r, i, o, a, s = M(t), u = arguments.length, c = u > 1 ? arguments[1] : void 0, h = void 0 !== c, f = P(s);
            if (null != f && !S(f)) {
                for (a = f.call(s),
                r = [],
                e = 0; !(o = a.next()).done; e++)
                    r.push(o.value);
                s = r
            }
            for (h && u > 2 && (c = l(c, arguments[2], 2)),
            e = 0,
            n = v(s.length),
            i = At(this, n); n > e; e++)
                i[e] = h ? c(s[e], e) : s[e];
            return i
        }
          , Ct = function() {
            for (var t = 0, e = arguments.length, n = At(this, e); e > t; )
                n[t] = arguments[t++];
            return n
        }
          , It = !!q && a((function() {
            dt.call(new q(1))
        }
        ))
          , Dt = function() {
            return dt.apply(It ? ft.call(Tt(this)) : Tt(this), arguments)
        }
          , kt = {
            copyWithin: function(t, e) {
                return F.call(Tt(this), t, e, arguments.length > 2 ? arguments[2] : void 0)
            },
            every: function(t) {
                return $(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            fill: function(t) {
                return j.apply(Tt(this), arguments)
            },
            filter: function(t) {
                return Pt(this, Q(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0))
            },
            find: function(t) {
                return tt(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            findIndex: function(t) {
                return et(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            forEach: function(t) {
                J(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            indexOf: function(t) {
                return rt(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            includes: function(t) {
                return nt(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            join: function(t) {
                return lt.apply(Tt(this), arguments)
            },
            lastIndexOf: function(t) {
                return st.apply(Tt(this), arguments)
            },
            map: function(t) {
                return wt(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            reduce: function(t) {
                return ut.apply(Tt(this), arguments)
            },
            reduceRight: function(t) {
                return ct.apply(Tt(this), arguments)
            },
            reverse: function() {
                for (var t, e = Tt(this).length, n = Math.floor(e / 2), r = 0; r < n; )
                    t = this[r],
                    this[r++] = this[--e],
                    this[e] = t;
                return this
            },
            some: function(t) {
                return K(Tt(this), t, arguments.length > 1 ? arguments[1] : void 0)
            },
            sort: function(t) {
                return ht.call(Tt(this), t)
            },
            subarray: function(t, e) {
                var n = Tt(this)
                  , r = n.length
                  , i = y(t, r);
                return new (I(n, n[yt]))(n.buffer,n.byteOffset + i * n.BYTES_PER_ELEMENT,v((void 0 === e ? r : y(e, r)) - i))
            }
        }
          , Nt = function(t, e) {
            return Pt(this, ft.call(Tt(this), t, e))
        }
          , zt = function(t) {
            Tt(this);
            var e = Et(arguments[1], 1)
              , n = this.length
              , r = M(t)
              , i = v(r.length)
              , o = 0;
            if (i + e > n)
                throw V("Wrong length!");
            for (; o < i; )
                this[e + o] = r[o++]
        }
          , jt = {
            entries: function() {
                return at.call(Tt(this))
            },
            keys: function() {
                return ot.call(Tt(this))
            },
            values: function() {
                return it.call(Tt(this))
            }
        }
          , Ft = function(t, e) {
            return w(t) && t[xt] && "symbol" != r(e) && e in t && String(+e) == String(e)
        }
          , Bt = function(t, e) {
            return Ft(t, e = b(e, !0)) ? f(2, t[e]) : H(t, e)
        }
          , Ut = function(t, e, n) {
            return !(Ft(t, e = b(e, !0)) && w(n) && x(n, "value")) || x(n, "get") || x(n, "set") || n.configurable || x(n, "writable") && !n.writable || x(n, "enumerable") && !n.enumerable ? G(t, e, n) : (t[e] = n.value,
            t)
        };
        bt || (U.f = Bt,
        B.f = Ut),
        s(s.S + s.F * !bt, "Object", {
            getOwnPropertyDescriptor: Bt,
            defineProperty: Ut
        }),
        a((function() {
            pt.call({})
        }
        )) && (pt = dt = function() {
            return lt.call(this)
        }
        );
        var Gt = d({}, kt);
        d(Gt, jt),
        p(Gt, mt, jt.values),
        d(Gt, {
            slice: Nt,
            set: zt,
            constructor: function() {},
            toString: pt,
            toLocaleString: Dt
        }),
        Ot(Gt, "buffer", "b"),
        Ot(Gt, "byteOffset", "o"),
        Ot(Gt, "byteLength", "l"),
        Ot(Gt, "length", "e"),
        G(Gt, vt, {
            get: function() {
                return this[xt]
            }
        }),
        t.exports = function(t, e, n, r) {
            var c = t + ((r = !!r) ? "Clamped" : "") + "Array"
              , l = "get" + t
              , f = "set" + t
              , d = o[c]
              , m = d || {}
              , y = d && T(d)
              , b = !d || !u.ABV
              , x = {}
              , M = d && d.prototype
              , S = function(t, n) {
                G(t, n, {
                    get: function() {
                        return function(t, n) {
                            var r = t._d;
                            return r.v[l](n * e + r.o, Mt)
                        }(this, n)
                    },
                    set: function(t) {
                        return function(t, n, i) {
                            var o = t._d;
                            r && (i = (i = Math.round(i)) < 0 ? 0 : i > 255 ? 255 : 255 & i),
                            o.v[f](n * e + o.o, i, Mt)
                        }(this, n, t)
                    },
                    enumerable: !0
                })
            };
            b ? (d = n((function(t, n, r, i) {
                h(t, d, c, "_d");
                var o, a, s, u, l = 0, f = 0;
                if (w(n)) {
                    if (!(n instanceof Y || "ArrayBuffer" == (u = _(n)) || "SharedArrayBuffer" == u))
                        return xt in n ? Lt(d, n) : Rt.call(d, n);
                    o = n,
                    f = Et(r, e);
                    var m = n.byteLength;
                    if (void 0 === i) {
                        if (m % e)
                            throw V("Wrong length!");
                        if ((a = m - f) < 0)
                            throw V("Wrong length!")
                    } else if ((a = v(i) * e) + f > m)
                        throw V("Wrong length!");
                    s = a / e
                } else
                    s = g(n),
                    o = new Y(a = s * e);
                for (p(t, "_d", {
                    b: o,
                    o: f,
                    l: a,
                    e: s,
                    v: new Z(o)
                }); l < s; )
                    S(t, l++)
            }
            )),
            M = d.prototype = E(Gt),
            p(M, "constructor", d)) : a((function() {
                d(1)
            }
            )) && a((function() {
                new d(-1)
            }
            )) && N((function(t) {
                new d,
                new d(null),
                new d(1.5),
                new d(t)
            }
            ), !0) || (d = n((function(t, n, r, i) {
                var o;
                return h(t, d, c),
                w(n) ? n instanceof Y || "ArrayBuffer" == (o = _(n)) || "SharedArrayBuffer" == o ? void 0 !== i ? new m(n,Et(r, e),i) : void 0 !== r ? new m(n,Et(r, e)) : new m(n) : xt in n ? Lt(d, n) : Rt.call(d, n) : new m(g(n))
            }
            )),
            J(y !== Function.prototype ? A(m).concat(A(y)) : A(m), (function(t) {
                t in d || p(d, t, m[t])
            }
            )),
            d.prototype = M,
            i || (M.constructor = d));
            var P = M[mt]
              , L = !!P && ("values" == P.name || null == P.name)
              , O = jt.values;
            p(d, gt, !0),
            p(M, xt, c),
            p(M, _t, !0),
            p(M, yt, d),
            (r ? new d(1)[vt] == c : vt in M) || G(M, vt, {
                get: function() {
                    return c
                }
            }),
            x[c] = d,
            s(s.G + s.W + s.F * (d != m), x),
            s(s.S, c, {
                BYTES_PER_ELEMENT: e
            }),
            s(s.S + s.F * a((function() {
                m.of.call(d, 1)
            }
            )), c, {
                from: Rt,
                of: Ct
            }),
            "BYTES_PER_ELEMENT"in M || p(M, "BYTES_PER_ELEMENT", e),
            s(s.P, c, kt),
            z(c),
            s(s.P + s.F * St, c, {
                set: zt
            }),
            s(s.P + s.F * !L, c, jt),
            i || M.toString == pt || (M.toString = pt),
            s(s.P + s.F * a((function() {
                new d(1).slice()
            }
            )), c, {
                slice: Nt
            }),
            s(s.P + s.F * (a((function() {
                return [1, 2].toLocaleString() != new d([1, 2]).toLocaleString()
            }
            )) || !a((function() {
                M.toLocaleString.call([1, 2])
            }
            ))), c, {
                toLocaleString: Dt
            }),
            k[c] = L ? P : O,
            i || L || p(M, mt, O)
        }
    } else
        t.exports = function() {}
}
, function(t, e, n) {
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(159)
      , o = "object" == ("undefined" == typeof self ? "undefined" : r(self)) && self && self.Object === Object && self
      , a = i || o || Function("return this")();
    t.exports = a
}
, function(t, e, n) {
    var r = n(6);
    t.exports = function(t, e) {
        if (!r(t))
            return t;
        var n, i;
        if (e && "function" == typeof (n = t.toString) && !r(i = n.call(t)))
            return i;
        if ("function" == typeof (n = t.valueOf) && !r(i = n.call(t)))
            return i;
        if (!e && "function" == typeof (n = t.toString) && !r(i = n.call(t)))
            return i;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(t, e, n) {
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(39)("meta")
      , o = n(6)
      , a = n(18)
      , s = n(11).f
      , u = 0
      , c = Object.isExtensible || function() {
        return !0
    }
      , l = !n(4)((function() {
        return c(Object.preventExtensions({}))
    }
    ))
      , h = function(t) {
        s(t, i, {
            value: {
                i: "O" + ++u,
                w: {}
            }
        })
    }
      , f = t.exports = {
        KEY: i,
        NEED: !1,
        fastKey: function(t, e) {
            if (!o(t))
                return "symbol" == r(t) ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!a(t, i)) {
                if (!c(t))
                    return "F";
                if (!e)
                    return "E";
                h(t)
            }
            return t[i].i
        },
        getWeak: function(t, e) {
            if (!a(t, i)) {
                if (!c(t))
                    return !0;
                if (!e)
                    return !1;
                h(t)
            }
            return t[i].w
        },
        onFreeze: function(t) {
            return l && f.NEED && c(t) && !a(t, i) && h(t),
            t
        }
    }
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }()
      , i = n(1);
    function o(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    var a = new i.OrthographicCamera(-1,1,1,-1,0,1)
      , s = new i.PlaneBufferGeometry(2,2)
      , u = function() {
        function t(e) {
            o(this, t),
            this._mesh = new i.Mesh(s,e)
        }
        return r(t, [{
            key: "render",
            value: function(t) {
                t.render(this._mesh, a)
            }
        }, {
            key: "material",
            get: function() {
                return this._mesh.material
            },
            set: function(t) {
                this._mesh.material = t
            }
        }]),
        t
    }()
      , c = function() {
        function t() {
            o(this, t),
            this.enabled = !0,
            this.needsSwap = !1,
            this.clear = !1,
            this.renderToScreen = !1
        }
        return r(t, [{
            key: "setSize",
            value: function(t, e) {}
        }, {
            key: "render",
            value: function(t, e, n, r, i) {
                console.error("THREE.Pass: .render() must be implemented in derived pass.")
            }
        }]),
        t
    }();
    c.FullScreenQuad = u,
    e.default = c
}
, function(t, e, n) {
    var r = n(405)(n(470));
    t.exports = r
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}
, function(t, e) {
    var n = 0
      , r = Math.random();
    t.exports = function(t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + r).toString(36))
    }
}
, function(t, e) {
    t.exports = !1
}
, function(t, e, n) {
    var r = n(126)
      , i = n(91);
    t.exports = Object.keys || function(t) {
        return r(t, i)
    }
}
, function(t, e, n) {
    var r = n(24)
      , i = Math.max
      , o = Math.min;
    t.exports = function(t, e) {
        return (t = r(t)) < 0 ? i(t + e, 0) : o(t, e)
    }
}
, function(t, e, n) {
    var r = n(5)
      , i = n(127)
      , o = n(91)
      , a = n(90)("IE_PROTO")
      , s = function() {}
      , u = function() {
        var t, e = n(88)("iframe"), r = o.length;
        for (e.style.display = "none",
        n(92).appendChild(e),
        e.src = "javascript:",
        (t = e.contentWindow.document).open(),
        t.write("<script>document.F=Object<\/script>"),
        t.close(),
        u = t.F; r--; )
            delete u.prototype[o[r]];
        return u()
    };
    t.exports = Object.create || function(t, e) {
        var n;
        return null !== t ? (s.prototype = r(t),
        n = new s,
        s.prototype = null,
        n[a] = t) : n = u(),
        void 0 === e ? n : i(n, e)
    }
}
, function(t, e, n) {
    var r = n(126)
      , i = n(91).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function(t) {
        return r(t, i)
    }
}
, function(t, e, n) {
    var r = n(18)
      , i = n(14)
      , o = n(90)("IE_PROTO")
      , a = Object.prototype;
    t.exports = Object.getPrototypeOf || function(t) {
        return t = i(t),
        r(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null
    }
}
, function(t, e, n) {
    var r = n(7)("unscopables")
      , i = Array.prototype;
    null == i[r] && n(19)(i, r, {}),
    t.exports = function(t) {
        i[r][t] = !0
    }
}
, function(t, e, n) {
    var r = n(6);
    t.exports = function(t, e) {
        if (!r(t) || t._t !== e)
            throw TypeError("Incompatible receiver, " + e + " required!");
        return t
    }
}
, function(t, e, n) {
    var r = n(11).f
      , i = n(18)
      , o = n(7)("toStringTag");
    t.exports = function(t, e, n) {
        t && !i(t = n ? t : t.prototype, o) && r(t, o, {
            configurable: !0,
            value: e
        })
    }
}
, function(t, e, n) {
    var r = n(0)
      , i = n(31)
      , o = n(4)
      , a = n(94)
      , s = "[" + a + "]"
      , u = RegExp("^" + s + s + "*")
      , c = RegExp(s + s + "*$")
      , l = function(t, e, n) {
        var i = {}
          , s = o((function() {
            return !!a[t]() || "​" != "​"[t]()
        }
        ))
          , u = i[t] = s ? e(h) : a[t];
        n && (i[n] = u),
        r(r.P + r.F * s, "String", i)
    }
      , h = l.trim = function(t, e) {
        return t = String(i(t)),
        1 & e && (t = t.replace(u, "")),
        2 & e && (t = t.replace(c, "")),
        t
    }
    ;
    t.exports = l
}
, function(t, e) {
    t.exports = {}
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(11)
      , o = n(10)
      , a = n(7)("species");
    t.exports = function(t) {
        var e = r[t];
        o && e && !e[a] && i.f(e, a, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, function(t, e) {
    t.exports = function(t, e, n, r) {
        if (!(t instanceof e) || void 0 !== r && r in t)
            throw TypeError(n + ": incorrect invocation!");
        return t
    }
}
, function(t, e, n) {
    var r = n(16);
    t.exports = function(t, e, n) {
        for (var i in e)
            r(t, i, e[i], n);
        return t
    }
}
, function(t, e, n) {
    var r = n(418)
      , i = n(421);
    t.exports = function(t, e) {
        var n = i(t, e);
        return r(n) ? n : void 0
    }
}
, function(t, e) {
    var n = "undefined" != typeof document ? document.createElement("p").style : {}
      , r = ["O", "ms", "Moz", "Webkit"]
      , i = /([A-Z])/g
      , o = {};
    function a(t) {
        if (t = t.replace(/-([a-z])/g, (function(t, e) {
            return e.toUpperCase()
        }
        )),
        void 0 !== n[t])
            return t;
        for (var e = t.charAt(0).toUpperCase() + t.slice(1), i = r.length; i--; ) {
            var o = r[i] + e;
            if (void 0 !== n[o])
                return o
        }
        return t
    }
    t.exports = function(t) {
        return t in o ? o[t] : o[t] = a(t)
    }
    ,
    t.exports.dash = function(t) {
        return t = a(t),
        i.test(t) && (t = "-" + t.replace(i, "-$1"),
        i.lastIndex = 0),
        t.toLowerCase()
    }
}
, function(t, e, n) {
    var r = n(30);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
        return "String" == r(t) ? t.split("") : Object(t)
    }
}
, function(t, e) {
    e.f = {}.propertyIsEnumerable
}
, function(t, e, n) {
    var r = n(30)
      , i = n(7)("toStringTag")
      , o = "Arguments" == r(function() {
        return arguments
    }());
    t.exports = function(t) {
        var e, n, a;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = function(t, e) {
            try {
                return t[e]
            } catch (t) {}
        }(e = Object(t), i)) ? n : o ? r(e) : "Object" == (a = r(e)) && "function" == typeof e.callee ? "Arguments" : a
    }
}
, function(t, e, n) {
    var r = n(5)
      , i = n(23)
      , o = n(7)("species");
    t.exports = function(t, e) {
        var n, a = r(t).constructor;
        return void 0 === a || null == (n = r(a)[o]) ? e : i(n)
    }
}
, function(t, e, n) {
    var r = n(77)
      , i = n(386)
      , o = n(387)
      , a = r ? r.toStringTag : void 0;
    t.exports = function(t) {
        return null == t ? void 0 === t ? "[object Undefined]" : "[object Null]" : a && a in Object(t) ? i(t) : o(t)
    }
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    t.exports = function(t) {
        return null != t && "object" == n(t)
    }
}
, function(t, e, n) {
    var r = n(399)
      , i = n(165)
      , o = n(118);
    t.exports = function(t, e, n) {
        return e = i(e),
        void 0 === n ? (n = e,
        e = 0) : n = i(n),
        t = o(t),
        r(t, e, n)
    }
}
, function(t, e, n) {
    var r = n(9)
      , i = n(3)
      , o = i["__core-js_shared__"] || (i["__core-js_shared__"] = {});
    (t.exports = function(t, e) {
        return o[t] || (o[t] = void 0 !== e ? e : {})
    }
    )("versions", []).push({
        version: r.version,
        mode: n(40) ? "pure" : "global",
        copyright: "© 2019 Denis Pushkarev (zloirock.ru)"
    })
}
, function(t, e, n) {
    var r = n(20)
      , i = n(8)
      , o = n(42);
    t.exports = function(t) {
        return function(e, n, a) {
            var s, u = r(e), c = i(u.length), l = o(a, c);
            if (t && n != n) {
                for (; c > l; )
                    if ((s = u[l++]) != s)
                        return !0
            } else
                for (; c > l; l++)
                    if ((t || l in u) && u[l] === n)
                        return t || l || 0;
            return !t && -1
        }
    }
}
, function(t, e) {
    e.f = Object.getOwnPropertySymbols
}
, function(t, e, n) {
    var r = n(30);
    t.exports = Array.isArray || function(t) {
        return "Array" == r(t)
    }
}
, function(t, e, n) {
    var r = n(7)("iterator")
      , i = !1;
    try {
        var o = [7][r]();
        o.return = function() {
            i = !0
        }
        ,
        Array.from(o, (function() {
            throw 2
        }
        ))
    } catch (t) {}
    t.exports = function(t, e) {
        if (!e && !i)
            return !1;
        var n = !1;
        try {
            var o = [7]
              , a = o[r]();
            a.next = function() {
                return {
                    done: n = !0
                }
            }
            ,
            o[r] = function() {
                return a
            }
            ,
            t(o)
        } catch (t) {}
        return n
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(5);
    t.exports = function() {
        var t = r(this)
          , e = "";
        return t.global && (e += "g"),
        t.ignoreCase && (e += "i"),
        t.multiline && (e += "m"),
        t.unicode && (e += "u"),
        t.sticky && (e += "y"),
        e
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(58)
      , o = RegExp.prototype.exec;
    t.exports = function(t, e) {
        var n = t.exec;
        if ("function" == typeof n) {
            var a = n.call(t, e);
            if ("object" !== r(a))
                throw new TypeError("RegExp exec method returned something other than an Object or null");
            return a
        }
        if ("RegExp" !== i(t))
            throw new TypeError("RegExp#exec called on incompatible receiver");
        return o.call(t, e)
    }
}
, function(t, e, n) {
    "use strict";
    n(144);
    var r = n(16)
      , i = n(19)
      , o = n(4)
      , a = n(31)
      , s = n(7)
      , u = n(109)
      , c = s("species")
      , l = !o((function() {
        var t = /./;
        return t.exec = function() {
            var t = [];
            return t.groups = {
                a: "7"
            },
            t
        }
        ,
        "7" !== "".replace(t, "$<a>")
    }
    ))
      , h = function() {
        var t = /(?:)/
          , e = t.exec;
        t.exec = function() {
            return e.apply(this, arguments)
        }
        ;
        var n = "ab".split(t);
        return 2 === n.length && "a" === n[0] && "b" === n[1]
    }();
    t.exports = function(t, e, n) {
        var f = s(t)
          , p = !o((function() {
            var e = {};
            return e[f] = function() {
                return 7
            }
            ,
            7 != ""[t](e)
        }
        ))
          , d = p ? !o((function() {
            var e = !1
              , n = /a/;
            return n.exec = function() {
                return e = !0,
                null
            }
            ,
            "split" === t && (n.constructor = {},
            n.constructor[c] = function() {
                return n
            }
            ),
            n[f](""),
            !e
        }
        )) : void 0;
        if (!p || !d || "replace" === t && !l || "split" === t && !h) {
            var m = /./[f]
              , v = n(a, f, ""[t], (function(t, e, n, r, i) {
                return e.exec === u ? p && !i ? {
                    done: !0,
                    value: m.call(e, n, r)
                } : {
                    done: !0,
                    value: t.call(n, e, r)
                } : {
                    done: !1
                }
            }
            ))
              , g = v[0]
              , y = v[1];
            r(String.prototype, t, g),
            i(RegExp.prototype, f, 2 == e ? function(t, e) {
                return y.call(t, this, e)
            }
            : function(t) {
                return y.call(t, this)
            }
            )
        }
    }
}
, function(t, e, n) {
    var r = n(22)
      , i = n(139)
      , o = n(104)
      , a = n(5)
      , s = n(8)
      , u = n(106)
      , c = {}
      , l = {};
    (e = t.exports = function(t, e, n, h, f) {
        var p, d, m, v, g = f ? function() {
            return t
        }
        : u(t), y = r(n, h, e ? 2 : 1), b = 0;
        if ("function" != typeof g)
            throw TypeError(t + " is not iterable!");
        if (o(g)) {
            for (p = s(t.length); p > b; b++)
                if ((v = e ? y(a(d = t[b])[0], d[1]) : y(t[b])) === c || v === l)
                    return v
        } else
            for (m = g.call(t); !(d = m.next()).done; )
                if ((v = i(m, y, d.value, e)) === c || v === l)
                    return v
    }
    ).BREAK = c,
    e.RETURN = l
}
, function(t, e, n) {
    var r = n(3).navigator;
    t.exports = r && r.userAgent || ""
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(0)
      , o = n(16)
      , a = n(53)
      , s = n(35)
      , u = n(71)
      , c = n(52)
      , l = n(6)
      , h = n(4)
      , f = n(67)
      , p = n(48)
      , d = n(95);
    t.exports = function(t, e, n, m, v, g) {
        var y = r[t]
          , b = y
          , x = v ? "set" : "add"
          , _ = b && b.prototype
          , w = {}
          , M = function(t) {
            var e = _[t];
            o(_, t, "delete" == t || "has" == t ? function(t) {
                return !(g && !l(t)) && e.call(this, 0 === t ? 0 : t)
            }
            : "get" == t ? function(t) {
                return g && !l(t) ? void 0 : e.call(this, 0 === t ? 0 : t)
            }
            : "add" == t ? function(t) {
                return e.call(this, 0 === t ? 0 : t),
                this
            }
            : function(t, n) {
                return e.call(this, 0 === t ? 0 : t, n),
                this
            }
            )
        };
        if ("function" == typeof b && (g || _.forEach && !h((function() {
            (new b).entries().next()
        }
        )))) {
            var S = new b
              , E = S[x](g ? {} : -0, 1) != S
              , T = h((function() {
                S.has(1)
            }
            ))
              , A = f((function(t) {
                new b(t)
            }
            ))
              , P = !g && h((function() {
                for (var t = new b, e = 5; e--; )
                    t[x](e, e);
                return !t.has(-0)
            }
            ));
            A || ((b = e((function(e, n) {
                c(e, b, t);
                var r = d(new y, e, b);
                return null != n && u(n, v, r[x], r),
                r
            }
            ))).prototype = _,
            _.constructor = b),
            (T || P) && (M("delete"),
            M("has"),
            v && M("get")),
            (P || E) && M(x),
            g && _.clear && delete _.clear
        } else
            b = m.getConstructor(e, t, v, x),
            a(b.prototype, n),
            s.NEED = !0;
        return p(b, t),
        w[t] = b,
        i(i.G + i.W + i.F * (b != y), w),
        g || m.setStrong(b, t, v),
        b
    }
}
, function(t, e, n) {
    for (var r, i = n(3), o = n(19), a = n(39), s = a("typed_array"), u = a("view"), c = !(!i.ArrayBuffer || !i.DataView), l = c, h = 0, f = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); h < 9; )
        (r = i[f[h++]]) ? (o(r.prototype, s, !0),
        o(r.prototype, u, !0)) : l = !1;
    t.exports = {
        ABV: c,
        CONSTR: l,
        TYPED: s,
        VIEW: u
    }
}
, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}
        ,
        t.paths = [],
        t.children || (t.children = []),
        Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l
            }
        }),
        Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i
            }
        }),
        t.webpackPolyfill = 1),
        t
    }
}
, function(t, e, n) {
    var r = n(383)
      , i = n(392)
      , o = n(78);
    t.exports = function(t) {
        return o(t) ? r(t) : i(t)
    }
}
, function(t, e, n) {
    var r = n(33).Symbol;
    t.exports = r
}
, function(t, e, n) {
    var r = n(163)
      , i = n(117);
    t.exports = function(t) {
        return null != t && i(t.length) && !r(t)
    }
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    t.exports = function(t) {
        var e = n(t);
        return null != t && ("object" == e || "function" == e)
    }
}
, function(t, e, n) {
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(60)
      , o = n(61);
    t.exports = function(t) {
        return "symbol" == r(t) || o(t) && "[object Symbol]" == i(t)
    }
}
, function(t, e, n) {
    var r = n(408)
      , i = n(409)
      , o = n(410)
      , a = n(411)
      , s = n(412);
    function u(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var r = t[e];
            this.set(r[0], r[1])
        }
    }
    u.prototype.clear = r,
    u.prototype.delete = i,
    u.prototype.get = o,
    u.prototype.has = a,
    u.prototype.set = s,
    t.exports = u
}
, function(t, e, n) {
    var r = n(170);
    t.exports = function(t, e) {
        for (var n = t.length; n--; )
            if (r(t[n][0], e))
                return n;
        return -1
    }
}
, function(t, e, n) {
    var r = n(54)(Object, "create");
    t.exports = r
}
, function(t, e, n) {
    var r = n(430);
    t.exports = function(t, e) {
        var n = t.__data__;
        return r(e) ? n["string" == typeof e ? "string" : "hash"] : n.map
    }
}
, function(t, e, n) {
    var r = n(80);
    t.exports = function(t) {
        if ("string" == typeof t || r(t))
            return t;
        var e = t + "";
        return "0" == e && 1 / t == -1 / 0 ? "-0" : e
    }
}
, function(t, e, n) {
    var r = n(398)
      , i = n(118);
    t.exports = function(t, e, n) {
        return void 0 === n && (n = e,
        e = void 0),
        void 0 !== n && (n = (n = i(n)) == n ? n : 0),
        void 0 !== e && (e = (e = i(e)) == e ? e : 0),
        r(i(t), e, n)
    }
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = n(119);
    Object.defineProperty(e, "CopyShader", {
        enumerable: !0,
        get: function() {
            return p(r).default
        }
    });
    var i = n(36);
    Object.defineProperty(e, "Pass", {
        enumerable: !0,
        get: function() {
            return p(i).default
        }
    });
    var o = n(166);
    Object.defineProperty(e, "ShaderPass", {
        enumerable: !0,
        get: function() {
            return p(o).default
        }
    });
    var a = n(400);
    Object.defineProperty(e, "RenderingPass", {
        enumerable: !0,
        get: function() {
            return p(a).default
        }
    });
    var s = n(401);
    Object.defineProperty(e, "TexturePass", {
        enumerable: !0,
        get: function() {
            return p(s).default
        }
    });
    var u = n(402);
    Object.defineProperty(e, "RenderPass", {
        enumerable: !0,
        get: function() {
            return p(u).default
        }
    });
    var c = n(167);
    Object.defineProperty(e, "MaskPass", {
        enumerable: !0,
        get: function() {
            return p(c).default
        }
    });
    var l = n(168);
    Object.defineProperty(e, "ClearMaskPass", {
        enumerable: !0,
        get: function() {
            return p(l).default
        }
    });
    var h = n(403);
    Object.defineProperty(e, "ClearPass", {
        enumerable: !0,
        get: function() {
            return p(h).default
        }
    });
    var f = n(404);
    function p(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "default", {
        enumerable: !0,
        get: function() {
            return p(f).default
        }
    })
}
, function(t, e, n) {
    var r = n(6)
      , i = n(3).document
      , o = r(i) && r(i.createElement);
    t.exports = function(t) {
        return o ? i.createElement(t) : {}
    }
}
, function(t, e, n) {
    e.f = n(7)
}
, function(t, e, n) {
    var r = n(63)("keys")
      , i = n(39);
    t.exports = function(t) {
        return r[t] || (r[t] = i(t))
    }
}
, function(t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}
, function(t, e, n) {
    var r = n(3).document;
    t.exports = r && r.documentElement
}
, function(t, e, n) {
    var r = n(6)
      , i = n(5)
      , o = function(t, e) {
        if (i(t),
        !r(e) && null !== e)
            throw TypeError(e + ": can't set as prototype!")
    };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__"in {} ? function(t, e, r) {
            try {
                (r = n(22)(Function.call, n(25).f(Object.prototype, "__proto__").set, 2))(t, []),
                e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function(t, n) {
                return o(t, n),
                e ? t.__proto__ = n : r(t, n),
                t
            }
        }({}, !1) : void 0),
        check: o
    }
}
, function(t, e) {
    t.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"
}
, function(t, e, n) {
    var r = n(6)
      , i = n(93).set;
    t.exports = function(t, e, n) {
        var o, a = e.constructor;
        return a !== n && "function" == typeof a && (o = a.prototype) !== n.prototype && r(o) && i && i(t, o),
        t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(24)
      , i = n(31);
    t.exports = function(t) {
        var e = String(i(this))
          , n = ""
          , o = r(t);
        if (o < 0 || o == 1 / 0)
            throw RangeError("Count can't be negative");
        for (; o > 0; (o >>>= 1) && (e += e))
            1 & o && (n += e);
        return n
    }
}
, function(t, e) {
    t.exports = Math.sign || function(t) {
        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
}
, function(t, e) {
    var n = Math.expm1;
    t.exports = !n || n(10) > 22025.465794806718 || n(10) < 22025.465794806718 || -2e-17 != n(-2e-17) ? function(t) {
        return 0 == (t = +t) ? t : t > -1e-6 && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1
    }
    : n
}
, function(t, e, n) {
    var r = n(24)
      , i = n(31);
    t.exports = function(t) {
        return function(e, n) {
            var o, a, s = String(i(e)), u = r(n), c = s.length;
            return u < 0 || u >= c ? t ? "" : void 0 : (o = s.charCodeAt(u)) < 55296 || o > 56319 || u + 1 === c || (a = s.charCodeAt(u + 1)) < 56320 || a > 57343 ? t ? s.charAt(u) : o : t ? s.slice(u, u + 2) : a - 56320 + (o - 55296 << 10) + 65536
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(40)
      , i = n(0)
      , o = n(16)
      , a = n(19)
      , s = n(50)
      , u = n(138)
      , c = n(48)
      , l = n(45)
      , h = n(7)("iterator")
      , f = !([].keys && "next"in [].keys())
      , p = function() {
        return this
    };
    t.exports = function(t, e, n, d, m, v, g) {
        u(n, e, d);
        var y, b, x, _ = function(t) {
            if (!f && t in E)
                return E[t];
            switch (t) {
            case "keys":
            case "values":
                return function() {
                    return new n(this,t)
                }
            }
            return function() {
                return new n(this,t)
            }
        }, w = e + " Iterator", M = "values" == m, S = !1, E = t.prototype, T = E[h] || E["@@iterator"] || m && E[m], A = T || _(m), P = m ? M ? _("entries") : A : void 0, L = "Array" == e && E.entries || T;
        if (L && (x = l(L.call(new t))) !== Object.prototype && x.next && (c(x, w, !0),
        r || "function" == typeof x[h] || a(x, h, p)),
        M && T && "values" !== T.name && (S = !0,
        A = function() {
            return T.call(this)
        }
        ),
        r && !g || !f && !S && E[h] || a(E, h, A),
        s[e] = A,
        s[w] = p,
        m)
            if (y = {
                values: M ? A : _("values"),
                keys: v ? A : _("keys"),
                entries: P
            },
            g)
                for (b in y)
                    b in E || o(E, b, y[b]);
            else
                i(i.P + i.F * (f || S), e, y);
        return y
    }
}
, function(t, e, n) {
    var r = n(102)
      , i = n(31);
    t.exports = function(t, e, n) {
        if (r(e))
            throw TypeError("String#" + n + " doesn't accept regex!");
        return String(i(t))
    }
}
, function(t, e, n) {
    var r = n(6)
      , i = n(30)
      , o = n(7)("match");
    t.exports = function(t) {
        var e;
        return r(t) && (void 0 !== (e = t[o]) ? !!e : "RegExp" == i(t))
    }
}
, function(t, e, n) {
    var r = n(7)("match");
    t.exports = function(t) {
        var e = /./;
        try {
            "/./"[t](e)
        } catch (n) {
            try {
                return e[r] = !1,
                !"/./"[t](e)
            } catch (t) {}
        }
        return !0
    }
}
, function(t, e, n) {
    var r = n(50)
      , i = n(7)("iterator")
      , o = Array.prototype;
    t.exports = function(t) {
        return void 0 !== t && (r.Array === t || o[i] === t)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(11)
      , i = n(38);
    t.exports = function(t, e, n) {
        e in t ? r.f(t, e, i(0, n)) : t[e] = n
    }
}
, function(t, e, n) {
    var r = n(58)
      , i = n(7)("iterator")
      , o = n(50);
    t.exports = n(9).getIteratorMethod = function(t) {
        if (null != t)
            return t[i] || t["@@iterator"] || o[r(t)]
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(14)
      , i = n(42)
      , o = n(8);
    t.exports = function(t) {
        for (var e = r(this), n = o(e.length), a = arguments.length, s = i(a > 1 ? arguments[1] : void 0, n), u = a > 2 ? arguments[2] : void 0, c = void 0 === u ? n : i(u, n); c > s; )
            e[s++] = t;
        return e
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(46)
      , i = n(143)
      , o = n(50)
      , a = n(20);
    t.exports = n(100)(Array, "Array", (function(t, e) {
        this._t = a(t),
        this._i = 0,
        this._k = e
    }
    ), (function() {
        var t = this._t
          , e = this._k
          , n = this._i++;
        return !t || n >= t.length ? (this._t = void 0,
        i(1)) : i(0, "keys" == e ? n : "values" == e ? t[n] : [n, t[n]])
    }
    ), "values"),
    o.Arguments = o.Array,
    r("keys"),
    r("values"),
    r("entries")
}
, function(t, e, n) {
    "use strict";
    var r, i, o = n(68), a = RegExp.prototype.exec, s = String.prototype.replace, u = a, c = (r = /a/,
    i = /b*/g,
    a.call(r, "a"),
    a.call(i, "a"),
    0 !== r.lastIndex || 0 !== i.lastIndex), l = void 0 !== /()??/.exec("")[1];
    (c || l) && (u = function(t) {
        var e, n, r, i, u = this;
        return l && (n = new RegExp("^" + u.source + "$(?!\\s)",o.call(u))),
        c && (e = u.lastIndex),
        r = a.call(u, t),
        c && r && (u.lastIndex = u.global ? r.index + r[0].length : e),
        l && r && r.length > 1 && s.call(r[0], n, (function() {
            for (i = 1; i < arguments.length - 2; i++)
                void 0 === arguments[i] && (r[i] = void 0)
        }
        )),
        r
    }
    ),
    t.exports = u
}
, function(t, e, n) {
    "use strict";
    var r = n(99)(!0);
    t.exports = function(t, e, n) {
        return e + (n ? r(t, e).length : 1)
    }
}
, function(t, e, n) {
    var r, i, o, a = n(22), s = n(132), u = n(92), c = n(88), l = n(3), h = l.process, f = l.setImmediate, p = l.clearImmediate, d = l.MessageChannel, m = l.Dispatch, v = 0, g = {}, y = function() {
        var t = +this;
        if (g.hasOwnProperty(t)) {
            var e = g[t];
            delete g[t],
            e()
        }
    }, b = function(t) {
        y.call(t.data)
    };
    f && p || (f = function(t) {
        for (var e = [], n = 1; arguments.length > n; )
            e.push(arguments[n++]);
        return g[++v] = function() {
            s("function" == typeof t ? t : Function(t), e)
        }
        ,
        r(v),
        v
    }
    ,
    p = function(t) {
        delete g[t]
    }
    ,
    "process" == n(30)(h) ? r = function(t) {
        h.nextTick(a(y, t, 1))
    }
    : m && m.now ? r = function(t) {
        m.now(a(y, t, 1))
    }
    : d ? (o = (i = new d).port2,
    i.port1.onmessage = b,
    r = a(o.postMessage, o, 1)) : l.addEventListener && "function" == typeof postMessage && !l.importScripts ? (r = function(t) {
        l.postMessage(t + "", "*")
    }
    ,
    l.addEventListener("message", b, !1)) : r = "onreadystatechange"in c("script") ? function(t) {
        u.appendChild(c("script")).onreadystatechange = function() {
            u.removeChild(this),
            y.call(t)
        }
    }
    : function(t) {
        setTimeout(a(y, t, 1), 0)
    }
    ),
    t.exports = {
        set: f,
        clear: p
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(10)
      , o = n(40)
      , a = n(74)
      , s = n(19)
      , u = n(53)
      , c = n(4)
      , l = n(52)
      , h = n(24)
      , f = n(8)
      , p = n(151)
      , d = n(44).f
      , m = n(11).f
      , v = n(107)
      , g = n(48)
      , y = r.ArrayBuffer
      , b = r.DataView
      , x = r.Math
      , _ = r.RangeError
      , w = r.Infinity
      , M = y
      , S = x.abs
      , E = x.pow
      , T = x.floor
      , A = x.log
      , P = x.LN2
      , L = i ? "_b" : "buffer"
      , O = i ? "_l" : "byteLength"
      , R = i ? "_o" : "byteOffset";
    function C(t, e, n) {
        var r, i, o, a = new Array(n), s = 8 * n - e - 1, u = (1 << s) - 1, c = u >> 1, l = 23 === e ? E(2, -24) - E(2, -77) : 0, h = 0, f = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for ((t = S(t)) != t || t === w ? (i = t != t ? 1 : 0,
        r = u) : (r = T(A(t) / P),
        t * (o = E(2, -r)) < 1 && (r--,
        o *= 2),
        (t += r + c >= 1 ? l / o : l * E(2, 1 - c)) * o >= 2 && (r++,
        o /= 2),
        r + c >= u ? (i = 0,
        r = u) : r + c >= 1 ? (i = (t * o - 1) * E(2, e),
        r += c) : (i = t * E(2, c - 1) * E(2, e),
        r = 0)); e >= 8; a[h++] = 255 & i,
        i /= 256,
        e -= 8)
            ;
        for (r = r << e | i,
        s += e; s > 0; a[h++] = 255 & r,
        r /= 256,
        s -= 8)
            ;
        return a[--h] |= 128 * f,
        a
    }
    function I(t, e, n) {
        var r, i = 8 * n - e - 1, o = (1 << i) - 1, a = o >> 1, s = i - 7, u = n - 1, c = t[u--], l = 127 & c;
        for (c >>= 7; s > 0; l = 256 * l + t[u],
        u--,
        s -= 8)
            ;
        for (r = l & (1 << -s) - 1,
        l >>= -s,
        s += e; s > 0; r = 256 * r + t[u],
        u--,
        s -= 8)
            ;
        if (0 === l)
            l = 1 - a;
        else {
            if (l === o)
                return r ? NaN : c ? -w : w;
            r += E(2, e),
            l -= a
        }
        return (c ? -1 : 1) * r * E(2, l - e)
    }
    function D(t) {
        return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0]
    }
    function k(t) {
        return [255 & t]
    }
    function N(t) {
        return [255 & t, t >> 8 & 255]
    }
    function z(t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
    }
    function j(t) {
        return C(t, 52, 8)
    }
    function F(t) {
        return C(t, 23, 4)
    }
    function B(t, e, n) {
        m(t.prototype, e, {
            get: function() {
                return this[n]
            }
        })
    }
    function U(t, e, n, r) {
        var i = p(+n);
        if (i + e > t[O])
            throw _("Wrong index!");
        var o = t[L]._b
          , a = i + t[R]
          , s = o.slice(a, a + e);
        return r ? s : s.reverse()
    }
    function G(t, e, n, r, i, o) {
        var a = p(+n);
        if (a + e > t[O])
            throw _("Wrong index!");
        for (var s = t[L]._b, u = a + t[R], c = r(+i), l = 0; l < e; l++)
            s[u + l] = c[o ? l : e - l - 1]
    }
    if (a.ABV) {
        if (!c((function() {
            y(1)
        }
        )) || !c((function() {
            new y(-1)
        }
        )) || c((function() {
            return new y,
            new y(1.5),
            new y(NaN),
            "ArrayBuffer" != y.name
        }
        ))) {
            for (var H, V = (y = function(t) {
                return l(this, y),
                new M(p(t))
            }
            ).prototype = M.prototype, W = d(M), q = 0; W.length > q; )
                (H = W[q++])in y || s(y, H, M[H]);
            o || (V.constructor = y)
        }
        var X = new b(new y(2))
          , Y = b.prototype.setInt8;
        X.setInt8(0, 2147483648),
        X.setInt8(1, 2147483649),
        !X.getInt8(0) && X.getInt8(1) || u(b.prototype, {
            setInt8: function(t, e) {
                Y.call(this, t, e << 24 >> 24)
            },
            setUint8: function(t, e) {
                Y.call(this, t, e << 24 >> 24)
            }
        }, !0)
    } else
        y = function(t) {
            l(this, y, "ArrayBuffer");
            var e = p(t);
            this._b = v.call(new Array(e), 0),
            this[O] = e
        }
        ,
        b = function(t, e, n) {
            l(this, b, "DataView"),
            l(t, y, "DataView");
            var r = t[O]
              , i = h(e);
            if (i < 0 || i > r)
                throw _("Wrong offset!");
            if (i + (n = void 0 === n ? r - i : f(n)) > r)
                throw _("Wrong length!");
            this[L] = t,
            this[R] = i,
            this[O] = n
        }
        ,
        i && (B(y, "byteLength", "_l"),
        B(b, "buffer", "_b"),
        B(b, "byteLength", "_l"),
        B(b, "byteOffset", "_o")),
        u(b.prototype, {
            getInt8: function(t) {
                return U(this, 1, t)[0] << 24 >> 24
            },
            getUint8: function(t) {
                return U(this, 1, t)[0]
            },
            getInt16: function(t) {
                var e = U(this, 2, t, arguments[1]);
                return (e[1] << 8 | e[0]) << 16 >> 16
            },
            getUint16: function(t) {
                var e = U(this, 2, t, arguments[1]);
                return e[1] << 8 | e[0]
            },
            getInt32: function(t) {
                return D(U(this, 4, t, arguments[1]))
            },
            getUint32: function(t) {
                return D(U(this, 4, t, arguments[1])) >>> 0
            },
            getFloat32: function(t) {
                return I(U(this, 4, t, arguments[1]), 23, 4)
            },
            getFloat64: function(t) {
                return I(U(this, 8, t, arguments[1]), 52, 8)
            },
            setInt8: function(t, e) {
                G(this, 1, t, k, e)
            },
            setUint8: function(t, e) {
                G(this, 1, t, k, e)
            },
            setInt16: function(t, e) {
                G(this, 2, t, N, e, arguments[2])
            },
            setUint16: function(t, e) {
                G(this, 2, t, N, e, arguments[2])
            },
            setInt32: function(t, e) {
                G(this, 4, t, z, e, arguments[2])
            },
            setUint32: function(t, e) {
                G(this, 4, t, z, e, arguments[2])
            },
            setFloat32: function(t, e) {
                G(this, 4, t, F, e, arguments[2])
            },
            setFloat64: function(t, e) {
                G(this, 8, t, j, e, arguments[2])
            }
        });
    g(y, "ArrayBuffer"),
    g(b, "DataView"),
    s(b.prototype, a.VIEW, !0),
    e.ArrayBuffer = y,
    e.DataView = b
}
, function(t, e) {
    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    t.exports = function(t) {
        return "object" === n(t) ? null !== t : "function" == typeof t
    }
}
, function(t, e, n) {
    t.exports = !n(156)((function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    }
    ))
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var r;
    r = function() {
        return this
    }();
    try {
        r = r || new Function("return this")()
    } catch (t) {
        "object" === ("undefined" == typeof window ? "undefined" : n(window)) && (r = window)
    }
    t.exports = r
}
, function(t, e) {
    t.exports = function(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991
    }
}
, function(t, e, n) {
    var r = n(79)
      , i = n(80)
      , o = /^\s+|\s+$/g
      , a = /^[-+]0x[0-9a-f]+$/i
      , s = /^0b[01]+$/i
      , u = /^0o[0-7]+$/i
      , c = parseInt;
    t.exports = function(t) {
        if ("number" == typeof t)
            return t;
        if (i(t))
            return NaN;
        if (r(t)) {
            var e = "function" == typeof t.valueOf ? t.valueOf() : t;
            t = r(e) ? e + "" : e
        }
        if ("string" != typeof t)
            return 0 === t ? t : +t;
        t = t.replace(o, "");
        var n = s.test(t);
        return n || u.test(t) ? c(t.slice(2), n ? 2 : 8) : a.test(t) ? NaN : +t
    }
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e.default = {
        uniforms: {
            tDiffuse: {
                value: null
            },
            opacity: {
                value: 1
            }
        },
        vertexShader: ["varying vec2 vUv;", "void main() {", "\tvUv = uv;", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
        fragmentShader: ["uniform float opacity;", "uniform sampler2D tDiffuse;", "varying vec2 vUv;", "void main() {", "\tvec4 texel = texture2D( tDiffuse, vUv );", "\tgl_FragColor = opacity * texel;", "}"].join("\n")
    }
}
, function(t, e, n) {
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(406)
      , o = n(457)
      , a = n(164)
      , s = n(28)
      , u = n(467);
    t.exports = function(t) {
        return "function" == typeof t ? t : null == t ? a : "object" == r(t) ? s(t) ? o(t[0], t[1]) : i(t) : u(t)
    }
}
, function(t, e, n) {
    var r = n(54)(n(33), "Map");
    t.exports = r
}
, function(t, e, n) {
    var r = n(422)
      , i = n(429)
      , o = n(431)
      , a = n(432)
      , s = n(433);
    function u(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var r = t[e];
            this.set(r[0], r[1])
        }
    }
    u.prototype.clear = r,
    u.prototype.delete = i,
    u.prototype.get = o,
    u.prototype.has = a,
    u.prototype.set = s,
    t.exports = u
}
, function(t, e, n) {
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(28)
      , o = n(80)
      , a = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
      , s = /^\w*$/;
    t.exports = function(t, e) {
        if (i(t))
            return !1;
        var n = r(t);
        return !("number" != n && "symbol" != n && "boolean" != n && null != t && !o(t)) || (s.test(t) || !a.test(t) || null != e && t in Object(e))
    }
}
, function(t, e, n) {
    t.exports = !n(10) && !n(4)((function() {
        return 7 != Object.defineProperty(n(88)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    }
    ))
}
, function(t, e, n) {
    var r = n(3)
      , i = n(9)
      , o = n(40)
      , a = n(89)
      , s = n(11).f;
    t.exports = function(t) {
        var e = i.Symbol || (i.Symbol = o ? {} : r.Symbol || {});
        "_" == t.charAt(0) || t in e || s(e, t, {
            value: a.f(t)
        })
    }
}
, function(t, e, n) {
    var r = n(18)
      , i = n(20)
      , o = n(64)(!1)
      , a = n(90)("IE_PROTO");
    t.exports = function(t, e) {
        var n, s = i(t), u = 0, c = [];
        for (n in s)
            n != a && r(s, n) && c.push(n);
        for (; e.length > u; )
            r(s, n = e[u++]) && (~o(c, n) || c.push(n));
        return c
    }
}
, function(t, e, n) {
    var r = n(11)
      , i = n(5)
      , o = n(41);
    t.exports = n(10) ? Object.defineProperties : function(t, e) {
        i(t);
        for (var n, a = o(e), s = a.length, u = 0; s > u; )
            r.f(t, n = a[u++], e[n]);
        return t
    }
}
, function(t, e, n) {
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(20)
      , o = n(44).f
      , a = {}.toString
      , s = "object" == ("undefined" == typeof window ? "undefined" : r(window)) && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    t.exports.f = function(t) {
        return s && "[object Window]" == a.call(t) ? function(t) {
            try {
                return o(t)
            } catch (t) {
                return s.slice()
            }
        }(t) : o(i(t))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(10)
      , i = n(41)
      , o = n(65)
      , a = n(57)
      , s = n(14)
      , u = n(56)
      , c = Object.assign;
    t.exports = !c || n(4)((function() {
        var t = {}
          , e = {}
          , n = Symbol()
          , r = "abcdefghijklmnopqrst";
        return t[n] = 7,
        r.split("").forEach((function(t) {
            e[t] = t
        }
        )),
        7 != c({}, t)[n] || Object.keys(c({}, e)).join("") != r
    }
    )) ? function(t, e) {
        for (var n = s(t), c = arguments.length, l = 1, h = o.f, f = a.f; c > l; )
            for (var p, d = u(arguments[l++]), m = h ? i(d).concat(h(d)) : i(d), v = m.length, g = 0; v > g; )
                p = m[g++],
                r && !f.call(d, p) || (n[p] = d[p]);
        return n
    }
    : c
}
, function(t, e) {
    t.exports = Object.is || function(t, e) {
        return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(23)
      , i = n(6)
      , o = n(132)
      , a = [].slice
      , s = {}
      , u = function(t, e, n) {
        if (!(e in s)) {
            for (var r = [], i = 0; i < e; i++)
                r[i] = "a[" + i + "]";
            s[e] = Function("F,a", "return new F(" + r.join(",") + ")")
        }
        return s[e](t, n)
    };
    t.exports = Function.bind || function(t) {
        var e = r(this)
          , n = a.call(arguments, 1)
          , s = function r() {
            var i = n.concat(a.call(arguments));
            return this instanceof r ? u(e, i.length, i) : o(e, i, t)
        };
        return i(e.prototype) && (s.prototype = e.prototype),
        s
    }
}
, function(t, e) {
    t.exports = function(t, e, n) {
        var r = void 0 === n;
        switch (e.length) {
        case 0:
            return r ? t() : t.call(n);
        case 1:
            return r ? t(e[0]) : t.call(n, e[0]);
        case 2:
            return r ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
        case 3:
            return r ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
        case 4:
            return r ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3])
        }
        return t.apply(n, e)
    }
}
, function(t, e, n) {
    var r = n(3).parseInt
      , i = n(49).trim
      , o = n(94)
      , a = /^[-+]?0[xX]/;
    t.exports = 8 !== r(o + "08") || 22 !== r(o + "0x16") ? function(t, e) {
        var n = i(String(t), 3);
        return r(n, e >>> 0 || (a.test(n) ? 16 : 10))
    }
    : r
}
, function(t, e, n) {
    var r = n(3).parseFloat
      , i = n(49).trim;
    t.exports = 1 / r(n(94) + "-0") != -1 / 0 ? function(t) {
        var e = i(String(t), 3)
          , n = r(e);
        return 0 === n && "-" == e.charAt(0) ? -0 : n
    }
    : r
}
, function(t, e, n) {
    var r = n(30);
    t.exports = function(t, e) {
        if ("number" != typeof t && "Number" != r(t))
            throw TypeError(e);
        return +t
    }
}
, function(t, e, n) {
    var r = n(6)
      , i = Math.floor;
    t.exports = function(t) {
        return !r(t) && isFinite(t) && i(t) === t
    }
}
, function(t, e) {
    t.exports = Math.log1p || function(t) {
        return (t = +t) > -1e-8 && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(43)
      , i = n(38)
      , o = n(48)
      , a = {};
    n(19)(a, n(7)("iterator"), (function() {
        return this
    }
    )),
    t.exports = function(t, e, n) {
        t.prototype = r(a, {
            next: i(1, n)
        }),
        o(t, e + " Iterator")
    }
}
, function(t, e, n) {
    var r = n(5);
    t.exports = function(t, e, n, i) {
        try {
            return i ? e(r(n)[0], n[1]) : e(n)
        } catch (e) {
            var o = t.return;
            throw void 0 !== o && r(o.call(t)),
            e
        }
    }
}
, function(t, e, n) {
    var r = n(282);
    t.exports = function(t, e) {
        return new (r(t))(e)
    }
}
, function(t, e, n) {
    var r = n(23)
      , i = n(14)
      , o = n(56)
      , a = n(8);
    t.exports = function(t, e, n, s, u) {
        r(e);
        var c = i(t)
          , l = o(c)
          , h = a(c.length)
          , f = u ? h - 1 : 0
          , p = u ? -1 : 1;
        if (n < 2)
            for (; ; ) {
                if (f in l) {
                    s = l[f],
                    f += p;
                    break
                }
                if (f += p,
                u ? f < 0 : h <= f)
                    throw TypeError("Reduce of empty array with no initial value")
            }
        for (; u ? f >= 0 : h > f; f += p)
            f in l && (s = e(s, l[f], f, c));
        return s
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(14)
      , i = n(42)
      , o = n(8);
    t.exports = [].copyWithin || function(t, e) {
        var n = r(this)
          , a = o(n.length)
          , s = i(t, a)
          , u = i(e, a)
          , c = arguments.length > 2 ? arguments[2] : void 0
          , l = Math.min((void 0 === c ? a : i(c, a)) - u, a - s)
          , h = 1;
        for (u < s && s < u + l && (h = -1,
        u += l - 1,
        s += l - 1); l-- > 0; )
            u in n ? n[s] = n[u] : delete n[s],
            s += h,
            u += h;
        return n
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(109);
    n(0)({
        target: "RegExp",
        proto: !0,
        forced: r !== /./.exec
    }, {
        exec: r
    })
}
, function(t, e, n) {
    n(10) && "g" != /./g.flags && n(11).f(RegExp.prototype, "flags", {
        configurable: !0,
        get: n(68)
    })
}
, function(t, e, n) {
    "use strict";
    var r, i, o, a, s = n(40), u = n(3), c = n(22), l = n(58), h = n(0), f = n(6), p = n(23), d = n(52), m = n(71), v = n(59), g = n(111).set, y = n(302)(), b = n(147), x = n(303), _ = n(72), w = n(148), M = u.TypeError, S = u.process, E = S && S.versions, T = E && E.v8 || "", A = u.Promise, P = "process" == l(S), L = function() {}, O = i = b.f, R = !!function() {
        try {
            var t = A.resolve(1)
              , e = (t.constructor = {})[n(7)("species")] = function(t) {
                t(L, L)
            }
            ;
            return (P || "function" == typeof PromiseRejectionEvent) && t.then(L)instanceof e && 0 !== T.indexOf("6.6") && -1 === _.indexOf("Chrome/66")
        } catch (t) {}
    }(), C = function(t) {
        var e;
        return !(!f(t) || "function" != typeof (e = t.then)) && e
    }, I = function(t, e) {
        if (!t._n) {
            t._n = !0;
            var n = t._c;
            y((function() {
                for (var r = t._v, i = 1 == t._s, o = 0, a = function(e) {
                    var n, o, a, s = i ? e.ok : e.fail, u = e.resolve, c = e.reject, l = e.domain;
                    try {
                        s ? (i || (2 == t._h && N(t),
                        t._h = 1),
                        !0 === s ? n = r : (l && l.enter(),
                        n = s(r),
                        l && (l.exit(),
                        a = !0)),
                        n === e.promise ? c(M("Promise-chain cycle")) : (o = C(n)) ? o.call(n, u, c) : u(n)) : c(r)
                    } catch (t) {
                        l && !a && l.exit(),
                        c(t)
                    }
                }; n.length > o; )
                    a(n[o++]);
                t._c = [],
                t._n = !1,
                e && !t._h && D(t)
            }
            ))
        }
    }, D = function(t) {
        g.call(u, (function() {
            var e, n, r, i = t._v, o = k(t);
            if (o && (e = x((function() {
                P ? S.emit("unhandledRejection", i, t) : (n = u.onunhandledrejection) ? n({
                    promise: t,
                    reason: i
                }) : (r = u.console) && r.error && r.error("Unhandled promise rejection", i)
            }
            )),
            t._h = P || k(t) ? 2 : 1),
            t._a = void 0,
            o && e.e)
                throw e.v
        }
        ))
    }, k = function(t) {
        return 1 !== t._h && 0 === (t._a || t._c).length
    }, N = function(t) {
        g.call(u, (function() {
            var e;
            P ? S.emit("rejectionHandled", t) : (e = u.onrejectionhandled) && e({
                promise: t,
                reason: t._v
            })
        }
        ))
    }, z = function(t) {
        var e = this;
        e._d || (e._d = !0,
        (e = e._w || e)._v = t,
        e._s = 2,
        e._a || (e._a = e._c.slice()),
        I(e, !0))
    }, j = function t(e) {
        var n, r = this;
        if (!r._d) {
            r._d = !0,
            r = r._w || r;
            try {
                if (r === e)
                    throw M("Promise can't be resolved itself");
                (n = C(e)) ? y((function() {
                    var i = {
                        _w: r,
                        _d: !1
                    };
                    try {
                        n.call(e, c(t, i, 1), c(z, i, 1))
                    } catch (t) {
                        z.call(i, t)
                    }
                }
                )) : (r._v = e,
                r._s = 1,
                I(r, !1))
            } catch (t) {
                z.call({
                    _w: r,
                    _d: !1
                }, t)
            }
        }
    };
    R || (A = function(t) {
        d(this, A, "Promise", "_h"),
        p(t),
        r.call(this);
        try {
            t(c(j, this, 1), c(z, this, 1))
        } catch (t) {
            z.call(this, t)
        }
    }
    ,
    (r = function(t) {
        this._c = [],
        this._a = void 0,
        this._s = 0,
        this._d = !1,
        this._v = void 0,
        this._h = 0,
        this._n = !1
    }
    ).prototype = n(53)(A.prototype, {
        then: function(t, e) {
            var n = O(v(this, A));
            return n.ok = "function" != typeof t || t,
            n.fail = "function" == typeof e && e,
            n.domain = P ? S.domain : void 0,
            this._c.push(n),
            this._a && this._a.push(n),
            this._s && I(this, !1),
            n.promise
        },
        catch: function(t) {
            return this.then(void 0, t)
        }
    }),
    o = function() {
        var t = new r;
        this.promise = t,
        this.resolve = c(j, t, 1),
        this.reject = c(z, t, 1)
    }
    ,
    b.f = O = function(t) {
        return t === A || t === a ? new o(t) : i(t)
    }
    ),
    h(h.G + h.W + h.F * !R, {
        Promise: A
    }),
    n(48)(A, "Promise"),
    n(51)("Promise"),
    a = n(9).Promise,
    h(h.S + h.F * !R, "Promise", {
        reject: function(t) {
            var e = O(this);
            return (0,
            e.reject)(t),
            e.promise
        }
    }),
    h(h.S + h.F * (s || !R), "Promise", {
        resolve: function(t) {
            return w(s && this === a ? A : this, t)
        }
    }),
    h(h.S + h.F * !(R && n(67)((function(t) {
        A.all(t).catch(L)
    }
    ))), "Promise", {
        all: function(t) {
            var e = this
              , n = O(e)
              , r = n.resolve
              , i = n.reject
              , o = x((function() {
                var n = []
                  , o = 0
                  , a = 1;
                m(t, !1, (function(t) {
                    var s = o++
                      , u = !1;
                    n.push(void 0),
                    a++,
                    e.resolve(t).then((function(t) {
                        u || (u = !0,
                        n[s] = t,
                        --a || r(n))
                    }
                    ), i)
                }
                )),
                --a || r(n)
            }
            ));
            return o.e && i(o.v),
            n.promise
        },
        race: function(t) {
            var e = this
              , n = O(e)
              , r = n.reject
              , i = x((function() {
                m(t, !1, (function(t) {
                    e.resolve(t).then(n.resolve, r)
                }
                ))
            }
            ));
            return i.e && r(i.v),
            n.promise
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(23);
    function i(t) {
        var e, n;
        this.promise = new t((function(t, r) {
            if (void 0 !== e || void 0 !== n)
                throw TypeError("Bad Promise constructor");
            e = t,
            n = r
        }
        )),
        this.resolve = r(e),
        this.reject = r(n)
    }
    t.exports.f = function(t) {
        return new i(t)
    }
}
, function(t, e, n) {
    var r = n(5)
      , i = n(6)
      , o = n(147);
    t.exports = function(t, e) {
        if (r(t),
        i(e) && e.constructor === t)
            return e;
        var n = o.f(t);
        return (0,
        n.resolve)(e),
        n.promise
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(11).f
      , i = n(43)
      , o = n(53)
      , a = n(22)
      , s = n(52)
      , u = n(71)
      , c = n(100)
      , l = n(143)
      , h = n(51)
      , f = n(10)
      , p = n(35).fastKey
      , d = n(47)
      , m = f ? "_s" : "size"
      , v = function(t, e) {
        var n, r = p(e);
        if ("F" !== r)
            return t._i[r];
        for (n = t._f; n; n = n.n)
            if (n.k == e)
                return n
    };
    t.exports = {
        getConstructor: function(t, e, n, c) {
            var l = t((function(t, r) {
                s(t, l, e, "_i"),
                t._t = e,
                t._i = i(null),
                t._f = void 0,
                t._l = void 0,
                t[m] = 0,
                null != r && u(r, n, t[c], t)
            }
            ));
            return o(l.prototype, {
                clear: function() {
                    for (var t = d(this, e), n = t._i, r = t._f; r; r = r.n)
                        r.r = !0,
                        r.p && (r.p = r.p.n = void 0),
                        delete n[r.i];
                    t._f = t._l = void 0,
                    t[m] = 0
                },
                delete: function(t) {
                    var n = d(this, e)
                      , r = v(n, t);
                    if (r) {
                        var i = r.n
                          , o = r.p;
                        delete n._i[r.i],
                        r.r = !0,
                        o && (o.n = i),
                        i && (i.p = o),
                        n._f == r && (n._f = i),
                        n._l == r && (n._l = o),
                        n[m]--
                    }
                    return !!r
                },
                forEach: function(t) {
                    d(this, e);
                    for (var n, r = a(t, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f; )
                        for (r(n.v, n.k, this); n && n.r; )
                            n = n.p
                },
                has: function(t) {
                    return !!v(d(this, e), t)
                }
            }),
            f && r(l.prototype, "size", {
                get: function() {
                    return d(this, e)[m]
                }
            }),
            l
        },
        def: function(t, e, n) {
            var r, i, o = v(t, e);
            return o ? o.v = n : (t._l = o = {
                i: i = p(e, !0),
                k: e,
                v: n,
                p: r = t._l,
                n: void 0,
                r: !1
            },
            t._f || (t._f = o),
            r && (r.n = o),
            t[m]++,
            "F" !== i && (t._i[i] = o)),
            t
        },
        getEntry: v,
        setStrong: function(t, e, n) {
            c(t, e, (function(t, n) {
                this._t = d(t, e),
                this._k = n,
                this._l = void 0
            }
            ), (function() {
                for (var t = this._k, e = this._l; e && e.r; )
                    e = e.p;
                return this._t && (this._l = e = e ? e.n : this._t._f) ? l(0, "keys" == t ? e.k : "values" == t ? e.v : [e.k, e.v]) : (this._t = void 0,
                l(1))
            }
            ), n ? "entries" : "values", !n, !0),
            h(e)
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(53)
      , i = n(35).getWeak
      , o = n(5)
      , a = n(6)
      , s = n(52)
      , u = n(71)
      , c = n(27)
      , l = n(18)
      , h = n(47)
      , f = c(5)
      , p = c(6)
      , d = 0
      , m = function(t) {
        return t._l || (t._l = new v)
    }
      , v = function() {
        this.a = []
    }
      , g = function(t, e) {
        return f(t.a, (function(t) {
            return t[0] === e
        }
        ))
    };
    v.prototype = {
        get: function(t) {
            var e = g(this, t);
            if (e)
                return e[1]
        },
        has: function(t) {
            return !!g(this, t)
        },
        set: function(t, e) {
            var n = g(this, t);
            n ? n[1] = e : this.a.push([t, e])
        },
        delete: function(t) {
            var e = p(this.a, (function(e) {
                return e[0] === t
            }
            ));
            return ~e && this.a.splice(e, 1),
            !!~e
        }
    },
    t.exports = {
        getConstructor: function(t, e, n, o) {
            var c = t((function(t, r) {
                s(t, c, e, "_i"),
                t._t = e,
                t._i = d++,
                t._l = void 0,
                null != r && u(r, n, t[o], t)
            }
            ));
            return r(c.prototype, {
                delete: function(t) {
                    if (!a(t))
                        return !1;
                    var n = i(t);
                    return !0 === n ? m(h(this, e)).delete(t) : n && l(n, this._i) && delete n[this._i]
                },
                has: function(t) {
                    if (!a(t))
                        return !1;
                    var n = i(t);
                    return !0 === n ? m(h(this, e)).has(t) : n && l(n, this._i)
                }
            }),
            c
        },
        def: function(t, e, n) {
            var r = i(o(e), !0);
            return !0 === r ? m(t).set(e, n) : r[t._i] = n,
            t
        },
        ufstore: m
    }
}
, function(t, e, n) {
    var r = n(24)
      , i = n(8);
    t.exports = function(t) {
        if (void 0 === t)
            return 0;
        var e = r(t)
          , n = i(e);
        if (e !== n)
            throw RangeError("Wrong length!");
        return n
    }
}
, function(t, e, n) {
    var r = n(44)
      , i = n(65)
      , o = n(5)
      , a = n(3).Reflect;
    t.exports = a && a.ownKeys || function(t) {
        var e = r.f(o(t))
          , n = i.f;
        return n ? e.concat(n(t)) : e
    }
}
, function(t, e, n) {
    var r = n(8)
      , i = n(96)
      , o = n(31);
    t.exports = function(t, e, n, a) {
        var s = String(o(t))
          , u = s.length
          , c = void 0 === n ? " " : String(n)
          , l = r(e);
        if (l <= u || "" == c)
            return s;
        var h = l - u
          , f = i.call(c, Math.ceil(h / c.length));
        return f.length > h && (f = f.slice(0, h)),
        a ? f + s : s + f
    }
}
, function(t, e, n) {
    var r = n(10)
      , i = n(41)
      , o = n(20)
      , a = n(57).f;
    t.exports = function(t) {
        return function(e) {
            for (var n, s = o(e), u = i(s), c = u.length, l = 0, h = []; c > l; )
                n = u[l++],
                r && !a.call(s, n) || h.push(t ? [n, s[n]] : s[n]);
            return h
        }
    }
}
, function(t, e) {
    var n = t.exports = {
        version: "2.6.11"
    };
    "number" == typeof __e && (__e = n)
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}
, function(t, e, n) {
    var r = n(380)
      , i = n(396)(r);
    t.exports = i
}
, function(t, e, n) {
    var r = n(385)
      , i = n(61)
      , o = Object.prototype
      , a = o.hasOwnProperty
      , s = o.propertyIsEnumerable
      , u = r(function() {
        return arguments
    }()) ? r : function(t) {
        return i(t) && a.call(t, "callee") && !s.call(t, "callee")
    }
    ;
    t.exports = u
}
, function(t, e, n) {
    (function(e) {
        function n(t) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
            )(t)
        }
        var r = "object" == (void 0 === e ? "undefined" : n(e)) && e && e.Object === Object && e;
        t.exports = r
    }
    ).call(this, n(116))
}
, function(t, e, n) {
    (function(t) {
        function r(t) {
            return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
            )(t)
        }
        var i = n(33)
          , o = n(388)
          , a = "object" == r(e) && e && !e.nodeType && e
          , s = a && "object" == r(t) && t && !t.nodeType && t
          , u = s && s.exports === a ? i.Buffer : void 0
          , c = (u ? u.isBuffer : void 0) || o;
        t.exports = c
    }
    ).call(this, n(75)(t))
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var r = /^(?:0|[1-9]\d*)$/;
    t.exports = function(t, e) {
        var i = n(t);
        return !!(e = null == e ? 9007199254740991 : e) && ("number" == i || "symbol" != i && r.test(t)) && t > -1 && t % 1 == 0 && t < e
    }
}
, function(t, e, n) {
    var r = n(389)
      , i = n(390)
      , o = n(391)
      , a = o && o.isTypedArray
      , s = a ? i(a) : r;
    t.exports = s
}
, function(t, e, n) {
    var r = n(60)
      , i = n(79);
    t.exports = function(t) {
        if (!i(t))
            return !1;
        var e = r(t);
        return "[object Function]" == e || "[object GeneratorFunction]" == e || "[object AsyncFunction]" == e || "[object Proxy]" == e
    }
}
, function(t, e) {
    t.exports = function(t) {
        return t
    }
}
, function(t, e, n) {
    var r = n(118);
    t.exports = function(t) {
        return t ? (t = r(t)) === 1 / 0 || t === -1 / 0 ? 17976931348623157e292 * (t < 0 ? -1 : 1) : t == t ? t : 0 : 0 === t ? t : 0
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i, o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }(), a = function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t,
        e
    }(n(1)), s = n(36), u = (i = s) && i.__esModule ? i : {
        default: i
    };
    var c = function(t) {
        function e(t, n) {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var i = function(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" !== r(e) && "function" != typeof e ? t : e
            }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
            return i.textureID = void 0 !== n ? n : "tDiffuse",
            t instanceof a.ShaderMaterial ? (i.uniforms = t.uniforms,
            i.material = t) : t && (i.uniforms = a.UniformsUtils.clone(t.uniforms),
            i.material = new a.ShaderMaterial({
                defines: Object.assign({}, t.defines),
                uniforms: i.uniforms,
                vertexShader: t.vertexShader,
                fragmentShader: t.fragmentShader
            })),
            i.fsQuad = new u.default.FullScreenQuad(i.material),
            i
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + r(e));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }(e, t),
        o(e, [{
            key: "render",
            value: function(t, e, n) {
                this.uniforms[this.textureID] && (this.uniforms[this.textureID].value = n.texture),
                this.fsQuad.material = this.material,
                this.renderToScreen ? (t.setRenderTarget(null),
                this.fsQuad.render(t)) : (t.setRenderTarget(e),
                this.clear && t.clear(t.autoClearColor, t.autoClearDepth, t.autoClearStencil),
                this.fsQuad.render(t))
            }
        }]),
        e
    }(u.default);
    e.default = c
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i, o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }(), a = n(36);
    var s = function(t) {
        function e(t, n) {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var i = function(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" !== r(e) && "function" != typeof e ? t : e
            }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
            return i.scene = t,
            i.camera = n,
            i.clear = !0,
            i.needsSwap = !1,
            i.inverse = !1,
            i
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + r(e));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }(e, t),
        o(e, [{
            key: "render",
            value: function(t, e, n) {
                var r = t.context
                  , i = t.state;
                i.buffers.color.setMask(!1),
                i.buffers.depth.setMask(!1),
                i.buffers.color.setLocked(!0),
                i.buffers.depth.setLocked(!0);
                var o = void 0
                  , a = void 0;
                this.inverse ? (o = 0,
                a = 1) : (o = 1,
                a = 0),
                i.buffers.stencil.setTest(!0),
                i.buffers.stencil.setOp(r.REPLACE, r.REPLACE, r.REPLACE),
                i.buffers.stencil.setFunc(r.ALWAYS, o, 4294967295),
                i.buffers.stencil.setClear(a),
                t.setRenderTarget(n),
                this.clear && t.clear(),
                t.render(this.scene, this.camera),
                t.setRenderTarget(e),
                this.clear && t.clear(),
                t.render(this.scene, this.camera),
                i.buffers.color.setLocked(!1),
                i.buffers.depth.setLocked(!1),
                i.buffers.stencil.setFunc(r.EQUAL, 1, 4294967295),
                i.buffers.stencil.setOp(r.KEEP, r.KEEP, r.KEEP)
            }
        }]),
        e
    }(((i = a) && i.__esModule ? i : {
        default: i
    }).default);
    e.default = s
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i, o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }(), a = n(36);
    var s = function(t) {
        function e() {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var t = function(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" !== r(e) && "function" != typeof e ? t : e
            }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
            return t.needsSwap = !1,
            t
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + r(e));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }(e, t),
        o(e, [{
            key: "render",
            value: function(t) {
                t.state.buffers.stencil.setTest(!1)
            }
        }]),
        e
    }(((i = a) && i.__esModule ? i : {
        default: i
    }).default);
    e.default = s
}
, function(t, e, n) {
    var r = n(81)
      , i = n(413)
      , o = n(414)
      , a = n(415)
      , s = n(416)
      , u = n(417);
    function c(t) {
        var e = this.__data__ = new r(t);
        this.size = e.size
    }
    c.prototype.clear = i,
    c.prototype.delete = o,
    c.prototype.get = a,
    c.prototype.has = s,
    c.prototype.set = u,
    t.exports = c
}
, function(t, e) {
    t.exports = function(t, e) {
        return t === e || t != t && e != e
    }
}
, function(t, e) {
    var n = Function.prototype.toString;
    t.exports = function(t) {
        if (null != t) {
            try {
                return n.call(t)
            } catch (t) {}
            try {
                return t + ""
            } catch (t) {}
        }
        return ""
    }
}
, function(t, e, n) {
    var r = n(434)
      , i = n(61);
    t.exports = function t(e, n, o, a, s) {
        return e === n || (null == e || null == n || !i(e) && !i(n) ? e != e && n != n : r(e, n, o, a, t, s))
    }
}
, function(t, e, n) {
    var r = n(435)
      , i = n(438)
      , o = n(439);
    t.exports = function(t, e, n, a, s, u) {
        var c = 1 & n
          , l = t.length
          , h = e.length;
        if (l != h && !(c && h > l))
            return !1;
        var f = u.get(t);
        if (f && u.get(e))
            return f == e;
        var p = -1
          , d = !0
          , m = 2 & n ? new r : void 0;
        for (u.set(t, e),
        u.set(e, t); ++p < l; ) {
            var v = t[p]
              , g = e[p];
            if (a)
                var y = c ? a(g, v, p, e, t, u) : a(v, g, p, t, e, u);
            if (void 0 !== y) {
                if (y)
                    continue;
                d = !1;
                break
            }
            if (m) {
                if (!i(e, (function(t, e) {
                    if (!o(m, e) && (v === t || s(v, t, n, a, u)))
                        return m.push(e)
                }
                ))) {
                    d = !1;
                    break
                }
            } else if (v !== g && !s(v, g, n, a, u)) {
                d = !1;
                break
            }
        }
        return u.delete(t),
        u.delete(e),
        d
    }
}
, function(t, e, n) {
    var r = n(79);
    t.exports = function(t) {
        return t == t && !r(t)
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return function(n) {
            return null != n && (n[t] === e && (void 0 !== e || t in Object(n)))
        }
    }
}
, function(t, e, n) {
    var r = n(177)
      , i = n(85);
    t.exports = function(t, e) {
        for (var n = 0, o = (e = r(e, t)).length; null != t && n < o; )
            t = t[i(e[n++])];
        return n && n == o ? t : void 0
    }
}
, function(t, e, n) {
    var r = n(28)
      , i = n(123)
      , o = n(459)
      , a = n(462);
    t.exports = function(t, e) {
        return r(t) ? t : i(t, e) ? [t] : o(a(t))
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, r = null == t ? 0 : t.length, i = Array(r); ++n < r; )
            i[n] = e(t[n], n, t);
        return i
    }
}
, function(t, e) {
    (function(e) {
        t.exports = e
    }
    ).call(this, {})
}
, function(t, e, n) {
    var r, i, o;
    function a(t) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    o = function() {
        var t = function t() {
            function e(t) {
                return i.appendChild(t.dom),
                t
            }
            function n(t) {
                for (var e = 0; e < i.children.length; e++)
                    i.children[e].style.display = e === t ? "block" : "none";
                r = t
            }
            var r = 0
              , i = document.createElement("div");
            i.style.cssText = "position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",
            i.addEventListener("click", (function(t) {
                t.preventDefault(),
                n(++r % i.children.length)
            }
            ), !1);
            var o = (performance || Date).now()
              , a = o
              , s = 0
              , u = e(new t.Panel("FPS","#0ff","#002"))
              , c = e(new t.Panel("MS","#0f0","#020"));
            if (self.performance && self.performance.memory)
                var l = e(new t.Panel("MB","#f08","#201"));
            return n(0),
            {
                REVISION: 16,
                dom: i,
                addPanel: e,
                showPanel: n,
                begin: function() {
                    o = (performance || Date).now()
                },
                end: function() {
                    s++;
                    var t = (performance || Date).now();
                    if (c.update(t - o, 200),
                    t > a + 1e3 && (u.update(1e3 * s / (t - a), 100),
                    a = t,
                    s = 0,
                    l)) {
                        var e = performance.memory;
                        l.update(e.usedJSHeapSize / 1048576, e.jsHeapSizeLimit / 1048576)
                    }
                    return t
                },
                update: function() {
                    o = this.end()
                },
                domElement: i,
                setMode: n
            }
        };
        return t.Panel = function(t, e, n) {
            var r = 1 / 0
              , i = 0
              , o = Math.round
              , a = o(window.devicePixelRatio || 1)
              , s = 80 * a
              , u = 48 * a
              , c = 3 * a
              , l = 2 * a
              , h = 3 * a
              , f = 15 * a
              , p = 74 * a
              , d = 30 * a
              , m = document.createElement("canvas");
            m.width = s,
            m.height = u,
            m.style.cssText = "width:80px;height:48px";
            var v = m.getContext("2d");
            return v.font = "bold " + 9 * a + "px Helvetica,Arial,sans-serif",
            v.textBaseline = "top",
            v.fillStyle = n,
            v.fillRect(0, 0, s, u),
            v.fillStyle = e,
            v.fillText(t, c, l),
            v.fillRect(h, f, p, d),
            v.fillStyle = n,
            v.globalAlpha = .9,
            v.fillRect(h, f, p, d),
            {
                dom: m,
                update: function(u, g) {
                    r = Math.min(r, u),
                    i = Math.max(i, u),
                    v.fillStyle = n,
                    v.globalAlpha = 1,
                    v.fillRect(0, 0, s, f),
                    v.fillStyle = e,
                    v.fillText(o(u) + " " + t + " (" + o(r) + "-" + o(i) + ")", c, l),
                    v.drawImage(m, h + a, f, p - a, d, h, f, p - a, d),
                    v.fillRect(h + p - a, f, a, d),
                    v.fillStyle = n,
                    v.globalAlpha = .9,
                    v.fillRect(h + p - a, f, a, o((1 - u / g) * d))
                }
            }
        }
        ,
        t
    }
    ,
    "object" === a(e) && void 0 !== t ? t.exports = o() : void 0 === (i = "function" == typeof (r = o) ? r.call(e, n, e, t) : r) || (t.exports = i)
}
, function(t, e) {
    t.exports = function(t) {
        var e = null == t ? 0 : t.length;
        return e ? t[e - 1] : void 0
    }
}
, function(t, e, n) {
    t.exports = n.p + "892899dc2306fbd9b666e867fef36bca.png"
}
, function(t, e, n) {
    t.exports = n.p + "6f961813d7caa9a22e7a506cecd364e1.webp"
}
, function(t, e) {
    t.exports = function() {}
}
, function(t, e, n) {
    "use strict";
    (function(t) {
        var n = function() {
            if ("undefined" != typeof Map)
                return Map;
            function t(t, e) {
                var n = -1;
                return t.some((function(t, r) {
                    return t[0] === e && (n = r,
                    !0)
                }
                )),
                n
            }
            return (function() {
                function e() {
                    this.__entries__ = []
                }
                return Object.defineProperty(e.prototype, "size", {
                    get: function() {
                        return this.__entries__.length
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.get = function(e) {
                    var n = t(this.__entries__, e)
                      , r = this.__entries__[n];
                    return r && r[1]
                }
                ,
                e.prototype.set = function(e, n) {
                    var r = t(this.__entries__, e);
                    ~r ? this.__entries__[r][1] = n : this.__entries__.push([e, n])
                }
                ,
                e.prototype.delete = function(e) {
                    var n = this.__entries__
                      , r = t(n, e);
                    ~r && n.splice(r, 1)
                }
                ,
                e.prototype.has = function(e) {
                    return !!~t(this.__entries__, e)
                }
                ,
                e.prototype.clear = function() {
                    this.__entries__.splice(0)
                }
                ,
                e.prototype.forEach = function(t, e) {
                    void 0 === e && (e = null);
                    for (var n = 0, r = this.__entries__; n < r.length; n++) {
                        var i = r[n];
                        t.call(e, i[1], i[0])
                    }
                }
                ,
                e
            }())
        }()
          , r = "undefined" != typeof window && "undefined" != typeof document && window.document === document
          , i = void 0 !== t && t.Math === Math ? t : "undefined" != typeof self && self.Math === Math ? self : "undefined" != typeof window && window.Math === Math ? window : Function("return this")()
          , o = "function" == typeof requestAnimationFrame ? requestAnimationFrame.bind(i) : function(t) {
            return setTimeout((function() {
                return t(Date.now())
            }
            ), 1e3 / 60)
        }
        ;
        var a = ["top", "right", "bottom", "left", "width", "height", "size", "weight"]
          , s = "undefined" != typeof MutationObserver
          , u = function() {
            function t() {
                this.connected_ = !1,
                this.mutationEventsAdded_ = !1,
                this.mutationsObserver_ = null,
                this.observers_ = [],
                this.onTransitionEnd_ = this.onTransitionEnd_.bind(this),
                this.refresh = function(t, e) {
                    var n = !1
                      , r = !1
                      , i = 0;
                    function a() {
                        n && (n = !1,
                        t()),
                        r && u()
                    }
                    function s() {
                        o(a)
                    }
                    function u() {
                        var t = Date.now();
                        if (n) {
                            if (t - i < 2)
                                return;
                            r = !0
                        } else
                            n = !0,
                            r = !1,
                            setTimeout(s, e);
                        i = t
                    }
                    return u
                }(this.refresh.bind(this), 20)
            }
            return t.prototype.addObserver = function(t) {
                ~this.observers_.indexOf(t) || this.observers_.push(t),
                this.connected_ || this.connect_()
            }
            ,
            t.prototype.removeObserver = function(t) {
                var e = this.observers_
                  , n = e.indexOf(t);
                ~n && e.splice(n, 1),
                !e.length && this.connected_ && this.disconnect_()
            }
            ,
            t.prototype.refresh = function() {
                this.updateObservers_() && this.refresh()
            }
            ,
            t.prototype.updateObservers_ = function() {
                var t = this.observers_.filter((function(t) {
                    return t.gatherActive(),
                    t.hasActive()
                }
                ));
                return t.forEach((function(t) {
                    return t.broadcastActive()
                }
                )),
                t.length > 0
            }
            ,
            t.prototype.connect_ = function() {
                r && !this.connected_ && (document.addEventListener("transitionend", this.onTransitionEnd_),
                window.addEventListener("resize", this.refresh),
                s ? (this.mutationsObserver_ = new MutationObserver(this.refresh),
                this.mutationsObserver_.observe(document, {
                    attributes: !0,
                    childList: !0,
                    characterData: !0,
                    subtree: !0
                })) : (document.addEventListener("DOMSubtreeModified", this.refresh),
                this.mutationEventsAdded_ = !0),
                this.connected_ = !0)
            }
            ,
            t.prototype.disconnect_ = function() {
                r && this.connected_ && (document.removeEventListener("transitionend", this.onTransitionEnd_),
                window.removeEventListener("resize", this.refresh),
                this.mutationsObserver_ && this.mutationsObserver_.disconnect(),
                this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh),
                this.mutationsObserver_ = null,
                this.mutationEventsAdded_ = !1,
                this.connected_ = !1)
            }
            ,
            t.prototype.onTransitionEnd_ = function(t) {
                var e = t.propertyName
                  , n = void 0 === e ? "" : e;
                a.some((function(t) {
                    return !!~n.indexOf(t)
                }
                )) && this.refresh()
            }
            ,
            t.getInstance = function() {
                return this.instance_ || (this.instance_ = new t),
                this.instance_
            }
            ,
            t.instance_ = null,
            t
        }()
          , c = function(t, e) {
            for (var n = 0, r = Object.keys(e); n < r.length; n++) {
                var i = r[n];
                Object.defineProperty(t, i, {
                    value: e[i],
                    enumerable: !1,
                    writable: !1,
                    configurable: !0
                })
            }
            return t
        }
          , l = function(t) {
            return t && t.ownerDocument && t.ownerDocument.defaultView || i
        }
          , h = g(0, 0, 0, 0);
        function f(t) {
            return parseFloat(t) || 0
        }
        function p(t) {
            for (var e = [], n = 1; n < arguments.length; n++)
                e[n - 1] = arguments[n];
            return e.reduce((function(e, n) {
                return e + f(t["border-" + n + "-width"])
            }
            ), 0)
        }
        function d(t) {
            var e = t.clientWidth
              , n = t.clientHeight;
            if (!e && !n)
                return h;
            var r = l(t).getComputedStyle(t)
              , i = function(t) {
                for (var e = {}, n = 0, r = ["top", "right", "bottom", "left"]; n < r.length; n++) {
                    var i = r[n]
                      , o = t["padding-" + i];
                    e[i] = f(o)
                }
                return e
            }(r)
              , o = i.left + i.right
              , a = i.top + i.bottom
              , s = f(r.width)
              , u = f(r.height);
            if ("border-box" === r.boxSizing && (Math.round(s + o) !== e && (s -= p(r, "left", "right") + o),
            Math.round(u + a) !== n && (u -= p(r, "top", "bottom") + a)),
            !function(t) {
                return t === l(t).document.documentElement
            }(t)) {
                var c = Math.round(s + o) - e
                  , d = Math.round(u + a) - n;
                1 !== Math.abs(c) && (s -= c),
                1 !== Math.abs(d) && (u -= d)
            }
            return g(i.left, i.top, s, u)
        }
        var m = "undefined" != typeof SVGGraphicsElement ? function(t) {
            return t instanceof l(t).SVGGraphicsElement
        }
        : function(t) {
            return t instanceof l(t).SVGElement && "function" == typeof t.getBBox
        }
        ;
        function v(t) {
            return r ? m(t) ? function(t) {
                var e = t.getBBox();
                return g(0, 0, e.width, e.height)
            }(t) : d(t) : h
        }
        function g(t, e, n, r) {
            return {
                x: t,
                y: e,
                width: n,
                height: r
            }
        }
        var y = function() {
            function t(t) {
                this.broadcastWidth = 0,
                this.broadcastHeight = 0,
                this.contentRect_ = g(0, 0, 0, 0),
                this.target = t
            }
            return t.prototype.isActive = function() {
                var t = v(this.target);
                return this.contentRect_ = t,
                t.width !== this.broadcastWidth || t.height !== this.broadcastHeight
            }
            ,
            t.prototype.broadcastRect = function() {
                var t = this.contentRect_;
                return this.broadcastWidth = t.width,
                this.broadcastHeight = t.height,
                t
            }
            ,
            t
        }()
          , b = function(t, e) {
            var n, r, i, o, a, s, u, l = (r = (n = e).x,
            i = n.y,
            o = n.width,
            a = n.height,
            s = "undefined" != typeof DOMRectReadOnly ? DOMRectReadOnly : Object,
            u = Object.create(s.prototype),
            c(u, {
                x: r,
                y: i,
                width: o,
                height: a,
                top: i,
                right: r + o,
                bottom: a + i,
                left: r
            }),
            u);
            c(this, {
                target: t,
                contentRect: l
            })
        }
          , x = function() {
            function t(t, e, r) {
                if (this.activeObservations_ = [],
                this.observations_ = new n,
                "function" != typeof t)
                    throw new TypeError("The callback provided as parameter 1 is not a function.");
                this.callback_ = t,
                this.controller_ = e,
                this.callbackCtx_ = r
            }
            return t.prototype.observe = function(t) {
                if (!arguments.length)
                    throw new TypeError("1 argument required, but only 0 present.");
                if ("undefined" != typeof Element && Element instanceof Object) {
                    if (!(t instanceof l(t).Element))
                        throw new TypeError('parameter 1 is not of type "Element".');
                    var e = this.observations_;
                    e.has(t) || (e.set(t, new y(t)),
                    this.controller_.addObserver(this),
                    this.controller_.refresh())
                }
            }
            ,
            t.prototype.unobserve = function(t) {
                if (!arguments.length)
                    throw new TypeError("1 argument required, but only 0 present.");
                if ("undefined" != typeof Element && Element instanceof Object) {
                    if (!(t instanceof l(t).Element))
                        throw new TypeError('parameter 1 is not of type "Element".');
                    var e = this.observations_;
                    e.has(t) && (e.delete(t),
                    e.size || this.controller_.removeObserver(this))
                }
            }
            ,
            t.prototype.disconnect = function() {
                this.clearActive(),
                this.observations_.clear(),
                this.controller_.removeObserver(this)
            }
            ,
            t.prototype.gatherActive = function() {
                var t = this;
                this.clearActive(),
                this.observations_.forEach((function(e) {
                    e.isActive() && t.activeObservations_.push(e)
                }
                ))
            }
            ,
            t.prototype.broadcastActive = function() {
                if (this.hasActive()) {
                    var t = this.callbackCtx_
                      , e = this.activeObservations_.map((function(t) {
                        return new b(t.target,t.broadcastRect())
                    }
                    ));
                    this.callback_.call(t, e, t),
                    this.clearActive()
                }
            }
            ,
            t.prototype.clearActive = function() {
                this.activeObservations_.splice(0)
            }
            ,
            t.prototype.hasActive = function() {
                return this.activeObservations_.length > 0
            }
            ,
            t
        }()
          , _ = "undefined" != typeof WeakMap ? new WeakMap : new n
          , w = function t(e) {
            if (!(this instanceof t))
                throw new TypeError("Cannot call a class as a function.");
            if (!arguments.length)
                throw new TypeError("1 argument required, but only 0 present.");
            var n = u.getInstance()
              , r = new x(e,n,this);
            _.set(this, r)
        };
        ["observe", "unobserve", "disconnect"].forEach((function(t) {
            w.prototype[t] = function() {
                var e;
                return (e = _.get(this))[t].apply(e, arguments)
            }
        }
        ));
        var M = void 0 !== i.ResizeObserver ? i.ResizeObserver : w;
        e.a = M
    }
    ).call(this, n(116))
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        return function(t) {
            if (Array.isArray(t))
                return t
        }(t) || function(t, e) {
            if (!(Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)))
                return;
            var n = []
              , r = !0
              , i = !1
              , o = void 0;
            try {
                for (var a, s = t[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value),
                !e || n.length !== e); r = !0)
                    ;
            } catch (t) {
                i = !0,
                o = t
            } finally {
                try {
                    r || null == s.return || s.return()
                } finally {
                    if (i)
                        throw o
                }
            }
            return n
        }(t, e) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }
    function i(t) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function o(t) {
        return function(t) {
            if (Array.isArray(t)) {
                for (var e = 0, n = new Array(t.length); e < t.length; e++)
                    n[e] = t[e];
                return n
            }
        }(t) || function(t) {
            if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t))
                return Array.from(t)
        }(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }
    var a = n(474)
      , s = n(475)
      , u = n(476);
    function c(t) {
        if ("string" != typeof t || 1 !== t.length)
            throw new TypeError("arrayFormatSeparator must be single character string")
    }
    function l(t, e) {
        return e.encode ? e.strict ? a(t) : encodeURIComponent(t) : t
    }
    function h(t, e) {
        return e.decode ? s(t) : t
    }
    function f(t) {
        var e = t.indexOf("#");
        return -1 !== e && (t = t.slice(0, e)),
        t
    }
    function p(t) {
        var e = (t = f(t)).indexOf("?");
        return -1 === e ? "" : t.slice(e + 1)
    }
    function d(t, e) {
        return e.parseNumbers && !Number.isNaN(Number(t)) && "string" == typeof t && "" !== t.trim() ? t = Number(t) : !e.parseBooleans || null === t || "true" !== t.toLowerCase() && "false" !== t.toLowerCase() || (t = "true" === t.toLowerCase()),
        t
    }
    function m(t, e) {
        c((e = Object.assign({
            decode: !0,
            sort: !0,
            arrayFormat: "none",
            arrayFormatSeparator: ",",
            parseNumbers: !1,
            parseBooleans: !1
        }, e)).arrayFormatSeparator);
        var n = function(t) {
            var e;
            switch (t.arrayFormat) {
            case "index":
                return function(t, n, r) {
                    e = /\[(\d*)\]$/.exec(t),
                    t = t.replace(/\[\d*\]$/, ""),
                    e ? (void 0 === r[t] && (r[t] = {}),
                    r[t][e[1]] = n) : r[t] = n
                }
                ;
            case "bracket":
                return function(t, n, r) {
                    e = /(\[\])$/.exec(t),
                    t = t.replace(/\[\]$/, ""),
                    e ? void 0 !== r[t] ? r[t] = [].concat(r[t], n) : r[t] = [n] : r[t] = n
                }
                ;
            case "comma":
            case "separator":
                return function(e, n, r) {
                    var i = "string" == typeof n && n.split("").indexOf(t.arrayFormatSeparator) > -1 ? n.split(t.arrayFormatSeparator).map((function(e) {
                        return h(e, t)
                    }
                    )) : null === n ? n : h(n, t);
                    r[e] = i
                }
                ;
            default:
                return function(t, e, n) {
                    void 0 !== n[t] ? n[t] = [].concat(n[t], e) : n[t] = e
                }
            }
        }(e)
          , o = Object.create(null);
        if ("string" != typeof t)
            return o;
        if (!(t = t.trim().replace(/^[?#&]/, "")))
            return o;
        var a = !0
          , s = !1
          , l = void 0;
        try {
            for (var f, p = t.split("&")[Symbol.iterator](); !(a = (f = p.next()).done); a = !0) {
                var m = f.value
                  , v = r(u(e.decode ? m.replace(/\+/g, " ") : m, "="), 2)
                  , g = v[0]
                  , y = v[1];
                y = void 0 === y ? null : ["comma", "separator"].includes(e.arrayFormat) ? y : h(y, e),
                n(h(g, e), y, o)
            }
        } catch (t) {
            s = !0,
            l = t
        } finally {
            try {
                a || null == p.return || p.return()
            } finally {
                if (s)
                    throw l
            }
        }
        for (var b = 0, x = Object.keys(o); b < x.length; b++) {
            var _ = x[b]
              , w = o[_];
            if ("object" === i(w) && null !== w)
                for (var M = 0, S = Object.keys(w); M < S.length; M++) {
                    var E = S[M];
                    w[E] = d(w[E], e)
                }
            else
                o[_] = d(w, e)
        }
        return !1 === e.sort ? o : (!0 === e.sort ? Object.keys(o).sort() : Object.keys(o).sort(e.sort)).reduce((function(t, e) {
            var n = o[e];
            return Boolean(n) && "object" === i(n) && !Array.isArray(n) ? t[e] = function t(e) {
                return Array.isArray(e) ? e.sort() : "object" === i(e) ? t(Object.keys(e)).sort((function(t, e) {
                    return Number(t) - Number(e)
                }
                )).map((function(t) {
                    return e[t]
                }
                )) : e
            }(n) : t[e] = n,
            t
        }
        ), Object.create(null))
    }
    e.extract = p,
    e.parse = m,
    e.stringify = function(t, e) {
        if (!t)
            return "";
        c((e = Object.assign({
            encode: !0,
            strict: !0,
            arrayFormat: "none",
            arrayFormatSeparator: ","
        }, e)).arrayFormatSeparator);
        for (var n = function(n) {
            return e.skipNull && null == t[n] || e.skipEmptyString && "" === t[n]
        }, r = function(t) {
            switch (t.arrayFormat) {
            case "index":
                return function(e) {
                    return function(n, r) {
                        var i = n.length;
                        return void 0 === r || t.skipNull && null === r || t.skipEmptyString && "" === r ? n : [].concat(o(n), null === r ? [[l(e, t), "[", i, "]"].join("")] : [[l(e, t), "[", l(i, t), "]=", l(r, t)].join("")])
                    }
                }
                ;
            case "bracket":
                return function(e) {
                    return function(n, r) {
                        return void 0 === r || t.skipNull && null === r || t.skipEmptyString && "" === r ? n : [].concat(o(n), null === r ? [[l(e, t), "[]"].join("")] : [[l(e, t), "[]=", l(r, t)].join("")])
                    }
                }
                ;
            case "comma":
            case "separator":
                return function(e) {
                    return function(n, r) {
                        return null == r || 0 === r.length ? n : 0 === n.length ? [[l(e, t), "=", l(r, t)].join("")] : [[n, l(r, t)].join(t.arrayFormatSeparator)]
                    }
                }
                ;
            default:
                return function(e) {
                    return function(n, r) {
                        return void 0 === r || t.skipNull && null === r || t.skipEmptyString && "" === r ? n : [].concat(o(n), null === r ? [l(e, t)] : [[l(e, t), "=", l(r, t)].join("")])
                    }
                }
            }
        }(e), i = {}, a = 0, s = Object.keys(t); a < s.length; a++) {
            var u = s[a];
            n(u) || (i[u] = t[u])
        }
        var h = Object.keys(i);
        return !1 !== e.sort && h.sort(e.sort),
        h.map((function(n) {
            var i = t[n];
            return void 0 === i ? "" : null === i ? l(n, e) : Array.isArray(i) ? i.reduce(r(n), []).join("&") : l(n, e) + "=" + l(i, e)
        }
        )).filter((function(t) {
            return t.length > 0
        }
        )).join("&")
    }
    ,
    e.parseUrl = function(t, e) {
        return {
            url: f(t).split("?")[0] || "",
            query: m(p(t), e)
        }
    }
    ,
    e.stringifyUrl = function(t, n) {
        var r = f(t.url).split("?")[0] || ""
          , i = e.extract(t.url)
          , o = e.parse(i)
          , a = function(t) {
            var e = ""
              , n = t.indexOf("#");
            return -1 !== n && (e = t.slice(n)),
            e
        }(t.url)
          , s = Object.assign(o, t.query)
          , u = e.stringify(s, n);
        return u && (u = "?".concat(u)),
        "".concat(r).concat(u).concat(a)
    }
}
, function(t, e, n) {
    n(478),
    t.exports = n(477)
}
, function(t, e, n) {
    "use strict";
    n(189);
    var r, i = (r = n(361)) && r.__esModule ? r : {
        default: r
    };
    i.default._babelPolyfill && "undefined" != typeof console && console.warn && console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),
    i.default._babelPolyfill = !0
}
, function(t, e, n) {
    "use strict";
    n(190),
    n(333),
    n(335),
    n(338),
    n(340),
    n(342),
    n(344),
    n(346),
    n(348),
    n(350),
    n(352),
    n(354),
    n(356),
    n(360)
}
, function(t, e, n) {
    n(191),
    n(194),
    n(195),
    n(196),
    n(197),
    n(198),
    n(199),
    n(200),
    n(201),
    n(202),
    n(203),
    n(204),
    n(205),
    n(206),
    n(207),
    n(208),
    n(209),
    n(210),
    n(211),
    n(212),
    n(213),
    n(214),
    n(215),
    n(216),
    n(217),
    n(218),
    n(219),
    n(220),
    n(221),
    n(222),
    n(223),
    n(224),
    n(225),
    n(226),
    n(227),
    n(228),
    n(229),
    n(230),
    n(231),
    n(232),
    n(233),
    n(234),
    n(235),
    n(237),
    n(238),
    n(239),
    n(240),
    n(241),
    n(242),
    n(243),
    n(244),
    n(245),
    n(246),
    n(247),
    n(248),
    n(249),
    n(250),
    n(251),
    n(252),
    n(253),
    n(254),
    n(255),
    n(256),
    n(257),
    n(258),
    n(259),
    n(260),
    n(261),
    n(262),
    n(263),
    n(264),
    n(265),
    n(266),
    n(267),
    n(268),
    n(269),
    n(270),
    n(272),
    n(273),
    n(275),
    n(276),
    n(277),
    n(278),
    n(279),
    n(280),
    n(281),
    n(283),
    n(284),
    n(285),
    n(286),
    n(287),
    n(288),
    n(289),
    n(290),
    n(291),
    n(292),
    n(293),
    n(294),
    n(295),
    n(108),
    n(296),
    n(144),
    n(297),
    n(145),
    n(298),
    n(299),
    n(300),
    n(301),
    n(146),
    n(304),
    n(305),
    n(306),
    n(307),
    n(308),
    n(309),
    n(310),
    n(311),
    n(312),
    n(313),
    n(314),
    n(315),
    n(316),
    n(317),
    n(318),
    n(319),
    n(320),
    n(321),
    n(322),
    n(323),
    n(324),
    n(325),
    n(326),
    n(327),
    n(328),
    n(329),
    n(330),
    n(331),
    n(332),
    t.exports = n(9)
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = n(3)
      , o = n(18)
      , a = n(10)
      , s = n(0)
      , u = n(16)
      , c = n(35).KEY
      , l = n(4)
      , h = n(63)
      , f = n(48)
      , p = n(39)
      , d = n(7)
      , m = n(89)
      , v = n(125)
      , g = n(193)
      , y = n(66)
      , b = n(5)
      , x = n(6)
      , _ = n(14)
      , w = n(20)
      , M = n(34)
      , S = n(38)
      , E = n(43)
      , T = n(128)
      , A = n(25)
      , P = n(65)
      , L = n(11)
      , O = n(41)
      , R = A.f
      , C = L.f
      , I = T.f
      , D = i.Symbol
      , k = i.JSON
      , N = k && k.stringify
      , z = d("_hidden")
      , j = d("toPrimitive")
      , F = {}.propertyIsEnumerable
      , B = h("symbol-registry")
      , U = h("symbols")
      , G = h("op-symbols")
      , H = Object.prototype
      , V = "function" == typeof D && !!P.f
      , W = i.QObject
      , q = !W || !W.prototype || !W.prototype.findChild
      , X = a && l((function() {
        return 7 != E(C({}, "a", {
            get: function() {
                return C(this, "a", {
                    value: 7
                }).a
            }
        })).a
    }
    )) ? function(t, e, n) {
        var r = R(H, e);
        r && delete H[e],
        C(t, e, n),
        r && t !== H && C(H, e, r)
    }
    : C
      , Y = function(t) {
        var e = U[t] = E(D.prototype);
        return e._k = t,
        e
    }
      , Z = V && "symbol" == r(D.iterator) ? function(t) {
        return "symbol" == r(t)
    }
    : function(t) {
        return t instanceof D
    }
      , J = function(t, e, n) {
        return t === H && J(G, e, n),
        b(t),
        e = M(e, !0),
        b(n),
        o(U, e) ? (n.enumerable ? (o(t, z) && t[z][e] && (t[z][e] = !1),
        n = E(n, {
            enumerable: S(0, !1)
        })) : (o(t, z) || C(t, z, S(1, {})),
        t[z][e] = !0),
        X(t, e, n)) : C(t, e, n)
    }
      , Q = function(t, e) {
        b(t);
        for (var n, r = g(e = w(e)), i = 0, o = r.length; o > i; )
            J(t, n = r[i++], e[n]);
        return t
    }
      , K = function(t) {
        var e = F.call(this, t = M(t, !0));
        return !(this === H && o(U, t) && !o(G, t)) && (!(e || !o(this, t) || !o(U, t) || o(this, z) && this[z][t]) || e)
    }
      , $ = function(t, e) {
        if (t = w(t),
        e = M(e, !0),
        t !== H || !o(U, e) || o(G, e)) {
            var n = R(t, e);
            return !n || !o(U, e) || o(t, z) && t[z][e] || (n.enumerable = !0),
            n
        }
    }
      , tt = function(t) {
        for (var e, n = I(w(t)), r = [], i = 0; n.length > i; )
            o(U, e = n[i++]) || e == z || e == c || r.push(e);
        return r
    }
      , et = function(t) {
        for (var e, n = t === H, r = I(n ? G : w(t)), i = [], a = 0; r.length > a; )
            !o(U, e = r[a++]) || n && !o(H, e) || i.push(U[e]);
        return i
    };
    V || (u((D = function() {
        if (this instanceof D)
            throw TypeError("Symbol is not a constructor!");
        var t = p(arguments.length > 0 ? arguments[0] : void 0)
          , e = function e(n) {
            this === H && e.call(G, n),
            o(this, z) && o(this[z], t) && (this[z][t] = !1),
            X(this, t, S(1, n))
        };
        return a && q && X(H, t, {
            configurable: !0,
            set: e
        }),
        Y(t)
    }
    ).prototype, "toString", (function() {
        return this._k
    }
    )),
    A.f = $,
    L.f = J,
    n(44).f = T.f = tt,
    n(57).f = K,
    P.f = et,
    a && !n(40) && u(H, "propertyIsEnumerable", K, !0),
    m.f = function(t) {
        return Y(d(t))
    }
    ),
    s(s.G + s.W + s.F * !V, {
        Symbol: D
    });
    for (var nt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), rt = 0; nt.length > rt; )
        d(nt[rt++]);
    for (var it = O(d.store), ot = 0; it.length > ot; )
        v(it[ot++]);
    s(s.S + s.F * !V, "Symbol", {
        for: function(t) {
            return o(B, t += "") ? B[t] : B[t] = D(t)
        },
        keyFor: function(t) {
            if (!Z(t))
                throw TypeError(t + " is not a symbol!");
            for (var e in B)
                if (B[e] === t)
                    return e
        },
        useSetter: function() {
            q = !0
        },
        useSimple: function() {
            q = !1
        }
    }),
    s(s.S + s.F * !V, "Object", {
        create: function(t, e) {
            return void 0 === e ? E(t) : Q(E(t), e)
        },
        defineProperty: J,
        defineProperties: Q,
        getOwnPropertyDescriptor: $,
        getOwnPropertyNames: tt,
        getOwnPropertySymbols: et
    });
    var at = l((function() {
        P.f(1)
    }
    ));
    s(s.S + s.F * at, "Object", {
        getOwnPropertySymbols: function(t) {
            return P.f(_(t))
        }
    }),
    k && s(s.S + s.F * (!V || l((function() {
        var t = D();
        return "[null]" != N([t]) || "{}" != N({
            a: t
        }) || "{}" != N(Object(t))
    }
    ))), "JSON", {
        stringify: function(t) {
            for (var e, n, r = [t], i = 1; arguments.length > i; )
                r.push(arguments[i++]);
            if (n = e = r[1],
            (x(e) || void 0 !== t) && !Z(t))
                return y(e) || (e = function(t, e) {
                    if ("function" == typeof n && (e = n.call(this, t, e)),
                    !Z(e))
                        return e
                }
                ),
                r[1] = e,
                N.apply(k, r)
        }
    }),
    D.prototype[j] || n(19)(D.prototype, j, D.prototype.valueOf),
    f(D, "Symbol"),
    f(Math, "Math", !0),
    f(i.JSON, "JSON", !0)
}
, function(t, e, n) {
    t.exports = n(63)("native-function-to-string", Function.toString)
}
, function(t, e, n) {
    var r = n(41)
      , i = n(65)
      , o = n(57);
    t.exports = function(t) {
        var e = r(t)
          , n = i.f;
        if (n)
            for (var a, s = n(t), u = o.f, c = 0; s.length > c; )
                u.call(t, a = s[c++]) && e.push(a);
        return e
    }
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Object", {
        create: n(43)
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S + r.F * !n(10), "Object", {
        defineProperty: n(11).f
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S + r.F * !n(10), "Object", {
        defineProperties: n(127)
    })
}
, function(t, e, n) {
    var r = n(20)
      , i = n(25).f;
    n(26)("getOwnPropertyDescriptor", (function() {
        return function(t, e) {
            return i(r(t), e)
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(14)
      , i = n(45);
    n(26)("getPrototypeOf", (function() {
        return function(t) {
            return i(r(t))
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(14)
      , i = n(41);
    n(26)("keys", (function() {
        return function(t) {
            return i(r(t))
        }
    }
    ))
}
, function(t, e, n) {
    n(26)("getOwnPropertyNames", (function() {
        return n(128).f
    }
    ))
}
, function(t, e, n) {
    var r = n(6)
      , i = n(35).onFreeze;
    n(26)("freeze", (function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(6)
      , i = n(35).onFreeze;
    n(26)("seal", (function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(6)
      , i = n(35).onFreeze;
    n(26)("preventExtensions", (function(t) {
        return function(e) {
            return t && r(e) ? t(i(e)) : e
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(6);
    n(26)("isFrozen", (function(t) {
        return function(e) {
            return !r(e) || !!t && t(e)
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(6);
    n(26)("isSealed", (function(t) {
        return function(e) {
            return !r(e) || !!t && t(e)
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(6);
    n(26)("isExtensible", (function(t) {
        return function(e) {
            return !!r(e) && (!t || t(e))
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(0);
    r(r.S + r.F, "Object", {
        assign: n(129)
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Object", {
        is: n(130)
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Object", {
        setPrototypeOf: n(93).set
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(58)
      , i = {};
    i[n(7)("toStringTag")] = "z",
    i + "" != "[object z]" && n(16)(Object.prototype, "toString", (function() {
        return "[object " + r(this) + "]"
    }
    ), !0)
}
, function(t, e, n) {
    var r = n(0);
    r(r.P, "Function", {
        bind: n(131)
    })
}
, function(t, e, n) {
    var r = n(11).f
      , i = Function.prototype
      , o = /^\s*function ([^ (]*)/;
    "name"in i || n(10) && r(i, "name", {
        configurable: !0,
        get: function() {
            try {
                return ("" + this).match(o)[1]
            } catch (t) {
                return ""
            }
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(6)
      , i = n(45)
      , o = n(7)("hasInstance")
      , a = Function.prototype;
    o in a || n(11).f(a, o, {
        value: function(t) {
            if ("function" != typeof this || !r(t))
                return !1;
            if (!r(this.prototype))
                return t instanceof this;
            for (; t = i(t); )
                if (this.prototype === t)
                    return !0;
            return !1
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(133);
    r(r.G + r.F * (parseInt != i), {
        parseInt: i
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(134);
    r(r.G + r.F * (parseFloat != i), {
        parseFloat: i
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(3)
      , i = n(18)
      , o = n(30)
      , a = n(95)
      , s = n(34)
      , u = n(4)
      , c = n(44).f
      , l = n(25).f
      , h = n(11).f
      , f = n(49).trim
      , p = r.Number
      , d = p
      , m = p.prototype
      , v = "Number" == o(n(43)(m))
      , g = "trim"in String.prototype
      , y = function(t) {
        var e = s(t, !1);
        if ("string" == typeof e && e.length > 2) {
            var n, r, i, o = (e = g ? e.trim() : f(e, 3)).charCodeAt(0);
            if (43 === o || 45 === o) {
                if (88 === (n = e.charCodeAt(2)) || 120 === n)
                    return NaN
            } else if (48 === o) {
                switch (e.charCodeAt(1)) {
                case 66:
                case 98:
                    r = 2,
                    i = 49;
                    break;
                case 79:
                case 111:
                    r = 8,
                    i = 55;
                    break;
                default:
                    return +e
                }
                for (var a, u = e.slice(2), c = 0, l = u.length; c < l; c++)
                    if ((a = u.charCodeAt(c)) < 48 || a > i)
                        return NaN;
                return parseInt(u, r)
            }
        }
        return +e
    };
    if (!p(" 0o1") || !p("0b1") || p("+0x1")) {
        p = function(t) {
            var e = arguments.length < 1 ? 0 : t
              , n = this;
            return n instanceof p && (v ? u((function() {
                m.valueOf.call(n)
            }
            )) : "Number" != o(n)) ? a(new d(y(e)), n, p) : y(e)
        }
        ;
        for (var b, x = n(10) ? c(d) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), _ = 0; x.length > _; _++)
            i(d, b = x[_]) && !i(p, b) && h(p, b, l(d, b));
        p.prototype = m,
        m.constructor = p,
        n(16)(r, "Number", p)
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(24)
      , o = n(135)
      , a = n(96)
      , s = 1..toFixed
      , u = Math.floor
      , c = [0, 0, 0, 0, 0, 0]
      , l = "Number.toFixed: incorrect invocation!"
      , h = function(t, e) {
        for (var n = -1, r = e; ++n < 6; )
            r += t * c[n],
            c[n] = r % 1e7,
            r = u(r / 1e7)
    }
      , f = function(t) {
        for (var e = 6, n = 0; --e >= 0; )
            n += c[e],
            c[e] = u(n / t),
            n = n % t * 1e7
    }
      , p = function() {
        for (var t = 6, e = ""; --t >= 0; )
            if ("" !== e || 0 === t || 0 !== c[t]) {
                var n = String(c[t]);
                e = "" === e ? n : e + a.call("0", 7 - n.length) + n
            }
        return e
    }
      , d = function t(e, n, r) {
        return 0 === n ? r : n % 2 == 1 ? t(e, n - 1, r * e) : t(e * e, n / 2, r)
    };
    r(r.P + r.F * (!!s && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !n(4)((function() {
        s.call({})
    }
    ))), "Number", {
        toFixed: function(t) {
            var e, n, r, s, u = o(this, l), c = i(t), m = "", v = "0";
            if (c < 0 || c > 20)
                throw RangeError(l);
            if (u != u)
                return "NaN";
            if (u <= -1e21 || u >= 1e21)
                return String(u);
            if (u < 0 && (m = "-",
            u = -u),
            u > 1e-21)
                if (n = (e = function(t) {
                    for (var e = 0, n = t; n >= 4096; )
                        e += 12,
                        n /= 4096;
                    for (; n >= 2; )
                        e += 1,
                        n /= 2;
                    return e
                }(u * d(2, 69, 1)) - 69) < 0 ? u * d(2, -e, 1) : u / d(2, e, 1),
                n *= 4503599627370496,
                (e = 52 - e) > 0) {
                    for (h(0, n),
                    r = c; r >= 7; )
                        h(1e7, 0),
                        r -= 7;
                    for (h(d(10, r, 1), 0),
                    r = e - 1; r >= 23; )
                        f(1 << 23),
                        r -= 23;
                    f(1 << r),
                    h(1, 1),
                    f(2),
                    v = p()
                } else
                    h(0, n),
                    h(1 << -e, 0),
                    v = p() + a.call("0", c);
            return v = c > 0 ? m + ((s = v.length) <= c ? "0." + a.call("0", c - s) + v : v.slice(0, s - c) + "." + v.slice(s - c)) : m + v
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(4)
      , o = n(135)
      , a = 1..toPrecision;
    r(r.P + r.F * (i((function() {
        return "1" !== a.call(1, void 0)
    }
    )) || !i((function() {
        a.call({})
    }
    ))), "Number", {
        toPrecision: function(t) {
            var e = o(this, "Number#toPrecision: incorrect invocation!");
            return void 0 === t ? a.call(e) : a.call(e, t)
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        EPSILON: Math.pow(2, -52)
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(3).isFinite;
    r(r.S, "Number", {
        isFinite: function(t) {
            return "number" == typeof t && i(t)
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        isInteger: n(136)
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        isNaN: function(t) {
            return t != t
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(136)
      , o = Math.abs;
    r(r.S, "Number", {
        isSafeInteger: function(t) {
            return i(t) && o(t) <= 9007199254740991
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        MAX_SAFE_INTEGER: 9007199254740991
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Number", {
        MIN_SAFE_INTEGER: -9007199254740991
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(134);
    r(r.S + r.F * (Number.parseFloat != i), "Number", {
        parseFloat: i
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(133);
    r(r.S + r.F * (Number.parseInt != i), "Number", {
        parseInt: i
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(137)
      , o = Math.sqrt
      , a = Math.acosh;
    r(r.S + r.F * !(a && 710 == Math.floor(a(Number.MAX_VALUE)) && a(1 / 0) == 1 / 0), "Math", {
        acosh: function(t) {
            return (t = +t) < 1 ? NaN : t > 94906265.62425156 ? Math.log(t) + Math.LN2 : i(t - 1 + o(t - 1) * o(t + 1))
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = Math.asinh;
    r(r.S + r.F * !(i && 1 / i(0) > 0), "Math", {
        asinh: function t(e) {
            return isFinite(e = +e) && 0 != e ? e < 0 ? -t(-e) : Math.log(e + Math.sqrt(e * e + 1)) : e
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = Math.atanh;
    r(r.S + r.F * !(i && 1 / i(-0) < 0), "Math", {
        atanh: function(t) {
            return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(97);
    r(r.S, "Math", {
        cbrt: function(t) {
            return i(t = +t) * Math.pow(Math.abs(t), 1 / 3)
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        clz32: function(t) {
            return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = Math.exp;
    r(r.S, "Math", {
        cosh: function(t) {
            return (i(t = +t) + i(-t)) / 2
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(98);
    r(r.S + r.F * (i != Math.expm1), "Math", {
        expm1: i
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        fround: n(236)
    })
}
, function(t, e, n) {
    var r = n(97)
      , i = Math.pow
      , o = i(2, -52)
      , a = i(2, -23)
      , s = i(2, 127) * (2 - a)
      , u = i(2, -126);
    t.exports = Math.fround || function(t) {
        var e, n, i = Math.abs(t), c = r(t);
        return i < u ? c * (i / u / a + 1 / o - 1 / o) * u * a : (n = (e = (1 + a / o) * i) - (e - i)) > s || n != n ? c * (1 / 0) : c * n
    }
}
, function(t, e, n) {
    var r = n(0)
      , i = Math.abs;
    r(r.S, "Math", {
        hypot: function(t, e) {
            for (var n, r, o = 0, a = 0, s = arguments.length, u = 0; a < s; )
                u < (n = i(arguments[a++])) ? (o = o * (r = u / n) * r + 1,
                u = n) : o += n > 0 ? (r = n / u) * r : n;
            return u === 1 / 0 ? 1 / 0 : u * Math.sqrt(o)
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = Math.imul;
    r(r.S + r.F * n(4)((function() {
        return -5 != i(4294967295, 5) || 2 != i.length
    }
    )), "Math", {
        imul: function(t, e) {
            var n = +t
              , r = +e
              , i = 65535 & n
              , o = 65535 & r;
            return 0 | i * o + ((65535 & n >>> 16) * o + i * (65535 & r >>> 16) << 16 >>> 0)
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        log10: function(t) {
            return Math.log(t) * Math.LOG10E
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        log1p: n(137)
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        log2: function(t) {
            return Math.log(t) / Math.LN2
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        sign: n(97)
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(98)
      , o = Math.exp;
    r(r.S + r.F * n(4)((function() {
        return -2e-17 != !Math.sinh(-2e-17)
    }
    )), "Math", {
        sinh: function(t) {
            return Math.abs(t = +t) < 1 ? (i(t) - i(-t)) / 2 : (o(t - 1) - o(-t - 1)) * (Math.E / 2)
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(98)
      , o = Math.exp;
    r(r.S, "Math", {
        tanh: function(t) {
            var e = i(t = +t)
              , n = i(-t);
            return e == 1 / 0 ? 1 : n == 1 / 0 ? -1 : (e - n) / (o(t) + o(-t))
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Math", {
        trunc: function(t) {
            return (t > 0 ? Math.floor : Math.ceil)(t)
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(42)
      , o = String.fromCharCode
      , a = String.fromCodePoint;
    r(r.S + r.F * (!!a && 1 != a.length), "String", {
        fromCodePoint: function(t) {
            for (var e, n = [], r = arguments.length, a = 0; r > a; ) {
                if (e = +arguments[a++],
                i(e, 1114111) !== e)
                    throw RangeError(e + " is not a valid code point");
                n.push(e < 65536 ? o(e) : o(55296 + ((e -= 65536) >> 10), e % 1024 + 56320))
            }
            return n.join("")
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(20)
      , o = n(8);
    r(r.S, "String", {
        raw: function(t) {
            for (var e = i(t.raw), n = o(e.length), r = arguments.length, a = [], s = 0; n > s; )
                a.push(String(e[s++])),
                s < r && a.push(String(arguments[s]));
            return a.join("")
        }
    })
}
, function(t, e, n) {
    "use strict";
    n(49)("trim", (function(t) {
        return function() {
            return t(this, 3)
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    var r = n(99)(!0);
    n(100)(String, "String", (function(t) {
        this._t = String(t),
        this._i = 0
    }
    ), (function() {
        var t, e = this._t, n = this._i;
        return n >= e.length ? {
            value: void 0,
            done: !0
        } : (t = r(e, n),
        this._i += t.length,
        {
            value: t,
            done: !1
        })
    }
    ))
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(99)(!1);
    r(r.P, "String", {
        codePointAt: function(t) {
            return i(this, t)
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(8)
      , o = n(101)
      , a = "".endsWith;
    r(r.P + r.F * n(103)("endsWith"), "String", {
        endsWith: function(t) {
            var e = o(this, t, "endsWith")
              , n = arguments.length > 1 ? arguments[1] : void 0
              , r = i(e.length)
              , s = void 0 === n ? r : Math.min(i(n), r)
              , u = String(t);
            return a ? a.call(e, u, s) : e.slice(s - u.length, s) === u
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(101);
    r(r.P + r.F * n(103)("includes"), "String", {
        includes: function(t) {
            return !!~i(this, t, "includes").indexOf(t, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.P, "String", {
        repeat: n(96)
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(8)
      , o = n(101)
      , a = "".startsWith;
    r(r.P + r.F * n(103)("startsWith"), "String", {
        startsWith: function(t) {
            var e = o(this, t, "startsWith")
              , n = i(Math.min(arguments.length > 1 ? arguments[1] : void 0, e.length))
              , r = String(t);
            return a ? a.call(e, r, n) : e.slice(n, n + r.length) === r
        }
    })
}
, function(t, e, n) {
    "use strict";
    n(17)("anchor", (function(t) {
        return function(e) {
            return t(this, "a", "name", e)
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("big", (function(t) {
        return function() {
            return t(this, "big", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("blink", (function(t) {
        return function() {
            return t(this, "blink", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("bold", (function(t) {
        return function() {
            return t(this, "b", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("fixed", (function(t) {
        return function() {
            return t(this, "tt", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("fontcolor", (function(t) {
        return function(e) {
            return t(this, "font", "color", e)
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("fontsize", (function(t) {
        return function(e) {
            return t(this, "font", "size", e)
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("italics", (function(t) {
        return function() {
            return t(this, "i", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("link", (function(t) {
        return function(e) {
            return t(this, "a", "href", e)
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("small", (function(t) {
        return function() {
            return t(this, "small", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("strike", (function(t) {
        return function() {
            return t(this, "strike", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("sub", (function(t) {
        return function() {
            return t(this, "sub", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n(17)("sup", (function(t) {
        return function() {
            return t(this, "sup", "", "")
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Date", {
        now: function() {
            return (new Date).getTime()
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(14)
      , o = n(34);
    r(r.P + r.F * n(4)((function() {
        return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
            toISOString: function() {
                return 1
            }
        })
    }
    )), "Date", {
        toJSON: function(t) {
            var e = i(this)
              , n = o(e);
            return "number" != typeof n || isFinite(n) ? e.toISOString() : null
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(271);
    r(r.P + r.F * (Date.prototype.toISOString !== i), "Date", {
        toISOString: i
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(4)
      , i = Date.prototype.getTime
      , o = Date.prototype.toISOString
      , a = function(t) {
        return t > 9 ? t : "0" + t
    };
    t.exports = r((function() {
        return "0385-07-25T07:06:39.999Z" != o.call(new Date(-5e13 - 1))
    }
    )) || !r((function() {
        o.call(new Date(NaN))
    }
    )) ? function() {
        if (!isFinite(i.call(this)))
            throw RangeError("Invalid time value");
        var t = this
          , e = t.getUTCFullYear()
          , n = t.getUTCMilliseconds()
          , r = e < 0 ? "-" : e > 9999 ? "+" : "";
        return r + ("00000" + Math.abs(e)).slice(r ? -6 : -4) + "-" + a(t.getUTCMonth() + 1) + "-" + a(t.getUTCDate()) + "T" + a(t.getUTCHours()) + ":" + a(t.getUTCMinutes()) + ":" + a(t.getUTCSeconds()) + "." + (n > 99 ? n : "0" + a(n)) + "Z"
    }
    : o
}
, function(t, e, n) {
    var r = Date.prototype
      , i = r.toString
      , o = r.getTime;
    new Date(NaN) + "" != "Invalid Date" && n(16)(r, "toString", (function() {
        var t = o.call(this);
        return t == t ? i.call(this) : "Invalid Date"
    }
    ))
}
, function(t, e, n) {
    var r = n(7)("toPrimitive")
      , i = Date.prototype;
    r in i || n(19)(i, r, n(274))
}
, function(t, e, n) {
    "use strict";
    var r = n(5)
      , i = n(34);
    t.exports = function(t) {
        if ("string" !== t && "number" !== t && "default" !== t)
            throw TypeError("Incorrect hint");
        return i(r(this), "number" != t)
    }
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Array", {
        isArray: n(66)
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(22)
      , i = n(0)
      , o = n(14)
      , a = n(139)
      , s = n(104)
      , u = n(8)
      , c = n(105)
      , l = n(106);
    i(i.S + i.F * !n(67)((function(t) {
        Array.from(t)
    }
    )), "Array", {
        from: function(t) {
            var e, n, i, h, f = o(t), p = "function" == typeof this ? this : Array, d = arguments.length, m = d > 1 ? arguments[1] : void 0, v = void 0 !== m, g = 0, y = l(f);
            if (v && (m = r(m, d > 2 ? arguments[2] : void 0, 2)),
            null == y || p == Array && s(y))
                for (n = new p(e = u(f.length)); e > g; g++)
                    c(n, g, v ? m(f[g], g) : f[g]);
            else
                for (h = y.call(f),
                n = new p; !(i = h.next()).done; g++)
                    c(n, g, v ? a(h, m, [i.value, g], !0) : i.value);
            return n.length = g,
            n
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(105);
    r(r.S + r.F * n(4)((function() {
        function t() {}
        return !(Array.of.call(t)instanceof t)
    }
    )), "Array", {
        of: function() {
            for (var t = 0, e = arguments.length, n = new ("function" == typeof this ? this : Array)(e); e > t; )
                i(n, t, arguments[t++]);
            return n.length = e,
            n
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(20)
      , o = [].join;
    r(r.P + r.F * (n(56) != Object || !n(21)(o)), "Array", {
        join: function(t) {
            return o.call(i(this), void 0 === t ? "," : t)
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(92)
      , o = n(30)
      , a = n(42)
      , s = n(8)
      , u = [].slice;
    r(r.P + r.F * n(4)((function() {
        i && u.call(i)
    }
    )), "Array", {
        slice: function(t, e) {
            var n = s(this.length)
              , r = o(this);
            if (e = void 0 === e ? n : e,
            "Array" == r)
                return u.call(this, t, e);
            for (var i = a(t, n), c = a(e, n), l = s(c - i), h = new Array(l), f = 0; f < l; f++)
                h[f] = "String" == r ? this.charAt(i + f) : this[i + f];
            return h
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(23)
      , o = n(14)
      , a = n(4)
      , s = [].sort
      , u = [1, 2, 3];
    r(r.P + r.F * (a((function() {
        u.sort(void 0)
    }
    )) || !a((function() {
        u.sort(null)
    }
    )) || !n(21)(s)), "Array", {
        sort: function(t) {
            return void 0 === t ? s.call(o(this)) : s.call(o(this), i(t))
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(27)(0)
      , o = n(21)([].forEach, !0);
    r(r.P + r.F * !o, "Array", {
        forEach: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    var r = n(6)
      , i = n(66)
      , o = n(7)("species");
    t.exports = function(t) {
        var e;
        return i(t) && ("function" != typeof (e = t.constructor) || e !== Array && !i(e.prototype) || (e = void 0),
        r(e) && null === (e = e[o]) && (e = void 0)),
        void 0 === e ? Array : e
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(27)(1);
    r(r.P + r.F * !n(21)([].map, !0), "Array", {
        map: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(27)(2);
    r(r.P + r.F * !n(21)([].filter, !0), "Array", {
        filter: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(27)(3);
    r(r.P + r.F * !n(21)([].some, !0), "Array", {
        some: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(27)(4);
    r(r.P + r.F * !n(21)([].every, !0), "Array", {
        every: function(t) {
            return i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(141);
    r(r.P + r.F * !n(21)([].reduce, !0), "Array", {
        reduce: function(t) {
            return i(this, t, arguments.length, arguments[1], !1)
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(141);
    r(r.P + r.F * !n(21)([].reduceRight, !0), "Array", {
        reduceRight: function(t) {
            return i(this, t, arguments.length, arguments[1], !0)
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(64)(!1)
      , o = [].indexOf
      , a = !!o && 1 / [1].indexOf(1, -0) < 0;
    r(r.P + r.F * (a || !n(21)(o)), "Array", {
        indexOf: function(t) {
            return a ? o.apply(this, arguments) || 0 : i(this, t, arguments[1])
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(20)
      , o = n(24)
      , a = n(8)
      , s = [].lastIndexOf
      , u = !!s && 1 / [1].lastIndexOf(1, -0) < 0;
    r(r.P + r.F * (u || !n(21)(s)), "Array", {
        lastIndexOf: function(t) {
            if (u)
                return s.apply(this, arguments) || 0;
            var e = i(this)
              , n = a(e.length)
              , r = n - 1;
            for (arguments.length > 1 && (r = Math.min(r, o(arguments[1]))),
            r < 0 && (r = n + r); r >= 0; r--)
                if (r in e && e[r] === t)
                    return r || 0;
            return -1
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.P, "Array", {
        copyWithin: n(142)
    }),
    n(46)("copyWithin")
}
, function(t, e, n) {
    var r = n(0);
    r(r.P, "Array", {
        fill: n(107)
    }),
    n(46)("fill")
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(27)(5)
      , o = !0;
    "find"in [] && Array(1).find((function() {
        o = !1
    }
    )),
    r(r.P + r.F * o, "Array", {
        find: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    n(46)("find")
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(27)(6)
      , o = "findIndex"
      , a = !0;
    o in [] && Array(1)[o]((function() {
        a = !1
    }
    )),
    r(r.P + r.F * a, "Array", {
        findIndex: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    n(46)(o)
}
, function(t, e, n) {
    n(51)("Array")
}
, function(t, e, n) {
    var r = n(3)
      , i = n(95)
      , o = n(11).f
      , a = n(44).f
      , s = n(102)
      , u = n(68)
      , c = r.RegExp
      , l = c
      , h = c.prototype
      , f = /a/g
      , p = /a/g
      , d = new c(f) !== f;
    if (n(10) && (!d || n(4)((function() {
        return p[n(7)("match")] = !1,
        c(f) != f || c(p) == p || "/a/i" != c(f, "i")
    }
    )))) {
        c = function(t, e) {
            var n = this instanceof c
              , r = s(t)
              , o = void 0 === e;
            return !n && r && t.constructor === c && o ? t : i(d ? new l(r && !o ? t.source : t,e) : l((r = t instanceof c) ? t.source : t, r && o ? u.call(t) : e), n ? this : h, c)
        }
        ;
        for (var m = function(t) {
            t in c || o(c, t, {
                configurable: !0,
                get: function() {
                    return l[t]
                },
                set: function(e) {
                    l[t] = e
                }
            })
        }, v = a(l), g = 0; v.length > g; )
            m(v[g++]);
        h.constructor = c,
        c.prototype = h,
        n(16)(r, "RegExp", c)
    }
    n(51)("RegExp")
}
, function(t, e, n) {
    "use strict";
    n(145);
    var r = n(5)
      , i = n(68)
      , o = n(10)
      , a = /./.toString
      , s = function(t) {
        n(16)(RegExp.prototype, "toString", t, !0)
    };
    n(4)((function() {
        return "/a/b" != a.call({
            source: "a",
            flags: "b"
        })
    }
    )) ? s((function() {
        var t = r(this);
        return "/".concat(t.source, "/", "flags"in t ? t.flags : !o && t instanceof RegExp ? i.call(t) : void 0)
    }
    )) : "toString" != a.name && s((function() {
        return a.call(this)
    }
    ))
}
, function(t, e, n) {
    "use strict";
    var r = n(5)
      , i = n(8)
      , o = n(110)
      , a = n(69);
    n(70)("match", 1, (function(t, e, n, s) {
        return [function(n) {
            var r = t(this)
              , i = null == n ? void 0 : n[e];
            return void 0 !== i ? i.call(n, r) : new RegExp(n)[e](String(r))
        }
        , function(t) {
            var e = s(n, t, this);
            if (e.done)
                return e.value;
            var u = r(t)
              , c = String(this);
            if (!u.global)
                return a(u, c);
            var l = u.unicode;
            u.lastIndex = 0;
            for (var h, f = [], p = 0; null !== (h = a(u, c)); ) {
                var d = String(h[0]);
                f[p] = d,
                "" === d && (u.lastIndex = o(c, i(u.lastIndex), l)),
                p++
            }
            return 0 === p ? null : f
        }
        ]
    }
    ))
}
, function(t, e, n) {
    "use strict";
    var r = n(5)
      , i = n(14)
      , o = n(8)
      , a = n(24)
      , s = n(110)
      , u = n(69)
      , c = Math.max
      , l = Math.min
      , h = Math.floor
      , f = /\$([$&`']|\d\d?|<[^>]*>)/g
      , p = /\$([$&`']|\d\d?)/g;
    n(70)("replace", 2, (function(t, e, n, d) {
        return [function(r, i) {
            var o = t(this)
              , a = null == r ? void 0 : r[e];
            return void 0 !== a ? a.call(r, o, i) : n.call(String(o), r, i)
        }
        , function(t, e) {
            var i = d(n, t, this, e);
            if (i.done)
                return i.value;
            var h = r(t)
              , f = String(this)
              , p = "function" == typeof e;
            p || (e = String(e));
            var v = h.global;
            if (v) {
                var g = h.unicode;
                h.lastIndex = 0
            }
            for (var y = []; ; ) {
                var b = u(h, f);
                if (null === b)
                    break;
                if (y.push(b),
                !v)
                    break;
                "" === String(b[0]) && (h.lastIndex = s(f, o(h.lastIndex), g))
            }
            for (var x, _ = "", w = 0, M = 0; M < y.length; M++) {
                b = y[M];
                for (var S = String(b[0]), E = c(l(a(b.index), f.length), 0), T = [], A = 1; A < b.length; A++)
                    T.push(void 0 === (x = b[A]) ? x : String(x));
                var P = b.groups;
                if (p) {
                    var L = [S].concat(T, E, f);
                    void 0 !== P && L.push(P);
                    var O = String(e.apply(void 0, L))
                } else
                    O = m(S, f, E, T, P, e);
                E >= w && (_ += f.slice(w, E) + O,
                w = E + S.length)
            }
            return _ + f.slice(w)
        }
        ];
        function m(t, e, r, o, a, s) {
            var u = r + t.length
              , c = o.length
              , l = p;
            return void 0 !== a && (a = i(a),
            l = f),
            n.call(s, l, (function(n, i) {
                var s;
                switch (i.charAt(0)) {
                case "$":
                    return "$";
                case "&":
                    return t;
                case "`":
                    return e.slice(0, r);
                case "'":
                    return e.slice(u);
                case "<":
                    s = a[i.slice(1, -1)];
                    break;
                default:
                    var l = +i;
                    if (0 === l)
                        return n;
                    if (l > c) {
                        var f = h(l / 10);
                        return 0 === f ? n : f <= c ? void 0 === o[f - 1] ? i.charAt(1) : o[f - 1] + i.charAt(1) : n
                    }
                    s = o[l - 1]
                }
                return void 0 === s ? "" : s
            }
            ))
        }
    }
    ))
}
, function(t, e, n) {
    "use strict";
    var r = n(5)
      , i = n(130)
      , o = n(69);
    n(70)("search", 1, (function(t, e, n, a) {
        return [function(n) {
            var r = t(this)
              , i = null == n ? void 0 : n[e];
            return void 0 !== i ? i.call(n, r) : new RegExp(n)[e](String(r))
        }
        , function(t) {
            var e = a(n, t, this);
            if (e.done)
                return e.value;
            var s = r(t)
              , u = String(this)
              , c = s.lastIndex;
            i(c, 0) || (s.lastIndex = 0);
            var l = o(s, u);
            return i(s.lastIndex, c) || (s.lastIndex = c),
            null === l ? -1 : l.index
        }
        ]
    }
    ))
}
, function(t, e, n) {
    "use strict";
    var r = n(102)
      , i = n(5)
      , o = n(59)
      , a = n(110)
      , s = n(8)
      , u = n(69)
      , c = n(109)
      , l = n(4)
      , h = Math.min
      , f = [].push
      , p = !l((function() {
        RegExp(4294967295, "y")
    }
    ));
    n(70)("split", 2, (function(t, e, n, l) {
        var d;
        return d = "c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1).length || 2 != "ab".split(/(?:ab)*/).length || 4 != ".".split(/(.?)(.?)/).length || ".".split(/()()/).length > 1 || "".split(/.?/).length ? function(t, e) {
            var i = String(this);
            if (void 0 === t && 0 === e)
                return [];
            if (!r(t))
                return n.call(i, t, e);
            for (var o, a, s, u = [], l = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""), h = 0, p = void 0 === e ? 4294967295 : e >>> 0, d = new RegExp(t.source,l + "g"); (o = c.call(d, i)) && !((a = d.lastIndex) > h && (u.push(i.slice(h, o.index)),
            o.length > 1 && o.index < i.length && f.apply(u, o.slice(1)),
            s = o[0].length,
            h = a,
            u.length >= p)); )
                d.lastIndex === o.index && d.lastIndex++;
            return h === i.length ? !s && d.test("") || u.push("") : u.push(i.slice(h)),
            u.length > p ? u.slice(0, p) : u
        }
        : "0".split(void 0, 0).length ? function(t, e) {
            return void 0 === t && 0 === e ? [] : n.call(this, t, e)
        }
        : n,
        [function(n, r) {
            var i = t(this)
              , o = null == n ? void 0 : n[e];
            return void 0 !== o ? o.call(n, i, r) : d.call(String(i), n, r)
        }
        , function(t, e) {
            var r = l(d, t, this, e, d !== n);
            if (r.done)
                return r.value;
            var c = i(t)
              , f = String(this)
              , m = o(c, RegExp)
              , v = c.unicode
              , g = (c.ignoreCase ? "i" : "") + (c.multiline ? "m" : "") + (c.unicode ? "u" : "") + (p ? "y" : "g")
              , y = new m(p ? c : "^(?:" + c.source + ")",g)
              , b = void 0 === e ? 4294967295 : e >>> 0;
            if (0 === b)
                return [];
            if (0 === f.length)
                return null === u(y, f) ? [f] : [];
            for (var x = 0, _ = 0, w = []; _ < f.length; ) {
                y.lastIndex = p ? _ : 0;
                var M, S = u(y, p ? f : f.slice(_));
                if (null === S || (M = h(s(y.lastIndex + (p ? 0 : _)), f.length)) === x)
                    _ = a(f, _, v);
                else {
                    if (w.push(f.slice(x, _)),
                    w.length === b)
                        return w;
                    for (var E = 1; E <= S.length - 1; E++)
                        if (w.push(S[E]),
                        w.length === b)
                            return w;
                    _ = x = M
                }
            }
            return w.push(f.slice(x)),
            w
        }
        ]
    }
    ))
}
, function(t, e, n) {
    var r = n(3)
      , i = n(111).set
      , o = r.MutationObserver || r.WebKitMutationObserver
      , a = r.process
      , s = r.Promise
      , u = "process" == n(30)(a);
    t.exports = function() {
        var t, e, n, c = function() {
            var r, i;
            for (u && (r = a.domain) && r.exit(); t; ) {
                i = t.fn,
                t = t.next;
                try {
                    i()
                } catch (r) {
                    throw t ? n() : e = void 0,
                    r
                }
            }
            e = void 0,
            r && r.enter()
        };
        if (u)
            n = function() {
                a.nextTick(c)
            }
            ;
        else if (!o || r.navigator && r.navigator.standalone)
            if (s && s.resolve) {
                var l = s.resolve(void 0);
                n = function() {
                    l.then(c)
                }
            } else
                n = function() {
                    i.call(r, c)
                }
                ;
        else {
            var h = !0
              , f = document.createTextNode("");
            new o(c).observe(f, {
                characterData: !0
            }),
            n = function() {
                f.data = h = !h
            }
        }
        return function(r) {
            var i = {
                fn: r,
                next: void 0
            };
            e && (e.next = i),
            t || (t = i,
            n()),
            e = i
        }
    }
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(149)
      , i = n(47);
    t.exports = n(73)("Map", (function(t) {
        return function() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }
    ), {
        get: function(t) {
            var e = r.getEntry(i(this, "Map"), t);
            return e && e.v
        },
        set: function(t, e) {
            return r.def(i(this, "Map"), 0 === t ? 0 : t, e)
        }
    }, r, !0)
}
, function(t, e, n) {
    "use strict";
    var r = n(149)
      , i = n(47);
    t.exports = n(73)("Set", (function(t) {
        return function() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }
    ), {
        add: function(t) {
            return r.def(i(this, "Set"), t = 0 === t ? 0 : t, t)
        }
    }, r)
}
, function(t, e, n) {
    "use strict";
    var r, i = n(3), o = n(27)(0), a = n(16), s = n(35), u = n(129), c = n(150), l = n(6), h = n(47), f = n(47), p = !i.ActiveXObject && "ActiveXObject"in i, d = s.getWeak, m = Object.isExtensible, v = c.ufstore, g = function(t) {
        return function() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, y = {
        get: function(t) {
            if (l(t)) {
                var e = d(t);
                return !0 === e ? v(h(this, "WeakMap")).get(t) : e ? e[this._i] : void 0
            }
        },
        set: function(t, e) {
            return c.def(h(this, "WeakMap"), t, e)
        }
    }, b = t.exports = n(73)("WeakMap", g, y, c, !0, !0);
    f && p && (u((r = c.getConstructor(g, "WeakMap")).prototype, y),
    s.NEED = !0,
    o(["delete", "has", "get", "set"], (function(t) {
        var e = b.prototype
          , n = e[t];
        a(e, t, (function(e, i) {
            if (l(e) && !m(e)) {
                this._f || (this._f = new r);
                var o = this._f[t](e, i);
                return "set" == t ? this : o
            }
            return n.call(this, e, i)
        }
        ))
    }
    )))
}
, function(t, e, n) {
    "use strict";
    var r = n(150)
      , i = n(47);
    n(73)("WeakSet", (function(t) {
        return function() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }
    ), {
        add: function(t) {
            return r.def(i(this, "WeakSet"), t, !0)
        }
    }, r, !1, !0)
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(74)
      , o = n(112)
      , a = n(5)
      , s = n(42)
      , u = n(8)
      , c = n(6)
      , l = n(3).ArrayBuffer
      , h = n(59)
      , f = o.ArrayBuffer
      , p = o.DataView
      , d = i.ABV && l.isView
      , m = f.prototype.slice
      , v = i.VIEW;
    r(r.G + r.W + r.F * (l !== f), {
        ArrayBuffer: f
    }),
    r(r.S + r.F * !i.CONSTR, "ArrayBuffer", {
        isView: function(t) {
            return d && d(t) || c(t) && v in t
        }
    }),
    r(r.P + r.U + r.F * n(4)((function() {
        return !new f(2).slice(1, void 0).byteLength
    }
    )), "ArrayBuffer", {
        slice: function(t, e) {
            if (void 0 !== m && void 0 === e)
                return m.call(a(this), t);
            for (var n = a(this).byteLength, r = s(t, n), i = s(void 0 === e ? n : e, n), o = new (h(this, f))(u(i - r)), c = new p(this), l = new p(o), d = 0; r < i; )
                l.setUint8(d++, c.getUint8(r++));
            return o
        }
    }),
    n(51)("ArrayBuffer")
}
, function(t, e, n) {
    var r = n(0);
    r(r.G + r.W + r.F * !n(74).ABV, {
        DataView: n(112).DataView
    })
}
, function(t, e, n) {
    n(32)("Int8", 1, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    n(32)("Uint8", 1, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    n(32)("Uint8", 1, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ), !0)
}
, function(t, e, n) {
    n(32)("Int16", 2, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    n(32)("Uint16", 2, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    n(32)("Int32", 4, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    n(32)("Uint32", 4, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    n(32)("Float32", 4, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    n(32)("Float64", 8, (function(t) {
        return function(e, n, r) {
            return t(this, e, n, r)
        }
    }
    ))
}
, function(t, e, n) {
    var r = n(0)
      , i = n(23)
      , o = n(5)
      , a = (n(3).Reflect || {}).apply
      , s = Function.apply;
    r(r.S + r.F * !n(4)((function() {
        a((function() {}
        ))
    }
    )), "Reflect", {
        apply: function(t, e, n) {
            var r = i(t)
              , u = o(n);
            return a ? a(r, e, u) : s.call(r, e, u)
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(43)
      , o = n(23)
      , a = n(5)
      , s = n(6)
      , u = n(4)
      , c = n(131)
      , l = (n(3).Reflect || {}).construct
      , h = u((function() {
        function t() {}
        return !(l((function() {}
        ), [], t)instanceof t)
    }
    ))
      , f = !u((function() {
        l((function() {}
        ))
    }
    ));
    r(r.S + r.F * (h || f), "Reflect", {
        construct: function(t, e) {
            o(t),
            a(e);
            var n = arguments.length < 3 ? t : o(arguments[2]);
            if (f && !h)
                return l(t, e, n);
            if (t == n) {
                switch (e.length) {
                case 0:
                    return new t;
                case 1:
                    return new t(e[0]);
                case 2:
                    return new t(e[0],e[1]);
                case 3:
                    return new t(e[0],e[1],e[2]);
                case 4:
                    return new t(e[0],e[1],e[2],e[3])
                }
                var r = [null];
                return r.push.apply(r, e),
                new (c.apply(t, r))
            }
            var u = n.prototype
              , p = i(s(u) ? u : Object.prototype)
              , d = Function.apply.call(t, p, e);
            return s(d) ? d : p
        }
    })
}
, function(t, e, n) {
    var r = n(11)
      , i = n(0)
      , o = n(5)
      , a = n(34);
    i(i.S + i.F * n(4)((function() {
        Reflect.defineProperty(r.f({}, 1, {
            value: 1
        }), 1, {
            value: 2
        })
    }
    )), "Reflect", {
        defineProperty: function(t, e, n) {
            o(t),
            e = a(e, !0),
            o(n);
            try {
                return r.f(t, e, n),
                !0
            } catch (t) {
                return !1
            }
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(25).f
      , o = n(5);
    r(r.S, "Reflect", {
        deleteProperty: function(t, e) {
            var n = i(o(t), e);
            return !(n && !n.configurable) && delete t[e]
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(5)
      , o = function(t) {
        this._t = i(t),
        this._i = 0;
        var e, n = this._k = [];
        for (e in t)
            n.push(e)
    };
    n(138)(o, "Object", (function() {
        var t, e = this._k;
        do {
            if (this._i >= e.length)
                return {
                    value: void 0,
                    done: !0
                }
        } while (!((t = e[this._i++])in this._t));
        return {
            value: t,
            done: !1
        }
    }
    )),
    r(r.S, "Reflect", {
        enumerate: function(t) {
            return new o(t)
        }
    })
}
, function(t, e, n) {
    var r = n(25)
      , i = n(45)
      , o = n(18)
      , a = n(0)
      , s = n(6)
      , u = n(5);
    a(a.S, "Reflect", {
        get: function t(e, n) {
            var a, c, l = arguments.length < 3 ? e : arguments[2];
            return u(e) === l ? e[n] : (a = r.f(e, n)) ? o(a, "value") ? a.value : void 0 !== a.get ? a.get.call(l) : void 0 : s(c = i(e)) ? t(c, n, l) : void 0
        }
    })
}
, function(t, e, n) {
    var r = n(25)
      , i = n(0)
      , o = n(5);
    i(i.S, "Reflect", {
        getOwnPropertyDescriptor: function(t, e) {
            return r.f(o(t), e)
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(45)
      , o = n(5);
    r(r.S, "Reflect", {
        getPrototypeOf: function(t) {
            return i(o(t))
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Reflect", {
        has: function(t, e) {
            return e in t
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(5)
      , o = Object.isExtensible;
    r(r.S, "Reflect", {
        isExtensible: function(t) {
            return i(t),
            !o || o(t)
        }
    })
}
, function(t, e, n) {
    var r = n(0);
    r(r.S, "Reflect", {
        ownKeys: n(152)
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(5)
      , o = Object.preventExtensions;
    r(r.S, "Reflect", {
        preventExtensions: function(t) {
            i(t);
            try {
                return o && o(t),
                !0
            } catch (t) {
                return !1
            }
        }
    })
}
, function(t, e, n) {
    var r = n(11)
      , i = n(25)
      , o = n(45)
      , a = n(18)
      , s = n(0)
      , u = n(38)
      , c = n(5)
      , l = n(6);
    s(s.S, "Reflect", {
        set: function t(e, n, s) {
            var h, f, p = arguments.length < 4 ? e : arguments[3], d = i.f(c(e), n);
            if (!d) {
                if (l(f = o(e)))
                    return t(f, n, s, p);
                d = u(0)
            }
            if (a(d, "value")) {
                if (!1 === d.writable || !l(p))
                    return !1;
                if (h = i.f(p, n)) {
                    if (h.get || h.set || !1 === h.writable)
                        return !1;
                    h.value = s,
                    r.f(p, n, h)
                } else
                    r.f(p, n, u(0, s));
                return !0
            }
            return void 0 !== d.set && (d.set.call(p, s),
            !0)
        }
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(93);
    i && r(r.S, "Reflect", {
        setPrototypeOf: function(t, e) {
            i.check(t, e);
            try {
                return i.set(t, e),
                !0
            } catch (t) {
                return !1
            }
        }
    })
}
, function(t, e, n) {
    n(334),
    t.exports = n(9).Array.includes
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(64)(!0);
    r(r.P, "Array", {
        includes: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    n(46)("includes")
}
, function(t, e, n) {
    n(336),
    t.exports = n(9).Array.flatMap
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(337)
      , o = n(14)
      , a = n(8)
      , s = n(23)
      , u = n(140);
    r(r.P, "Array", {
        flatMap: function(t) {
            var e, n, r = o(this);
            return s(t),
            e = a(r.length),
            n = u(r, 0),
            i(n, r, r, e, 0, 1, t, arguments[1]),
            n
        }
    }),
    n(46)("flatMap")
}
, function(t, e, n) {
    "use strict";
    var r = n(66)
      , i = n(6)
      , o = n(8)
      , a = n(22)
      , s = n(7)("isConcatSpreadable");
    t.exports = function t(e, n, u, c, l, h, f, p) {
        for (var d, m, v = l, g = 0, y = !!f && a(f, p, 3); g < c; ) {
            if (g in u) {
                if (d = y ? y(u[g], g, n) : u[g],
                m = !1,
                i(d) && (m = void 0 !== (m = d[s]) ? !!m : r(d)),
                m && h > 0)
                    v = t(e, n, d, o(d.length), v, h - 1) - 1;
                else {
                    if (v >= 9007199254740991)
                        throw TypeError();
                    e[v] = d
                }
                v++
            }
            g++
        }
        return v
    }
}
, function(t, e, n) {
    n(339),
    t.exports = n(9).String.padStart
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(153)
      , o = n(72)
      , a = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);
    r(r.P + r.F * a, "String", {
        padStart: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !0)
        }
    })
}
, function(t, e, n) {
    n(341),
    t.exports = n(9).String.padEnd
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(153)
      , o = n(72)
      , a = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);
    r(r.P + r.F * a, "String", {
        padEnd: function(t) {
            return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !1)
        }
    })
}
, function(t, e, n) {
    n(343),
    t.exports = n(9).String.trimLeft
}
, function(t, e, n) {
    "use strict";
    n(49)("trimLeft", (function(t) {
        return function() {
            return t(this, 1)
        }
    }
    ), "trimStart")
}
, function(t, e, n) {
    n(345),
    t.exports = n(9).String.trimRight
}
, function(t, e, n) {
    "use strict";
    n(49)("trimRight", (function(t) {
        return function() {
            return t(this, 2)
        }
    }
    ), "trimEnd")
}
, function(t, e, n) {
    n(347),
    t.exports = n(89).f("asyncIterator")
}
, function(t, e, n) {
    n(125)("asyncIterator")
}
, function(t, e, n) {
    n(349),
    t.exports = n(9).Object.getOwnPropertyDescriptors
}
, function(t, e, n) {
    var r = n(0)
      , i = n(152)
      , o = n(20)
      , a = n(25)
      , s = n(105);
    r(r.S, "Object", {
        getOwnPropertyDescriptors: function(t) {
            for (var e, n, r = o(t), u = a.f, c = i(r), l = {}, h = 0; c.length > h; )
                void 0 !== (n = u(r, e = c[h++])) && s(l, e, n);
            return l
        }
    })
}
, function(t, e, n) {
    n(351),
    t.exports = n(9).Object.values
}
, function(t, e, n) {
    var r = n(0)
      , i = n(154)(!1);
    r(r.S, "Object", {
        values: function(t) {
            return i(t)
        }
    })
}
, function(t, e, n) {
    n(353),
    t.exports = n(9).Object.entries
}
, function(t, e, n) {
    var r = n(0)
      , i = n(154)(!0);
    r(r.S, "Object", {
        entries: function(t) {
            return i(t)
        }
    })
}
, function(t, e, n) {
    "use strict";
    n(146),
    n(355),
    t.exports = n(9).Promise.finally
}
, function(t, e, n) {
    "use strict";
    var r = n(0)
      , i = n(9)
      , o = n(3)
      , a = n(59)
      , s = n(148);
    r(r.P + r.R, "Promise", {
        finally: function(t) {
            var e = a(this, i.Promise || o.Promise)
              , n = "function" == typeof t;
            return this.then(n ? function(n) {
                return s(e, t()).then((function() {
                    return n
                }
                ))
            }
            : t, n ? function(n) {
                return s(e, t()).then((function() {
                    throw n
                }
                ))
            }
            : t)
        }
    })
}
, function(t, e, n) {
    n(357),
    n(358),
    n(359),
    t.exports = n(9)
}
, function(t, e, n) {
    var r = n(3)
      , i = n(0)
      , o = n(72)
      , a = [].slice
      , s = /MSIE .\./.test(o)
      , u = function(t) {
        return function(e, n) {
            var r = arguments.length > 2
              , i = !!r && a.call(arguments, 2);
            return t(r ? function() {
                ("function" == typeof e ? e : Function(e)).apply(this, i)
            }
            : e, n)
        }
    };
    i(i.G + i.B + i.F * s, {
        setTimeout: u(r.setTimeout),
        setInterval: u(r.setInterval)
    })
}
, function(t, e, n) {
    var r = n(0)
      , i = n(111);
    r(r.G + r.B, {
        setImmediate: i.set,
        clearImmediate: i.clear
    })
}
, function(t, e, n) {
    for (var r = n(108), i = n(41), o = n(16), a = n(3), s = n(19), u = n(50), c = n(7), l = c("iterator"), h = c("toStringTag"), f = u.Array, p = {
        CSSRuleList: !0,
        CSSStyleDeclaration: !1,
        CSSValueList: !1,
        ClientRectList: !1,
        DOMRectList: !1,
        DOMStringList: !1,
        DOMTokenList: !0,
        DataTransferItemList: !1,
        FileList: !1,
        HTMLAllCollection: !1,
        HTMLCollection: !1,
        HTMLFormElement: !1,
        HTMLSelectElement: !1,
        MediaList: !0,
        MimeTypeArray: !1,
        NamedNodeMap: !1,
        NodeList: !0,
        PaintRequestList: !1,
        Plugin: !1,
        PluginArray: !1,
        SVGLengthList: !1,
        SVGNumberList: !1,
        SVGPathSegList: !1,
        SVGPointList: !1,
        SVGStringList: !1,
        SVGTransformList: !1,
        SourceBufferList: !1,
        StyleSheetList: !0,
        TextTrackCueList: !1,
        TextTrackList: !1,
        TouchList: !1
    }, d = i(p), m = 0; m < d.length; m++) {
        var v, g = d[m], y = p[g], b = a[g], x = b && b.prototype;
        if (x && (x[l] || s(x, l, f),
        x[h] || s(x, h, g),
        u[g] = f,
        y))
            for (v in r)
                x[v] || o(x, v, r[v], !0)
    }
}
, function(t, e, n) {
    (function(t) {
        function e(t) {
            return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
            )(t)
        }
        var n = function(t) {
            "use strict";
            var n = Object.prototype
              , r = n.hasOwnProperty
              , i = "function" == typeof Symbol ? Symbol : {}
              , o = i.iterator || "@@iterator"
              , a = i.asyncIterator || "@@asyncIterator"
              , s = i.toStringTag || "@@toStringTag";
            function u(t, e, n, r) {
                var i = e && e.prototype instanceof h ? e : h
                  , o = Object.create(i.prototype)
                  , a = new M(r || []);
                return o._invoke = function(t, e, n) {
                    var r = "suspendedStart";
                    return function(i, o) {
                        if ("executing" === r)
                            throw new Error("Generator is already running");
                        if ("completed" === r) {
                            if ("throw" === i)
                                throw o;
                            return E()
                        }
                        for (n.method = i,
                        n.arg = o; ; ) {
                            var a = n.delegate;
                            if (a) {
                                var s = x(a, n);
                                if (s) {
                                    if (s === l)
                                        continue;
                                    return s
                                }
                            }
                            if ("next" === n.method)
                                n.sent = n._sent = n.arg;
                            else if ("throw" === n.method) {
                                if ("suspendedStart" === r)
                                    throw r = "completed",
                                    n.arg;
                                n.dispatchException(n.arg)
                            } else
                                "return" === n.method && n.abrupt("return", n.arg);
                            r = "executing";
                            var u = c(t, e, n);
                            if ("normal" === u.type) {
                                if (r = n.done ? "completed" : "suspendedYield",
                                u.arg === l)
                                    continue;
                                return {
                                    value: u.arg,
                                    done: n.done
                                }
                            }
                            "throw" === u.type && (r = "completed",
                            n.method = "throw",
                            n.arg = u.arg)
                        }
                    }
                }(t, n, a),
                o
            }
            function c(t, e, n) {
                try {
                    return {
                        type: "normal",
                        arg: t.call(e, n)
                    }
                } catch (t) {
                    return {
                        type: "throw",
                        arg: t
                    }
                }
            }
            t.wrap = u;
            var l = {};
            function h() {}
            function f() {}
            function p() {}
            var d = {};
            d[o] = function() {
                return this
            }
            ;
            var m = Object.getPrototypeOf
              , v = m && m(m(S([])));
            v && v !== n && r.call(v, o) && (d = v);
            var g = p.prototype = h.prototype = Object.create(d);
            function y(t) {
                ["next", "throw", "return"].forEach((function(e) {
                    t[e] = function(t) {
                        return this._invoke(e, t)
                    }
                }
                ))
            }
            function b(t, n) {
                var i;
                this._invoke = function(o, a) {
                    function s() {
                        return new n((function(i, s) {
                            !function i(o, a, s, u) {
                                var l = c(t[o], t, a);
                                if ("throw" !== l.type) {
                                    var h = l.arg
                                      , f = h.value;
                                    return f && "object" === e(f) && r.call(f, "__await") ? n.resolve(f.__await).then((function(t) {
                                        i("next", t, s, u)
                                    }
                                    ), (function(t) {
                                        i("throw", t, s, u)
                                    }
                                    )) : n.resolve(f).then((function(t) {
                                        h.value = t,
                                        s(h)
                                    }
                                    ), (function(t) {
                                        return i("throw", t, s, u)
                                    }
                                    ))
                                }
                                u(l.arg)
                            }(o, a, i, s)
                        }
                        ))
                    }
                    return i = i ? i.then(s, s) : s()
                }
            }
            function x(t, e) {
                var n = t.iterator[e.method];
                if (void 0 === n) {
                    if (e.delegate = null,
                    "throw" === e.method) {
                        if (t.iterator.return && (e.method = "return",
                        e.arg = void 0,
                        x(t, e),
                        "throw" === e.method))
                            return l;
                        e.method = "throw",
                        e.arg = new TypeError("The iterator does not provide a 'throw' method")
                    }
                    return l
                }
                var r = c(n, t.iterator, e.arg);
                if ("throw" === r.type)
                    return e.method = "throw",
                    e.arg = r.arg,
                    e.delegate = null,
                    l;
                var i = r.arg;
                return i ? i.done ? (e[t.resultName] = i.value,
                e.next = t.nextLoc,
                "return" !== e.method && (e.method = "next",
                e.arg = void 0),
                e.delegate = null,
                l) : i : (e.method = "throw",
                e.arg = new TypeError("iterator result is not an object"),
                e.delegate = null,
                l)
            }
            function _(t) {
                var e = {
                    tryLoc: t[0]
                };
                1 in t && (e.catchLoc = t[1]),
                2 in t && (e.finallyLoc = t[2],
                e.afterLoc = t[3]),
                this.tryEntries.push(e)
            }
            function w(t) {
                var e = t.completion || {};
                e.type = "normal",
                delete e.arg,
                t.completion = e
            }
            function M(t) {
                this.tryEntries = [{
                    tryLoc: "root"
                }],
                t.forEach(_, this),
                this.reset(!0)
            }
            function S(t) {
                if (t) {
                    var e = t[o];
                    if (e)
                        return e.call(t);
                    if ("function" == typeof t.next)
                        return t;
                    if (!isNaN(t.length)) {
                        var n = -1
                          , i = function e() {
                            for (; ++n < t.length; )
                                if (r.call(t, n))
                                    return e.value = t[n],
                                    e.done = !1,
                                    e;
                            return e.value = void 0,
                            e.done = !0,
                            e
                        };
                        return i.next = i
                    }
                }
                return {
                    next: E
                }
            }
            function E() {
                return {
                    value: void 0,
                    done: !0
                }
            }
            return f.prototype = g.constructor = p,
            p.constructor = f,
            p[s] = f.displayName = "GeneratorFunction",
            t.isGeneratorFunction = function(t) {
                var e = "function" == typeof t && t.constructor;
                return !!e && (e === f || "GeneratorFunction" === (e.displayName || e.name))
            }
            ,
            t.mark = function(t) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(t, p) : (t.__proto__ = p,
                s in t || (t[s] = "GeneratorFunction")),
                t.prototype = Object.create(g),
                t
            }
            ,
            t.awrap = function(t) {
                return {
                    __await: t
                }
            }
            ,
            y(b.prototype),
            b.prototype[a] = function() {
                return this
            }
            ,
            t.AsyncIterator = b,
            t.async = function(e, n, r, i, o) {
                void 0 === o && (o = Promise);
                var a = new b(u(e, n, r, i),o);
                return t.isGeneratorFunction(n) ? a : a.next().then((function(t) {
                    return t.done ? t.value : a.next()
                }
                ))
            }
            ,
            y(g),
            g[s] = "Generator",
            g[o] = function() {
                return this
            }
            ,
            g.toString = function() {
                return "[object Generator]"
            }
            ,
            t.keys = function(t) {
                var e = [];
                for (var n in t)
                    e.push(n);
                return e.reverse(),
                function n() {
                    for (; e.length; ) {
                        var r = e.pop();
                        if (r in t)
                            return n.value = r,
                            n.done = !1,
                            n
                    }
                    return n.done = !0,
                    n
                }
            }
            ,
            t.values = S,
            M.prototype = {
                constructor: M,
                reset: function(t) {
                    if (this.prev = 0,
                    this.next = 0,
                    this.sent = this._sent = void 0,
                    this.done = !1,
                    this.delegate = null,
                    this.method = "next",
                    this.arg = void 0,
                    this.tryEntries.forEach(w),
                    !t)
                        for (var e in this)
                            "t" === e.charAt(0) && r.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = void 0)
                },
                stop: function() {
                    this.done = !0;
                    var t = this.tryEntries[0].completion;
                    if ("throw" === t.type)
                        throw t.arg;
                    return this.rval
                },
                dispatchException: function(t) {
                    if (this.done)
                        throw t;
                    var e = this;
                    function n(n, r) {
                        return a.type = "throw",
                        a.arg = t,
                        e.next = n,
                        r && (e.method = "next",
                        e.arg = void 0),
                        !!r
                    }
                    for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                        var o = this.tryEntries[i]
                          , a = o.completion;
                        if ("root" === o.tryLoc)
                            return n("end");
                        if (o.tryLoc <= this.prev) {
                            var s = r.call(o, "catchLoc")
                              , u = r.call(o, "finallyLoc");
                            if (s && u) {
                                if (this.prev < o.catchLoc)
                                    return n(o.catchLoc, !0);
                                if (this.prev < o.finallyLoc)
                                    return n(o.finallyLoc)
                            } else if (s) {
                                if (this.prev < o.catchLoc)
                                    return n(o.catchLoc, !0)
                            } else {
                                if (!u)
                                    throw new Error("try statement without catch or finally");
                                if (this.prev < o.finallyLoc)
                                    return n(o.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(t, e) {
                    for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                        var i = this.tryEntries[n];
                        if (i.tryLoc <= this.prev && r.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                            var o = i;
                            break
                        }
                    }
                    o && ("break" === t || "continue" === t) && o.tryLoc <= e && e <= o.finallyLoc && (o = null);
                    var a = o ? o.completion : {};
                    return a.type = t,
                    a.arg = e,
                    o ? (this.method = "next",
                    this.next = o.finallyLoc,
                    l) : this.complete(a)
                },
                complete: function(t, e) {
                    if ("throw" === t.type)
                        throw t.arg;
                    return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg,
                    this.method = "return",
                    this.next = "end") : "normal" === t.type && e && (this.next = e),
                    l
                },
                finish: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var n = this.tryEntries[e];
                        if (n.finallyLoc === t)
                            return this.complete(n.completion, n.afterLoc),
                            w(n),
                            l
                    }
                },
                catch: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var n = this.tryEntries[e];
                        if (n.tryLoc === t) {
                            var r = n.completion;
                            if ("throw" === r.type) {
                                var i = r.arg;
                                w(n)
                            }
                            return i
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(t, e, n) {
                    return this.delegate = {
                        iterator: S(t),
                        resultName: e,
                        nextLoc: n
                    },
                    "next" === this.method && (this.arg = void 0),
                    l
                }
            },
            t
        }("object" === e(t) ? t.exports : {});
        try {
            regeneratorRuntime = n
        } catch (t) {
            Function("r", "regeneratorRuntime = r")(n)
        }
    }
    ).call(this, n(75)(t))
}
, function(t, e, n) {
    n(362),
    t.exports = n(155).global
}
, function(t, e, n) {
    var r = n(363);
    r(r.G, {
        global: n(113)
    })
}
, function(t, e, n) {
    var r = n(113)
      , i = n(155)
      , o = n(364)
      , a = n(366)
      , s = n(373)
      , u = function t(e, n, u) {
        var c, l, h, f = e & t.F, p = e & t.G, d = e & t.S, m = e & t.P, v = e & t.B, g = e & t.W, y = p ? i : i[n] || (i[n] = {}), b = y.prototype, x = p ? r : d ? r[n] : (r[n] || {}).prototype;
        for (c in p && (u = n),
        u)
            (l = !f && x && void 0 !== x[c]) && s(y, c) || (h = l ? x[c] : u[c],
            y[c] = p && "function" != typeof x[c] ? u[c] : v && l ? o(h, r) : g && x[c] == h ? function(t) {
                var e = function(e, n, r) {
                    if (this instanceof t) {
                        switch (arguments.length) {
                        case 0:
                            return new t;
                        case 1:
                            return new t(e);
                        case 2:
                            return new t(e,n)
                        }
                        return new t(e,n,r)
                    }
                    return t.apply(this, arguments)
                };
                return e.prototype = t.prototype,
                e
            }(h) : m && "function" == typeof h ? o(Function.call, h) : h,
            m && ((y.virtual || (y.virtual = {}))[c] = h,
            e & t.R && b && !b[c] && a(b, c, h)))
    };
    u.F = 1,
    u.G = 2,
    u.S = 4,
    u.P = 8,
    u.B = 16,
    u.W = 32,
    u.U = 64,
    u.R = 128,
    t.exports = u
}
, function(t, e, n) {
    var r = n(365);
    t.exports = function(t, e, n) {
        if (r(t),
        void 0 === e)
            return t;
        switch (n) {
        case 1:
            return function(n) {
                return t.call(e, n)
            }
            ;
        case 2:
            return function(n, r) {
                return t.call(e, n, r)
            }
            ;
        case 3:
            return function(n, r, i) {
                return t.call(e, n, r, i)
            }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}
, function(t, e) {
    t.exports = function(t) {
        if ("function" != typeof t)
            throw TypeError(t + " is not a function!");
        return t
    }
}
, function(t, e, n) {
    var r = n(367)
      , i = n(372);
    t.exports = n(115) ? function(t, e, n) {
        return r.f(t, e, i(1, n))
    }
    : function(t, e, n) {
        return t[e] = n,
        t
    }
}
, function(t, e, n) {
    var r = n(368)
      , i = n(369)
      , o = n(371)
      , a = Object.defineProperty;
    e.f = n(115) ? Object.defineProperty : function(t, e, n) {
        if (r(t),
        e = o(e, !0),
        r(n),
        i)
            try {
                return a(t, e, n)
            } catch (t) {}
        if ("get"in n || "set"in n)
            throw TypeError("Accessors not supported!");
        return "value"in n && (t[e] = n.value),
        t
    }
}
, function(t, e, n) {
    var r = n(114);
    t.exports = function(t) {
        if (!r(t))
            throw TypeError(t + " is not an object!");
        return t
    }
}
, function(t, e, n) {
    t.exports = !n(115) && !n(156)((function() {
        return 7 != Object.defineProperty(n(370)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    }
    ))
}
, function(t, e, n) {
    var r = n(114)
      , i = n(113).document
      , o = r(i) && r(i.createElement);
    t.exports = function(t) {
        return o ? i.createElement(t) : {}
    }
}
, function(t, e, n) {
    var r = n(114);
    t.exports = function(t, e) {
        if (!r(t))
            return t;
        var n, i;
        if (e && "function" == typeof (n = t.toString) && !r(i = n.call(t)))
            return i;
        if ("function" == typeof (n = t.valueOf) && !r(i = n.call(t)))
            return i;
        if (!e && "function" == typeof (n = t.toString) && !r(i = n.call(t)))
            return i;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}
, function(t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return n.call(t, e)
    }
}
, function(t, e) {
    Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector),
    Element.prototype.closest || (Element.prototype.closest = function(t) {
        var e = this;
        do {
            if (e.matches(t))
                return e;
            e = e.parentElement || e.parentNode
        } while (null !== e && 1 === e.nodeType);
        return null
    }
    )
}
, function(t, e) {
    window.NodeList && !NodeList.prototype.forEach && (NodeList.prototype.forEach = function(t, e) {
        e = e || window;
        for (var n = 0; n < this.length; n++)
            t.call(e, this[n], n, this)
    }
    )
}
, function(t, e) {
    window.history.scrollRestoration && (window.history.scrollRestoration = "manual")
}
, function(t, e) {
    "serviceWorker"in navigator && navigator.serviceWorker.register("service-worker.js")
}
, function(t, e, n) {
    var r = n(379)
      , i = n(157)
      , o = n(397)
      , a = n(28);
    t.exports = function(t, e) {
        return (a(t) ? r : i)(t, o(e))
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t); )
            ;
        return t
    }
}
, function(t, e, n) {
    var r = n(381)
      , i = n(76);
    t.exports = function(t, e) {
        return t && r(t, e, i)
    }
}
, function(t, e, n) {
    var r = n(382)();
    t.exports = r
}
, function(t, e) {
    t.exports = function(t) {
        return function(e, n, r) {
            for (var i = -1, o = Object(e), a = r(e), s = a.length; s--; ) {
                var u = a[t ? s : ++i];
                if (!1 === n(o[u], u, o))
                    break
            }
            return e
        }
    }
}
, function(t, e, n) {
    var r = n(384)
      , i = n(158)
      , o = n(28)
      , a = n(160)
      , s = n(161)
      , u = n(162)
      , c = Object.prototype.hasOwnProperty;
    t.exports = function(t, e) {
        var n = o(t)
          , l = !n && i(t)
          , h = !n && !l && a(t)
          , f = !n && !l && !h && u(t)
          , p = n || l || h || f
          , d = p ? r(t.length, String) : []
          , m = d.length;
        for (var v in t)
            !e && !c.call(t, v) || p && ("length" == v || h && ("offset" == v || "parent" == v) || f && ("buffer" == v || "byteLength" == v || "byteOffset" == v) || s(v, m)) || d.push(v);
        return d
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, r = Array(t); ++n < t; )
            r[n] = e(n);
        return r
    }
}
, function(t, e, n) {
    var r = n(60)
      , i = n(61);
    t.exports = function(t) {
        return i(t) && "[object Arguments]" == r(t)
    }
}
, function(t, e, n) {
    var r = n(77)
      , i = Object.prototype
      , o = i.hasOwnProperty
      , a = i.toString
      , s = r ? r.toStringTag : void 0;
    t.exports = function(t) {
        var e = o.call(t, s)
          , n = t[s];
        try {
            t[s] = void 0;
            var r = !0
        } catch (t) {}
        var i = a.call(t);
        return r && (e ? t[s] = n : delete t[s]),
        i
    }
}
, function(t, e) {
    var n = Object.prototype.toString;
    t.exports = function(t) {
        return n.call(t)
    }
}
, function(t, e) {
    t.exports = function() {
        return !1
    }
}
, function(t, e, n) {
    var r = n(60)
      , i = n(117)
      , o = n(61)
      , a = {};
    a["[object Float32Array]"] = a["[object Float64Array]"] = a["[object Int8Array]"] = a["[object Int16Array]"] = a["[object Int32Array]"] = a["[object Uint8Array]"] = a["[object Uint8ClampedArray]"] = a["[object Uint16Array]"] = a["[object Uint32Array]"] = !0,
    a["[object Arguments]"] = a["[object Array]"] = a["[object ArrayBuffer]"] = a["[object Boolean]"] = a["[object DataView]"] = a["[object Date]"] = a["[object Error]"] = a["[object Function]"] = a["[object Map]"] = a["[object Number]"] = a["[object Object]"] = a["[object RegExp]"] = a["[object Set]"] = a["[object String]"] = a["[object WeakMap]"] = !1,
    t.exports = function(t) {
        return o(t) && i(t.length) && !!a[r(t)]
    }
}
, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return t(e)
        }
    }
}
, function(t, e, n) {
    (function(t) {
        function r(t) {
            return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
            )(t)
        }
        var i = n(159)
          , o = "object" == r(e) && e && !e.nodeType && e
          , a = o && "object" == r(t) && t && !t.nodeType && t
          , s = a && a.exports === o && i.process
          , u = function() {
            try {
                var t = a && a.require && a.require("util").types;
                return t || s && s.binding && s.binding("util")
            } catch (t) {}
        }();
        t.exports = u
    }
    ).call(this, n(75)(t))
}
, function(t, e, n) {
    var r = n(393)
      , i = n(394)
      , o = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        if (!r(t))
            return i(t);
        var e = [];
        for (var n in Object(t))
            o.call(t, n) && "constructor" != n && e.push(n);
        return e
    }
}
, function(t, e) {
    var n = Object.prototype;
    t.exports = function(t) {
        var e = t && t.constructor;
        return t === ("function" == typeof e && e.prototype || n)
    }
}
, function(t, e, n) {
    var r = n(395)(Object.keys, Object);
    t.exports = r
}
, function(t, e) {
    t.exports = function(t, e) {
        return function(n) {
            return t(e(n))
        }
    }
}
, function(t, e, n) {
    var r = n(78);
    t.exports = function(t, e) {
        return function(n, i) {
            if (null == n)
                return n;
            if (!r(n))
                return t(n, i);
            for (var o = n.length, a = e ? o : -1, s = Object(n); (e ? a-- : ++a < o) && !1 !== i(s[a], a, s); )
                ;
            return n
        }
    }
}
, function(t, e, n) {
    var r = n(164);
    t.exports = function(t) {
        return "function" == typeof t ? t : r
    }
}
, function(t, e) {
    t.exports = function(t, e, n) {
        return t == t && (void 0 !== n && (t = t <= n ? t : n),
        void 0 !== e && (t = t >= e ? t : e)),
        t
    }
}
, function(t, e) {
    var n = Math.max
      , r = Math.min;
    t.exports = function(t, e, i) {
        return t >= r(e, i) && t < n(e, i)
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i, o = function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t,
        e
    }(n(1)), a = n(36);
    var s = function(t) {
        function e() {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var t = function(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" !== r(e) && "function" != typeof e ? t : e
            }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
            return t.camera = new o.OrthographicCamera(-1,1,1,-1,0,1),
            t.scene = new o.Scene,
            t.quad = new o.Mesh(new o.PlaneBufferGeometry(2,2),null),
            t.quad.frustumCulled = !1,
            t.scene.add(t.quad),
            t
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + r(e));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }(e, t),
        e
    }(((i = a) && i.__esModule ? i : {
        default: i
    }).default);
    e.default = s
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }()
      , o = function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t,
        e
    }(n(1))
      , a = u(n(36))
      , s = u(n(119));
    function u(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var c = function(t) {
        function e(t, n) {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var i = function(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" !== r(e) && "function" != typeof e ? t : e
            }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this))
              , u = s.default;
            return i.map = t,
            i.opacity = void 0 !== n ? n : 1,
            i.uniforms = o.UniformsUtils.clone(u.uniforms),
            i.material = new o.ShaderMaterial({
                uniforms: i.uniforms,
                vertexShader: u.vertexShader,
                fragmentShader: u.fragmentShader,
                depthTest: !1,
                depthWrite: !1
            }),
            i.needsSwap = !1,
            i.fsQuad = new a.default.FullScreenQuad(null),
            i
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + r(e));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }(e, t),
        i(e, [{
            key: "render",
            value: function(t, e, n) {
                var r = t
                  , i = r.autoClear;
                r.autoClear = !1,
                this.fsQuad.material = this.material,
                this.uniforms.opacity.value = this.opacity,
                this.uniforms.tDiffuse.value = this.map,
                this.material.transparent = this.opacity < 1,
                r.setRenderTarget(this.renderToScreen ? null : n),
                this.clear && r.clear(),
                this.fsQuad.render(r),
                r.autoClear = i
            }
        }]),
        e
    }(a.default);
    e.default = c
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i, o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }(), a = n(36);
    var s = function(t) {
        function e(t, n, i, o, a) {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var s = function(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" !== r(e) && "function" != typeof e ? t : e
            }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
            return s.scene = t,
            s.camera = n,
            s.overrideMaterial = i,
            s.clearColor = o,
            s.clearAlpha = void 0 !== a ? a : 0,
            s.clear = !0,
            s.clearDepth = !1,
            s.needsSwap = !1,
            s
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + r(e));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }(e, t),
        o(e, [{
            key: "render",
            value: function(t, e, n) {
                var r = t
                  , i = r.autoClear;
                r.autoClear = !1,
                this.scene.overrideMaterial = this.overrideMaterial;
                var o = void 0
                  , a = void 0;
                this.clearColor && (o = r.getClearColor().getHex(),
                a = r.getClearAlpha(),
                r.setClearColor(this.clearColor, this.clearAlpha)),
                this.clearDepth && r.clearDepth(),
                r.setRenderTarget(this.renderToScreen ? null : n),
                this.clear && r.clear(r.autoClearColor, r.autoClearDepth, r.autoClearStencil),
                r.render(this.scene, this.camera),
                this.clearColor && r.setClearColor(o, a),
                this.scene.overrideMaterial = null,
                r.autoClear = i
            }
        }]),
        e
    }(((i = a) && i.__esModule ? i : {
        default: i
    }).default);
    e.default = s
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var i, o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }(), a = n(36);
    var s = function(t) {
        function e(t, n) {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var i = function(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" !== r(e) && "function" != typeof e ? t : e
            }(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
            return i.needsSwap = !1,
            i.clearColor = void 0 !== t ? t : 0,
            i.clearAlpha = void 0 !== n ? n : 0,
            i
        }
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + r(e));
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }(e, t),
        o(e, [{
            key: "render",
            value: function(t, e, n) {
                var r = void 0
                  , i = void 0;
                this.clearColor && (r = t.getClearColor().getHex(),
                i = t.getClearAlpha(),
                t.setClearColor(this.clearColor, this.clearAlpha)),
                t.setRenderTarget(this.renderToScreen ? null : n),
                t.clear(),
                this.clearColor && t.setClearColor(r, i)
            }
        }]),
        e
    }(((i = a) && i.__esModule ? i : {
        default: i
    }).default);
    e.default = s
}
, function(t, e, n) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                r.enumerable = r.enumerable || !1,
                r.configurable = !0,
                "value"in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r)
            }
        }
        return function(e, n, r) {
            return n && t(e.prototype, n),
            r && t(e, r),
            e
        }
    }()
      , i = function(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var n in t)
                Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
        return e.default = t,
        e
    }(n(1))
      , o = c(n(166))
      , a = c(n(119))
      , s = c(n(167))
      , u = c(n(168));
    function c(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var l = function() {
        function t(e, n) {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var r = n;
            if (this.renderer = e,
            void 0 === r) {
                var s = {
                    minFilter: i.LinearFilter,
                    magFilter: i.LinearFilter,
                    format: i.RGBAFormat,
                    stencilBuffer: !1
                }
                  , u = e.getSize(new i.Vector2);
                this._pixelRatio = e.getPixelRatio(),
                this._width = u.width,
                this._height = u.height,
                (r = new i.WebGLRenderTarget(this._width * this._pixelRatio,this._height * this._pixelRatio,s)).texture.name = "EffectComposer.rt1"
            } else
                this._pixelRatio = 1,
                this._width = r.width,
                this._height = r.height;
            this.renderTarget1 = r,
            this.renderTarget2 = r.clone(),
            this.renderTarget2.texture.name = "EffectComposer.rt2",
            this.writeBuffer = this.renderTarget1,
            this.readBuffer = this.renderTarget2,
            this.renderToScreen = !0,
            this.passes = [],
            this.copyPass = new o.default(a.default),
            this.clock = new i.Clock
        }
        return r(t, [{
            key: "swapBuffers",
            value: function() {
                var t = this.readBuffer;
                this.readBuffer = this.writeBuffer,
                this.writeBuffer = t
            }
        }, {
            key: "addPass",
            value: function(t) {
                this.passes.push(t);
                var e = this.renderer.getDrawingBufferSize(new i.Vector2);
                t.setSize(e.width, e.height)
            }
        }, {
            key: "insertPass",
            value: function(t, e) {
                this.passes.splice(e, 0, t)
            }
        }, {
            key: "isLastEnabledPass",
            value: function(t) {
                for (var e = t + 1; e < this.passes.length; e += 1)
                    if (this.passes[e].enabled)
                        return !1;
                return !0
            }
        }, {
            key: "render",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.clock.getDelta()
                  , e = this.renderer.getRenderTarget()
                  , n = !1
                  , r = void 0
                  , i = void 0
                  , o = this.passes.length;
                for (i = 0; i < o; i += 1) {
                    if (!1 !== (r = this.passes[i]).enabled && (r.renderToScreen = this.renderToScreen && this.isLastEnabledPass(i),
                    r.render(this.renderer, this.writeBuffer, this.readBuffer, t, n),
                    r.needsSwap)) {
                        if (n) {
                            var a = this.renderer.context;
                            a.stencilFunc(a.NOTEQUAL, 1, 4294967295),
                            this.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, t),
                            a.stencilFunc(a.EQUAL, 1, 4294967295)
                        }
                        this.swapBuffers()
                    }
                    r instanceof s.default ? n = !0 : r instanceof u.default && (n = !1)
                }
                this.renderer.setRenderTarget(e)
            }
        }, {
            key: "reset",
            value: function(t) {
                var e = t;
                if (void 0 === e) {
                    var n = this.renderer.getSize(new i.Vector2);
                    this._pixelRatio = this.renderer.getPixelRatio(),
                    this._width = n.width,
                    this._height = n.height,
                    (e = this.renderTarget1.clone()).setSize(this._width * this._pixelRatio, this._height * this._pixelRatio)
                }
                this.renderTarget1.dispose(),
                this.renderTarget2.dispose(),
                this.renderTarget1 = e,
                this.renderTarget2 = e.clone(),
                this.writeBuffer = this.renderTarget1,
                this.readBuffer = this.renderTarget2
            }
        }, {
            key: "setSize",
            value: function(t, e) {
                this._width = t,
                this._height = e;
                var n = this._width * this._pixelRatio
                  , r = this._height * this._pixelRatio;
                this.renderTarget1.setSize(n, r),
                this.renderTarget2.setSize(n, r);
                for (var i = 0; i < this.passes.length; i += 1)
                    this.passes[i].setSize(n, r)
            }
        }, {
            key: "setPixelRatio",
            value: function(t) {
                this._pixelRatio = t,
                this.setSize(this._width, this._height)
            }
        }]),
        t
    }();
    e.default = l
}
, function(t, e, n) {
    var r = n(120)
      , i = n(78)
      , o = n(76);
    t.exports = function(t) {
        return function(e, n, a) {
            var s = Object(e);
            if (!i(e)) {
                var u = r(n, 3);
                e = o(e),
                n = function(t) {
                    return u(s[t], t, s)
                }
            }
            var c = t(e, n, a);
            return c > -1 ? s[u ? e[c] : c] : void 0
        }
    }
}
, function(t, e, n) {
    var r = n(407)
      , i = n(456)
      , o = n(175);
    t.exports = function(t) {
        var e = i(t);
        return 1 == e.length && e[0][2] ? o(e[0][0], e[0][1]) : function(n) {
            return n === t || r(n, t, e)
        }
    }
}
, function(t, e, n) {
    var r = n(169)
      , i = n(172);
    t.exports = function(t, e, n, o) {
        var a = n.length
          , s = a
          , u = !o;
        if (null == t)
            return !s;
        for (t = Object(t); a--; ) {
            var c = n[a];
            if (u && c[2] ? c[1] !== t[c[0]] : !(c[0]in t))
                return !1
        }
        for (; ++a < s; ) {
            var l = (c = n[a])[0]
              , h = t[l]
              , f = c[1];
            if (u && c[2]) {
                if (void 0 === h && !(l in t))
                    return !1
            } else {
                var p = new r;
                if (o)
                    var d = o(h, f, l, t, e, p);
                if (!(void 0 === d ? i(f, h, 3, o, p) : d))
                    return !1
            }
        }
        return !0
    }
}
, function(t, e) {
    t.exports = function() {
        this.__data__ = [],
        this.size = 0
    }
}
, function(t, e, n) {
    var r = n(82)
      , i = Array.prototype.splice;
    t.exports = function(t) {
        var e = this.__data__
          , n = r(e, t);
        return !(n < 0) && (n == e.length - 1 ? e.pop() : i.call(e, n, 1),
        --this.size,
        !0)
    }
}
, function(t, e, n) {
    var r = n(82);
    t.exports = function(t) {
        var e = this.__data__
          , n = r(e, t);
        return n < 0 ? void 0 : e[n][1]
    }
}
, function(t, e, n) {
    var r = n(82);
    t.exports = function(t) {
        return r(this.__data__, t) > -1
    }
}
, function(t, e, n) {
    var r = n(82);
    t.exports = function(t, e) {
        var n = this.__data__
          , i = r(n, t);
        return i < 0 ? (++this.size,
        n.push([t, e])) : n[i][1] = e,
        this
    }
}
, function(t, e, n) {
    var r = n(81);
    t.exports = function() {
        this.__data__ = new r,
        this.size = 0
    }
}
, function(t, e) {
    t.exports = function(t) {
        var e = this.__data__
          , n = e.delete(t);
        return this.size = e.size,
        n
    }
}
, function(t, e) {
    t.exports = function(t) {
        return this.__data__.get(t)
    }
}
, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t)
    }
}
, function(t, e, n) {
    var r = n(81)
      , i = n(121)
      , o = n(122);
    t.exports = function(t, e) {
        var n = this.__data__;
        if (n instanceof r) {
            var a = n.__data__;
            if (!i || a.length < 199)
                return a.push([t, e]),
                this.size = ++n.size,
                this;
            n = this.__data__ = new o(a)
        }
        return n.set(t, e),
        this.size = n.size,
        this
    }
}
, function(t, e, n) {
    var r = n(163)
      , i = n(419)
      , o = n(79)
      , a = n(171)
      , s = /^\[object .+?Constructor\]$/
      , u = Function.prototype
      , c = Object.prototype
      , l = u.toString
      , h = c.hasOwnProperty
      , f = RegExp("^" + l.call(h).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    t.exports = function(t) {
        return !(!o(t) || i(t)) && (r(t) ? f : s).test(a(t))
    }
}
, function(t, e, n) {
    var r, i = n(420), o = (r = /[^.]+$/.exec(i && i.keys && i.keys.IE_PROTO || "")) ? "Symbol(src)_1." + r : "";
    t.exports = function(t) {
        return !!o && o in t
    }
}
, function(t, e, n) {
    var r = n(33)["__core-js_shared__"];
    t.exports = r
}
, function(t, e) {
    t.exports = function(t, e) {
        return null == t ? void 0 : t[e]
    }
}
, function(t, e, n) {
    var r = n(423)
      , i = n(81)
      , o = n(121);
    t.exports = function() {
        this.size = 0,
        this.__data__ = {
            hash: new r,
            map: new (o || i),
            string: new r
        }
    }
}
, function(t, e, n) {
    var r = n(424)
      , i = n(425)
      , o = n(426)
      , a = n(427)
      , s = n(428);
    function u(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var r = t[e];
            this.set(r[0], r[1])
        }
    }
    u.prototype.clear = r,
    u.prototype.delete = i,
    u.prototype.get = o,
    u.prototype.has = a,
    u.prototype.set = s,
    t.exports = u
}
, function(t, e, n) {
    var r = n(83);
    t.exports = function() {
        this.__data__ = r ? r(null) : {},
        this.size = 0
    }
}
, function(t, e) {
    t.exports = function(t) {
        var e = this.has(t) && delete this.__data__[t];
        return this.size -= e ? 1 : 0,
        e
    }
}
, function(t, e, n) {
    var r = n(83)
      , i = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        if (r) {
            var n = e[t];
            return "__lodash_hash_undefined__" === n ? void 0 : n
        }
        return i.call(e, t) ? e[t] : void 0
    }
}
, function(t, e, n) {
    var r = n(83)
      , i = Object.prototype.hasOwnProperty;
    t.exports = function(t) {
        var e = this.__data__;
        return r ? void 0 !== e[t] : i.call(e, t)
    }
}
, function(t, e, n) {
    var r = n(83);
    t.exports = function(t, e) {
        var n = this.__data__;
        return this.size += this.has(t) ? 0 : 1,
        n[t] = r && void 0 === e ? "__lodash_hash_undefined__" : e,
        this
    }
}
, function(t, e, n) {
    var r = n(84);
    t.exports = function(t) {
        var e = r(this, t).delete(t);
        return this.size -= e ? 1 : 0,
        e
    }
}
, function(t, e) {
    function n(t) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    t.exports = function(t) {
        var e = n(t);
        return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
    }
}
, function(t, e, n) {
    var r = n(84);
    t.exports = function(t) {
        return r(this, t).get(t)
    }
}
, function(t, e, n) {
    var r = n(84);
    t.exports = function(t) {
        return r(this, t).has(t)
    }
}
, function(t, e, n) {
    var r = n(84);
    t.exports = function(t, e) {
        var n = r(this, t)
          , i = n.size;
        return n.set(t, e),
        this.size += n.size == i ? 0 : 1,
        this
    }
}
, function(t, e, n) {
    var r = n(169)
      , i = n(173)
      , o = n(440)
      , a = n(444)
      , s = n(451)
      , u = n(28)
      , c = n(160)
      , l = n(162)
      , h = "[object Object]"
      , f = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n, p, d, m) {
        var v = u(t)
          , g = u(e)
          , y = v ? "[object Array]" : s(t)
          , b = g ? "[object Array]" : s(e)
          , x = (y = "[object Arguments]" == y ? h : y) == h
          , _ = (b = "[object Arguments]" == b ? h : b) == h
          , w = y == b;
        if (w && c(t)) {
            if (!c(e))
                return !1;
            v = !0,
            x = !1
        }
        if (w && !x)
            return m || (m = new r),
            v || l(t) ? i(t, e, n, p, d, m) : o(t, e, y, n, p, d, m);
        if (!(1 & n)) {
            var M = x && f.call(t, "__wrapped__")
              , S = _ && f.call(e, "__wrapped__");
            if (M || S) {
                var E = M ? t.value() : t
                  , T = S ? e.value() : e;
                return m || (m = new r),
                d(E, T, n, p, m)
            }
        }
        return !!w && (m || (m = new r),
        a(t, e, n, p, d, m))
    }
}
, function(t, e, n) {
    var r = n(122)
      , i = n(436)
      , o = n(437);
    function a(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.__data__ = new r; ++e < n; )
            this.add(t[e])
    }
    a.prototype.add = a.prototype.push = i,
    a.prototype.has = o,
    t.exports = a
}
, function(t, e) {
    t.exports = function(t) {
        return this.__data__.set(t, "__lodash_hash_undefined__"),
        this
    }
}
, function(t, e) {
    t.exports = function(t) {
        return this.__data__.has(t)
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
            if (e(t[n], n, t))
                return !0;
        return !1
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return t.has(e)
    }
}
, function(t, e, n) {
    var r = n(77)
      , i = n(441)
      , o = n(170)
      , a = n(173)
      , s = n(442)
      , u = n(443)
      , c = r ? r.prototype : void 0
      , l = c ? c.valueOf : void 0;
    t.exports = function(t, e, n, r, c, h, f) {
        switch (n) {
        case "[object DataView]":
            if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                return !1;
            t = t.buffer,
            e = e.buffer;
        case "[object ArrayBuffer]":
            return !(t.byteLength != e.byteLength || !h(new i(t), new i(e)));
        case "[object Boolean]":
        case "[object Date]":
        case "[object Number]":
            return o(+t, +e);
        case "[object Error]":
            return t.name == e.name && t.message == e.message;
        case "[object RegExp]":
        case "[object String]":
            return t == e + "";
        case "[object Map]":
            var p = s;
        case "[object Set]":
            var d = 1 & r;
            if (p || (p = u),
            t.size != e.size && !d)
                return !1;
            var m = f.get(t);
            if (m)
                return m == e;
            r |= 2,
            f.set(t, e);
            var v = a(p(t), p(e), r, c, h, f);
            return f.delete(t),
            v;
        case "[object Symbol]":
            if (l)
                return l.call(t) == l.call(e)
        }
        return !1
    }
}
, function(t, e, n) {
    var r = n(33).Uint8Array;
    t.exports = r
}
, function(t, e) {
    t.exports = function(t) {
        var e = -1
          , n = Array(t.size);
        return t.forEach((function(t, r) {
            n[++e] = [r, t]
        }
        )),
        n
    }
}
, function(t, e) {
    t.exports = function(t) {
        var e = -1
          , n = Array(t.size);
        return t.forEach((function(t) {
            n[++e] = t
        }
        )),
        n
    }
}
, function(t, e, n) {
    var r = n(445)
      , i = Object.prototype.hasOwnProperty;
    t.exports = function(t, e, n, o, a, s) {
        var u = 1 & n
          , c = r(t)
          , l = c.length;
        if (l != r(e).length && !u)
            return !1;
        for (var h = l; h--; ) {
            var f = c[h];
            if (!(u ? f in e : i.call(e, f)))
                return !1
        }
        var p = s.get(t);
        if (p && s.get(e))
            return p == e;
        var d = !0;
        s.set(t, e),
        s.set(e, t);
        for (var m = u; ++h < l; ) {
            var v = t[f = c[h]]
              , g = e[f];
            if (o)
                var y = u ? o(g, v, f, e, t, s) : o(v, g, f, t, e, s);
            if (!(void 0 === y ? v === g || a(v, g, n, o, s) : y)) {
                d = !1;
                break
            }
            m || (m = "constructor" == f)
        }
        if (d && !m) {
            var b = t.constructor
              , x = e.constructor;
            b != x && "constructor"in t && "constructor"in e && !("function" == typeof b && b instanceof b && "function" == typeof x && x instanceof x) && (d = !1)
        }
        return s.delete(t),
        s.delete(e),
        d
    }
}
, function(t, e, n) {
    var r = n(446)
      , i = n(448)
      , o = n(76);
    t.exports = function(t) {
        return r(t, o, i)
    }
}
, function(t, e, n) {
    var r = n(447)
      , i = n(28);
    t.exports = function(t, e, n) {
        var o = e(t);
        return i(t) ? o : r(o, n(t))
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, r = e.length, i = t.length; ++n < r; )
            t[i + n] = e[n];
        return t
    }
}
, function(t, e, n) {
    var r = n(449)
      , i = n(450)
      , o = Object.prototype.propertyIsEnumerable
      , a = Object.getOwnPropertySymbols
      , s = a ? function(t) {
        return null == t ? [] : (t = Object(t),
        r(a(t), (function(e) {
            return o.call(t, e)
        }
        )))
    }
    : i;
    t.exports = s
}
, function(t, e) {
    t.exports = function(t, e) {
        for (var n = -1, r = null == t ? 0 : t.length, i = 0, o = []; ++n < r; ) {
            var a = t[n];
            e(a, n, t) && (o[i++] = a)
        }
        return o
    }
}
, function(t, e) {
    t.exports = function() {
        return []
    }
}
, function(t, e, n) {
    var r = n(452)
      , i = n(121)
      , o = n(453)
      , a = n(454)
      , s = n(455)
      , u = n(60)
      , c = n(171)
      , l = c(r)
      , h = c(i)
      , f = c(o)
      , p = c(a)
      , d = c(s)
      , m = u;
    (r && "[object DataView]" != m(new r(new ArrayBuffer(1))) || i && "[object Map]" != m(new i) || o && "[object Promise]" != m(o.resolve()) || a && "[object Set]" != m(new a) || s && "[object WeakMap]" != m(new s)) && (m = function(t) {
        var e = u(t)
          , n = "[object Object]" == e ? t.constructor : void 0
          , r = n ? c(n) : "";
        if (r)
            switch (r) {
            case l:
                return "[object DataView]";
            case h:
                return "[object Map]";
            case f:
                return "[object Promise]";
            case p:
                return "[object Set]";
            case d:
                return "[object WeakMap]"
            }
        return e
    }
    ),
    t.exports = m
}
, function(t, e, n) {
    var r = n(54)(n(33), "DataView");
    t.exports = r
}
, function(t, e, n) {
    var r = n(54)(n(33), "Promise");
    t.exports = r
}
, function(t, e, n) {
    var r = n(54)(n(33), "Set");
    t.exports = r
}
, function(t, e, n) {
    var r = n(54)(n(33), "WeakMap");
    t.exports = r
}
, function(t, e, n) {
    var r = n(174)
      , i = n(76);
    t.exports = function(t) {
        for (var e = i(t), n = e.length; n--; ) {
            var o = e[n]
              , a = t[o];
            e[n] = [o, a, r(a)]
        }
        return e
    }
}
, function(t, e, n) {
    var r = n(172)
      , i = n(458)
      , o = n(464)
      , a = n(123)
      , s = n(174)
      , u = n(175)
      , c = n(85);
    t.exports = function(t, e) {
        return a(t) && s(e) ? u(c(t), e) : function(n) {
            var a = i(n, t);
            return void 0 === a && a === e ? o(n, t) : r(e, a, 3)
        }
    }
}
, function(t, e, n) {
    var r = n(176);
    t.exports = function(t, e, n) {
        var i = null == t ? void 0 : r(t, e);
        return void 0 === i ? n : i
    }
}
, function(t, e, n) {
    var r = n(460)
      , i = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
      , o = /\\(\\)?/g
      , a = r((function(t) {
        var e = [];
        return 46 === t.charCodeAt(0) && e.push(""),
        t.replace(i, (function(t, n, r, i) {
            e.push(r ? i.replace(o, "$1") : n || t)
        }
        )),
        e
    }
    ));
    t.exports = a
}
, function(t, e, n) {
    var r = n(461);
    t.exports = function(t) {
        var e = r(t, (function(t) {
            return 500 === n.size && n.clear(),
            t
        }
        ))
          , n = e.cache;
        return e
    }
}
, function(t, e, n) {
    var r = n(122);
    function i(t, e) {
        if ("function" != typeof t || null != e && "function" != typeof e)
            throw new TypeError("Expected a function");
        var n = function n() {
            var r = arguments
              , i = e ? e.apply(this, r) : r[0]
              , o = n.cache;
            if (o.has(i))
                return o.get(i);
            var a = t.apply(this, r);
            return n.cache = o.set(i, a) || o,
            a
        };
        return n.cache = new (i.Cache || r),
        n
    }
    i.Cache = r,
    t.exports = i
}
, function(t, e, n) {
    var r = n(463);
    t.exports = function(t) {
        return null == t ? "" : r(t)
    }
}
, function(t, e, n) {
    var r = n(77)
      , i = n(178)
      , o = n(28)
      , a = n(80)
      , s = r ? r.prototype : void 0
      , u = s ? s.toString : void 0;
    t.exports = function t(e) {
        if ("string" == typeof e)
            return e;
        if (o(e))
            return i(e, t) + "";
        if (a(e))
            return u ? u.call(e) : "";
        var n = e + "";
        return "0" == n && 1 / e == -1 / 0 ? "-0" : n
    }
}
, function(t, e, n) {
    var r = n(465)
      , i = n(466);
    t.exports = function(t, e) {
        return null != t && i(t, e, r)
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return null != t && e in Object(t)
    }
}
, function(t, e, n) {
    var r = n(177)
      , i = n(158)
      , o = n(28)
      , a = n(161)
      , s = n(117)
      , u = n(85);
    t.exports = function(t, e, n) {
        for (var c = -1, l = (e = r(e, t)).length, h = !1; ++c < l; ) {
            var f = u(e[c]);
            if (!(h = null != t && n(t, f)))
                break;
            t = t[f]
        }
        return h || ++c != l ? h : !!(l = null == t ? 0 : t.length) && s(l) && a(f, l) && (o(t) || i(t))
    }
}
, function(t, e, n) {
    var r = n(468)
      , i = n(469)
      , o = n(123)
      , a = n(85);
    t.exports = function(t) {
        return o(t) ? r(a(t)) : i(t)
    }
}
, function(t, e) {
    t.exports = function(t) {
        return function(e) {
            return null == e ? void 0 : e[t]
        }
    }
}
, function(t, e, n) {
    var r = n(176);
    t.exports = function(t) {
        return function(e) {
            return r(e, t)
        }
    }
}
, function(t, e, n) {
    var r = n(471)
      , i = n(120)
      , o = n(472)
      , a = Math.max;
    t.exports = function(t, e, n) {
        var s = null == t ? 0 : t.length;
        if (!s)
            return -1;
        var u = null == n ? 0 : o(n);
        return u < 0 && (u = a(s + u, 0)),
        r(t, i(e, 3), u)
    }
}
, function(t, e) {
    t.exports = function(t, e, n, r) {
        for (var i = t.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
            if (e(t[o], o, t))
                return o;
        return -1
    }
}
, function(t, e, n) {
    var r = n(165);
    t.exports = function(t) {
        var e = r(t)
          , n = e % 1;
        return e == e ? n ? e - n : e : 0
    }
}
, function(t, e, n) {
    var r = n(157)
      , i = n(78);
    t.exports = function(t, e) {
        var n = -1
          , o = i(t) ? Array(t.length) : [];
        return r(t, (function(t, r, i) {
            o[++n] = e(t, r, i)
        }
        )),
        o
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = function(t) {
        return encodeURIComponent(t).replace(/[!'()*]/g, (function(t) {
            return "%".concat(t.charCodeAt(0).toString(16).toUpperCase())
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    var i = new RegExp("%[a-f0-9]{2}","gi")
      , o = new RegExp("(%[a-f0-9]{2})+","gi");
    function a(t, e) {
        try {
            return decodeURIComponent(t.join(""))
        } catch (t) {}
        if (1 === t.length)
            return t;
        e = e || 1;
        var n = t.slice(0, e)
          , r = t.slice(e);
        return Array.prototype.concat.call([], a(n), a(r))
    }
    function s(t) {
        try {
            return decodeURIComponent(t)
        } catch (r) {
            for (var e = t.match(i), n = 1; n < e.length; n++)
                e = (t = a(e, n).join("")).match(i);
            return t
        }
    }
    t.exports = function(t) {
        if ("string" != typeof t)
            throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + r(t) + "`");
        try {
            return t = t.replace(/\+/g, " "),
            decodeURIComponent(t)
        } catch (e) {
            return function(t) {
                for (var e = {
                    "%FE%FF": "��",
                    "%FF%FE": "��"
                }, n = o.exec(t); n; ) {
                    try {
                        e[n[0]] = decodeURIComponent(n[0])
                    } catch (t) {
                        var r = s(n[0]);
                        r !== n[0] && (e[n[0]] = r)
                    }
                    n = o.exec(t)
                }
                e["%C2"] = "�";
                for (var i = Object.keys(e), a = 0; a < i.length; a++) {
                    var u = i[a];
                    t = t.replace(new RegExp(u,"g"), e[u])
                }
                return t
            }(t)
        }
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = function(t, e) {
        if ("string" != typeof t || "string" != typeof e)
            throw new TypeError("Expected the arguments to be of type `string`");
        if ("" === e)
            return [t];
        var n = t.indexOf(e);
        return -1 === n ? [t] : [t.slice(0, n), t.slice(n + e.length)]
    }
}
, function(t, e, n) {}
, function(t, e, n) {
    "use strict";
    n.r(e);
    n(188),
    n(374),
    n(375);
    var r = "URLSearchParams"in self
      , i = "Symbol"in self && "iterator"in Symbol
      , o = "FileReader"in self && "Blob"in self && function() {
        try {
            return new Blob,
            !0
        } catch (t) {
            return !1
        }
    }()
      , a = "FormData"in self
      , s = "ArrayBuffer"in self;
    if (s)
        var u = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]
          , c = ArrayBuffer.isView || function(t) {
            return t && u.indexOf(Object.prototype.toString.call(t)) > -1
        }
        ;
    function l(t) {
        if ("string" != typeof t && (t = String(t)),
        /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))
            throw new TypeError("Invalid character in header field name");
        return t.toLowerCase()
    }
    function h(t) {
        return "string" != typeof t && (t = String(t)),
        t
    }
    function f(t) {
        var e = {
            next: function() {
                var e = t.shift();
                return {
                    done: void 0 === e,
                    value: e
                }
            }
        };
        return i && (e[Symbol.iterator] = function() {
            return e
        }
        ),
        e
    }
    function p(t) {
        this.map = {},
        t instanceof p ? t.forEach((function(t, e) {
            this.append(e, t)
        }
        ), this) : Array.isArray(t) ? t.forEach((function(t) {
            this.append(t[0], t[1])
        }
        ), this) : t && Object.getOwnPropertyNames(t).forEach((function(e) {
            this.append(e, t[e])
        }
        ), this)
    }
    function d(t) {
        if (t.bodyUsed)
            return Promise.reject(new TypeError("Already read"));
        t.bodyUsed = !0
    }
    function m(t) {
        return new Promise((function(e, n) {
            t.onload = function() {
                e(t.result)
            }
            ,
            t.onerror = function() {
                n(t.error)
            }
        }
        ))
    }
    function v(t) {
        var e = new FileReader
          , n = m(e);
        return e.readAsArrayBuffer(t),
        n
    }
    function g(t) {
        if (t.slice)
            return t.slice(0);
        var e = new Uint8Array(t.byteLength);
        return e.set(new Uint8Array(t)),
        e.buffer
    }
    function y() {
        return this.bodyUsed = !1,
        this._initBody = function(t) {
            var e;
            this._bodyInit = t,
            t ? "string" == typeof t ? this._bodyText = t : o && Blob.prototype.isPrototypeOf(t) ? this._bodyBlob = t : a && FormData.prototype.isPrototypeOf(t) ? this._bodyFormData = t : r && URLSearchParams.prototype.isPrototypeOf(t) ? this._bodyText = t.toString() : s && o && ((e = t) && DataView.prototype.isPrototypeOf(e)) ? (this._bodyArrayBuffer = g(t.buffer),
            this._bodyInit = new Blob([this._bodyArrayBuffer])) : s && (ArrayBuffer.prototype.isPrototypeOf(t) || c(t)) ? this._bodyArrayBuffer = g(t) : this._bodyText = t = Object.prototype.toString.call(t) : this._bodyText = "",
            this.headers.get("content-type") || ("string" == typeof t ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : r && URLSearchParams.prototype.isPrototypeOf(t) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
        }
        ,
        o && (this.blob = function() {
            var t = d(this);
            if (t)
                return t;
            if (this._bodyBlob)
                return Promise.resolve(this._bodyBlob);
            if (this._bodyArrayBuffer)
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
            if (this._bodyFormData)
                throw new Error("could not read FormData body as blob");
            return Promise.resolve(new Blob([this._bodyText]))
        }
        ,
        this.arrayBuffer = function() {
            return this._bodyArrayBuffer ? d(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(v)
        }
        ),
        this.text = function() {
            var t, e, n, r = d(this);
            if (r)
                return r;
            if (this._bodyBlob)
                return t = this._bodyBlob,
                e = new FileReader,
                n = m(e),
                e.readAsText(t),
                n;
            if (this._bodyArrayBuffer)
                return Promise.resolve(function(t) {
                    for (var e = new Uint8Array(t), n = new Array(e.length), r = 0; r < e.length; r++)
                        n[r] = String.fromCharCode(e[r]);
                    return n.join("")
                }(this._bodyArrayBuffer));
            if (this._bodyFormData)
                throw new Error("could not read FormData body as text");
            return Promise.resolve(this._bodyText)
        }
        ,
        a && (this.formData = function() {
            return this.text().then(_)
        }
        ),
        this.json = function() {
            return this.text().then(JSON.parse)
        }
        ,
        this
    }
    p.prototype.append = function(t, e) {
        t = l(t),
        e = h(e);
        var n = this.map[t];
        this.map[t] = n ? n + ", " + e : e
    }
    ,
    p.prototype.delete = function(t) {
        delete this.map[l(t)]
    }
    ,
    p.prototype.get = function(t) {
        return t = l(t),
        this.has(t) ? this.map[t] : null
    }
    ,
    p.prototype.has = function(t) {
        return this.map.hasOwnProperty(l(t))
    }
    ,
    p.prototype.set = function(t, e) {
        this.map[l(t)] = h(e)
    }
    ,
    p.prototype.forEach = function(t, e) {
        for (var n in this.map)
            this.map.hasOwnProperty(n) && t.call(e, this.map[n], n, this)
    }
    ,
    p.prototype.keys = function() {
        var t = [];
        return this.forEach((function(e, n) {
            t.push(n)
        }
        )),
        f(t)
    }
    ,
    p.prototype.values = function() {
        var t = [];
        return this.forEach((function(e) {
            t.push(e)
        }
        )),
        f(t)
    }
    ,
    p.prototype.entries = function() {
        var t = [];
        return this.forEach((function(e, n) {
            t.push([n, e])
        }
        )),
        f(t)
    }
    ,
    i && (p.prototype[Symbol.iterator] = p.prototype.entries);
    var b = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
    function x(t, e) {
        var n, r, i = (e = e || {}).body;
        if (t instanceof x) {
            if (t.bodyUsed)
                throw new TypeError("Already read");
            this.url = t.url,
            this.credentials = t.credentials,
            e.headers || (this.headers = new p(t.headers)),
            this.method = t.method,
            this.mode = t.mode,
            this.signal = t.signal,
            i || null == t._bodyInit || (i = t._bodyInit,
            t.bodyUsed = !0)
        } else
            this.url = String(t);
        if (this.credentials = e.credentials || this.credentials || "same-origin",
        !e.headers && this.headers || (this.headers = new p(e.headers)),
        this.method = (n = e.method || this.method || "GET",
        r = n.toUpperCase(),
        b.indexOf(r) > -1 ? r : n),
        this.mode = e.mode || this.mode || null,
        this.signal = e.signal || this.signal,
        this.referrer = null,
        ("GET" === this.method || "HEAD" === this.method) && i)
            throw new TypeError("Body not allowed for GET or HEAD requests");
        this._initBody(i)
    }
    function _(t) {
        var e = new FormData;
        return t.trim().split("&").forEach((function(t) {
            if (t) {
                var n = t.split("=")
                  , r = n.shift().replace(/\+/g, " ")
                  , i = n.join("=").replace(/\+/g, " ");
                e.append(decodeURIComponent(r), decodeURIComponent(i))
            }
        }
        )),
        e
    }
    function w(t, e) {
        e || (e = {}),
        this.type = "default",
        this.status = void 0 === e.status ? 200 : e.status,
        this.ok = this.status >= 200 && this.status < 300,
        this.statusText = "statusText"in e ? e.statusText : "OK",
        this.headers = new p(e.headers),
        this.url = e.url || "",
        this._initBody(t)
    }
    x.prototype.clone = function() {
        return new x(this,{
            body: this._bodyInit
        })
    }
    ,
    y.call(x.prototype),
    y.call(w.prototype),
    w.prototype.clone = function() {
        return new w(this._bodyInit,{
            status: this.status,
            statusText: this.statusText,
            headers: new p(this.headers),
            url: this.url
        })
    }
    ,
    w.error = function() {
        var t = new w(null,{
            status: 0,
            statusText: ""
        });
        return t.type = "error",
        t
    }
    ;
    var M = [301, 302, 303, 307, 308];
    w.redirect = function(t, e) {
        if (-1 === M.indexOf(e))
            throw new RangeError("Invalid status code");
        return new w(null,{
            status: e,
            headers: {
                location: t
            }
        })
    }
    ;
    var S = self.DOMException;
    try {
        new S
    } catch (t) {
        (S = function(t, e) {
            this.message = t,
            this.name = e;
            var n = Error(t);
            this.stack = n.stack
        }
        ).prototype = Object.create(Error.prototype),
        S.prototype.constructor = S
    }
    function E(t, e) {
        return new Promise((function(n, r) {
            var i = new x(t,e);
            if (i.signal && i.signal.aborted)
                return r(new S("Aborted","AbortError"));
            var a = new XMLHttpRequest;
            function s() {
                a.abort()
            }
            a.onload = function() {
                var t, e, r = {
                    status: a.status,
                    statusText: a.statusText,
                    headers: (t = a.getAllResponseHeaders() || "",
                    e = new p,
                    t.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach((function(t) {
                        var n = t.split(":")
                          , r = n.shift().trim();
                        if (r) {
                            var i = n.join(":").trim();
                            e.append(r, i)
                        }
                    }
                    )),
                    e)
                };
                r.url = "responseURL"in a ? a.responseURL : r.headers.get("X-Request-URL");
                var i = "response"in a ? a.response : a.responseText;
                n(new w(i,r))
            }
            ,
            a.onerror = function() {
                r(new TypeError("Network request failed"))
            }
            ,
            a.ontimeout = function() {
                r(new TypeError("Network request failed"))
            }
            ,
            a.onabort = function() {
                r(new S("Aborted","AbortError"))
            }
            ,
            a.open(i.method, i.url, !0),
            "include" === i.credentials ? a.withCredentials = !0 : "omit" === i.credentials && (a.withCredentials = !1),
            "responseType"in a && o && (a.responseType = "blob"),
            i.headers.forEach((function(t, e) {
                a.setRequestHeader(e, t)
            }
            )),
            i.signal && (i.signal.addEventListener("abort", s),
            a.onreadystatechange = function() {
                4 === a.readyState && i.signal.removeEventListener("abort", s)
            }
            ),
            a.send(void 0 === i._bodyInit ? null : i._bodyInit)
        }
        ))
    }
    E.polyfill = !0,
    self.fetch || (self.fetch = E,
    self.Headers = p,
    self.Request = x,
    self.Response = w);
    n(376),
    n(377);
    var T = n(12)
      , A = n.n(T)
      , P = n(180)
      , L = n.n(P)
      , O = n(2)
      , R = n.n(O);
    function C(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    var I = new (function() {
        function t() {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t)
        }
        var e, n, r;
        return e = t,
        (n = [{
            key: "isMobile",
            value: function() {
                return document.documentElement.classList.contains("mobile")
            }
        }, {
            key: "isWebPSupported",
            value: function() {
                var t = document.createElement("canvas");
                return !(!t.getContext || !t.getContext("2d")) && 0 === t.toDataURL("image/webp").indexOf("data:image/webp")
            }
        }]) && C(e.prototype, n),
        r && C(e, r),
        t
    }())
      , D = n(86)
      , k = n.n(D);
    function N(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    function z(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    var j = function() {
        function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
              , n = e.minimum
              , r = void 0 === n ? 0 : n
              , i = e.maximum
              , o = void 0 === i ? {
                mobile: 10,
                tablet: 100,
                desktop: 100
            } : i
              , a = e.round
              , s = void 0 !== a && a
              , u = e.scaleHeight
              , c = void 0 !== u && u
              , l = e.scaleWidth
              , h = void 0 === l || l;
            N(this, t),
            this.minimum = r,
            this.maximum = o,
            this.round = s,
            this.scaleHeight = c,
            this.scaleWidth = h,
            this.onResize()
        }
        var e, n, r;
        return e = t,
        (n = [{
            key: "onResize",
            value: function() {
                var t = {
                    height: window.innerHeight,
                    width: window.innerWidth
                }
                  , e = 736
                  , n = 400;
                t.width >= 768 && (e = 900,
                n = 1440),
                t.width >= 1152 && (e = 900,
                n = 1440);
                var r = t.height / e
                  , i = t.width / n
                  , o = i;
                this.scaleHeight && this.scaleWidth ? o = Math.min(r, i) : this.scaleHeight && (o = r);
                var a = k()(10 * o, this.minimum.phone, this.maximum.phone);
                t.width >= 768 && (a = k()(10 * o, this.minimum.tablet, this.maximum.tablet)),
                t.width >= 1152 && (a = k()(10 * o, this.minimum.desktop, this.maximum.desktop)),
                this.round && (a = Math.round(a)),
                document.documentElement.style.fontSize = "".concat(a, "px"),
                this.scale = o,
                this.size = a,
                this.sizes = t
            }
        }]) && z(e.prototype, n),
        r && z(e, r),
        t
    }();
    function F(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function B(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    var U = function() {
        function t(e) {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t),
            this.onFetch(e)
        }
        var e, n, r, i, o;
        return e = t,
        (n = [{
            key: "onFetch",
            value: (i = regeneratorRuntime.mark((function t(e) {
                var n, r;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2,
                            window.fetch(e);
                        case 2:
                            return n = t.sent,
                            t.next = 5,
                            n.text();
                        case 5:
                            r = t.sent,
                            this.createSprite(r);
                        case 7:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            )),
            o = function() {
                var t = this
                  , e = arguments;
                return new Promise((function(n, r) {
                    var o = i.apply(t, e);
                    function a(t) {
                        F(o, n, r, a, s, "next", t)
                    }
                    function s(t) {
                        F(o, n, r, a, s, "throw", t)
                    }
                    a(void 0)
                }
                ))
            }
            ,
            function(t) {
                return o.apply(this, arguments)
            }
            )
        }, {
            key: "createSprite",
            value: function(t) {
                var e = document.createElement("div");
                e.innerHTML = t,
                e.style.left = "-999999px",
                e.style.opacity = 0,
                e.style.position = "absolute",
                e.style.top = 0,
                document.body.appendChild(e)
            }
        }]) && B(e.prototype, n),
        r && B(e, r),
        t
    }()
      , G = n(15)
      , H = n.n(G)
      , V = n(62)
      , W = n.n(V)
      , q = n(181)
      , X = n.n(q)
      , Y = n(1)
      , Z = n(182)
      , J = n.n(Z)
      , Q = n(183)
      , K = n.n(Q)
      , $ = n(87)
      , tt = n.n($);
    function et(t) {
        return (et = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function nt(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function rt(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    /*!
 * GSAP 3.2.4
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
    var it, ot, at, st, ut, ct, lt, ht, ft, pt, dt, mt, vt, gt, yt, bt, xt, _t, wt, Mt, St, Et, Tt, At, Pt, Lt = {
        autoSleep: 120,
        force3D: "auto",
        nullTargetWarn: 1,
        units: {
            lineHeight: ""
        }
    }, Ot = {
        duration: .5,
        overwrite: !1,
        delay: 0
    }, Rt = 2 * Math.PI, Ct = Rt / 4, It = 0, Dt = Math.sqrt, kt = Math.cos, Nt = Math.sin, zt = function(t) {
        return "string" == typeof t
    }, jt = function(t) {
        return "function" == typeof t
    }, Ft = function(t) {
        return "number" == typeof t
    }, Bt = function(t) {
        return void 0 === t
    }, Ut = function(t) {
        return "object" === et(t)
    }, Gt = function(t) {
        return !1 !== t
    }, Ht = function() {
        return "undefined" != typeof window
    }, Vt = function(t) {
        return jt(t) || zt(t)
    }, Wt = Array.isArray, qt = /(?:-?\.?\d|\.)+/gi, Xt = /[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g, Yt = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g, Zt = /[-+=.]*\d+(?:\.|e-|e)*\d*/gi, Jt = /\(([^()]+)\)/i, Qt = /[+-]=-?[\.\d]+/, Kt = /[#\-+.]*\b[a-z\d-=+%.]+/gi, $t = {}, te = {}, ee = function(t) {
        return (te = Ae(t, $t)) && sr
    }, ne = function(t, e) {
        return console.warn("Invalid property", t, "set to", e, "Missing plugin? gsap.registerPlugin()")
    }, re = function(t, e) {
        return !e && console.warn(t)
    }, ie = function(t, e) {
        return t && ($t[t] = e) && te && (te[t] = e) || $t
    }, oe = function() {
        return 0
    }, ae = {}, se = [], ue = {}, ce = {}, le = {}, he = 30, fe = [], pe = "", de = function(t) {
        var e, n, r = t[0];
        if (Ut(r) || jt(r) || (t = [t]),
        !(e = (r._gsap || {}).harness)) {
            for (n = fe.length; n-- && !fe[n].targetTest(r); )
                ;
            e = fe[n]
        }
        for (n = t.length; n--; )
            t[n] && (t[n]._gsap || (t[n]._gsap = new Cn(t[n],e))) || t.splice(n, 1);
        return t
    }, me = function(t) {
        return t._gsap || de(Ke(t))[0]._gsap
    }, ve = function(t, e) {
        var n = t[e];
        return jt(n) ? t[e]() : Bt(n) && t.getAttribute(e) || n
    }, ge = function(t, e) {
        return (t = t.split(",")).forEach(e) || t
    }, ye = function(t) {
        return Math.round(1e5 * t) / 1e5 || 0
    }, be = function(t, e) {
        for (var n = e.length, r = 0; t.indexOf(e[r]) < 0 && ++r < n; )
            ;
        return r < n
    }, xe = function(t, e, n) {
        var r, i = Ft(t[1]), o = (i ? 2 : 1) + (e < 2 ? 0 : 1), a = t[o];
        if (i && (a.duration = t[1]),
        a.parent = n,
        e) {
            for (r = a; n && !("immediateRender"in r); )
                r = n.vars.defaults || {},
                n = Gt(n.vars.inherit) && n.parent;
            a.immediateRender = Gt(r.immediateRender),
            e < 2 ? a.runBackwards = 1 : a.startAt = t[o - 1]
        }
        return a
    }, _e = function() {
        var t, e, n = se.length, r = se.slice(0);
        for (ue = {},
        se.length = 0,
        t = 0; t < n; t++)
            (e = r[t]) && e._lazy && (e.render(e._lazy[0], e._lazy[1], !0)._lazy = 0)
    }, we = function(t, e, n, r) {
        se.length && _e(),
        t.render(e, n, r),
        se.length && _e()
    }, Me = function(t) {
        var e = parseFloat(t);
        return (e || 0 === e) && (t + "").match(Kt).length < 2 ? e : t
    }, Se = function(t) {
        return t
    }, Ee = function(t, e) {
        for (var n in e)
            n in t || (t[n] = e[n]);
        return t
    }, Te = function(t, e) {
        for (var n in e)
            n in t || "duration" === n || "ease" === n || (t[n] = e[n])
    }, Ae = function(t, e) {
        for (var n in e)
            t[n] = e[n];
        return t
    }, Pe = function t(e, n) {
        for (var r in n)
            e[r] = Ut(n[r]) ? t(e[r] || (e[r] = {}), n[r]) : n[r];
        return e
    }, Le = function(t, e) {
        var n, r = {};
        for (n in t)
            n in e || (r[n] = t[n]);
        return r
    }, Oe = function(t) {
        var e = t.parent || it
          , n = t.keyframes ? Te : Ee;
        if (Gt(t.inherit))
            for (; e; )
                n(t, e.vars.defaults),
                e = e.parent;
        return t
    }, Re = function(t, e, n, r) {
        void 0 === n && (n = "_first"),
        void 0 === r && (r = "_last");
        var i = e._prev
          , o = e._next;
        i ? i._next = o : t[n] === e && (t[n] = o),
        o ? o._prev = i : t[r] === e && (t[r] = i),
        e._next = e._prev = e.parent = null
    }, Ce = function(t, e) {
        !t.parent || e && !t.parent.autoRemoveChildren || t.parent.remove(t),
        t._act = 0
    }, Ie = function(t) {
        for (var e = t; e; )
            e._dirty = 1,
            e = e.parent;
        return t
    }, De = function(t) {
        for (var e = t.parent; e && e.parent; )
            e._dirty = 1,
            e.totalDuration(),
            e = e.parent;
        return t
    }, ke = function(t) {
        return t._repeat ? Ne(t._tTime, t = t.duration() + t._rDelay) * t : 0
    }, Ne = function(t, e) {
        return (t /= e) && ~~t === t ? ~~t - 1 : ~~t
    }, ze = function(t, e) {
        return (t - e._start) * e._ts + (e._ts >= 0 ? 0 : e._dirty ? e.totalDuration() : e._tDur)
    }, je = function(t) {
        return t._end = ye(t._start + (t._tDur / Math.abs(t._ts || t._pauseTS || 1e-8) || 0))
    }, Fe = function(t, e) {
        var n;
        if ((e._time || e._initted && !e._dur) && (n = ze(t.rawTime(), e),
        (!e._dur || Xe(0, e.totalDuration(), n) - e._tTime > 1e-8) && e.render(n, !0)),
        Ie(t)._dp && t._initted && t._time >= t._dur && t._ts) {
            if (t._dur < t.duration())
                for (n = t; n._dp; )
                    n.rawTime() >= 0 && n.totalTime(n._tTime),
                    n = n._dp;
            t._zTime = -1e-8
        }
    }, Be = function(t, e, n, r) {
        return e.parent && Ce(e),
        e._start = ye(n + e._delay),
        e._end = ye(e._start + (e.totalDuration() / Math.abs(e.timeScale()) || 0)),
        function(t, e, n, r, i) {
            void 0 === n && (n = "_first"),
            void 0 === r && (r = "_last");
            var o, a = t[r];
            if (i)
                for (o = e[i]; a && a[i] > o; )
                    a = a._prev;
            a ? (e._next = a._next,
            a._next = e) : (e._next = t[n],
            t[n] = e),
            e._next ? e._next._prev = e : t[r] = e,
            e._prev = a,
            e.parent = e._dp = t
        }(t, e, "_first", "_last", t._sort ? "_start" : 0),
        t._recent = e,
        r || Fe(t, e),
        t
    }, Ue = function(t, e, n, r) {
        return Fn(t, e),
        t._initted ? !n && t._pt && (t._dur && !1 !== t.vars.lazy || !t._dur && t.vars.lazy) && ct !== xn.frame ? (se.push(t),
        t._lazy = [e, r],
        1) : void 0 : 1
    }, Ge = function(t, e, n) {
        var r = t._repeat
          , i = ye(e);
        return t._dur = i,
        t._tDur = r ? r < 0 ? 1e12 : ye(i * (r + 1) + t._rDelay * r) : i,
        !n && Ie(t.parent),
        t.parent && je(t),
        t
    }, He = function(t) {
        return t instanceof Dn ? Ie(t) : Ge(t, t._dur)
    }, Ve = {
        _start: 0,
        endTime: oe
    }, We = function t(e, n) {
        var r, i, o = e.labels, a = e._recent || Ve, s = e.duration() >= 1e8 ? a.endTime(!1) : e._dur;
        return zt(n) && (isNaN(n) || n in o) ? "<" === (r = n.charAt(0)) || ">" === r ? ("<" === r ? a._start : a.endTime(a._repeat >= 0)) + (parseFloat(n.substr(1)) || 0) : (r = n.indexOf("=")) < 0 ? (n in o || (o[n] = s),
        o[n]) : (i = +(n.charAt(r - 1) + n.substr(r + 1)),
        r > 1 ? t(e, n.substr(0, r - 1)) + i : s + i) : null == n ? s : +n
    }, qe = function(t, e) {
        return t || 0 === t ? e(t) : e
    }, Xe = function(t, e, n) {
        return n < t ? t : n > e ? e : n
    }, Ye = function(t) {
        return (t + "").substr((parseFloat(t) + "").length)
    }, Ze = [].slice, Je = function(t, e) {
        return t && Ut(t) && "length"in t && (!e && !t.length || t.length - 1 in t && Ut(t[0])) && !t.nodeType && t !== ot
    }, Qe = function(t, e, n) {
        return void 0 === n && (n = []),
        t.forEach((function(t) {
            var r;
            return zt(t) && !e || Je(t, 1) ? (r = n).push.apply(r, Ke(t)) : n.push(t)
        }
        )) || n
    }, Ke = function(t, e) {
        return !zt(t) || e || !at && _n() ? Wt(t) ? Qe(t, e) : Je(t) ? Ze.call(t, 0) : t ? [t] : [] : Ze.call(st.querySelectorAll(t), 0)
    }, $e = function(t) {
        return t.sort((function() {
            return .5 - Math.random()
        }
        ))
    }, tn = function(t) {
        if (jt(t))
            return t;
        var e = Ut(t) ? t : {
            each: t
        }
          , n = An(e.ease)
          , r = e.from || 0
          , i = parseFloat(e.base) || 0
          , o = {}
          , a = r > 0 && r < 1
          , s = isNaN(r) || a
          , u = e.axis
          , c = r
          , l = r;
        return zt(r) ? c = l = {
            center: .5,
            edges: .5,
            end: 1
        }[r] || 0 : !a && s && (c = r[0],
        l = r[1]),
        function(t, a, h) {
            var f, p, d, m, v, g, y, b, x, _ = (h || e).length, w = o[_];
            if (!w) {
                if (!(x = "auto" === e.grid ? 0 : (e.grid || [1, 1e8])[1])) {
                    for (y = -1e8; y < (y = h[x++].getBoundingClientRect().left) && x < _; )
                        ;
                    x--
                }
                for (w = o[_] = [],
                f = s ? Math.min(x, _) * c - .5 : r % x,
                p = s ? _ * l / x - .5 : r / x | 0,
                y = 0,
                b = 1e8,
                g = 0; g < _; g++)
                    d = g % x - f,
                    m = p - (g / x | 0),
                    w[g] = v = u ? Math.abs("y" === u ? m : d) : Dt(d * d + m * m),
                    v > y && (y = v),
                    v < b && (b = v);
                "random" === r && $e(w),
                w.max = y - b,
                w.min = b,
                w.v = _ = (parseFloat(e.amount) || parseFloat(e.each) * (x > _ ? _ - 1 : u ? "y" === u ? _ / x : x : Math.max(x, _ / x)) || 0) * ("edges" === r ? -1 : 1),
                w.b = _ < 0 ? i - _ : i,
                w.u = Ye(e.amount || e.each) || 0,
                n = n && _ < 0 ? Tn(n) : n
            }
            return _ = (w[t] - w.min) / w.max || 0,
            ye(w.b + (n ? n(_) : _) * w.v) + w.u
        }
    }, en = function(t) {
        var e = t < 1 ? Math.pow(10, (t + "").length - 2) : 1;
        return function(n) {
            return ~~(Math.round(parseFloat(n) / t) * t * e) / e + (Ft(n) ? 0 : Ye(n))
        }
    }, nn = function(t, e) {
        var n, r, i = Wt(t);
        return !i && Ut(t) && (n = i = t.radius || 1e8,
        t.values ? (t = Ke(t.values),
        (r = !Ft(t[0])) && (n *= n)) : t = en(t.increment)),
        qe(e, i ? jt(t) ? function(e) {
            return r = t(e),
            Math.abs(r - e) <= n ? r : e
        }
        : function(e) {
            for (var i, o, a = parseFloat(r ? e.x : e), s = parseFloat(r ? e.y : 0), u = 1e8, c = 0, l = t.length; l--; )
                (i = r ? (i = t[l].x - a) * i + (o = t[l].y - s) * o : Math.abs(t[l] - a)) < u && (u = i,
                c = l);
            return c = !n || u <= n ? t[c] : e,
            r || c === e || Ft(e) ? c : c + Ye(e)
        }
        : en(t))
    }, rn = function(t, e, n, r) {
        return qe(Wt(t) ? !e : !0 === n ? !!(n = 0) : !r, (function() {
            return Wt(t) ? t[~~(Math.random() * t.length)] : (n = n || 1e-5) && (r = n < 1 ? Math.pow(10, (n + "").length - 2) : 1) && ~~(Math.round((t + Math.random() * (e - t)) / n) * n * r) / r
        }
        ))
    }, on = function(t, e, n) {
        return qe(n, (function(n) {
            return t[~~e(n)]
        }
        ))
    }, an = function(t) {
        for (var e, n, r, i, o = 0, a = ""; ~(e = t.indexOf("random(", o)); )
            r = t.indexOf(")", e),
            i = "[" === t.charAt(e + 7),
            n = t.substr(e + 7, r - e - 7).match(i ? Kt : qt),
            a += t.substr(o, e - o) + rn(i ? n : +n[0], +n[1], +n[2] || 1e-5),
            o = r + 1;
        return a + t.substr(o, t.length - o)
    }, sn = function(t, e, n, r, i) {
        var o = e - t
          , a = r - n;
        return qe(i, (function(e) {
            return n + (e - t) / o * a
        }
        ))
    }, un = function(t, e, n) {
        var r, i, o, a = t.labels, s = 1e8;
        for (r in a)
            (i = a[r] - e) < 0 == !!n && i && s > (i = Math.abs(i)) && (o = r,
            s = i);
        return o
    }, cn = function(t, e, n) {
        var r, i, o = t.vars, a = o[e];
        if (a)
            return r = o[e + "Params"],
            i = o.callbackScope || t,
            n && se.length && _e(),
            r ? a.apply(i, r) : a.call(i)
    }, ln = function(t) {
        return Ce(t),
        t.progress() < 1 && cn(t, "onInterrupt"),
        t
    }, hn = function(t) {
        var e = (t = !t.name && t.default || t).name
          , n = jt(t)
          , r = e && !n && t.init ? function() {
            this._props = []
        }
        : t
          , i = {
            init: oe,
            render: Kn,
            add: zn,
            kill: tr,
            modifier: $n,
            rawVars: 0
        }
          , o = {
            targetTest: 0,
            get: 0,
            getSetter: Yn,
            aliases: {},
            register: 0
        };
        if (_n(),
        t !== r) {
            if (ce[e])
                return;
            Ee(r, Ee(Le(t, i), o)),
            Ae(r.prototype, Ae(i, Le(t, o))),
            ce[r.prop = e] = r,
            t.targetTest && (fe.push(r),
            ae[e] = 1),
            e = ("css" === e ? "CSS" : e.charAt(0).toUpperCase() + e.substr(1)) + "Plugin"
        }
        ie(e, r),
        t.register && t.register(sr, r, rr)
    }, fn = {
        aqua: [0, 255, 255],
        lime: [0, 255, 0],
        silver: [192, 192, 192],
        black: [0, 0, 0],
        maroon: [128, 0, 0],
        teal: [0, 128, 128],
        blue: [0, 0, 255],
        navy: [0, 0, 128],
        white: [255, 255, 255],
        olive: [128, 128, 0],
        yellow: [255, 255, 0],
        orange: [255, 165, 0],
        gray: [128, 128, 128],
        purple: [128, 0, 128],
        green: [0, 128, 0],
        red: [255, 0, 0],
        pink: [255, 192, 203],
        cyan: [0, 255, 255],
        transparent: [255, 255, 255, 0]
    }, pn = function(t, e, n) {
        return 255 * (6 * (t = t < 0 ? t + 1 : t > 1 ? t - 1 : t) < 1 ? e + (n - e) * t * 6 : t < .5 ? n : 3 * t < 2 ? e + (n - e) * (2 / 3 - t) * 6 : e) + .5 | 0
    }, dn = function(t, e, n) {
        var r, i, o, a, s, u, c, l, h, f, p = t ? Ft(t) ? [t >> 16, t >> 8 & 255, 255 & t] : 0 : fn.black;
        if (!p) {
            if ("," === t.substr(-1) && (t = t.substr(0, t.length - 1)),
            fn[t])
                p = fn[t];
            else if ("#" === t.charAt(0))
                4 === t.length && (r = t.charAt(1),
                i = t.charAt(2),
                o = t.charAt(3),
                t = "#" + r + r + i + i + o + o),
                p = [(t = parseInt(t.substr(1), 16)) >> 16, t >> 8 & 255, 255 & t];
            else if ("hsl" === t.substr(0, 3))
                if (p = f = t.match(qt),
                e) {
                    if (~t.indexOf("="))
                        return p = t.match(Xt),
                        n && p.length < 4 && (p[3] = 1),
                        p
                } else
                    a = +p[0] % 360 / 360,
                    s = +p[1] / 100,
                    r = 2 * (u = +p[2] / 100) - (i = u <= .5 ? u * (s + 1) : u + s - u * s),
                    p.length > 3 && (p[3] *= 1),
                    p[0] = pn(a + 1 / 3, r, i),
                    p[1] = pn(a, r, i),
                    p[2] = pn(a - 1 / 3, r, i);
            else
                p = t.match(qt) || fn.transparent;
            p = p.map(Number)
        }
        return e && !f && (r = p[0] / 255,
        i = p[1] / 255,
        o = p[2] / 255,
        u = ((c = Math.max(r, i, o)) + (l = Math.min(r, i, o))) / 2,
        c === l ? a = s = 0 : (h = c - l,
        s = u > .5 ? h / (2 - c - l) : h / (c + l),
        a = c === r ? (i - o) / h + (i < o ? 6 : 0) : c === i ? (o - r) / h + 2 : (r - i) / h + 4,
        a *= 60),
        p[0] = ~~(a + .5),
        p[1] = ~~(100 * s + .5),
        p[2] = ~~(100 * u + .5)),
        n && p.length < 4 && (p[3] = 1),
        p
    }, mn = function(t) {
        var e = []
          , n = []
          , r = -1;
        return t.split(gn).forEach((function(t) {
            var i = t.match(Yt) || [];
            e.push.apply(e, i),
            n.push(r += i.length + 1)
        }
        )),
        e.c = n,
        e
    }, vn = function(t, e, n) {
        var r, i, o, a, s = "", u = (t + s).match(gn), c = e ? "hsla(" : "rgba(", l = 0;
        if (!u)
            return t;
        if (u = u.map((function(t) {
            return (t = dn(t, e, 1)) && c + (e ? t[0] + "," + t[1] + "%," + t[2] + "%," + t[3] : t.join(",")) + ")"
        }
        )),
        n && (o = mn(t),
        (r = n.c).join(s) !== o.c.join(s)))
            for (a = (i = t.replace(gn, "1").split(Yt)).length - 1; l < a; l++)
                s += i[l] + (~r.indexOf(l) ? u.shift() || c + "0,0,0,0)" : (o.length ? o : u.length ? u : n).shift());
        if (!i)
            for (a = (i = t.split(gn)).length - 1; l < a; l++)
                s += i[l] + u[l];
        return s + i[a]
    }, gn = function() {
        var t, e = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
        for (t in fn)
            e += "|" + t + "\\b";
        return new RegExp(e + ")","gi")
    }(), yn = /hsl[a]?\(/, bn = function(t) {
        var e, n = t.join(" ");
        if (gn.lastIndex = 0,
        gn.test(n))
            return e = yn.test(n),
            t[1] = vn(t[1], e),
            t[0] = vn(t[0], e, mn(t[1])),
            !0
    }, xn = (vt = Date.now,
    gt = 500,
    yt = 33,
    bt = vt(),
    xt = bt,
    wt = _t = 1 / 240,
    St = function t(e) {
        var n, r, i = vt() - xt, o = !0 === e;
        i > gt && (bt += i - yt),
        xt += i,
        mt.time = (xt - bt) / 1e3,
        ((n = mt.time - wt) > 0 || o) && (mt.frame++,
        wt += n + (n >= _t ? .004 : _t - n),
        r = 1),
        o || (ft = pt(t)),
        r && Mt.forEach((function(t) {
            return t(mt.time, i, mt.frame, e)
        }
        ))
    }
    ,
    mt = {
        time: 0,
        frame: 0,
        tick: function() {
            St(!0)
        },
        wake: function() {
            ut && (!at && Ht() && (ot = at = window,
            st = ot.document || {},
            $t.gsap = sr,
            (ot.gsapVersions || (ot.gsapVersions = [])).push(sr.version),
            ee(te || ot.GreenSockGlobals || !ot.gsap && ot || {}),
            dt = ot.requestAnimationFrame),
            ft && mt.sleep(),
            pt = dt || function(t) {
                return setTimeout(t, 1e3 * (wt - mt.time) + 1 | 0)
            }
            ,
            ht = 1,
            St(2))
        },
        sleep: function() {
            (dt ? ot.cancelAnimationFrame : clearTimeout)(ft),
            ht = 0,
            pt = oe
        },
        lagSmoothing: function(t, e) {
            gt = t || 1e8,
            yt = Math.min(e, gt, 0)
        },
        fps: function(t) {
            _t = 1 / (t || 240),
            wt = mt.time + _t
        },
        add: function(t) {
            Mt.indexOf(t) < 0 && Mt.push(t),
            _n()
        },
        remove: function(t) {
            var e;
            ~(e = Mt.indexOf(t)) && Mt.splice(e, 1)
        },
        _listeners: Mt = []
    }), _n = function() {
        return !ht && xn.wake()
    }, wn = {}, Mn = /^[\d.\-M][\d.\-,\s]/, Sn = /["']/g, En = function(t) {
        for (var e, n, r, i = {}, o = t.substr(1, t.length - 3).split(":"), a = o[0], s = 1, u = o.length; s < u; s++)
            n = o[s],
            e = s !== u - 1 ? n.lastIndexOf(",") : n.length,
            r = n.substr(0, e),
            i[a] = isNaN(r) ? r.replace(Sn, "").trim() : +r,
            a = n.substr(e + 1).trim();
        return i
    }, Tn = function(t) {
        return function(e) {
            return 1 - t(1 - e)
        }
    }, An = function(t, e) {
        return t && (jt(t) ? t : wn[t] || function(t) {
            var e = (t + "").split("(")
              , n = wn[e[0]];
            return n && e.length > 1 && n.config ? n.config.apply(null, ~t.indexOf("{") ? [En(e[1])] : Jt.exec(t)[1].split(",").map(Me)) : wn._CE && Mn.test(t) ? wn._CE("", t) : n
        }(t)) || e
    }, Pn = function(t, e, n, r) {
        void 0 === n && (n = function(t) {
            return 1 - e(1 - t)
        }
        ),
        void 0 === r && (r = function(t) {
            return t < .5 ? e(2 * t) / 2 : 1 - e(2 * (1 - t)) / 2
        }
        );
        var i, o = {
            easeIn: e,
            easeOut: n,
            easeInOut: r
        };
        return ge(t, (function(t) {
            for (var e in wn[t] = $t[t] = o,
            wn[i = t.toLowerCase()] = n,
            o)
                wn[i + ("easeIn" === e ? ".in" : "easeOut" === e ? ".out" : ".inOut")] = wn[t + "." + e] = o[e]
        }
        )),
        o
    }, Ln = function(t) {
        return function(e) {
            return e < .5 ? (1 - t(1 - 2 * e)) / 2 : .5 + t(2 * (e - .5)) / 2
        }
    }, On = function t(e, n, r) {
        var i = n >= 1 ? n : 1
          , o = (r || (e ? .3 : .45)) / (n < 1 ? n : 1)
          , a = o / Rt * (Math.asin(1 / i) || 0)
          , s = function(t) {
            return 1 === t ? 1 : i * Math.pow(2, -10 * t) * Nt((t - a) * o) + 1
        }
          , u = "out" === e ? s : "in" === e ? function(t) {
            return 1 - s(1 - t)
        }
        : Ln(s);
        return o = Rt / o,
        u.config = function(n, r) {
            return t(e, n, r)
        }
        ,
        u
    }, Rn = function t(e, n) {
        void 0 === n && (n = 1.70158);
        var r = function(t) {
            return t ? --t * t * ((n + 1) * t + n) + 1 : 0
        }
          , i = "out" === e ? r : "in" === e ? function(t) {
            return 1 - r(1 - t)
        }
        : Ln(r);
        return i.config = function(n) {
            return t(e, n)
        }
        ,
        i
    };
    ge("Linear,Quad,Cubic,Quart,Quint,Strong", (function(t, e) {
        var n = e < 5 ? e + 1 : e;
        Pn(t + ",Power" + (n - 1), e ? function(t) {
            return Math.pow(t, n)
        }
        : function(t) {
            return t
        }
        , (function(t) {
            return 1 - Math.pow(1 - t, n)
        }
        ), (function(t) {
            return t < .5 ? Math.pow(2 * t, n) / 2 : 1 - Math.pow(2 * (1 - t), n) / 2
        }
        ))
    }
    )),
    wn.Linear.easeNone = wn.none = wn.Linear.easeIn,
    Pn("Elastic", On("in"), On("out"), On()),
    Et = 7.5625,
    At = 1 / (Tt = 2.75),
    Pn("Bounce", (function(t) {
        return 1 - Pt(1 - t)
    }
    ), Pt = function(t) {
        return t < At ? Et * t * t : t < .7272727272727273 ? Et * Math.pow(t - 1.5 / Tt, 2) + .75 : t < .9090909090909092 ? Et * (t -= 2.25 / Tt) * t + .9375 : Et * Math.pow(t - 2.625 / Tt, 2) + .984375
    }
    ),
    Pn("Expo", (function(t) {
        return t ? Math.pow(2, 10 * (t - 1)) : 0
    }
    )),
    Pn("Circ", (function(t) {
        return -(Dt(1 - t * t) - 1)
    }
    )),
    Pn("Sine", (function(t) {
        return 1 - kt(t * Ct)
    }
    )),
    Pn("Back", Rn("in"), Rn("out"), Rn()),
    wn.SteppedEase = wn.steps = $t.SteppedEase = {
        config: function(t, e) {
            void 0 === t && (t = 1);
            var n = 1 / t
              , r = t + (e ? 0 : 1)
              , i = e ? 1 : 0;
            return function(t) {
                return ((r * Xe(0, 1 - 1e-8, t) | 0) + i) * n
            }
        }
    },
    Ot.ease = wn["quad.out"],
    ge("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt", (function(t) {
        return pe += t + "," + t + "Params,"
    }
    ));
    var Cn = function(t, e) {
        this.id = It++,
        t._gsap = this,
        this.target = t,
        this.harness = e,
        this.get = e ? e.get : ve,
        this.set = e ? e.getSetter : Yn
    }
      , In = function() {
        function t(t, e) {
            var n = t.parent || it;
            this.vars = t,
            this._delay = +t.delay || 0,
            (this._repeat = t.repeat || 0) && (this._rDelay = t.repeatDelay || 0,
            this._yoyo = !!t.yoyo || !!t.yoyoEase),
            this._ts = t.reversed ? -1 : 1,
            Ge(this, +t.duration, 1),
            this.data = t.data,
            ht || xn.wake(),
            n && Be(n, this, e || 0 === e ? e : n._time, 1),
            t.paused && this.paused(!0)
        }
        var e = t.prototype;
        return e.delay = function(t) {
            return t || 0 === t ? (this._delay = t,
            this) : this._delay
        }
        ,
        e.duration = function(t) {
            return arguments.length ? Ge(this, t) : this.totalDuration() && this._dur
        }
        ,
        e.totalDuration = function(t) {
            return arguments.length ? (this._dirty = 0,
            Ge(this, this._repeat < 0 ? t : (t - this._repeat * this._rDelay) / (this._repeat + 1))) : this._tDur
        }
        ,
        e.totalTime = function(t, e) {
            if (_n(),
            !arguments.length)
                return this._tTime;
            var n = this.parent || this._dp;
            if (n && n.smoothChildTiming && this._ts) {
                for (this._start = ye(n._time - (this._ts > 0 ? t / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - t) / -this._ts)),
                je(this),
                n._dirty || Ie(n); n.parent; )
                    n.parent._time !== n._start + (n._ts >= 0 ? n._tTime / n._ts : (n.totalDuration() - n._tTime) / -n._ts) && n.totalTime(n._tTime, !0),
                    n = n.parent;
                !this.parent && this._dp.autoRemoveChildren && Be(this._dp, this, this._start - this._delay)
            }
            return (this._tTime !== t || !this._dur && !e || this._initted && 1e-8 === Math.abs(this._zTime)) && (this._ts || (this._pTime = t),
            we(this, t, e)),
            this
        }
        ,
        e.time = function(t, e) {
            return arguments.length ? this.totalTime(Math.min(this.totalDuration(), t + ke(this)) % this._dur || (t ? this._dur : 0), e) : this._time
        }
        ,
        e.totalProgress = function(t, e) {
            return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio
        }
        ,
        e.progress = function(t, e) {
            return arguments.length ? this.totalTime(this.duration() * (!this._yoyo || 1 & this.iteration() ? t : 1 - t) + ke(this), e) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio
        }
        ,
        e.iteration = function(t, e) {
            var n = this.duration() + this._rDelay;
            return arguments.length ? this.totalTime(this._time + (t - 1) * n, e) : this._repeat ? Ne(this._tTime, n) + 1 : 1
        }
        ,
        e.timeScale = function(t) {
            if (!arguments.length)
                return this._ts || this._pauseTS || 0;
            if (null !== this._pauseTS)
                return this._pauseTS = t,
                this;
            var e = this.parent && this._ts ? ze(this.parent._time, this) : this._tTime;
            return this._ts = t,
            De(this.totalTime(e, !0))
        }
        ,
        e.paused = function(t) {
            var e = !this._ts;
            return arguments.length ? (e !== t && (t ? (this._pauseTS = this._ts,
            this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()),
            this._ts = this._act = 0) : (_n(),
            this._ts = this._pauseTS || 1,
            this._pauseTS = null,
            this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, 1 === this.progress() && (this._tTime -= 1e-8) && 1e-8 !== Math.abs(this._zTime)))),
            this) : e
        }
        ,
        e.startTime = function(t) {
            return arguments.length ? (this.parent && this.parent._sort && Be(this.parent, this, t - this._delay),
            this) : this._start
        }
        ,
        e.endTime = function(t) {
            return this._start + (Gt(t) ? this.totalDuration() : this.duration()) / Math.abs(this._ts)
        }
        ,
        e.rawTime = function(t) {
            var e = this.parent || this._dp;
            return e ? t && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : this._ts ? ze(e.rawTime(t), this) : this._tTime : this._tTime
        }
        ,
        e.repeat = function(t) {
            return arguments.length ? (this._repeat = t,
            He(this)) : this._repeat
        }
        ,
        e.repeatDelay = function(t) {
            return arguments.length ? (this._rDelay = t,
            He(this)) : this._rDelay
        }
        ,
        e.yoyo = function(t) {
            return arguments.length ? (this._yoyo = t,
            this) : this._yoyo
        }
        ,
        e.seek = function(t, e) {
            return this.totalTime(We(this, t), Gt(e))
        }
        ,
        e.restart = function(t, e) {
            return this.play().totalTime(t ? -this._delay : 0, Gt(e))
        }
        ,
        e.play = function(t, e) {
            return null != t && this.seek(t, e),
            this.reversed(!1).paused(!1)
        }
        ,
        e.reverse = function(t, e) {
            return null != t && this.seek(t || this.totalDuration(), e),
            this.reversed(!0).paused(!1)
        }
        ,
        e.pause = function(t, e) {
            return null != t && this.seek(t, e),
            this.paused(!0)
        }
        ,
        e.resume = function() {
            return this.paused(!1)
        }
        ,
        e.reversed = function(t) {
            var e = this._ts || this._pauseTS || 0;
            return arguments.length ? (t !== this.reversed() && (this[null === this._pauseTS ? "_ts" : "_pauseTS"] = Math.abs(e) * (t ? -1 : 1),
            this.totalTime(this._tTime, !0)),
            this) : e < 0
        }
        ,
        e.invalidate = function() {
            return this._initted = 0,
            this._zTime = -1e-8,
            this
        }
        ,
        e.isActive = function(t) {
            var e, n = this.parent || this._dp, r = this._start;
            return !(n && !(this._ts && (this._initted || !t) && n.isActive(t) && (e = n.rawTime(!0)) >= r && e < this.endTime(!0) - 1e-8))
        }
        ,
        e.eventCallback = function(t, e, n) {
            var r = this.vars;
            return arguments.length > 1 ? (e ? (r[t] = e,
            n && (r[t + "Params"] = n),
            "onUpdate" === t && (this._onUpdate = e)) : delete r[t],
            this) : r[t]
        }
        ,
        e.then = function(t) {
            var e = this;
            return new Promise((function(n) {
                var r = jt(t) ? t : Se
                  , i = function() {
                    var t = e.then;
                    e.then = null,
                    jt(r) && (r = r(e)) && (r.then || r === e) && (e.then = t),
                    n(r),
                    e.then = t
                };
                e._initted && 1 === e.totalProgress() && e._ts >= 0 || !e._tTime && e._ts < 0 ? i() : e._prom = i
            }
            ))
        }
        ,
        e.kill = function() {
            ln(this)
        }
        ,
        t
    }();
    Ee(In.prototype, {
        _time: 0,
        _start: 0,
        _end: 0,
        _tTime: 0,
        _tDur: 0,
        _dirty: 0,
        _repeat: 0,
        _yoyo: !1,
        parent: null,
        _initted: !1,
        _rDelay: 0,
        _ts: 1,
        _dp: 0,
        ratio: 0,
        _zTime: -1e-8,
        _prom: 0,
        _pauseTS: null
    });
    var Dn = function(t) {
        function e(e, n) {
            var r;
            return void 0 === e && (e = {}),
            (r = t.call(this, e, n) || this).labels = {},
            r.smoothChildTiming = !!e.smoothChildTiming,
            r.autoRemoveChildren = !!e.autoRemoveChildren,
            r._sort = Gt(e.sortChildren),
            r.parent && Fe(r.parent, nt(r)),
            r
        }
        rt(e, t);
        var n = e.prototype;
        return n.to = function(t, e, n) {
            return new Hn(t,xe(arguments, 0, this),We(this, Ft(e) ? arguments[3] : n)),
            this
        }
        ,
        n.from = function(t, e, n) {
            return new Hn(t,xe(arguments, 1, this),We(this, Ft(e) ? arguments[3] : n)),
            this
        }
        ,
        n.fromTo = function(t, e, n, r) {
            return new Hn(t,xe(arguments, 2, this),We(this, Ft(e) ? arguments[4] : r)),
            this
        }
        ,
        n.set = function(t, e, n) {
            return e.duration = 0,
            e.parent = this,
            Oe(e).repeatDelay || (e.repeat = 0),
            e.immediateRender = !!e.immediateRender,
            new Hn(t,e,We(this, n),1),
            this
        }
        ,
        n.call = function(t, e, n) {
            return Be(this, Hn.delayedCall(0, t, e), We(this, n))
        }
        ,
        n.staggerTo = function(t, e, n, r, i, o, a) {
            return n.duration = e,
            n.stagger = n.stagger || r,
            n.onComplete = o,
            n.onCompleteParams = a,
            n.parent = this,
            new Hn(t,n,We(this, i)),
            this
        }
        ,
        n.staggerFrom = function(t, e, n, r, i, o, a) {
            return n.runBackwards = 1,
            Oe(n).immediateRender = Gt(n.immediateRender),
            this.staggerTo(t, e, n, r, i, o, a)
        }
        ,
        n.staggerFromTo = function(t, e, n, r, i, o, a, s) {
            return r.startAt = n,
            Oe(r).immediateRender = Gt(r.immediateRender),
            this.staggerTo(t, e, r, i, o, a, s)
        }
        ,
        n.render = function(t, e, n) {
            var r, i, o, a, s, u, c, l, h, f, p, d, m = this._time, v = this._dirty ? this.totalDuration() : this._tDur, g = this._dur, y = this !== it && t > v - 1e-8 && t >= 0 ? v : t < 1e-8 ? 0 : t, b = this._zTime < 0 != t < 0 && (this._initted || !g);
            if (y !== this._tTime || n || b) {
                if (m !== this._time && g && (y += this._time - m,
                t += this._time - m),
                r = y,
                h = this._start,
                u = !(l = this._ts),
                b && (g || (m = this._zTime),
                !t && e || (this._zTime = t)),
                this._repeat && (p = this._yoyo,
                s = g + this._rDelay,
                ((r = ye(y % s)) > g || v === y) && (r = g),
                (a = ~~(y / s)) && a === y / s && (r = g,
                a--),
                p && 1 & a && (r = g - r,
                d = 1),
                a !== (f = Ne(this._tTime, s)) && !this._lock)) {
                    var x = p && 1 & f
                      , _ = x === (p && 1 & a);
                    if (a < f && (x = !x),
                    m = x ? 0 : g,
                    this._lock = 1,
                    this.render(m, e, !g)._lock = 0,
                    !e && this.parent && cn(this, "onRepeat"),
                    this.vars.repeatRefresh && !d && (this.invalidate()._lock = 1),
                    m !== this._time || u !== !this._ts)
                        return this;
                    if (_ && (this._lock = 2,
                    m = x ? g + 1e-4 : -1e-4,
                    this.render(m, !0),
                    this.vars.repeatRefresh && !d && this.invalidate()),
                    this._lock = 0,
                    !this._ts && !u)
                        return this
                }
                if (this._hasPause && !this._forcing && this._lock < 2 && (c = function(t, e, n) {
                    var r;
                    if (n > e)
                        for (r = t._first; r && r._start <= n; ) {
                            if (!r._dur && "isPause" === r.data && r._start > e)
                                return r;
                            r = r._next
                        }
                    else
                        for (r = t._last; r && r._start >= n; ) {
                            if (!r._dur && "isPause" === r.data && r._start < e)
                                return r;
                            r = r._prev
                        }
                }(this, ye(m), ye(r))) && (y -= r - (r = c._start)),
                this._tTime = y,
                this._time = r,
                this._act = !l,
                this._initted || (this._onUpdate = this.vars.onUpdate,
                this._initted = 1,
                this._zTime = t),
                m || !r || e || cn(this, "onStart"),
                r >= m && t >= 0)
                    for (i = this._first; i; ) {
                        if (o = i._next,
                        (i._act || r >= i._start) && i._ts && c !== i) {
                            if (i.parent !== this)
                                return this.render(t, e, n);
                            if (i.render(i._ts > 0 ? (r - i._start) * i._ts : (i._dirty ? i.totalDuration() : i._tDur) + (r - i._start) * i._ts, e, n),
                            r !== this._time || !this._ts && !u) {
                                c = 0,
                                o && (y += this._zTime = -1e-8);
                                break
                            }
                        }
                        i = o
                    }
                else {
                    i = this._last;
                    for (var w = t < 0 ? t : r; i; ) {
                        if (o = i._prev,
                        (i._act || w <= i._end) && i._ts && c !== i) {
                            if (i.parent !== this)
                                return this.render(t, e, n);
                            if (i.render(i._ts > 0 ? (w - i._start) * i._ts : (i._dirty ? i.totalDuration() : i._tDur) + (w - i._start) * i._ts, e, n),
                            r !== this._time || !this._ts && !u) {
                                c = 0,
                                o && (y += this._zTime = w ? -1e-8 : 1e-8);
                                break
                            }
                        }
                        i = o
                    }
                }
                if (c && !e && (this.pause(),
                c.render(r >= m ? 0 : -1e-8)._zTime = r >= m ? 1 : -1,
                this._ts))
                    return this._start = h,
                    je(this),
                    this.render(t, e, n);
                this._onUpdate && !e && cn(this, "onUpdate", !0),
                (y === v && v >= this.totalDuration() || !y && this._ts < 0) && (h !== this._start && Math.abs(l) === Math.abs(this._ts) || ((t || !g) && (t && this._ts > 0 || !y && this._ts < 0) && Ce(this, 1),
                e || t < 0 && !m || (cn(this, y === v ? "onComplete" : "onReverseComplete", !0),
                this._prom && this._prom())))
            }
            return this
        }
        ,
        n.add = function(t, e) {
            var n = this;
            if (Ft(e) || (e = We(this, e)),
            !(t instanceof In)) {
                if (Wt(t))
                    return t.forEach((function(t) {
                        return n.add(t, e)
                    }
                    )),
                    Ie(this);
                if (zt(t))
                    return this.addLabel(t, e);
                if (!jt(t))
                    return this;
                t = Hn.delayedCall(0, t)
            }
            return this !== t ? Be(this, t, e) : this
        }
        ,
        n.getChildren = function(t, e, n, r) {
            void 0 === t && (t = !0),
            void 0 === e && (e = !0),
            void 0 === n && (n = !0),
            void 0 === r && (r = -1e8);
            for (var i = [], o = this._first; o; )
                o._start >= r && (o instanceof Hn ? e && i.push(o) : (n && i.push(o),
                t && i.push.apply(i, o.getChildren(!0, e, n)))),
                o = o._next;
            return i
        }
        ,
        n.getById = function(t) {
            for (var e = this.getChildren(1, 1, 1), n = e.length; n--; )
                if (e[n].vars.id === t)
                    return e[n]
        }
        ,
        n.remove = function(t) {
            return zt(t) ? this.removeLabel(t) : jt(t) ? this.killTweensOf(t) : (Re(this, t),
            t === this._recent && (this._recent = this._last),
            Ie(this))
        }
        ,
        n.totalTime = function(e, n) {
            return arguments.length ? (this._forcing = 1,
            this.parent || this._dp || !this._ts || (this._start = ye(xn.time - (this._ts > 0 ? e / this._ts : (this.totalDuration() - e) / -this._ts))),
            t.prototype.totalTime.call(this, e, n),
            this._forcing = 0,
            this) : this._tTime
        }
        ,
        n.addLabel = function(t, e) {
            return this.labels[t] = We(this, e),
            this
        }
        ,
        n.removeLabel = function(t) {
            return delete this.labels[t],
            this
        }
        ,
        n.addPause = function(t, e, n) {
            var r = Hn.delayedCall(0, e || oe, n);
            return r.data = "isPause",
            this._hasPause = 1,
            Be(this, r, We(this, t))
        }
        ,
        n.removePause = function(t) {
            var e = this._first;
            for (t = We(this, t); e; )
                e._start === t && "isPause" === e.data && Ce(e),
                e = e._next
        }
        ,
        n.killTweensOf = function(t, e, n) {
            for (var r = this.getTweensOf(t, n), i = r.length; i--; )
                kn !== r[i] && r[i].kill(t, e);
            return this
        }
        ,
        n.getTweensOf = function(t, e) {
            for (var n, r = [], i = Ke(t), o = this._first; o; )
                o instanceof Hn ? !be(o._targets, i) || e && !o.isActive("started" === e) || r.push(o) : (n = o.getTweensOf(i, e)).length && r.push.apply(r, n),
                o = o._next;
            return r
        }
        ,
        n.tweenTo = function(t, e) {
            e = e || {};
            var n = this
              , r = We(n, t)
              , i = e
              , o = i.startAt
              , a = i.onStart
              , s = i.onStartParams
              , u = Hn.to(n, Ee(e, {
                ease: "none",
                lazy: !1,
                time: r,
                duration: e.duration || Math.abs(r - (o && "time"in o ? o.time : n._time)) / n.timeScale() || 1e-8,
                onStart: function() {
                    n.pause();
                    var t = e.duration || Math.abs(r - n._time) / n.timeScale();
                    u._dur !== t && Ge(u, t).render(u._time, !0, !0),
                    a && a.apply(u, s || [])
                }
            }));
            return u
        }
        ,
        n.tweenFromTo = function(t, e, n) {
            return this.tweenTo(e, Ee({
                startAt: {
                    time: We(this, t)
                }
            }, n))
        }
        ,
        n.recent = function() {
            return this._recent
        }
        ,
        n.nextLabel = function(t) {
            return void 0 === t && (t = this._time),
            un(this, We(this, t))
        }
        ,
        n.previousLabel = function(t) {
            return void 0 === t && (t = this._time),
            un(this, We(this, t), 1)
        }
        ,
        n.currentLabel = function(t) {
            return arguments.length ? this.seek(t, !0) : this.previousLabel(this._time + 1e-8)
        }
        ,
        n.shiftChildren = function(t, e, n) {
            void 0 === n && (n = 0);
            for (var r, i = this._first, o = this.labels; i; )
                i._start >= n && (i._start += t),
                i = i._next;
            if (e)
                for (r in o)
                    o[r] >= n && (o[r] += t);
            return Ie(this)
        }
        ,
        n.invalidate = function() {
            var e = this._first;
            for (this._lock = 0; e; )
                e.invalidate(),
                e = e._next;
            return t.prototype.invalidate.call(this)
        }
        ,
        n.clear = function(t) {
            void 0 === t && (t = !0);
            for (var e, n = this._first; n; )
                e = n._next,
                this.remove(n),
                n = e;
            return this._time = this._tTime = 0,
            t && (this.labels = {}),
            Ie(this)
        }
        ,
        n.totalDuration = function(t) {
            var e, n, r, i, o = 0, a = this, s = a._last, u = 1e8;
            if (arguments.length)
                return a._repeat < 0 ? a : a.timeScale(a.totalDuration() / t);
            if (a._dirty) {
                for (i = a.parent; s; )
                    e = s._prev,
                    s._dirty && s.totalDuration(),
                    (r = s._start) > u && a._sort && s._ts && !a._lock ? (a._lock = 1,
                    Be(a, s, r - s._delay, 1)._lock = 0) : u = r,
                    r < 0 && s._ts && (o -= r,
                    (!i && !a._dp || i && i.smoothChildTiming) && (a._start += r / a._ts,
                    a._time -= r,
                    a._tTime -= r),
                    a.shiftChildren(-r, !1, -1e20),
                    u = 0),
                    (n = je(s)) > o && s._ts && (o = n),
                    s = e;
                Ge(a, a === it && a._time > o ? a._time : Math.min(1e8, o), 1),
                a._dirty = 0
            }
            return a._tDur
        }
        ,
        e.updateRoot = function(t) {
            if (it._ts && (we(it, ze(t, it)),
            ct = xn.frame),
            xn.frame >= he) {
                he += Lt.autoSleep || 120;
                var e = it._first;
                if ((!e || !e._ts) && Lt.autoSleep && xn._listeners.length < 2) {
                    for (; e && !e._ts; )
                        e = e._next;
                    e || xn.sleep()
                }
            }
        }
        ,
        e
    }(In);
    Ee(Dn.prototype, {
        _lock: 0,
        _hasPause: 0,
        _forcing: 0
    });
    var kn, Nn = function(t, e, n, r, i, o, a) {
        var s, u, c, l, h, f, p, d, m = new rr(this._pt,t,e,0,1,Qn,null,i), v = 0, g = 0;
        for (m.b = n,
        m.e = r,
        n += "",
        (p = ~(r += "").indexOf("random(")) && (r = an(r)),
        o && (o(d = [n, r], t, e),
        n = d[0],
        r = d[1]),
        u = n.match(Zt) || []; s = Zt.exec(r); )
            l = s[0],
            h = r.substring(v, s.index),
            c ? c = (c + 1) % 5 : "rgba(" === h.substr(-5) && (c = 1),
            l !== u[g++] && (f = parseFloat(u[g - 1]) || 0,
            m._pt = {
                _next: m._pt,
                p: h || 1 === g ? h : ",",
                s: f,
                c: "=" === l.charAt(1) ? parseFloat(l.substr(2)) * ("-" === l.charAt(0) ? -1 : 1) : parseFloat(l) - f,
                m: c && c < 4 ? Math.round : 0
            },
            v = Zt.lastIndex);
        return m.c = v < r.length ? r.substring(v, r.length) : "",
        m.fp = a,
        (Qt.test(r) || p) && (m.e = 0),
        this._pt = m,
        m
    }, zn = function(t, e, n, r, i, o, a, s, u) {
        jt(r) && (r = r(i || 0, t, o));
        var c, l = t[e], h = "get" !== n ? n : jt(l) ? u ? t[e.indexOf("set") || !jt(t["get" + e.substr(3)]) ? e : "get" + e.substr(3)](u) : t[e]() : l, f = jt(l) ? u ? qn : Wn : Vn;
        if (zt(r) && (~r.indexOf("random(") && (r = an(r)),
        "=" === r.charAt(1) && (r = parseFloat(h) + parseFloat(r.substr(2)) * ("-" === r.charAt(0) ? -1 : 1) + (Ye(h) || 0))),
        h !== r)
            return isNaN(h + r) ? (!l && !(e in t) && ne(e, r),
            Nn.call(this, t, e, h, r, f, s || Lt.stringFilter, u)) : (c = new rr(this._pt,t,e,+h || 0,r - (h || 0),"boolean" == typeof l ? Jn : Zn,0,f),
            u && (c.fp = u),
            a && c.modifier(a, this, t),
            this._pt = c)
    }, jn = function(t, e, n, r, i, o) {
        var a, s, u, c;
        if (ce[t] && !1 !== (a = new ce[t]).init(i, a.rawVars ? e[t] : function(t, e, n, r, i) {
            if (jt(t) && (t = Bn(t, i, e, n, r)),
            !Ut(t) || t.style && t.nodeType || Wt(t))
                return zt(t) ? Bn(t, i, e, n, r) : t;
            var o, a = {};
            for (o in t)
                a[o] = Bn(t[o], i, e, n, r);
            return a
        }(e[t], r, i, o, n), n, r, o) && (n._pt = s = new rr(n._pt,i,t,0,1,a.render,a,0,a.priority),
        n !== lt))
            for (u = n._ptLookup[n._targets.indexOf(i)],
            c = a._props.length; c--; )
                u[a._props[c]] = s;
        return a
    }, Fn = function t(e, n) {
        var r, i, o, a, s, u, c, l, h, f, p, d, m = e.vars, v = m.ease, g = m.startAt, y = m.immediateRender, b = m.lazy, x = m.onUpdate, _ = m.onUpdateParams, w = m.callbackScope, M = m.runBackwards, S = m.yoyoEase, E = m.keyframes, T = m.autoRevert, A = e._dur, P = e._startAt, L = e._targets, O = e.parent, R = O && "nested" === O.data ? O.parent._targets : L, C = "auto" === e._overwrite, I = e.timeline;
        if (!I || E && v || (v = "none"),
        e._ease = An(v, Ot.ease),
        e._yEase = S ? Tn(An(!0 === S ? v : S, Ot.ease)) : 0,
        S && e._yoyo && !e._repeat && (S = e._yEase,
        e._yEase = e._ease,
        e._ease = S),
        !I) {
            if (P && P.render(-1, !0).kill(),
            g) {
                if (Ce(e._startAt = Hn.set(L, Ee({
                    data: "isStart",
                    overwrite: !1,
                    parent: O,
                    immediateRender: !0,
                    lazy: Gt(b),
                    startAt: null,
                    delay: 0,
                    onUpdate: x,
                    onUpdateParams: _,
                    callbackScope: w,
                    stagger: 0
                }, g))),
                y)
                    if (n > 0)
                        !T && (e._startAt = 0);
                    else if (A)
                        return
            } else if (M && A)
                if (P)
                    !T && (e._startAt = 0);
                else if (n && (y = !1),
                Ce(e._startAt = Hn.set(L, Ae(Le(m, ae), {
                    overwrite: !1,
                    data: "isFromStart",
                    lazy: y && Gt(b),
                    immediateRender: y,
                    stagger: 0,
                    parent: O
                }))),
                y) {
                    if (!n)
                        return
                } else
                    t(e._startAt, 1e-8);
            for (r = Le(m, ae),
            e._pt = 0,
            d = (l = L[0] ? me(L[0]).harness : 0) && m[l.prop],
            b = A && Gt(b) || b && !A,
            i = 0; i < L.length; i++) {
                if (c = (s = L[i])._gsap || de(L)[i]._gsap,
                e._ptLookup[i] = f = {},
                ue[c.id] && _e(),
                p = R === L ? i : R.indexOf(s),
                l && !1 !== (h = new l).init(s, d || r, e, p, R) && (e._pt = a = new rr(e._pt,s,h.name,0,1,h.render,h,0,h.priority),
                h._props.forEach((function(t) {
                    f[t] = a
                }
                )),
                h.priority && (u = 1)),
                !l || d)
                    for (o in r)
                        ce[o] && (h = jn(o, r, e, p, s, R)) ? h.priority && (u = 1) : f[o] = a = zn.call(e, s, o, "get", r[o], p, R, 0, m.stringFilter);
                e._op && e._op[i] && e.kill(s, e._op[i]),
                C && e._pt && (kn = e,
                it.killTweensOf(s, f, "started"),
                kn = 0),
                e._pt && b && (ue[c.id] = 1)
            }
            u && nr(e),
            e._onInit && e._onInit(e)
        }
        e._from = !I && !!m.runBackwards,
        e._onUpdate = x,
        e._initted = 1
    }, Bn = function(t, e, n, r, i) {
        return jt(t) ? t.call(e, n, r, i) : zt(t) && ~t.indexOf("random(") ? an(t) : t
    }, Un = pe + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase", Gn = (Un + ",id,stagger,delay,duration,paused").split(","), Hn = function(t) {
        function e(e, n, r, i) {
            var o;
            "number" == typeof n && (r.duration = n,
            n = r,
            r = null);
            var a, s, u, c, l, h, f, p, d = (o = t.call(this, i ? n : Oe(n), r) || this).vars, m = d.duration, v = d.delay, g = d.immediateRender, y = d.stagger, b = d.overwrite, x = d.keyframes, _ = d.defaults, w = o.parent, M = (Wt(e) ? Ft(e[0]) : "length"in n) ? [e] : Ke(e);
            if (o._targets = M.length ? de(M) : re("GSAP target " + e + " not found. https://greensock.com", !Lt.nullTargetWarn) || [],
            o._ptLookup = [],
            o._overwrite = b,
            x || y || Vt(m) || Vt(v)) {
                if (n = o.vars,
                (a = o.timeline = new Dn({
                    data: "nested",
                    defaults: _ || {}
                })).kill(),
                a.parent = nt(o),
                x)
                    Ee(a.vars.defaults, {
                        ease: "none"
                    }),
                    x.forEach((function(t) {
                        return a.to(M, t, ">")
                    }
                    ));
                else {
                    if (c = M.length,
                    f = y ? tn(y) : oe,
                    Ut(y))
                        for (l in y)
                            ~Un.indexOf(l) && (p || (p = {}),
                            p[l] = y[l]);
                    for (s = 0; s < c; s++) {
                        for (l in u = {},
                        n)
                            Gn.indexOf(l) < 0 && (u[l] = n[l]);
                        u.stagger = 0,
                        p && Ae(u, p),
                        n.yoyoEase && !n.repeat && (u.yoyoEase = n.yoyoEase),
                        h = M[s],
                        u.duration = +Bn(m, nt(o), s, h, M),
                        u.delay = (+Bn(v, nt(o), s, h, M) || 0) - o._delay,
                        !y && 1 === c && u.delay && (o._delay = v = u.delay,
                        o._start += v,
                        u.delay = 0),
                        a.to(h, u, f(s, h, M))
                    }
                    m = v = 0
                }
                m || o.duration(m = a.duration())
            } else
                o.timeline = 0;
            return !0 === b && (kn = nt(o),
            it.killTweensOf(M),
            kn = 0),
            w && Fe(w, nt(o)),
            (g || !m && !x && o._start === w._time && Gt(g) && function t(e) {
                return !e || e._ts && t(e.parent)
            }(nt(o)) && "nested" !== w.data) && (o._tTime = -1e-8,
            o.render(Math.max(0, -v))),
            o
        }
        rt(e, t);
        var n = e.prototype;
        return n.render = function(t, e, n) {
            var r, i, o, a, s, u, c, l, h, f = this._time, p = this._tDur, d = this._dur, m = t > p - 1e-8 && t >= 0 ? p : t < 1e-8 ? 0 : t;
            if (d) {
                if (m !== this._tTime || !t || n || this._startAt && this._zTime < 0 != t < 0) {
                    if (r = m,
                    l = this.timeline,
                    this._repeat) {
                        if (a = d + this._rDelay,
                        ((r = ye(m % a)) > d || p === m) && (r = d),
                        (o = ~~(m / a)) && o === m / a && (r = d,
                        o--),
                        (u = this._yoyo && 1 & o) && (h = this._yEase,
                        r = d - r),
                        s = Ne(this._tTime, a),
                        r === f && !n && this._initted)
                            return this;
                        o !== s && (!this.vars.repeatRefresh || u || this._lock || (this._lock = n = 1,
                        this.render(a * o, !0).invalidate()._lock = 0))
                    }
                    if (!this._initted && Ue(this, r, n, e))
                        return this._tTime = 0,
                        this;
                    for (this._tTime = m,
                    this._time = r,
                    !this._act && this._ts && (this._act = 1,
                    this._lazy = 0),
                    this.ratio = c = (h || this._ease)(r / d),
                    this._from && (this.ratio = c = 1 - c),
                    f || !r || e || cn(this, "onStart"),
                    i = this._pt; i; )
                        i.r(c, i.d),
                        i = i._next;
                    l && l.render(t < 0 ? t : !r && u ? -1e-8 : l._dur * c, e, n) || this._startAt && (this._zTime = t),
                    this._onUpdate && !e && (t < 0 && this._startAt && this._startAt.render(t, !0, n),
                    cn(this, "onUpdate")),
                    this._repeat && o !== s && this.vars.onRepeat && !e && this.parent && cn(this, "onRepeat"),
                    m !== this._tDur && m || this._tTime !== m || (t < 0 && this._startAt && !this._onUpdate && this._startAt.render(t, !0, n),
                    (t || !d) && (t && this._ts > 0 || !m && this._ts < 0) && Ce(this, 1),
                    e || t < 0 && !f || m < p && this.timeScale() > 0 || (cn(this, m === p ? "onComplete" : "onReverseComplete", !0),
                    this._prom && this._prom()))
                }
            } else
                !function(t, e, n, r) {
                    var i, o = t._zTime < 0 ? 0 : 1, a = e < 0 ? 0 : 1, s = t._rDelay, u = 0;
                    if (s && t._repeat && (u = Xe(0, t._tDur, e),
                    Ne(u, s) !== Ne(t._tTime, s) && (o = 1 - a,
                    t.vars.repeatRefresh && t._initted && t.invalidate())),
                    (t._initted || !Ue(t, e, r, n)) && (a !== o || r || 1e-8 === t._zTime || !e && t._zTime)) {
                        for (t._zTime = e || (n ? 1e-8 : 0),
                        t.ratio = a,
                        t._from && (a = 1 - a),
                        t._time = 0,
                        t._tTime = u,
                        n || cn(t, "onStart"),
                        i = t._pt; i; )
                            i.r(a, i.d),
                            i = i._next;
                        !a && t._startAt && !t._onUpdate && t._start && t._startAt.render(e, !0, r),
                        t._onUpdate && (n || cn(t, "onUpdate")),
                        u && t._repeat && !n && t.parent && cn(t, "onRepeat"),
                        (e >= t._tDur || e < 0) && t.ratio === a && (t.ratio && Ce(t, 1),
                        n || (cn(t, t.ratio ? "onComplete" : "onReverseComplete", !0),
                        t._prom && t._prom()))
                    }
                }(this, t, e, n);
            return this
        }
        ,
        n.targets = function() {
            return this._targets
        }
        ,
        n.invalidate = function() {
            return this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0,
            this._ptLookup = [],
            this.timeline && this.timeline.invalidate(),
            t.prototype.invalidate.call(this)
        }
        ,
        n.kill = function(t, e) {
            if (void 0 === e && (e = "all"),
            !(t || e && "all" !== e) && (this._lazy = 0,
            this.parent))
                return ln(this);
            if (this.timeline)
                return this.timeline.killTweensOf(t, e, kn && !0 !== kn.vars.overwrite),
                this;
            var n, r, i, o, a, s, u, c = this._targets, l = t ? Ke(t) : c, h = this._ptLookup, f = this._pt;
            if ((!e || "all" === e) && function(t, e) {
                for (var n = t.length, r = n === e.length; r && n-- && t[n] === e[n]; )
                    ;
                return n < 0
            }(c, l))
                return ln(this);
            for (n = this._op = this._op || [],
            "all" !== e && (zt(e) && (a = {},
            ge(e, (function(t) {
                return a[t] = 1
            }
            )),
            e = a),
            e = function(t, e) {
                var n, r, i, o, a = t[0] ? me(t[0]).harness : 0, s = a && a.aliases;
                if (!s)
                    return e;
                for (r in n = Ae({}, e),
                s)
                    if (r in n)
                        for (i = (o = s[r].split(",")).length; i--; )
                            n[o[i]] = n[r];
                return n
            }(c, e)),
            u = c.length; u--; )
                if (~l.indexOf(c[u]))
                    for (a in r = h[u],
                    "all" === e ? (n[u] = e,
                    o = r,
                    i = {}) : (i = n[u] = n[u] || {},
                    o = e),
                    o)
                        (s = r && r[a]) && ("kill"in s.d && !0 !== s.d.kill(a) || Re(this, s, "_pt"),
                        delete r[a]),
                        "all" !== i && (i[a] = 1);
            return this._initted && !this._pt && f && ln(this),
            this
        }
        ,
        e.to = function(t, n) {
            return new e(t,n,arguments[2])
        }
        ,
        e.from = function(t, n) {
            return new e(t,xe(arguments, 1))
        }
        ,
        e.delayedCall = function(t, n, r, i) {
            return new e(n,0,{
                immediateRender: !1,
                lazy: !1,
                overwrite: !1,
                delay: t,
                onComplete: n,
                onReverseComplete: n,
                onCompleteParams: r,
                onReverseCompleteParams: r,
                callbackScope: i
            })
        }
        ,
        e.fromTo = function(t, n, r) {
            return new e(t,xe(arguments, 2))
        }
        ,
        e.set = function(t, n) {
            return n.duration = 0,
            n.repeatDelay || (n.repeat = 0),
            new e(t,n)
        }
        ,
        e.killTweensOf = function(t, e, n) {
            return it.killTweensOf(t, e, n)
        }
        ,
        e
    }(In);
    Ee(Hn.prototype, {
        _targets: [],
        _lazy: 0,
        _startAt: 0,
        _op: 0,
        _onInit: 0
    }),
    ge("staggerTo,staggerFrom,staggerFromTo", (function(t) {
        Hn[t] = function() {
            var e = new Dn
              , n = Ze.call(arguments, 0);
            return n.splice("staggerFromTo" === t ? 5 : 4, 0, 0),
            e[t].apply(e, n)
        }
    }
    ));
    var Vn = function(t, e, n) {
        return t[e] = n
    }
      , Wn = function(t, e, n) {
        return t[e](n)
    }
      , qn = function(t, e, n, r) {
        return t[e](r.fp, n)
    }
      , Xn = function(t, e, n) {
        return t.setAttribute(e, n)
    }
      , Yn = function(t, e) {
        return jt(t[e]) ? Wn : Bt(t[e]) && t.setAttribute ? Xn : Vn
    }
      , Zn = function(t, e) {
        return e.set(e.t, e.p, Math.round(1e4 * (e.s + e.c * t)) / 1e4, e)
    }
      , Jn = function(t, e) {
        return e.set(e.t, e.p, !!(e.s + e.c * t), e)
    }
      , Qn = function(t, e) {
        var n = e._pt
          , r = "";
        if (!t && e.b)
            r = e.b;
        else if (1 === t && e.e)
            r = e.e;
        else {
            for (; n; )
                r = n.p + (n.m ? n.m(n.s + n.c * t) : Math.round(1e4 * (n.s + n.c * t)) / 1e4) + r,
                n = n._next;
            r += e.c
        }
        e.set(e.t, e.p, r, e)
    }
      , Kn = function(t, e) {
        for (var n = e._pt; n; )
            n.r(t, n.d),
            n = n._next
    }
      , $n = function(t, e, n, r) {
        for (var i, o = this._pt; o; )
            i = o._next,
            o.p === r && o.modifier(t, e, n),
            o = i
    }
      , tr = function(t) {
        for (var e, n, r = this._pt; r; )
            n = r._next,
            r.p === t && !r.op || r.op === t ? Re(this, r, "_pt") : r.dep || (e = 1),
            r = n;
        return !e
    }
      , er = function(t, e, n, r) {
        r.mSet(t, e, r.m.call(r.tween, n, r.mt), r)
    }
      , nr = function(t) {
        for (var e, n, r, i, o = t._pt; o; ) {
            for (e = o._next,
            n = r; n && n.pr > o.pr; )
                n = n._next;
            (o._prev = n ? n._prev : i) ? o._prev._next = o : r = o,
            (o._next = n) ? n._prev = o : i = o,
            o = e
        }
        t._pt = r
    }
      , rr = function() {
        function t(t, e, n, r, i, o, a, s, u) {
            this.t = e,
            this.s = r,
            this.c = i,
            this.p = n,
            this.r = o || Zn,
            this.d = a || this,
            this.set = s || Vn,
            this.pr = u || 0,
            this._next = t,
            t && (t._prev = this)
        }
        return t.prototype.modifier = function(t, e, n) {
            this.mSet = this.mSet || this.set,
            this.set = er,
            this.m = t,
            this.mt = n,
            this.tween = e
        }
        ,
        t
    }();
    ge(pe + "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert", (function(t) {
        return ae[t] = 1
    }
    )),
    $t.TweenMax = $t.TweenLite = Hn,
    $t.TimelineLite = $t.TimelineMax = Dn,
    it = new Dn({
        sortChildren: !1,
        defaults: Ot,
        autoRemoveChildren: !0,
        id: "root",
        smoothChildTiming: !0
    }),
    Lt.stringFilter = bn;
    var ir = {
        registerPlugin: function() {
            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                e[n] = arguments[n];
            e.forEach((function(t) {
                return hn(t)
            }
            ))
        },
        timeline: function(t) {
            return new Dn(t)
        },
        getTweensOf: function(t, e) {
            return it.getTweensOf(t, e)
        },
        getProperty: function(t, e, n, r) {
            zt(t) && (t = Ke(t)[0]);
            var i = me(t || {}).get
              , o = n ? Se : Me;
            return "native" === n && (n = ""),
            t ? e ? o((ce[e] && ce[e].get || i)(t, e, n, r)) : function(e, n, r) {
                return o((ce[e] && ce[e].get || i)(t, e, n, r))
            }
            : t
        },
        quickSetter: function(t, e, n) {
            if ((t = Ke(t)).length > 1) {
                var r = t.map((function(t) {
                    return sr.quickSetter(t, e, n)
                }
                ))
                  , i = r.length;
                return function(t) {
                    for (var e = i; e--; )
                        r[e](t)
                }
            }
            t = t[0] || {};
            var o = ce[e]
              , a = me(t)
              , s = o ? function(e) {
                var r = new o;
                lt._pt = 0,
                r.init(t, n ? e + n : e, lt, 0, [t]),
                r.render(1, r),
                lt._pt && Kn(1, lt)
            }
            : a.set(t, e);
            return o ? s : function(r) {
                return s(t, e, n ? r + n : r, a, 1)
            }
        },
        isTweening: function(t) {
            return it.getTweensOf(t, !0).length > 0
        },
        defaults: function(t) {
            return t && t.ease && (t.ease = An(t.ease, Ot.ease)),
            Pe(Ot, t || {})
        },
        config: function(t) {
            return Pe(Lt, t || {})
        },
        registerEffect: function(t) {
            var e = t.name
              , n = t.effect
              , r = t.plugins
              , i = t.defaults
              , o = t.extendTimeline;
            (r || "").split(",").forEach((function(t) {
                return t && !ce[t] && !$t[t] && re(e + " effect requires " + t + " plugin.")
            }
            )),
            le[e] = function(t, e) {
                return n(Ke(t), Ee(e || {}, i))
            }
            ,
            o && (Dn.prototype[e] = function(t, n, r) {
                return this.add(le[e](t, Ut(n) ? n : (r = n) && {}), r)
            }
            )
        },
        registerEase: function(t, e) {
            wn[t] = An(e)
        },
        parseEase: function(t, e) {
            return arguments.length ? An(t, e) : wn
        },
        getById: function(t) {
            return it.getById(t)
        },
        exportRoot: function(t, e) {
            void 0 === t && (t = {});
            var n, r, i = new Dn(t);
            for (i.smoothChildTiming = Gt(t.smoothChildTiming),
            it.remove(i),
            i._dp = 0,
            i._time = i._tTime = it._time,
            n = it._first; n; )
                r = n._next,
                !e && !n._dur && n instanceof Hn && n.vars.onComplete === n._targets[0] || Be(i, n, n._start - n._delay),
                n = r;
            return Be(it, i, 0),
            i
        },
        utils: {
            wrap: function t(e, n, r) {
                var i = n - e;
                return Wt(e) ? on(e, t(0, e.length), n) : qe(r, (function(t) {
                    return (i + (t - e) % i) % i + e
                }
                ))
            },
            wrapYoyo: function t(e, n, r) {
                var i = n - e
                  , o = 2 * i;
                return Wt(e) ? on(e, t(0, e.length - 1), n) : qe(r, (function(t) {
                    return e + ((t = (o + (t - e) % o) % o) > i ? o - t : t)
                }
                ))
            },
            distribute: tn,
            random: rn,
            snap: nn,
            normalize: function(t, e, n) {
                return sn(t, e, 0, 1, n)
            },
            getUnit: Ye,
            clamp: function(t, e, n) {
                return qe(n, (function(n) {
                    return Xe(t, e, n)
                }
                ))
            },
            splitColor: dn,
            toArray: Ke,
            mapRange: sn,
            pipe: function() {
                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
                    e[n] = arguments[n];
                return function(t) {
                    return e.reduce((function(t, e) {
                        return e(t)
                    }
                    ), t)
                }
            },
            unitize: function(t, e) {
                return function(n) {
                    return t(parseFloat(n)) + (e || Ye(n))
                }
            },
            interpolate: function t(e, n, r, i) {
                var o = isNaN(e + n) ? 0 : function(t) {
                    return (1 - t) * e + t * n
                }
                ;
                if (!o) {
                    var a, s, u, c, l, h = zt(e), f = {};
                    if (!0 === r && (i = 1) && (r = null),
                    h)
                        e = {
                            p: e
                        },
                        n = {
                            p: n
                        };
                    else if (Wt(e) && !Wt(n)) {
                        for (u = [],
                        c = e.length,
                        l = c - 2,
                        s = 1; s < c; s++)
                            u.push(t(e[s - 1], e[s]));
                        c--,
                        o = function(t) {
                            t *= c;
                            var e = Math.min(l, ~~t);
                            return u[e](t - e)
                        }
                        ,
                        r = n
                    } else
                        i || (e = Ae(Wt(e) ? [] : {}, e));
                    if (!u) {
                        for (a in n)
                            zn.call(f, e, a, "get", n[a]);
                        o = function(t) {
                            return Kn(t, f) || (h ? e.p : e)
                        }
                    }
                }
                return qe(r, o)
            },
            shuffle: $e
        },
        install: ee,
        effects: le,
        ticker: xn,
        updateRoot: Dn.updateRoot,
        plugins: ce,
        globalTimeline: it,
        core: {
            PropTween: rr,
            globals: ie,
            Tween: Hn,
            Timeline: Dn,
            Animation: In,
            getCache: me,
            _removeLinkedListItem: Re
        }
    };
    ge("to,from,fromTo,delayedCall,set,killTweensOf", (function(t) {
        return ir[t] = Hn[t]
    }
    )),
    xn.add(Dn.updateRoot),
    lt = ir.to({}, {
        duration: 0
    });
    var or = function(t, e) {
        for (var n = t._pt; n && n.p !== e && n.op !== e && n.fp !== e; )
            n = n._next;
        return n
    }
      , ar = function(t, e) {
        return {
            name: t,
            rawVars: 1,
            init: function(t, n, r) {
                r._onInit = function(t) {
                    var r, i;
                    if (zt(n) && (r = {},
                    ge(n, (function(t) {
                        return r[t] = 1
                    }
                    )),
                    n = r),
                    e) {
                        for (i in r = {},
                        n)
                            r[i] = e(n[i]);
                        n = r
                    }
                    !function(t, e) {
                        var n, r, i, o = t._targets;
                        for (n in e)
                            for (r = o.length; r--; )
                                (i = t._ptLookup[r][n]) && (i = i.d) && (i._pt && (i = or(i, n)),
                                i && i.modifier && i.modifier(e[n], t, o[r], n))
                    }(t, n)
                }
            }
        }
    }
      , sr = ir.registerPlugin({
        name: "attr",
        init: function(t, e, n, r, i) {
            for (var o in e)
                this.add(t, "setAttribute", (t.getAttribute(o) || 0) + "", e[o], r, i, 0, 0, o),
                this._props.push(o)
        }
    }, {
        name: "endArray",
        init: function(t, e) {
            for (var n = e.length; n--; )
                this.add(t, n, t[n] || 0, e[n])
        }
    }, ar("roundProps", en), ar("modifiers"), ar("snap", nn)) || ir;
    Hn.version = Dn.version = sr.version = "3.2.4",
    ut = 1,
    Ht() && _n();
    wn.Power0,
    wn.Power1,
    wn.Power2,
    wn.Power3,
    wn.Power4,
    wn.Linear,
    wn.Quad,
    wn.Cubic,
    wn.Quart,
    wn.Quint,
    wn.Strong,
    wn.Elastic,
    wn.Back,
    wn.SteppedEase,
    wn.Bounce,
    wn.Sine,
    wn.Expo,
    wn.Circ;
    function ur(t) {
        return (ur = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    /*!
 * CSSPlugin 3.2.4
 * https://greensock.com
 *
 * Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
    var cr, lr, hr, fr, pr, dr, mr, vr, gr = {}, yr = 180 / Math.PI, br = Math.PI / 180, xr = Math.atan2, _r = /([A-Z])/g, wr = /(?:left|right|width|margin|padding|x)/i, Mr = /[\s,\(]\S/, Sr = {
        autoAlpha: "opacity,visibility",
        scale: "scaleX,scaleY",
        alpha: "opacity"
    }, Er = function(t, e) {
        return e.set(e.t, e.p, Math.round(1e4 * (e.s + e.c * t)) / 1e4 + e.u, e)
    }, Tr = function(t, e) {
        return e.set(e.t, e.p, 1 === t ? e.e : Math.round(1e4 * (e.s + e.c * t)) / 1e4 + e.u, e)
    }, Ar = function(t, e) {
        return e.set(e.t, e.p, t ? Math.round(1e4 * (e.s + e.c * t)) / 1e4 + e.u : e.b, e)
    }, Pr = function(t, e) {
        var n = e.s + e.c * t;
        e.set(e.t, e.p, ~~(n + (n < 0 ? -.5 : .5)) + e.u, e)
    }, Lr = function(t, e) {
        return e.set(e.t, e.p, t ? e.e : e.b, e)
    }, Or = function(t, e) {
        return e.set(e.t, e.p, 1 !== t ? e.b : e.e, e)
    }, Rr = function(t, e, n) {
        return t.style[e] = n
    }, Cr = function(t, e, n) {
        return t.style.setProperty(e, n)
    }, Ir = function(t, e, n) {
        return t._gsap[e] = n
    }, Dr = function(t, e, n) {
        return t._gsap.scaleX = t._gsap.scaleY = n
    }, kr = function(t, e, n, r, i) {
        var o = t._gsap;
        o.scaleX = o.scaleY = n,
        o.renderTransform(i, o)
    }, Nr = function(t, e, n, r, i) {
        var o = t._gsap;
        o[e] = n,
        o.renderTransform(i, o)
    }, zr = "transform", jr = zr + "Origin", Fr = function(t, e) {
        var n = lr.createElementNS ? lr.createElementNS((e || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), t) : lr.createElement(t);
        return n.style ? n : lr.createElement(t)
    }, Br = function t(e, n, r) {
        var i = getComputedStyle(e);
        return i[n] || i.getPropertyValue(n.replace(_r, "-$1").toLowerCase()) || i.getPropertyValue(n) || !r && t(e, Gr(n) || n, 1) || ""
    }, Ur = "O,Moz,ms,Ms,Webkit".split(","), Gr = function(t, e, n) {
        var r = (e || pr).style
          , i = 5;
        if (t in r && !n)
            return t;
        for (t = t.charAt(0).toUpperCase() + t.substr(1); i-- && !(Ur[i] + t in r); )
            ;
        return i < 0 ? null : (3 === i ? "ms" : i >= 0 ? Ur[i] : "") + t
    }, Hr = function() {
        "undefined" != typeof window && (cr = window,
        lr = cr.document,
        hr = lr.documentElement,
        pr = Fr("div") || {
            style: {}
        },
        dr = Fr("div"),
        zr = Gr(zr),
        jr = Gr(jr),
        pr.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0",
        vr = !!Gr("perspective"),
        fr = 1)
    }, Vr = function t(e) {
        var n, r = Fr("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), i = this.parentNode, o = this.nextSibling, a = this.style.cssText;
        if (hr.appendChild(r),
        r.appendChild(this),
        this.style.display = "block",
        e)
            try {
                n = this.getBBox(),
                this._gsapBBox = this.getBBox,
                this.getBBox = t
            } catch (t) {}
        else
            this._gsapBBox && (n = this._gsapBBox());
        return i && (o ? i.insertBefore(this, o) : i.appendChild(this)),
        hr.removeChild(r),
        this.style.cssText = a,
        n
    }, Wr = function(t, e) {
        for (var n = e.length; n--; )
            if (t.hasAttribute(e[n]))
                return t.getAttribute(e[n])
    }, qr = function(t) {
        var e;
        try {
            e = t.getBBox()
        } catch (n) {
            e = Vr.call(t, !0)
        }
        return e && (e.width || e.height) || t.getBBox === Vr || (e = Vr.call(t, !0)),
        !e || e.width || e.x || e.y ? e : {
            x: +Wr(t, ["x", "cx", "x1"]) || 0,
            y: +Wr(t, ["y", "cy", "y1"]) || 0,
            width: 0,
            height: 0
        }
    }, Xr = function(t) {
        return !(!t.getCTM || t.parentNode && !t.ownerSVGElement || !qr(t))
    }, Yr = function(t, e) {
        if (e) {
            var n = t.style;
            e in gr && (e = zr),
            n.removeProperty ? ("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6) || (e = "-" + e),
            n.removeProperty(e.replace(_r, "-$1").toLowerCase())) : n.removeAttribute(e)
        }
    }, Zr = function(t, e, n, r, i, o) {
        var a = new rr(t._pt,e,n,0,1,o ? Or : Lr);
        return t._pt = a,
        a.b = r,
        a.e = i,
        t._props.push(n),
        a
    }, Jr = {
        deg: 1,
        rad: 1,
        turn: 1
    }, Qr = function(t, e, n, r) {
        var i, o, a, s, u = parseFloat(n) || 0, c = (n + "").trim().substr((u + "").length) || "px", l = pr.style, h = wr.test(e), f = "svg" === t.tagName.toLowerCase(), p = (f ? "client" : "offset") + (h ? "Width" : "Height"), d = "px" === r;
        return r === c || !u || Jr[r] || Jr[c] ? u : (s = t.getCTM && Xr(t),
        "%" === r && (gr[e] || ~e.indexOf("adius")) ? ye(u / (s ? t.getBBox()[h ? "width" : "height"] : t[p]) * 100) : (l[h ? "width" : "height"] = 100 + (d ? c : r),
        o = ~e.indexOf("adius") || "em" === r && t.appendChild && !f ? t : t.parentNode,
        s && (o = (t.ownerSVGElement || {}).parentNode),
        o && o !== lr && o.appendChild || (o = lr.body),
        (a = o._gsap) && "%" === r && a.width && h && a.time === xn.time ? ye(u / a.width * 100) : (o === t && (l.position = "static"),
        o.appendChild(pr),
        i = pr[p],
        o.removeChild(pr),
        l.position = "absolute",
        h && "%" === r && ((a = me(o)).time = xn.time,
        a.width = o[p]),
        ye(d ? i * u / 100 : 100 / i * u))))
    }, Kr = function(t, e, n, r) {
        var i;
        return fr || Hr(),
        e in Sr && "transform" !== e && ~(e = Sr[e]).indexOf(",") && (e = e.split(",")[0]),
        gr[e] && "transform" !== e ? (i = li(t, r),
        i = "transformOrigin" !== e ? i[e] : hi(Br(t, jr)) + " " + i.zOrigin + "px") : (!(i = t.style[e]) || "auto" === i || r || ~(i + "").indexOf("calc(")) && (i = ri[e] && ri[e](t, e, n) || Br(t, e) || ve(t, e) || ("opacity" === e ? 1 : 0)),
        n && !~(i + "").indexOf(" ") ? Qr(t, e, i, n) + n : i
    }, $r = function(t, e, n, r) {
        if (!n || "none" === n) {
            var i = Gr(e, t, 1)
              , o = i && Br(t, i, 1);
            o && o !== n && (e = i,
            n = o)
        }
        var a, s, u, c, l, h, f, p, d, m, v, g, y = new rr(this._pt,t.style,e,0,1,Qn), b = 0, x = 0;
        if (y.b = n,
        y.e = r,
        n += "",
        "auto" === (r += "") && (t.style[e] = r,
        r = Br(t, e) || r,
        t.style[e] = n),
        bn(a = [n, r]),
        r = a[1],
        u = (n = a[0]).match(Yt) || [],
        (r.match(Yt) || []).length) {
            for (; s = Yt.exec(r); )
                f = s[0],
                d = r.substring(b, s.index),
                l ? l = (l + 1) % 5 : "rgba(" !== d.substr(-5) && "hsla(" !== d.substr(-5) || (l = 1),
                f !== (h = u[x++] || "") && (c = parseFloat(h) || 0,
                v = h.substr((c + "").length),
                (g = "=" === f.charAt(1) ? +(f.charAt(0) + "1") : 0) && (f = f.substr(2)),
                p = parseFloat(f),
                m = f.substr((p + "").length),
                b = Yt.lastIndex - m.length,
                m || (m = m || Lt.units[e] || v,
                b === r.length && (r += m,
                y.e += m)),
                v !== m && (c = Qr(t, e, h, m) || 0),
                y._pt = {
                    _next: y._pt,
                    p: d || 1 === x ? d : ",",
                    s: c,
                    c: g ? g * p : p - c,
                    m: l && l < 4 ? Math.round : 0
                });
            y.c = b < r.length ? r.substring(b, r.length) : ""
        } else
            y.r = "display" === e && "none" === r ? Or : Lr;
        return Qt.test(r) && (y.e = 0),
        this._pt = y,
        y
    }, ti = {
        top: "0%",
        bottom: "100%",
        left: "0%",
        right: "100%",
        center: "50%"
    }, ei = function(t) {
        var e = t.split(" ")
          , n = e[0]
          , r = e[1] || "50%";
        return "top" !== n && "bottom" !== n && "left" !== r && "right" !== r || (t = n,
        n = r,
        r = t),
        e[0] = ti[n] || n,
        e[1] = ti[r] || r,
        e.join(" ")
    }, ni = function(t, e) {
        if (e.tween && e.tween._time === e.tween._dur) {
            var n, r, i, o = e.t, a = o.style, s = e.u, u = o._gsap;
            if ("all" === s || !0 === s)
                a.cssText = "",
                r = 1;
            else
                for (i = (s = s.split(",")).length; --i > -1; )
                    n = s[i],
                    gr[n] && (r = 1,
                    n = "transformOrigin" === n ? jr : zr),
                    Yr(o, n);
            r && (Yr(o, zr),
            u && (u.svg && o.removeAttribute("transform"),
            li(o, 1),
            u.uncache = 1))
        }
    }, ri = {
        clearProps: function(t, e, n, r, i) {
            if ("isFromStart" !== i.data) {
                var o = t._pt = new rr(t._pt,e,n,0,0,ni);
                return o.u = r,
                o.pr = -10,
                o.tween = i,
                t._props.push(n),
                1
            }
        }
    }, ii = [1, 0, 0, 1, 0, 0], oi = {}, ai = function(t) {
        return "matrix(1, 0, 0, 1, 0, 0)" === t || "none" === t || !t
    }, si = function(t) {
        var e = Br(t, zr);
        return ai(e) ? ii : e.substr(7).match(Xt).map(ye)
    }, ui = function(t, e) {
        var n, r, i, o, a = t._gsap || me(t), s = t.style, u = si(t);
        return a.svg && t.getAttribute("transform") ? "1,0,0,1,0,0" === (u = [(i = t.transform.baseVal.consolidate().matrix).a, i.b, i.c, i.d, i.e, i.f]).join(",") ? ii : u : (u !== ii || t.offsetParent || t === hr || a.svg || (i = s.display,
        s.display = "block",
        (n = t.parentNode) && t.offsetParent || (o = 1,
        r = t.nextSibling,
        hr.appendChild(t)),
        u = si(t),
        i ? s.display = i : Yr(t, "display"),
        o && (r ? n.insertBefore(t, r) : n ? n.appendChild(t) : hr.removeChild(t))),
        e && u.length > 6 ? [u[0], u[1], u[4], u[5], u[12], u[13]] : u)
    }, ci = function(t, e, n, r, i, o) {
        var a, s, u, c = t._gsap, l = i || ui(t, !0), h = c.xOrigin || 0, f = c.yOrigin || 0, p = c.xOffset || 0, d = c.yOffset || 0, m = l[0], v = l[1], g = l[2], y = l[3], b = l[4], x = l[5], _ = e.split(" "), w = parseFloat(_[0]) || 0, M = parseFloat(_[1]) || 0;
        n ? l !== ii && (s = m * y - v * g) && (u = w * (-v / s) + M * (m / s) - (m * x - v * b) / s,
        w = w * (y / s) + M * (-g / s) + (g * x - y * b) / s,
        M = u) : (w = (a = qr(t)).x + (~_[0].indexOf("%") ? w / 100 * a.width : w),
        M = a.y + (~(_[1] || _[0]).indexOf("%") ? M / 100 * a.height : M)),
        r || !1 !== r && c.smooth ? (b = w - h,
        x = M - f,
        c.xOffset = p + (b * m + x * g) - b,
        c.yOffset = d + (b * v + x * y) - x) : c.xOffset = c.yOffset = 0,
        c.xOrigin = w,
        c.yOrigin = M,
        c.smooth = !!r,
        c.origin = e,
        c.originIsAbsolute = !!n,
        t.style[jr] = "0px 0px",
        o && (Zr(o, c, "xOrigin", h, w),
        Zr(o, c, "yOrigin", f, M),
        Zr(o, c, "xOffset", p, c.xOffset),
        Zr(o, c, "yOffset", d, c.yOffset)),
        t.setAttribute("data-svg-origin", w + " " + M)
    }, li = function(t, e) {
        var n = t._gsap || new Cn(t);
        if ("x"in n && !e && !n.uncache)
            return n;
        var r, i, o, a, s, u, c, l, h, f, p, d, m, v, g, y, b, x, _, w, M, S, E, T, A, P, L, O, R, C, I, D, k = t.style, N = n.scaleX < 0, z = Br(t, jr) || "0";
        return r = i = o = u = c = l = h = f = p = 0,
        a = s = 1,
        n.svg = !(!t.getCTM || !Xr(t)),
        v = ui(t, n.svg),
        n.svg && (T = !n.uncache && t.getAttribute("data-svg-origin"),
        ci(t, T || z, !!T || n.originIsAbsolute, !1 !== n.smooth, v)),
        d = n.xOrigin || 0,
        m = n.yOrigin || 0,
        v !== ii && (x = v[0],
        _ = v[1],
        w = v[2],
        M = v[3],
        r = S = v[4],
        i = E = v[5],
        6 === v.length ? (a = Math.sqrt(x * x + _ * _),
        s = Math.sqrt(M * M + w * w),
        u = x || _ ? xr(_, x) * yr : 0,
        (h = w || M ? xr(w, M) * yr + u : 0) && (s *= Math.cos(h * br)),
        n.svg && (r -= d - (d * x + m * w),
        i -= m - (d * _ + m * M))) : (D = v[6],
        C = v[7],
        L = v[8],
        O = v[9],
        R = v[10],
        I = v[11],
        r = v[12],
        i = v[13],
        o = v[14],
        c = (g = xr(D, R)) * yr,
        g && (T = S * (y = Math.cos(-g)) + L * (b = Math.sin(-g)),
        A = E * y + O * b,
        P = D * y + R * b,
        L = S * -b + L * y,
        O = E * -b + O * y,
        R = D * -b + R * y,
        I = C * -b + I * y,
        S = T,
        E = A,
        D = P),
        l = (g = xr(-w, R)) * yr,
        g && (y = Math.cos(-g),
        I = M * (b = Math.sin(-g)) + I * y,
        x = T = x * y - L * b,
        _ = A = _ * y - O * b,
        w = P = w * y - R * b),
        u = (g = xr(_, x)) * yr,
        g && (T = x * (y = Math.cos(g)) + _ * (b = Math.sin(g)),
        A = S * y + E * b,
        _ = _ * y - x * b,
        E = E * y - S * b,
        x = T,
        S = A),
        c && Math.abs(c) + Math.abs(u) > 359.9 && (c = u = 0,
        l = 180 - l),
        a = ye(Math.sqrt(x * x + _ * _ + w * w)),
        s = ye(Math.sqrt(E * E + D * D)),
        g = xr(S, E),
        h = Math.abs(g) > 2e-4 ? g * yr : 0,
        p = I ? 1 / (I < 0 ? -I : I) : 0),
        n.svg && (v = t.getAttribute("transform"),
        n.forceCSS = t.setAttribute("transform", "") || !ai(Br(t, zr)),
        v && t.setAttribute("transform", v))),
        Math.abs(h) > 90 && Math.abs(h) < 270 && (N ? (a *= -1,
        h += u <= 0 ? 180 : -180,
        u += u <= 0 ? 180 : -180) : (s *= -1,
        h += h <= 0 ? 180 : -180)),
        n.x = ((n.xPercent = r && Math.round(t.offsetWidth / 2) === Math.round(-r) ? -50 : 0) ? 0 : r) + "px",
        n.y = ((n.yPercent = i && Math.round(t.offsetHeight / 2) === Math.round(-i) ? -50 : 0) ? 0 : i) + "px",
        n.z = o + "px",
        n.scaleX = ye(a),
        n.scaleY = ye(s),
        n.rotation = ye(u) + "deg",
        n.rotationX = ye(c) + "deg",
        n.rotationY = ye(l) + "deg",
        n.skewX = h + "deg",
        n.skewY = f + "deg",
        n.transformPerspective = p + "px",
        (n.zOrigin = parseFloat(z.split(" ")[2]) || 0) && (k[jr] = hi(z)),
        n.xOffset = n.yOffset = 0,
        n.force3D = Lt.force3D,
        n.renderTransform = n.svg ? mi : vr ? di : pi,
        n.uncache = 0,
        n
    }, hi = function(t) {
        return (t = t.split(" "))[0] + " " + t[1]
    }, fi = function(t, e, n) {
        var r = Ye(e);
        return ye(parseFloat(e) + parseFloat(Qr(t, "x", n + "px", r))) + r
    }, pi = function(t, e) {
        e.z = "0px",
        e.rotationY = e.rotationX = "0deg",
        e.force3D = 0,
        di(t, e)
    }, di = function(t, e) {
        var n = e || this
          , r = n.xPercent
          , i = n.yPercent
          , o = n.x
          , a = n.y
          , s = n.z
          , u = n.rotation
          , c = n.rotationY
          , l = n.rotationX
          , h = n.skewX
          , f = n.skewY
          , p = n.scaleX
          , d = n.scaleY
          , m = n.transformPerspective
          , v = n.force3D
          , g = n.target
          , y = n.zOrigin
          , b = ""
          , x = "auto" === v && t && 1 !== t || !0 === v;
        if (y && ("0deg" !== l || "0deg" !== c)) {
            var _, w = parseFloat(c) * br, M = Math.sin(w), S = Math.cos(w);
            w = parseFloat(l) * br,
            _ = Math.cos(w),
            o = fi(g, o, M * _ * -y),
            a = fi(g, a, -Math.sin(w) * -y),
            s = fi(g, s, S * _ * -y + y)
        }
        "0px" !== m && (b += "perspective(" + m + ") "),
        (r || i) && (b += "translate(" + r + "%, " + i + "%) "),
        (x || "0px" !== o || "0px" !== a || "0px" !== s) && (b += "0px" !== s || x ? "translate3d(" + o + ", " + a + ", " + s + ") " : "translate(" + o + ", " + a + ") "),
        "0deg" !== u && (b += "rotate(" + u + ") "),
        "0deg" !== c && (b += "rotateY(" + c + ") "),
        "0deg" !== l && (b += "rotateX(" + l + ") "),
        "0deg" === h && "0deg" === f || (b += "skew(" + h + ", " + f + ") "),
        1 === p && 1 === d || (b += "scale(" + p + ", " + d + ") "),
        g.style[zr] = b || "translate(0, 0)"
    }, mi = function(t, e) {
        var n, r, i, o, a, s = e || this, u = s.xPercent, c = s.yPercent, l = s.x, h = s.y, f = s.rotation, p = s.skewX, d = s.skewY, m = s.scaleX, v = s.scaleY, g = s.target, y = s.xOrigin, b = s.yOrigin, x = s.xOffset, _ = s.yOffset, w = s.forceCSS, M = parseFloat(l), S = parseFloat(h);
        f = parseFloat(f),
        p = parseFloat(p),
        (d = parseFloat(d)) && (p += d = parseFloat(d),
        f += d),
        f || p ? (f *= br,
        p *= br,
        n = Math.cos(f) * m,
        r = Math.sin(f) * m,
        i = Math.sin(f - p) * -v,
        o = Math.cos(f - p) * v,
        p && (d *= br,
        a = Math.tan(p - d),
        i *= a = Math.sqrt(1 + a * a),
        o *= a,
        d && (a = Math.tan(d),
        n *= a = Math.sqrt(1 + a * a),
        r *= a)),
        n = ye(n),
        r = ye(r),
        i = ye(i),
        o = ye(o)) : (n = m,
        o = v,
        r = i = 0),
        (M && !~(l + "").indexOf("px") || S && !~(h + "").indexOf("px")) && (M = Qr(g, "x", l, "px"),
        S = Qr(g, "y", h, "px")),
        (y || b || x || _) && (M = ye(M + y - (y * n + b * i) + x),
        S = ye(S + b - (y * r + b * o) + _)),
        (u || c) && (a = g.getBBox(),
        M = ye(M + u / 100 * a.width),
        S = ye(S + c / 100 * a.height)),
        a = "matrix(" + n + "," + r + "," + i + "," + o + "," + M + "," + S + ")",
        g.setAttribute("transform", a),
        w && (g.style[zr] = a)
    }, vi = function(t, e, n, r, i, o) {
        var a, s, u = zt(i), c = parseFloat(i) * (u && ~i.indexOf("rad") ? yr : 1), l = o ? c * o : c - r, h = r + l + "deg";
        return u && ("short" === (a = i.split("_")[1]) && (l %= 360) !== l % 180 && (l += l < 0 ? 360 : -360),
        "cw" === a && l < 0 ? l = (l + 36e9) % 360 - 360 * ~~(l / 360) : "ccw" === a && l > 0 && (l = (l - 36e9) % 360 - 360 * ~~(l / 360))),
        t._pt = s = new rr(t._pt,e,n,r,l,Tr),
        s.e = h,
        s.u = "deg",
        t._props.push(n),
        s
    }, gi = function(t, e, n) {
        var r, i, o, a, s, u, c, l = dr.style, h = n._gsap;
        for (i in l.cssText = getComputedStyle(n).cssText + ";position:absolute;display:block;",
        l[zr] = e,
        lr.body.appendChild(dr),
        r = li(dr, 1),
        gr)
            (o = h[i]) !== (a = r[i]) && "perspective,force3D,transformOrigin,svgOrigin".indexOf(i) < 0 && (s = Ye(o) !== (c = Ye(a)) ? Qr(n, i, o, c) : parseFloat(o),
            u = parseFloat(a),
            t._pt = new rr(t._pt,h,i,s,u - s,Er),
            t._pt.u = c || 0,
            t._props.push(i));
        lr.body.removeChild(dr)
    };
    ge("padding,margin,Width,Radius", (function(t, e) {
        var n = "Top"
          , r = "Right"
          , i = "Bottom"
          , o = "Left"
          , a = (e < 3 ? [n, r, i, o] : [n + o, n + r, i + r, i + o]).map((function(n) {
            return e < 2 ? t + n : "border" + n + t
        }
        ));
        ri[e > 1 ? "border" + t : t] = function(t, e, n, r, i) {
            var o, s;
            if (arguments.length < 4)
                return o = a.map((function(e) {
                    return Kr(t, e, n)
                }
                )),
                5 === (s = o.join(" ")).split(o[0]).length ? o[0] : s;
            o = (r + "").split(" "),
            s = {},
            a.forEach((function(t, e) {
                return s[t] = o[e] = o[e] || o[(e - 1) / 2 | 0]
            }
            )),
            t.init(e, s, i)
        }
    }
    ));
    var yi, bi, xi = {
        name: "css",
        register: Hr,
        targetTest: function(t) {
            return t.style && t.nodeType
        },
        init: function(t, e, n, r, i) {
            var o, a, s, u, c, l, h, f, p, d, m, v, g, y, b, x = this._props, _ = t.style;
            for (h in fr || Hr(),
            e)
                if ("autoRound" !== h && (a = e[h],
                !ce[h] || !jn(h, e, n, r, t, i)))
                    if (c = ur(a),
                    l = ri[h],
                    "function" === c && (c = ur(a = a.call(n, r, t, i))),
                    "string" === c && ~a.indexOf("random(") && (a = an(a)),
                    l)
                        l(this, t, h, a, n) && (b = 1);
                    else if ("--" === h.substr(0, 2))
                        this.add(_, "setProperty", getComputedStyle(t).getPropertyValue(h) + "", a + "", r, i, 0, 0, h);
                    else {
                        if (o = Kr(t, h),
                        u = parseFloat(o),
                        (d = "string" === c && "=" === a.charAt(1) ? +(a.charAt(0) + "1") : 0) && (a = a.substr(2)),
                        s = parseFloat(a),
                        h in Sr && ("autoAlpha" === h && (1 === u && "hidden" === Kr(t, "visibility") && s && (u = 0),
                        Zr(this, _, "visibility", u ? "inherit" : "hidden", s ? "inherit" : "hidden", !s)),
                        "scale" !== h && "transform" !== h && ~(h = Sr[h]).indexOf(",") && (h = h.split(",")[0])),
                        m = h in gr)
                            if (v || ((g = t._gsap).renderTransform || li(t),
                            y = !1 !== e.smoothOrigin && g.smooth,
                            (v = this._pt = new rr(this._pt,_,zr,0,1,g.renderTransform,g,0,-1)).dep = 1),
                            "scale" === h)
                                this._pt = new rr(this._pt,g,"scaleY",g.scaleY,d ? d * s : s - g.scaleY),
                                x.push("scaleY", h),
                                h += "X";
                            else {
                                if ("transformOrigin" === h) {
                                    a = ei(a),
                                    g.svg ? ci(t, a, 0, y, 0, this) : ((p = parseFloat(a.split(" ")[2]) || 0) !== g.zOrigin && Zr(this, g, "zOrigin", g.zOrigin, p),
                                    Zr(this, _, h, hi(o), hi(a)));
                                    continue
                                }
                                if ("svgOrigin" === h) {
                                    ci(t, a, 1, y, 0, this);
                                    continue
                                }
                                if (h in oi) {
                                    vi(this, g, h, u, a, d);
                                    continue
                                }
                                if ("smoothOrigin" === h) {
                                    Zr(this, g, "smooth", g.smooth, a);
                                    continue
                                }
                                if ("force3D" === h) {
                                    g[h] = a;
                                    continue
                                }
                                if ("transform" === h) {
                                    gi(this, a, t);
                                    continue
                                }
                            }
                        else
                            h in _ || (h = Gr(h) || h);
                        if (m || (s || 0 === s) && (u || 0 === u) && !Mr.test(a) && h in _)
                            s || (s = 0),
                            (f = (o + "").substr((u + "").length)) !== (p = (a + "").substr((s + "").length) || (h in Lt.units ? Lt.units[h] : f)) && (u = Qr(t, h, o, p)),
                            this._pt = new rr(this._pt,m ? g : _,h,u,d ? d * s : s - u,"px" !== p || !1 === e.autoRound || m ? Er : Pr),
                            this._pt.u = p || 0,
                            f !== p && (this._pt.b = o,
                            this._pt.r = Ar);
                        else if (h in _)
                            $r.call(this, t, h, o, a);
                        else {
                            if (!(h in t)) {
                                ne(h, a);
                                continue
                            }
                            this.add(t, h, t[h], a, r, i)
                        }
                        x.push(h)
                    }
            b && nr(this)
        },
        get: Kr,
        aliases: Sr,
        getSetter: function(t, e, n) {
            var r = Sr[e];
            return r && r.indexOf(",") < 0 && (e = r),
            e in gr && e !== jr && (t._gsap.x || Kr(t, "x")) ? n && mr === n ? "scale" === e ? Dr : Ir : (mr = n || {}) && ("scale" === e ? kr : Nr) : t.style && !Bt(t.style[e]) ? Rr : ~e.indexOf("-") ? Cr : Yn(t, e)
        },
        core: {
            _removeProperty: Yr,
            _getMatrix: ui
        }
    };
    sr.utils.checkPrefix = Gr,
    bi = ge("x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + (yi = "rotation,rotationX,rotationY,skewX,skewY") + ",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", (function(t) {
        gr[t] = 1
    }
    )),
    ge(yi, (function(t) {
        Lt.units[t] = "deg",
        oi[t] = 1
    }
    )),
    Sr[bi[13]] = "x,y,z,scale,scaleX,scaleY,xPercent,yPercent," + yi,
    ge("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY", (function(t) {
        var e = t.split(":");
        Sr[e[1]] = bi[e[0]]
    }
    )),
    ge("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", (function(t) {
        Lt.units[t] = "px"
    }
    )),
    sr.registerPlugin(xi);
    var _i = sr.registerPlugin(xi) || sr
      , wi = (_i.core.Tween,
    n(37))
      , Mi = n.n(wi);
    function Si(t) {
        return (Si = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Ei(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Ti(t, e) {
        return !e || "object" !== Si(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Ai(t) {
        return (Ai = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Pi(t, e) {
        return (Pi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Li = function(t) {
        function e(t) {
            var n, r = t.mesh, i = t.sizes;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = Ti(this, Ai(e).call(this))).mesh = r,
            n.sizes = i,
            n.uid = n.mesh.uid,
            n.onResize({
                sizes: i
            }),
            n.add(n.mesh),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Pi(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "show",
            value: function() {
                var t = this;
                return new Promise((function(e) {
                    _i.fromTo(t.position, {
                        z: -25
                    }, {
                        duration: 1,
                        onComplete: e,
                        z: 0
                    })
                }
                ))
            }
        }, {
            key: "hide",
            value: function() {
                var t = this;
                return new Promise((function(e) {
                    _i.to(t.position, {
                        duration: 1,
                        onComplete: e,
                        z: -15
                    })
                }
                ))
            }
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.position.set(0, 0, 0),
                this.scale.set(e.ratio, e.ratio, e.ratio)
            }
        }, {
            key: "update",
            value: function() {
                this.rotation.y += .01
            }
        }, {
            key: "destroy",
            value: function() {
                this.remove(this.mesh)
            }
        }]) && Ei(n.prototype, r),
        i && Ei(n, i),
        e
    }(Y.Group)
      , Oi = function t(e, n) {
        Y.Mesh.call(this, e),
        this.type = "Reflector";
        var r = this
          , i = void 0 !== (n = n || {}).color ? new Y.Color(n.color) : new Y.Color(8355711)
          , o = n.textureWidth || 512
          , a = n.textureHeight || 512
          , s = n.clipBias || 0
          , u = n.shader || t.ReflectorShader
          , c = void 0 !== n.recursion ? n.recursion : 0
          , l = void 0 !== n.encoding ? n.encoding : Y.LinearEncoding
          , h = new Y.Plane
          , f = new Y.Vector3
          , p = new Y.Vector3
          , d = new Y.Vector3
          , m = new Y.Matrix4
          , v = new Y.Vector3(0,0,-1)
          , g = new Y.Vector4
          , y = new Y.Vector3
          , b = new Y.Vector3
          , x = new Y.Vector4
          , _ = new Y.Matrix4
          , w = new Y.PerspectiveCamera
          , M = {
            minFilter: Y.LinearFilter,
            magFilter: Y.LinearFilter,
            format: Y.RGBFormat,
            stencilBuffer: !1,
            encoding: l
        }
          , S = new Y.WebGLRenderTarget(o,a,M);
        Y.MathUtils.isPowerOfTwo(o) && Y.MathUtils.isPowerOfTwo(a) || (S.texture.generateMipmaps = !1);
        var E = new Y.ShaderMaterial({
            uniforms: Y.UniformsUtils.clone(u.uniforms),
            fragmentShader: u.fragmentShader,
            vertexShader: u.vertexShader
        });
        E.uniforms.tDiffuse.value = S.texture,
        E.uniforms.color.value = i,
        E.uniforms.textureMatrix.value = _,
        this.material = E,
        this.onBeforeRender = function(t, e, n) {
            if ("recursion"in n.userData) {
                if (n.userData.recursion === c)
                    return;
                n.userData.recursion++
            }
            if (p.setFromMatrixPosition(r.matrixWorld),
            d.setFromMatrixPosition(n.matrixWorld),
            m.extractRotation(r.matrixWorld),
            f.set(0, 0, 1),
            f.applyMatrix4(m),
            y.subVectors(p, d),
            !(y.dot(f) > 0)) {
                y.reflect(f).negate(),
                y.add(p),
                m.extractRotation(n.matrixWorld),
                v.set(0, 0, -1),
                v.applyMatrix4(m),
                v.add(d),
                b.subVectors(p, v),
                b.reflect(f).negate(),
                b.add(p),
                w.position.copy(y),
                w.up.set(0, 1, 0),
                w.up.applyMatrix4(m),
                w.up.reflect(f),
                w.lookAt(b),
                w.far = n.far,
                w.updateMatrixWorld(),
                w.projectionMatrix.copy(n.projectionMatrix),
                w.userData.recursion = 0,
                _.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1),
                _.multiply(w.projectionMatrix),
                _.multiply(w.matrixWorldInverse),
                _.multiply(r.matrixWorld),
                h.setFromNormalAndCoplanarPoint(f, p),
                h.applyMatrix4(w.matrixWorldInverse),
                g.set(h.normal.x, h.normal.y, h.normal.z, h.constant);
                var i = w.projectionMatrix;
                x.x = (Math.sign(g.x) + i.elements[8]) / i.elements[0],
                x.y = (Math.sign(g.y) + i.elements[9]) / i.elements[5],
                x.z = -1,
                x.w = (1 + i.elements[10]) / i.elements[14],
                g.multiplyScalar(2 / g.dot(x)),
                i.elements[2] = g.x,
                i.elements[6] = g.y,
                i.elements[10] = g.z + 1 - s,
                i.elements[14] = g.w,
                r.visible = !1;
                var o = t.getRenderTarget()
                  , a = t.xr.enabled
                  , u = t.shadowMap.autoUpdate;
                t.xr.enabled = !1,
                t.shadowMap.autoUpdate = !1,
                t.setRenderTarget(S),
                t.clear(),
                t.render(e, w),
                t.xr.enabled = a,
                t.shadowMap.autoUpdate = u,
                t.setRenderTarget(o);
                var l = n.viewport;
                void 0 !== l && t.state.viewport(l),
                r.visible = !0
            }
        }
        ,
        this.getRenderTarget = function() {
            return S
        }
    };
    (Oi.prototype = Object.create(Y.Mesh.prototype)).constructor = Oi,
    Oi.ReflectorShader = {
        uniforms: {
            color: {
                value: null
            },
            tDiffuse: {
                value: null
            },
            textureMatrix: {
                value: null
            }
        },
        vertexShader: ["uniform mat4 textureMatrix;", "varying vec4 vUv;", "void main() {", "\tvUv = textureMatrix * vec4( position, 1.0 );", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
        fragmentShader: ["uniform vec3 color;", "uniform sampler2D tDiffuse;", "varying vec4 vUv;", "float blendOverlay( float base, float blend ) {", "\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );", "}", "vec3 blendOverlay( vec3 base, vec3 blend ) {", "\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );", "}", "void main() {", "\tvec4 base = texture2DProj( tDiffuse, vUv );", "\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );", "}"].join("\n")
    };
    var Ri = '#define GLSLIFY 1\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nuniform vec3 color;\n\nuniform vec2 displacement;\n\nuniform float noiseMultiplier;\n\nuniform sampler2D tDiffuse;\nuniform float time;\nvarying vec4 vUv;\n\nvoid main() {\n  vec4 uv = vUv;\n\n  float noise = cnoise(vec3(uv.xy, sin(time * noiseMultiplier)) + time);\n\n  uv.x += noise * displacement.x;\n\tuv.y += noise * displacement.y;\n\n\tvec4 base = texture2DProj(tDiffuse, uv);\n\n\tgl_FragColor = base;\n}\n'
      , Ci = "#define GLSLIFY 1\nuniform mat4 textureMatrix;\nvarying vec4 vUv;\n\nvoid main() {\n\tvUv = textureMatrix * vec4(position, 1.0);\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n";
    function Ii(t) {
        return (Ii = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Di(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function ki(t, e) {
        return !e || "object" !== Ii(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Ni(t) {
        return (Ni = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function zi(t, e) {
        return (zi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var ji = function(t) {
        function e(t) {
            var n, r = t.layer, i = t.sizes;
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var o = new Y.PlaneBufferGeometry(1,1)
              , a = {
                clipBias: .3,
                textureWidth: i.screen.width * i.retina,
                textureHeight: i.screen.height * i.retina,
                recursion: 1,
                shader: {
                    uniforms: {
                        color: {
                            value: null
                        },
                        displacement: {
                            value: [2, 2]
                        },
                        noiseMultiplier: {
                            value: .1
                        },
                        tDiffuse: {
                            value: null
                        },
                        textureMatrix: {
                            value: null
                        },
                        time: {
                            value: 0
                        }
                    },
                    transparent: !0,
                    fragmentShader: Ri,
                    vertexShader: Ci
                }
            };
            return n = ki(this, Ni(e).call(this, o, a)),
            r && (n.layers.disable(0),
            n.layers.enable(r)),
            n.velocity = .01,
            n.onResize({
                sizes: i
            }),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && zi(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.position.y = .25 * -e.environment.height,
                this.rotation.x = -Math.PI / 2,
                this.scale.x = 3 * e.environment.width,
                this.scale.y = 3 * e.environment.width
            }
        }, {
            key: "update",
            value: function() {
                this.material.uniforms.time.value += this.velocity
            }
        }, {
            key: "destroyGeometry",
            value: function() {
                this.geometry && this.geometry.dispose()
            }
        }, {
            key: "destroyMaterial",
            value: function() {
                this.material && this.material.dispose()
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyGeometry(),
                this.destroyMaterial()
            }
        }]) && Di(n.prototype, r),
        i && Di(n, i),
        e
    }(Oi);
    function Fi(t) {
        return (Fi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Bi(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function Ui(t) {
        return function() {
            var e = this
              , n = arguments;
            return new Promise((function(r, i) {
                var o = t.apply(e, n);
                function a(t) {
                    Bi(o, r, i, a, s, "next", t)
                }
                function s(t) {
                    Bi(o, r, i, a, s, "throw", t)
                }
                a(void 0)
            }
            ))
        }
    }
    function Gi(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Hi(t) {
        return (Hi = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Vi(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function Wi(t, e) {
        return (Wi = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var qi = function(t) {
        function e(t) {
            var n, r = t.material, i = t.models, o = t.scene, a = t.sizes;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            n = function(t, e) {
                return !e || "object" !== Fi(e) && "function" != typeof e ? Vi(t) : e
            }(this, Hi(e).call(this)),
            A()(Vi(n)),
            n.material = r,
            n.models = i,
            n.scene = o,
            n.sizes = a,
            n.createGroup(),
            n.createModel(),
            n.createMirror(),
            n
        }
        var n, r, i, o, a;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Wi(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createGroup",
            value: function() {
                this.group = new Y.Group,
                this.scene.add(this.group)
            }
        }, {
            key: "createModel",
            value: function() {
                var t = Mi()(this.models, {
                    uid: "about"
                });
                this.model = new Li({
                    mesh: t,
                    sizes: this.sizes
                }),
                this.group.add(this.model)
            }
        }, {
            key: "createMirror",
            value: function() {
                this.mirror = new ji({
                    layer: 0,
                    sizes: this.sizes
                }),
                this.group.add(this.mirror)
            }
        }, {
            key: "show",
            value: (a = Ui(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return _i.fromTo(this.material, {
                                opacity: 0
                            }, {
                                duration: 1,
                                opacity: 1
                            }),
                            t.next = 3,
                            this.model.show();
                        case 3:
                            return t.abrupt("return", Promise.resolve());
                        case 4:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function() {
                return a.apply(this, arguments)
            }
            )
        }, {
            key: "hide",
            value: (o = Ui(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return _i.to(this.material, {
                                duration: 1,
                                opacity: 0
                            }),
                            t.next = 3,
                            this.model.hide();
                        case 3:
                            return this.destroy(),
                            t.abrupt("return", Promise.resolve());
                        case 5:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function() {
                return o.apply(this, arguments)
            }
            )
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.sizes = e,
                this.model.onResize({
                    sizes: e
                })
            }
        }, {
            key: "update",
            value: function() {
                this.mirror.update(),
                this.model.update()
            }
        }, {
            key: "destroyModel",
            value: function() {
                this.model.destroy(),
                this.group.remove(this.model)
            }
        }, {
            key: "destroyMirror",
            value: function() {
                this.mirror.destroy(),
                this.group.remove(this.mirror)
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyModel(),
                this.destroyMirror(),
                this.scene.remove(this.group)
            }
        }]) && Gi(n.prototype, r),
        i && Gi(n, i),
        e
    }(H.a)
      , Xi = n(13)
      , Yi = n.n(Xi)
      , Zi = function(t) {
        var e = t.getBoundingClientRect();
        return {
            bottom: e.bottom + window.pageXOffset - document.documentElement.clientLeft,
            height: e.height,
            left: e.left + window.pageXOffset - document.documentElement.clientLeft,
            top: e.top + window.pageYOffset - document.documentElement.clientTop
        }
    };
    function Ji(t) {
        for (var e = 0; t = t.previousElementSibling; )
            e++;
        return e
    }
    function Qi(t) {
        return (Qi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Ki(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function $i(t, e) {
        return !e || "object" !== Qi(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function to(t) {
        return (to = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function eo(t, e) {
        return (eo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var no = function(t) {
        function e(t) {
            var n, r = t.index, i = t.length, o = t.mesh, a = t.sizes;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = $i(this, to(e).call(this))).index = r,
            n.length = i,
            n.mesh = o,
            n.sizes = a,
            n.uid = n.mesh.uid,
            n.onResize({
                sizes: a
            }),
            n.add(n.mesh),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && eo(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "show",
            value: function() {
                var t = this;
                return new Promise((function(e) {
                    _i.fromTo(t.position, {
                        z: -25
                    }, {
                        duration: 1,
                        onComplete: e,
                        z: 0
                    })
                }
                ))
            }
        }, {
            key: "hide",
            value: function() {
                var t = this;
                return new Promise((function(e) {
                    _i.to(t.position, {
                        duration: 1,
                        onComplete: e,
                        z: -15
                    })
                }
                ))
            }
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes
                  , n = this.sizes.screen.width <= 767 ? .75 : .5;
                this.location = e.environment.width * n * this.index,
                this.total = e.environment.width * n * this.length,
                this.position.set(this.location, 0, 0);
                var r = Math.min(e.ratio, 1.5);
                this.scale.setScalar(r)
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.direction
                  , n = t.position;
                this.isAfter = this.position.x < -this.sizes.environment.width,
                this.isBefore = this.position.x > this.sizes.environment.width,
                "right" === e && this.isBefore && (this.isBefore = !1,
                this.isAfter = !0,
                this.location = this.location - this.total),
                "left" === e && this.isAfter && (this.isBefore = !0,
                this.isAfter = !1,
                this.location = this.location + this.total),
                this.position.x = this.location + n,
                this.rotation.y += .005
            }
        }, {
            key: "destroy",
            value: function() {
                this.remove(this.mesh)
            }
        }]) && Ki(n.prototype, r),
        i && Ki(n, i),
        e
    }(Y.Group);
    function ro(t) {
        return (ro = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function io(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function oo(t, e) {
        return !e || "object" !== ro(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function ao(t) {
        return (ao = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function so(t, e) {
        return (so = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var uo = function(t) {
        function e(t) {
            var n, r = t.layer, i = t.sizes;
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var o = new Y.PlaneBufferGeometry(1,1)
              , a = {
                clipBias: .3,
                textureWidth: i.screen.width * i.retina,
                textureHeight: i.screen.height * i.retina,
                recursion: 1,
                shader: {
                    uniforms: {
                        color: {
                            value: null
                        },
                        displacement: {
                            value: [.5, .5]
                        },
                        noiseMultiplier: {
                            value: .1
                        },
                        tDiffuse: {
                            value: null
                        },
                        textureMatrix: {
                            value: null
                        },
                        time: {
                            value: 0
                        }
                    },
                    fragmentShader: Ri,
                    vertexShader: Ci
                }
            };
            return n = oo(this, ao(e).call(this, o, a)),
            r && (n.layers.disable(0),
            n.layers.enable(r)),
            n.velocity = .01,
            n.onResize({
                sizes: i
            }),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && so(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.position.y = .25 * -e.environment.height,
                this.rotation.x = -Math.PI / 2,
                this.scale.x = 3 * e.environment.width,
                this.scale.y = 3 * e.environment.width
            }
        }, {
            key: "update",
            value: function() {
                this.material.uniforms.time.value += this.velocity
            }
        }, {
            key: "destroyGeometry",
            value: function() {
                this.geometry && this.geometry.dispose()
            }
        }, {
            key: "destroyMaterial",
            value: function() {
                this.material && this.material.dispose()
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyGeometry(),
                this.destroyMaterial()
            }
        }]) && io(n.prototype, r),
        i && io(n, i),
        e
    }(Oi);
    function co(t) {
        return (co = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function lo(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function ho(t) {
        return function() {
            var e = this
              , n = arguments;
            return new Promise((function(r, i) {
                var o = t.apply(e, n);
                function a(t) {
                    lo(o, r, i, a, s, "next", t)
                }
                function s(t) {
                    lo(o, r, i, a, s, "throw", t)
                }
                a(void 0)
            }
            ))
        }
    }
    function fo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function po(t) {
        return (po = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function mo(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function vo(t, e) {
        return (vo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var go = function(t) {
        function e(t) {
            var n, r = t.material, i = t.models, o = t.scene, a = t.sizes;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            n = function(t, e) {
                return !e || "object" !== co(e) && "function" != typeof e ? mo(t) : e
            }(this, po(e).call(this)),
            A()(mo(n)),
            n.elements = {
                links: document.querySelectorAll(".home__link"),
                buttons: document.querySelectorAll(".home__button")
            },
            n.material = r,
            n.models = i,
            n.scene = o,
            n.sizes = a,
            n.direction = "right",
            n.position = {
                current: 0,
                previous: 0
            },
            n.scroll = {
                values: {
                    current: 0,
                    target: 0
                },
                end: 0,
                start: 0
            },
            n.width = n.sizes.screen.width <= 767 ? .75 : .5,
            n.createGroup(),
            n.createObjects(),
            n.createMirror(),
            n.addEventListeners(),
            n.update(),
            n
        }
        var n, r, i, o, a;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && vo(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createGroup",
            value: function() {
                this.group = new Y.Group,
                this.scene.add(this.group)
            }
        }, {
            key: "createObjects",
            value: function() {
                var t = this;
                this.objects = Yi()(this.elements.links, (function(e, n) {
                    var r = Mi()(t.models, {
                        uid: e.dataset.uid
                    })
                      , i = new no({
                        index: n,
                        length: t.elements.links.length,
                        mesh: r,
                        sizes: t.sizes
                    });
                    return t.group.add(i),
                    i
                }
                ))
            }
        }, {
            key: "createMirror",
            value: function() {
                this.mirror = new uo({
                    sizes: this.sizes
                }),
                this.group.add(this.mirror)
            }
        }, {
            key: "show",
            value: (a = ho(regeneratorRuntime.mark((function t() {
                var e;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return _i.fromTo(this.material, {
                                opacity: 0
                            }, {
                                duration: 1,
                                opacity: 1
                            }),
                            e = Yi()(this.objects, (function(t) {
                                return t.show()
                            }
                            )),
                            t.next = 4,
                            Promise.all(e);
                        case 4:
                            return t.abrupt("return", Promise.resolve());
                        case 5:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function() {
                return a.apply(this, arguments)
            }
            )
        }, {
            key: "hide",
            value: (o = ho(regeneratorRuntime.mark((function t() {
                var e;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return _i.to(this.material, {
                                duration: 1,
                                opacity: 0
                            }),
                            e = Yi()(this.objects, (function(t) {
                                return t.hide()
                            }
                            )),
                            t.next = 4,
                            Promise.all(e);
                        case 4:
                            return this.destroy(),
                            t.abrupt("return", Promise.resolve());
                        case 6:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function() {
                return o.apply(this, arguments)
            }
            )
        }, {
            key: "onSelect",
            value: function(t) {
                var e = Ji(t.target);
                this.scroll.values.target = this.position.current - this.objects[e].position.x
            }
        }, {
            key: "onTouchDown",
            value: function(t) {
                var e = t.x
                  , n = this.sizes.environment.width / this.sizes.screen.width;
                this.isDown = !0,
                this.scroll.values.current = this.position.current,
                this.scroll.start = -e * n
            }
        }, {
            key: "onTouchMove",
            value: function(t) {
                var e = t.x;
                if (this.isDown) {
                    var n = this.sizes.environment.width / this.sizes.screen.width;
                    this.scroll.end = -e * n,
                    this.scroll.values.target = this.scroll.values.current + (this.scroll.start - this.scroll.end)
                }
            }
        }, {
            key: "onTouchUp",
            value: function() {
                this.isDown = !1,
                this.onCheck()
            }
        }, {
            key: "onCheck",
            value: function() {
                this.scroll.values.target = this.sizes.environment.width * this.width * this.indexInfinite
            }
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.sizes = e,
                this.width = this.sizes.screen.width <= 767 ? .75 : .5,
                R()(this.objects, (function(t) {
                    t.onResize({
                        sizes: e
                    })
                }
                ))
            }
        }, {
            key: "onWheel",
            value: function(t) {
                var e = this;
                if (!this.isChanging) {
                    this.isChanging = !0,
                    _i.delayedCall(1, (function() {
                        e.isChanging = !1
                    }
                    ));
                    var n = t.deltaY > 0 ? "-" : "+";
                    _i.to(this.scroll.values, {
                        duration: .5,
                        target: "".concat(n, "=").concat(this.sizes.environment.width * this.width)
                    })
                }
            }
        }, {
            key: "previous",
            value: function() {
                this.scroll.values.target += this.sizes.environment.width * this.width
            }
        }, {
            key: "next",
            value: function() {
                this.scroll.values.target -= this.sizes.environment.width * this.width
            }
        }, {
            key: "addEventListeners",
            value: function() {
                var t = this;
                R()(this.elements.buttons, (function(e) {
                    e.addEventListener("click", t.onSelect, {
                        passive: !0
                    })
                }
                )),
                window.addEventListener("mousewheel", this.onWheel, {
                    passive: !0
                }),
                window.addEventListener("wheel", this.onWheel, {
                    passive: !0
                })
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                var t = this;
                R()(this.elements.buttons, (function(e) {
                    e.removeEventListener("click", t.onSelect)
                }
                )),
                window.removeEventListener("mousewheel", this.onWheel),
                window.removeEventListener("wheel", this.onWheel)
            }
        }, {
            key: "update",
            value: function() {
                var t = this;
                this.position.current = _i.utils.interpolate(this.position.current, this.scroll.values.target, .1),
                this.position.current < this.position.previous ? this.direction = "left" : this.position.current > this.position.previous && (this.direction = "right"),
                R()(this.objects, (function(e) {
                    e.update({
                        direction: t.direction,
                        position: t.position.current
                    })
                }
                )),
                this.distance = 10 * -(this.position.current - this.scroll.values.target),
                this.position.previous = this.position.current,
                this.mirror.update();
                var e = this.sizes.environment.width * this.width;
                this.indexInfinite = Math.round(this.scroll.values.target / e);
                var n = this.indexInfinite % this.objects.length;
                n = this.indexInfinite > 0 ? (this.objects.length - Math.abs(this.indexInfinite % this.objects.length)) % this.objects.length : Math.abs(this.indexInfinite % this.objects.length),
                this.index !== n && (this.index = n)
            }
        }, {
            key: "destroyObjects",
            value: function() {
                var t = this;
                R()(this.objects, (function(e) {
                    e.destroy(),
                    t.group.remove(e)
                }
                ))
            }
        }, {
            key: "destroyMirror",
            value: function() {
                this.mirror.destroy(),
                this.group.remove(this.mirror)
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyObjects(),
                this.destroyMirror(),
                this.scene.remove(this.group),
                this.removeEventListeners()
            }
        }]) && fo(n.prototype, r),
        i && fo(n, i),
        e
    }(H.a)
      , yo = n(184)
      , bo = n.n(yo)
      , xo = "#define GLSLIFY 1\nuniform float alpha;\nuniform sampler2D image;\nuniform float imagePosition;\nuniform vec2 imageResolution;\nuniform vec2 resolution;\nuniform vec2 rgb;\n\nvarying float distanceZ;\nvarying vec2 vUv;\n\nvoid main() {\n  vec2 sizes = vec2(\n    min((resolution.x / resolution.y) / (imageResolution.x / imageResolution.y), 1.0),\n    min((resolution.y / resolution.x) / (imageResolution.y / imageResolution.x), 1.0)\n  );\n\n  vec2 uv = vec2(\n    vUv.x * sizes.x + (1.0 - sizes.x) * 0.5,\n    vUv.y * sizes.y + (1.0 - sizes.y) * 0.5\n  );\n\n  uv.y += imagePosition;\n\n\t// Final color.\n  vec3 color;\n\n  color.r = texture2D(image, vec2(uv.x + rgb.x, uv.y + rgb.y)).r;\n  color.g = texture2D(image, uv).g;\n  color.b = texture2D(image, vec2(uv.x - rgb.x, uv.y - rgb.y)).b;\n\n  if (distanceZ > 0.0) {\n    color += 0.045 * distanceZ;\n  }\n\n  float opacity = texture2D(image, uv).a;\n\n  gl_FragColor = vec4(color, alpha * opacity);\n}\n"
      , _o = "#define GLSLIFY 1\nuniform float shift;\nuniform float time;\n\nvarying float distanceZ;\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  vec3 newPosition = position;\n\n  newPosition.z += cos(time + -shift * 0.01 + newPosition.y * 5.0) * (shift * 0.5);\n\n  distanceZ = newPosition.z;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n}\n";
    function wo(t) {
        return (wo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Mo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function So(t, e) {
        return !e || "object" !== wo(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Eo(t) {
        return (Eo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function To(t, e) {
        return (To = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Ao = function(t) {
        function e(t) {
            var n, r = t.element, i = t.index, o = t.sizes, a = t.template, s = t.texture;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = So(this, Eo(e).call(this))).element = r,
            n.index = i,
            n.sizes = o,
            n.template = a,
            n.texture = s,
            n.position.extra = 0,
            n.scroll = window.pageYOffset,
            n.shift = {
                current: 0,
                extra: 0
            },
            n.createGeometry(),
            n.createMaterial(),
            n.setPosition(),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && To(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createGeometry",
            value: function() {
                this.geometry = new Y.PlaneBufferGeometry(1,1,100,100)
            }
        }, {
            key: "createMaterial",
            value: function() {
                this.material = new Y.ShaderMaterial({
                    depthTest: !1,
                    depthWrite: !1,
                    uniforms: {
                        alpha: {
                            value: 0
                        },
                        image: {
                            value: this.texture
                        },
                        imagePosition: {
                            value: this.element.dataset.location || 0
                        },
                        imageResolution: {
                            value: new Y.Vector2(this.texture.image.width,this.texture.image.height)
                        },
                        resolution: {
                            value: this.scale
                        },
                        shift: {
                            value: 0
                        },
                        time: {
                            value: 0
                        }
                    },
                    transparent: !0,
                    fragmentShader: xo,
                    vertexShader: _o
                })
            }
        }, {
            key: "setPosition",
            value: function() {
                this.rectangle = this.element.getBoundingClientRect(),
                this.bounds = {
                    left: this.rectangle.left,
                    top: this.rectangle.top + this.scroll,
                    width: this.rectangle.width,
                    height: this.rectangle.height
                },
                this.setScale(),
                this.updateX(),
                this.updateY()
            }
        }, {
            key: "setScale",
            value: function() {
                var t = this.bounds.width / this.sizes.screen.width
                  , e = this.bounds.height / this.sizes.screen.height;
                t && e && (this.scale.x = this.sizes.environment.width * t,
                this.scale.y = this.sizes.environment.height * e)
            }
        }, {
            key: "updateY",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                this.position.y = this.sizes.environment.height / 2 - this.scale.y / 2,
                this.position.y -= (this.bounds.top - t) / this.sizes.screen.height * this.sizes.environment.height,
                this.position.y -= this.position.extra
            }
        }, {
            key: "updateX",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                this.position.x = -this.sizes.environment.width / 2 + this.scale.x / 2,
                this.position.x += (this.bounds.left + t) / this.sizes.screen.width * this.sizes.environment.width
            }
        }, {
            key: "show",
            value: function() {
                var t = this
                  , e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : bo.a;
                return new Promise((function(n) {
                    t.isAnimating = !0,
                    t.timelineIn = _i.timeline({
                        onComplete: n
                    }),
                    "work" === t.template ? (t.timelineIn.set(t.material.uniforms.alpha, {
                        value: 1
                    }),
                    t.timelineIn.call((function() {
                        e()
                    }
                    ))) : (t.timelineIn.fromTo(t.material.uniforms.alpha, {
                        value: 0
                    }, {
                        duration: 1,
                        value: 1
                    }, 0),
                    t.timelineIn.fromTo(t.shift, {
                        extra: 10
                    }, {
                        duration: 2,
                        extra: 0
                    }, 0),
                    t.timelineIn.fromTo(t.position, {
                        extra: t.sizes.environment.height
                    }, {
                        duration: 1,
                        extra: 0
                    }, 0)),
                    t.timelineIn.call((function() {
                        t.isAnimating = !1
                    }
                    ))
                }
                ))
            }
        }, {
            key: "hide",
            value: function() {
                var t = this
                  , e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                return new Promise((function(n) {
                    _i.to(t.material.uniforms.alpha, {
                        duration: e ? .5 : 1,
                        onComplete: n,
                        value: 0
                    })
                }
                ))
            }
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.sizes = e,
                this.setPosition(),
                this.material.uniforms.resolution.value = this.scale
            }
        }, {
            key: "onResizeHeight",
            value: function(t) {
                var e = t.height;
                0 !== this.index && _i.to(this.position, {
                    duration: 1,
                    ease: "expo.inOut",
                    extra: e / this.sizes.screen.height * this.sizes.environment.height
                })
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.shift
                  , n = t.y;
                this.updateX(0),
                this.updateY(n),
                this.scroll = n,
                this.shift.current = _i.utils.interpolate(this.shift.current, e, .5),
                this.material.uniforms.shift.value = this.shift.current + this.shift.extra,
                this.material.uniforms.time.value += .1
            }
        }, {
            key: "destroyGeometry",
            value: function() {
                this.geometry && this.geometry.dispose()
            }
        }, {
            key: "destroyMaterial",
            value: function() {
                this.material && this.material.dispose()
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyGeometry(),
                this.destroyMaterial()
            }
        }]) && Mo(n.prototype, r),
        i && Mo(n, i),
        e
    }(Y.Mesh);
    function Po(t) {
        return (Po = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Lo(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function Oo(t) {
        return function() {
            var e = this
              , n = arguments;
            return new Promise((function(r, i) {
                var o = t.apply(e, n);
                function a(t) {
                    Lo(o, r, i, a, s, "next", t)
                }
                function s(t) {
                    Lo(o, r, i, a, s, "throw", t)
                }
                a(void 0)
            }
            ))
        }
    }
    function Ro(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Co(t, e) {
        return !e || "object" !== Po(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Io(t) {
        return (Io = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Do(t, e) {
        return (Do = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var ko = function(t) {
        function e(t) {
            var n, r = t.scene, i = t.sizes, o = t.template, a = t.textures;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = Co(this, Io(e).call(this))).elements = {
                images: document.querySelectorAll("[data-texture]")
            },
            n.scene = r,
            n.sizes = i,
            n.template = o,
            n.textures = a,
            n.createGroup(),
            n.createImages(),
            n
        }
        var n, r, i, o, a;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Do(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createGroup",
            value: function() {
                this.group = new Y.Group,
                this.scene.add(this.group)
            }
        }, {
            key: "createImages",
            value: function() {
                var t = this;
                this.images = Yi()(this.elements.images, (function(e, n) {
                    e.style.opacity = 0,
                    e.style.visibility = "hidden";
                    var r = new Ao({
                        element: e,
                        index: n,
                        sizes: t.sizes,
                        template: t.template,
                        texture: Mi()(t.textures, {
                            uid: e.dataset.texture
                        })
                    });
                    return t.group.add(r),
                    0 === n && (t.media = r),
                    r
                }
                ))
            }
        }, {
            key: "show",
            value: (a = Oo(regeneratorRuntime.mark((function t(e) {
                var n;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return n = Yi()(this.images, (function(t, n) {
                                0 === n ? t.show(e) : t.show()
                            }
                            )),
                            t.next = 3,
                            Promise.all(n);
                        case 3:
                            return t.abrupt("return", Promise.resolve());
                        case 4:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function(t) {
                return a.apply(this, arguments)
            }
            )
        }, {
            key: "hide",
            value: (o = Oo(regeneratorRuntime.mark((function t() {
                var e, n = this;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return e = Yi()(this.images, (function(t) {
                                return t.hide(n.isNextProject)
                            }
                            )),
                            t.next = 3,
                            Promise.all(e);
                        case 3:
                            return this.destroy(),
                            t.abrupt("return", Promise.resolve());
                        case 5:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function() {
                return o.apply(this, arguments)
            }
            )
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.sizes = e,
                R()(this.images, (function(t) {
                    t.onResize({
                        sizes: e
                    })
                }
                ))
            }
        }, {
            key: "onResizeHeight",
            value: function(t) {
                var e = t.height;
                R()(this.images, (function(t) {
                    t.onResizeHeight({
                        height: e
                    })
                }
                ))
            }
        }, {
            key: "update",
            value: function(t) {
                var e = this;
                R()(this.images, (function(n) {
                    var r = (e.sizes.screen.width <= 767 ? 4 : 8) * e.sizes.ratio
                      , i = (t.current - t.last) / e.sizes.screen.width * r;
                    n.update({
                        shift: i,
                        y: t.last
                    })
                }
                ))
            }
        }, {
            key: "destroyImages",
            value: function() {
                R()(this.images, (function(t) {
                    t.destroy()
                }
                )),
                this.group.remove(this.gamer)
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyImages(),
                this.scene.remove(this.group)
            }
        }]) && Ro(n.prototype, r),
        i && Ro(n, i),
        e
    }(H.a);
    function No(t) {
        return (No = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function zo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function jo(t, e) {
        return !e || "object" !== No(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Fo(t) {
        return (Fo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Bo(t, e) {
        return (Bo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Uo = function(t) {
        function e(t) {
            var n, r = t.page, i = t.sizes;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = jo(this, Fo(e).call(this))).media = r.media,
            n.texture = n.media.texture,
            n.sizes = i,
            n.position.copy(n.media.position),
            n.rotation.copy(n.media.rotation),
            n.scale.copy(n.media.scale),
            n.position.z += .001,
            n.createGeometry(),
            n.createMaterial(),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Bo(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createGeometry",
            value: function() {
                this.geometry = new Y.PlaneBufferGeometry(1,1,100,100)
            }
        }, {
            key: "createMaterial",
            value: function() {
                this.material = new Y.ShaderMaterial({
                    depthTest: !1,
                    depthWrite: !1,
                    uniforms: {
                        alpha: {
                            value: 1
                        },
                        image: {
                            value: this.texture
                        },
                        imagePosition: {
                            value: 0
                        },
                        imageResolution: {
                            value: new Y.Vector2(this.texture.image.width,this.texture.image.height)
                        },
                        resolution: {
                            value: this.scale
                        }
                    },
                    transparent: !0,
                    fragmentShader: xo,
                    vertexShader: _o
                })
            }
        }, {
            key: "show",
            value: function() {
                var t = this;
                return new Promise((function(e) {
                    _i.fromTo(t.material.uniforms.alpha, {
                        value: 0
                    }, {
                        duration: 1,
                        onComplete: e,
                        value: t.opacity
                    })
                }
                ))
            }
        }, {
            key: "hide",
            value: function(t) {
                var e = this;
                return new Promise((function(n) {
                    e.timeline = _i.timeline({
                        onComplete: n
                    }),
                    e.timeline.to(e.material.uniforms.imagePosition, {
                        duration: 1.5,
                        ease: "expo.inOut",
                        value: t.media.material.uniforms.imagePosition.value
                    }, "start"),
                    e.timeline.to(e.position, {
                        duration: 1.5,
                        ease: "expo.inOut",
                        x: t.media.position.x,
                        y: t.media.position.y,
                        z: t.media.position.z
                    }, "start"),
                    e.timeline.to(e.rotation, {
                        duration: 1.5,
                        ease: "expo.inOut",
                        x: t.media.rotation.x,
                        y: t.media.rotation.y,
                        z: t.media.rotation.z
                    }, "start"),
                    e.timeline.to(e.scale, {
                        duration: 1.5,
                        ease: "expo.inOut",
                        x: t.media.scale.x,
                        y: t.media.scale.y,
                        z: t.media.scale.z
                    }, "start")
                }
                ))
            }
        }, {
            key: "destroyGeometry",
            value: function() {
                this.geometry && this.geometry.dispose()
            }
        }, {
            key: "destroyMaterial",
            value: function() {
                this.material && this.material.dispose()
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyGeometry(),
                this.destroyMaterial()
            }
        }]) && zo(n.prototype, r),
        i && zo(n, i),
        e
    }(Y.Mesh);
    function Go(t) {
        return (Go = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Ho(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Vo(t, e) {
        return !e || "object" !== Go(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Wo(t) {
        return (Wo = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function qo(t, e) {
        return (qo = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Xo = function(t) {
        function e(t) {
            var n, r = t.sizes, i = t.textures;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = Vo(this, Wo(e).call(this))).sizes = r,
            n.textures = i,
            n.texture = i[0],
            n.index = null,
            n.createGeometry(),
            n.createMaterial(),
            n.onResize({
                sizes: r
            }),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && qo(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createGeometry",
            value: function() {
                this.geometry = new Y.PlaneBufferGeometry(1,1,100,100)
            }
        }, {
            key: "createMaterial",
            value: function() {
                this.material = new Y.ShaderMaterial({
                    depthTest: !1,
                    depthWrite: !1,
                    uniforms: {
                        alpha: {
                            value: 1
                        },
                        image: {
                            value: null
                        },
                        imageResolution: {
                            value: new Y.Vector2(this.texture.image.width,this.texture.image.height)
                        },
                        imageTransition: {
                            value: null
                        },
                        resolution: {
                            value: new Y.Vector2(this.sizes.screen.width,this.sizes.screen.height)
                        },
                        shift: {
                            value: [0, 0]
                        },
                        transition: {
                            value: 0
                        }
                    },
                    transparent: !0,
                    fragmentShader: "#define GLSLIFY 1\n#define PI 3.14159265359\n\nuniform float alpha;\nuniform sampler2D image;\nuniform vec2 imageResolution;\nuniform sampler2D imageTransition;\nuniform vec2 resolution;\nuniform float transition;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec2 sizes = vec2(\n    min((resolution.x / resolution.y) / (imageResolution.x / imageResolution.y), 1.0),\n    min((resolution.y / resolution.x) / (imageResolution.y / imageResolution.x), 1.0)\n  );\n\n  vec2 uv = vec2(\n    vUv.x * sizes.x + (1.0 - sizes.x) * 0.5,\n    vUv.y * sizes.y + (1.0 - sizes.y) * 0.5\n  );\n\n  float x = transition;\n\n  x = smoothstep(0.0, 1.0, (x * 2.0 + uv.y - 1.0));\n\n  vec4 color = mix(\n    texture2D(image, (uv - 0.5) * (1.0 - x) + 0.5),\n    texture2D(imageTransition, (uv - 0.5) * x + 0.5),\n    x\n  );\n\n  gl_FragColor = vec4(color.rgb, color.a * alpha);\n}\n",
                    vertexShader: "#define GLSLIFY 1\n#define PI 3.141592653589\n\nuniform vec2 shift;\nuniform float transition;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  vec3 newPosition = position;\n\n  float z = transition;\n\n  z = smoothstep(0.0, 1.0, (z * 2.0 + uv.y - 1.0));\n\n  newPosition.x = newPosition.x + (sin(uv.y * PI) * -shift.x);\n  newPosition.y = newPosition.y + (sin(uv.x * PI) * -shift.y);\n  newPosition.z += sin(z * PI) * 5.0;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n}\n"
                })
            }
        }, {
            key: "show",
            value: function() {
                return Promise.resolve()
            }
        }, {
            key: "hide",
            value: function(t) {
                var e = this
                  , n = t.index
                  , r = t.template;
                return new Promise((function(t) {
                    var i = _i.timeline({
                        onComplete: t
                    });
                    n !== e.index && "project" === r && (e.material.uniforms.image.value = e.textures[e.index],
                    e.material.uniforms.imageTransition.value = e.textures[n],
                    i.fromTo(e.material.uniforms.transition, {
                        value: 0
                    }, {
                        duration: 1,
                        ease: "power1.inOut",
                        value: 1
                    })),
                    i.to(e.material.uniforms.alpha, {
                        delay: "project" === r ? .5 : .25,
                        duration: "project" === r ? 0 : 1.5,
                        value: 0
                    })
                }
                ))
            }
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.sizes = e,
                this.position.x = .05 * this.sizes.environment.width;
                var n = this.sizes.screen.width <= 767 ? .47 : 462 / 1440
                  , r = this.sizes.screen.width <= 767 ? 1.5 : 692 / 462;
                this.scale.x = this.sizes.environment.width * n,
                this.scale.y = this.scale.x * r,
                this.material.uniforms.resolution.value = this.scale
            }
        }, {
            key: "change",
            value: function(t) {
                var e = this;
                this.isAnimating || this.index === t || (this.isAnimating = !0,
                this.material.uniforms.image.value = this.textures[this.index],
                this.material.uniforms.imageTransition.value = this.textures[t],
                this.texture = this.textures[t],
                _i.fromTo(this.material.uniforms.transition, {
                    value: 0
                }, {
                    duration: 1,
                    ease: "power1.inOut",
                    onComplete: function() {
                        return e.isAnimating = !1
                    },
                    value: 1
                }),
                this.index = t)
            }
        }, {
            key: "update",
            value: function(t) {
                var e = t.index
                  , n = t.x
                  , r = t.y;
                this.position.x = _i.utils.interpolate(this.position.x, n, .1),
                this.position.y = _i.utils.interpolate(this.position.y, r, .1),
                this.material.uniforms.shift.value = [.01 * (this.position.x - n), .01 * (this.position.y - r)],
                this.change(e)
            }
        }, {
            key: "destroyGeometry",
            value: function() {
                this.geometry && this.geometry.dispose()
            }
        }, {
            key: "destroyMaterial",
            value: function() {
                this.material && this.material.dispose()
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyGeometry(),
                this.destroyMaterial()
            }
        }]) && Ho(n.prototype, r),
        i && Ho(n, i),
        e
    }(Y.Mesh);
    function Yo(t) {
        return (Yo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Zo(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function Jo(t) {
        return function() {
            var e = this
              , n = arguments;
            return new Promise((function(r, i) {
                var o = t.apply(e, n);
                function a(t) {
                    Zo(o, r, i, a, s, "next", t)
                }
                function s(t) {
                    Zo(o, r, i, a, s, "throw", t)
                }
                a(void 0)
            }
            ))
        }
    }
    function Qo(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Ko(t) {
        return (Ko = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function $o(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function ta(t, e) {
        return (ta = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var ea = function(t) {
        function e(t) {
            var n, r = t.scene, i = t.sizes, o = t.textures;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            n = function(t, e) {
                return !e || "object" !== Yo(e) && "function" != typeof e ? $o(t) : e
            }(this, Ko(e).call(this)),
            A()($o(n)),
            n.elements = {
                links: document.querySelectorAll(".work__link")
            },
            n.scene = r,
            n.sizes = i,
            n.textures = o,
            n.x = n.sizes.screen.width <= 767 ? .2 * n.sizes.environment.width : .05 * n.sizes.environment.width,
            n.y = 0,
            n.createGroup(),
            n.createMedia(),
            n.addEventListeners(),
            n
        }
        var n, r, i, o, a;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && ta(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createGroup",
            value: function() {
                this.group = new Y.Group,
                this.scene.add(this.group)
            }
        }, {
            key: "createMedia",
            value: function() {
                var t = this
                  , e = Yi()(this.elements.links, (function(e, n) {
                    return Mi()(t.textures, {
                        uid: e.dataset.uid
                    })
                }
                ));
                this.media = new Xo({
                    sizes: this.sizes,
                    textures: e
                }),
                this.group.add(this.media)
            }
        }, {
            key: "show",
            value: (a = Jo(regeneratorRuntime.mark((function t() {
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return I.isMobile() && (this.index = 0),
                            t.abrupt("return", Promise.resolve());
                        case 2:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function() {
                return a.apply(this, arguments)
            }
            )
        }, {
            key: "hide",
            value: (o = Jo(regeneratorRuntime.mark((function t(e) {
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return t.next = 2,
                            this.media.hide({
                                index: this.index,
                                template: e
                            });
                        case 2:
                            return this.destroy(),
                            t.abrupt("return", Promise.resolve());
                        case 4:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function(t) {
                return o.apply(this, arguments)
            }
            )
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.sizes;
                this.media.onResize({
                    sizes: e
                })
            }
        }, {
            key: "onTouchMove",
            value: function(t) {
                var e = t.x
                  , n = t.y;
                if (!this.isClicked) {
                    var r = this.sizes.environment.width / this.sizes.screen.width;
                    this.x = (e - this.sizes.screen.width / 2) * r,
                    this.y = (n - this.sizes.screen.height / 2) * r * -1
                }
            }
        }, {
            key: "onClick",
            value: function(t) {
                t.target,
                this.isClicked = !0
            }
        }, {
            key: "onSelect",
            value: function(t) {
                var e = t.target;
                this.isClicked || (this.index = Ji(e.parentNode))
            }
        }, {
            key: "update",
            value: function() {
                this.media.update({
                    index: this.index,
                    x: this.x,
                    y: this.y
                })
            }
        }, {
            key: "addEventListeners",
            value: function() {
                var t = this;
                R()(this.elements.links, (function(e) {
                    e.addEventListener("mouseenter", t.onSelect, {
                        passive: !0
                    }),
                    e.addEventListener("click", t.onClick, {
                        passive: !0
                    })
                }
                ))
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                var t = this;
                R()(this.elements.links, (function(e) {
                    e.removeEventListener("mouseenter", t.onSelect),
                    e.removeEventListener("click", t.onClick)
                }
                ))
            }
        }, {
            key: "destroyMedia",
            value: function() {
                this.media.destroy(),
                this.group.remove(this.media)
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyMedia(),
                this.scene.remove(this.group),
                this.removeEventListeners()
            }
        }]) && Qo(n.prototype, r),
        i && Qo(n, i),
        e
    }(H.a);
    function na(t) {
        return (na = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function ra(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function ia(t) {
        return function() {
            var e = this
              , n = arguments;
            return new Promise((function(r, i) {
                var o = t.apply(e, n);
                function a(t) {
                    ra(o, r, i, a, s, "next", t)
                }
                function s(t) {
                    ra(o, r, i, a, s, "throw", t)
                }
                a(void 0)
            }
            ))
        }
    }
    function oa(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function aa(t, e) {
        return !e || "object" !== na(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function sa(t) {
        return (sa = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function ua(t, e) {
        return (ua = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var ca = function(t) {
        function e(t) {
            var n, r = t.responsive, i = t.template;
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = aa(this, sa(e).call(this))).clock = new Y.Clock,
            n.raycaster = new Y.Raycaster,
            n.models = [],
            n.textures = [],
            n.template = i,
            n.mouse = {
                current: {
                    x: 0,
                    y: 0
                },
                previous: {
                    x: 0,
                    y: 0
                },
                raycast: {
                    x: 0,
                    y: 0
                }
            },
            n.pages = [],
            n.sizes = {
                environment: {
                    height: 0,
                    width: 0
                },
                retina: Math.min(window.devicePixelRatio, 1),
                ratio: r.size / 10,
                screen: {
                    height: window.innerHeight,
                    width: window.innerWidth
                }
            },
            n.createRenderer(),
            n.createMaterial(),
            n.createScene(),
            n.createComposer();
            var o = Y.Math.degToRad(n.camera.fov)
              , a = 2 * Math.tan(o / 2) * n.camera.position.z
              , s = a * n.camera.aspect;
            return n.sizes.environment = {
                height: a,
                width: s
            },
            n.update(),
            n
        }
        var n, r, i, o, a;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && ua(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "createRenderer",
            value: function() {
                this.renderer = new Y.WebGLRenderer({
                    alpha: !0,
                    antialias: !0
                }),
                this.renderer.setPixelRatio(this.sizes.retina),
                this.renderer.setSize(this.sizes.screen.width, this.sizes.screen.height),
                this.renderer.domElement.className = "canvas",
                document.body.appendChild(this.renderer.domElement)
            }
        }, {
            key: "createScene",
            value: function() {
                this.scene = new Y.Scene,
                this.camera = new Y.PerspectiveCamera(45,this.sizes.screen.width / this.sizes.screen.height,1,500),
                this.camera.position.z = 75
            }
        }, {
            key: "createMaterial",
            value: function() {
                this.material = new Y.MeshMatcapMaterial({
                    matcap: (new Y.TextureLoader).load(I.isWebPSupported() ? K.a : J.a),
                    transparent: !0
                })
            }
        }, {
            key: "createComposer",
            value: function() {
                this.composer = new tt.a(this.renderer),
                this.renderPass = new $.RenderPass(this.scene,this.camera),
                this.rgb = {
                    uniforms: {
                        tDiffuse: {
                            value: null
                        },
                        uRGB: {
                            value: [0, 0]
                        }
                    },
                    fragmentShader: "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform vec2 uRGB;\n\nvarying vec2 vUv;\n\nvoid main()  {\n  vec2 uv = vUv;\n\n  vec3 color;\n\n  color.r = texture2D(tDiffuse, vec2(uv.x + uRGB.x, uv.y + uRGB.y)).r;\n  color.g = texture2D(tDiffuse, uv).g;\n  color.b = texture2D(tDiffuse, vec2(uv.x - uRGB.x, uv.y - uRGB.y)).b;\n\n  float opacity = texture2D(tDiffuse, uv).a;\n\n  gl_FragColor = vec4(color, opacity);\n}\n",
                    vertexShader: "#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
                },
                this.rgbPass = new $.ShaderPass(this.rgb),
                this.rgbPass.renderToScreen = !0,
                this.composer.addPass(this.renderPass),
                this.composer.addPass(this.rgbPass)
            }
        }, {
            key: "onPreloadModel",
            value: function(t) {
                var e = this
                  , n = t.asset
                  , r = t.uid;
                n.traverse((function(t) {
                    t.material = e.material
                }
                )),
                n.uid = r,
                this.models.push(n)
            }
        }, {
            key: "onPreloadTexture",
            value: function(t) {
                var e = t.asset;
                e.generateMipmaps = !1,
                e.minFilter = Y.LinearFilter,
                e.needsUpdate = !0,
                this.renderer.initTexture(e, 0),
                this.textures.push(e)
            }
        }, {
            key: "onPreloadComplete",
            value: function() {}
        }, {
            key: "show",
            value: (a = ia(regeneratorRuntime.mark((function t(e) {
                var n, r = this;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            if ("about" === e && (this.page = new qi({
                                material: this.material,
                                models: this.models,
                                scene: this.scene,
                                sizes: this.sizes
                            })),
                            "home" === e && (this.page = new go({
                                material: this.material,
                                models: this.models,
                                scene: this.scene,
                                sizes: this.sizes
                            })),
                            "project" === e && (this.page = new ko({
                                scene: this.scene,
                                sizes: this.sizes,
                                template: this.template,
                                textures: this.textures
                            })),
                            "work" === e && (this.page = new ea({
                                scene: this.scene,
                                sizes: this.sizes,
                                textures: this.textures
                            })),
                            this.template = e,
                            !this.transition) {
                                t.next = 9;
                                break
                            }
                            return t.next = 8,
                            this.transition.hide(this.page);
                        case 8:
                            n = function() {
                                r.scene.remove(r.transition),
                                r.transition = null
                            }
                            ;
                        case 9:
                            return t.abrupt("return", this.page ? this.page.show(n) : Promise.resolve());
                        case 10:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function(t) {
                return a.apply(this, arguments)
            }
            )
        }, {
            key: "hide",
            value: (o = ia(regeneratorRuntime.mark((function t(e) {
                var n;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            if (n = "work" === this.template && "project" === e,
                            !this.page) {
                                t.next = 4;
                                break
                            }
                            return t.next = 4,
                            this.page.hide(e);
                        case 4:
                            return n && (this.transition = new Uo({
                                page: this.page,
                                sizes: this.sizes
                            }),
                            this.scene.add(this.transition)),
                            t.abrupt("return", Promise.resolve());
                        case 6:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function(t) {
                return o.apply(this, arguments)
            }
            )
        }, {
            key: "onTouchDown",
            value: function(t) {
                this.page && this.page.onTouchDown && this.page.onTouchDown(t),
                this.intersected && (this.intersectedSelected = this.intersected),
                this.mouse.previous.x = t.x,
                this.mouse.previous.y = t.y
            }
        }, {
            key: "onTouchMove",
            value: function(t) {
                if (this.mouse.current.x = t.x,
                this.mouse.current.y = t.y,
                this.mouse.raycast.x = t.x / window.innerWidth * 2 - 1,
                this.mouse.raycast.y = -t.y / window.innerHeight * 2 + 1,
                this.page && this.page.onTouchMove && this.page.onTouchMove(t),
                this.page && this.page.raycasters) {
                    this.raycaster.setFromCamera(this.mouse.raycast, this.camera);
                    var e = this.raycaster.intersectObjects(this.page.raycasters);
                    if (e.length) {
                        if (this.intersected !== e[0].object) {
                            if (this.intersected && this.intersected.onLeave(),
                            this.intersected = X()(e).object,
                            !this.intersected)
                                return;
                            this.intersected.onEnter()
                        }
                    } else
                        this.intersected && this.intersected.onLeave(),
                        this.intersected = null
                }
            }
        }, {
            key: "onTouchUp",
            value: function(t) {
                this.page && this.page.onTouchUp && this.page.onTouchUp(t);
                var e = W()(this.mouse.current.x, this.mouse.previous.x - 20, this.mouse.previous.x + 20)
                  , n = W()(this.mouse.current.y, this.mouse.previous.y - 20, this.mouse.previous.y + 20);
                this.intersectedSelected && e && n && this.intersectedSelected.onClick(),
                this.intersected = null,
                this.intersectedSelected = null
            }
        }, {
            key: "onWheel",
            value: function(t) {
                this.page && this.page.onWheel && this.page.onWheel(t)
            }
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.size;
                this.sizes.screen = {
                    height: window.innerHeight,
                    width: window.innerWidth
                },
                this.camera.aspect = this.sizes.screen.width / this.sizes.screen.height,
                this.camera.updateProjectionMatrix();
                var n = Y.Math.degToRad(this.camera.fov)
                  , r = 2 * Math.tan(n / 2) * this.camera.position.z
                  , i = r * this.camera.aspect;
                this.sizes.ratio = e / 10,
                this.sizes.environment = {
                    height: r,
                    width: i
                },
                this.page && this.page.onResize({
                    sizes: this.sizes
                }),
                this.renderer.setSize(this.sizes.screen.width, this.sizes.screen.height)
            }
        }, {
            key: "onResizeHeight",
            value: function(t) {
                this.page && this.page.onResizeHeight({
                    height: t
                })
            }
        }, {
            key: "update",
            value: function(t) {
                this.page && this.page.update && this.page.update(t),
                window.APP.wheel && (this.rgbPass.uniforms.uRGB.value = [0, window.APP.wheel.wheel]),
                this.composer.render()
            }
        }]) && oa(n.prototype, r),
        i && oa(n, i),
        e
    }(H.a)
      , la = n(29);
    function ha(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    var fa = function() {
        function t(e) {
            var n = e.responsive;
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t),
            this.bullet = {
                position: {
                    x: window.innerWidth / 2,
                    y: window.innerHeight / 2
                },
                scale: {
                    target: 0,
                    value: 0
                }
            },
            this.circle = {
                position: {
                    x: window.innerWidth / 2,
                    y: window.innerHeight / 2
                },
                scale: {
                    target: 0,
                    value: 0
                }
            },
            this.triangles = {
                scale: {
                    target: 0,
                    value: 0
                }
            },
            this.mouse = {
                x: window.innerWidth / 2,
                y: window.innerHeight / 2
            },
            this.ratio = n.scale,
            A()(this),
            this.createElement(),
            this.createCanvas(),
            this.createFeedback(),
            this.createSpinner()
        }
        var e, n, r;
        return e = t,
        (n = [{
            key: "createElement",
            value: function() {
                this.element = document.createElement("div"),
                this.element.className = "cursor",
                document.body.appendChild(this.element)
            }
        }, {
            key: "createCanvas",
            value: function() {
                this.canvas = document.createElement("canvas"),
                this.canvas.className = "cursor__canvas",
                this.canvas.height = window.innerHeight,
                this.canvas.width = window.innerWidth,
                this.context = this.canvas.getContext("2d"),
                this.element.appendChild(this.canvas)
            }
        }, {
            key: "createFeedback",
            value: function() {
                this.feedbackElement = document.createElement("span"),
                this.feedbackElement.className = "cursor__text",
                this.feedback = document.createElement("span"),
                this.feedbackElement.appendChild(this.feedback),
                this.element.appendChild(this.feedbackElement),
                _i.set(this.feedback, {
                    y: "100%"
                })
            }
        }, {
            key: "createSpinner",
            value: function() {
                this.feedbackSpinner = document.createElement("span"),
                this.feedbackSpinner.className = "cursor__spinner",
                this.feedbackSpinner.innerHTML = '\n      <svg class="cursor__spinner__media" viewBox="0 0 50 50">\n        <circle class="cursor__spinner__path" cx="25" cy="25" r="20" fill="none" stroke-width="2"></circle>\n      </svg>\n    ',
                this.element.appendChild(this.feedbackSpinner)
            }
        }, {
            key: "onLinkEnter",
            value: function(t) {
                var e = t.target;
                if (!this.isDown) {
                    var n = void 0 !== e.dataset.linkDrag
                      , r = void 0 !== e.dataset.linkMagnetic;
                    n && (this.bullet.scale.target = 0,
                    this.triangles.scale.target = 1),
                    r && (this.magnetic = e.querySelector("[data-link-magnetic-element]"),
                    this.circle.scale.target = this.magnetic.clientWidth / 2 + 20 * this.ratio)
                }
            }
        }, {
            key: "onLinkMove",
            value: function(t) {
                var e = t.clientX
                  , n = t.clientY
                  , r = t.target;
                if (!this.isDown) {
                    if (this.magnetic) {
                        var i = this.magnetic.clientHeight
                          , o = this.magnetic.clientWidth
                          , a = r.getBoundingClientRect()
                          , s = (e - a.left) / o - .5
                          , u = (n - a.top) / i - .5;
                        _i.to(this.magnetic, .3, {
                            x: s * o * .75,
                            y: u * i * .75
                        })
                    }
                    void 0 !== r.dataset.linkText && this.feedbackText !== r && (this.feedbackText = r,
                    _i.to(this.feedback, {
                        duration: .4,
                        y: "0%"
                    })),
                    this.feedbackText && (this.bullet.scale.target = 0,
                    this.circle.scale.target = 60 * this.ratio,
                    this.triangles.scale.target = 0,
                    this.feedback.innerHTML = this.feedbackText.getAttribute("data-link-text"))
                }
            }
        }, {
            key: "onLinkLeave",
            value: function(t) {
                t.target,
                this.isDown || (this.magnetic && (_i.to(this.magnetic, .3, {
                    x: 0,
                    y: 0
                }),
                this.magnetic = null),
                _i.to(this.feedback, {
                    duration: .4,
                    y: "100%"
                }),
                this.feedbackText = null,
                this.bullet.scale.target = 3,
                this.circle.scale.target = 30,
                this.triangles.scale.target = 0)
            }
        }, {
            key: "onTouchDown",
            value: function() {
                this.isDown = !0
            }
        }, {
            key: "onTouchMove",
            value: function(t) {
                var e = t.x
                  , n = t.y;
                this.mouse.x = e,
                this.mouse.y = n
            }
        }, {
            key: "onTouchUp",
            value: function() {
                this.isDown = !1
            }
        }, {
            key: "onResize",
            value: function(t) {
                var e = t.scale;
                this.ratio = e,
                this.canvas.height = window.innerHeight,
                this.canvas.width = window.innerWidth
            }
        }, {
            key: "onPreloadComplete",
            value: function() {
                this.bullet.scale.target = 3,
                this.circle.scale.target = 30,
                this.triangles.scale.target = 0,
                _i.to(this.element, 1, {
                    autoAlpha: 1
                }),
                this.addEventListeners()
            }
        }, {
            key: "onNavigationStart",
            value: function() {
                _i.to(this.feedback, {
                    duration: .4,
                    y: "100%"
                }),
                _i.to(this.feedbackSpinner, {
                    autoAlpha: 1,
                    duration: .2
                }),
                this.feedbackText = null,
                this.magnetic && _i.to(this.magnetic, .3, {
                    x: 0,
                    y: 0
                }),
                this.magnetic = null,
                this.removeEventListeners(),
                this.bullet.scale.target = 3,
                this.circle.scale.target = 30,
                this.triangles.scale.target = 0
            }
        }, {
            key: "onNavigationEnd",
            value: function() {
                var t = this;
                _i.to(this.feedbackSpinner, {
                    autoAlpha: 0,
                    duration: .4
                }),
                this.bullet.scale.target = 3,
                this.circle.scale.target = 30,
                this.triangles.scale.target = 0,
                window.requestAnimationFrame((function() {
                    t.addEventListeners()
                }
                ))
            }
        }, {
            key: "show",
            value: function() {
                _i.to(this.element, {
                    autoAlpha: 1,
                    duration: .4
                })
            }
        }, {
            key: "hide",
            value: function() {
                _i.to(this.element, {
                    autoAlpha: 0,
                    duration: .4
                })
            }
        }, {
            key: "addEventListeners",
            value: function() {
                var t = this;
                this.elements = document.querySelectorAll("[data-link]"),
                Object(la.each)(this.elements, (function(e) {
                    e.addEventListener("mouseenter", t.onLinkEnter, {
                        passive: !0
                    }),
                    e.addEventListener("mousemove", t.onLinkMove, {
                        passive: !0
                    }),
                    e.addEventListener("mouseleave", t.onLinkLeave, {
                        passive: !0
                    })
                }
                ))
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                var t = this;
                this.elements = document.querySelectorAll("[data-link]"),
                Object(la.each)(this.elements, (function(e) {
                    e.removeEventListener("mouseenter", t.onLinkEnter),
                    e.removeEventListener("mousemove", t.onLinkMove),
                    e.removeEventListener("mouseleave", t.onLinkLeave)
                }
                ))
            }
        }, {
            key: "update",
            value: function() {
                this.bullet.scale.value = _i.utils.interpolate(this.bullet.scale.value, this.bullet.scale.target, .33),
                this.circle.scale.value = _i.utils.interpolate(this.circle.scale.value, this.circle.scale.target, .33),
                this.triangles.scale.value = _i.utils.interpolate(this.triangles.scale.value, this.triangles.scale.target, .33),
                this.bullet.position.x = this.mouse.x,
                this.bullet.position.y = this.mouse.y;
                var t = this.mouse.x
                  , e = this.mouse.y
                  , n = this.magnetic;
                if (n) {
                    var r = n.getBoundingClientRect();
                    t = r.left + .5 * r.width,
                    e = r.top + .5 * r.height
                }
                this.circle.position.x = _i.utils.interpolate(this.circle.position.x, t, .33),
                this.circle.position.y = _i.utils.interpolate(this.circle.position.y, e, .33),
                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height),
                this.context.beginPath(),
                this.context.fillStyle = "#fff",
                this.context.arc(this.bullet.position.x, this.bullet.position.y, this.bullet.scale.value, 0, 2 * Math.PI),
                this.context.fill(),
                this.context.beginPath(),
                this.context.fillStyle = "transparent",
                this.context.strokeStyle = "#fff",
                this.context.lineWidth = 1,
                this.context.arc(this.circle.position.x, this.circle.position.y, this.circle.scale.value, 0, 2 * Math.PI),
                this.context.stroke();
                var i = Math.sqrt(3) / 2 * 10
                  , o = _i.utils.mapRange(0, 1, 0, 40, this.triangles.scale.value);
                this.context.save(),
                this.context.beginPath(),
                this.context.fillStyle = "rgba(255, 255, 255, ".concat(this.triangles.scale.value, ")"),
                this.context.translate(this.circle.position.x - o, this.circle.position.y),
                this.context.moveTo(-5, 0),
                this.context.lineTo(0, i / 2),
                this.context.lineTo(0, -i / 2),
                this.context.lineTo(-5, 0),
                this.context.fill(),
                this.context.closePath(),
                this.context.restore(),
                this.context.save(),
                this.context.beginPath(),
                this.context.fillStyle = "rgba(255, 255, 255, ".concat(this.triangles.scale.value, ")"),
                this.context.translate(this.circle.position.x + o, this.circle.position.y),
                this.context.rotate(Math.PI),
                this.context.moveTo(-5, 0),
                this.context.lineTo(0, i / 2),
                this.context.lineTo(0, -i / 2),
                this.context.lineTo(-5, 0),
                this.context.fill(),
                this.context.closePath(),
                this.context.restore(),
                this.feedbackText && _i.set(this.feedbackElement, {
                    x: this.circle.position.x,
                    xPercent: -50,
                    y: this.circle.position.y,
                    yPercent: -50
                }),
                this.feedbackSpinner && _i.set(this.feedbackSpinner, {
                    x: this.circle.position.x,
                    xPercent: -50,
                    y: this.circle.position.y,
                    yPercent: -50
                })
            }
        }]) && ha(e.prototype, n),
        r && ha(e, r),
        t
    }();
    function pa(t) {
        return (pa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function da(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function ma(t) {
        return (ma = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function va(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function ga(t, e) {
        return (ga = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var ya = function(t) {
        function e(t) {
            var n, r = t.classes, i = t.element, o = t.elements, a = t.elementsForceArray;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            n = function(t, e) {
                return !e || "object" !== pa(e) && "function" != typeof e ? va(t) : e
            }(this, ma(e).call(this)),
            A()(va(n)),
            n.classes = r,
            n.element = i instanceof window.HTMLElement ? i : document.querySelector(i),
            n.elements = {},
            R()(o, (function(t, e) {
                t instanceof window.HTMLElement || t instanceof window.NodeList || Array.isArray(t) ? n.elements[e] = t : (n.elements[e] = n.element.querySelectorAll(t),
                0 === n.elements[e].length ? n.elements[e] = null : 1 === n.elements[e].length && (n.elements[e] = n.element.querySelector(t)))
            }
            )),
            R()(a, (function(t, e) {
                n.elements[t] = [n.elements[t]]
            }
            )),
            n.addEventListeners(),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && ga(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "addEventListeners",
            value: function() {}
        }, {
            key: "removeEventListeners",
            value: function() {}
        }, {
            key: "destroy",
            value: function() {
                this.removeEventListeners()
            }
        }]) && da(n.prototype, r),
        i && da(n, i),
        e
    }(H.a);
    function ba(t) {
        return (ba = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function xa(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function _a(t, e) {
        return !e || "object" !== ba(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function wa(t) {
        return (wa = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Ma(t, e) {
        return (Ma = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Sa = function(t) {
        function e() {
            var t;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (t = _a(this, wa(e).call(this, {
                classes: {
                    active: "menu--active",
                    buttonActive: "navigation__button--active"
                },
                element: ".menu",
                elements: {
                    background: ".menu__background",
                    links: ".menu__link",
                    button: document.querySelector(".navigation__button")
                }
            }))).timeline = _i.timeline({
                paused: !0
            }),
            t.timeline.set(t.element, {
                autoAlpha: 1
            }),
            t.timeline.fromTo(t.elements.background, {
                scaleY: 0,
                transformOrigin: "0 0"
            }, {
                duration: 1,
                ease: "expo.inOut",
                scaleY: 1,
                transformOrigin: "0 0"
            }),
            t.timeline.fromTo(t.elements.links, {
                y: "100%"
            }, {
                duration: 1,
                ease: "expo.out",
                stagger: .1,
                y: "0%"
            }, "-=0.5"),
            t
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Ma(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "show",
            value: function() {
                this.elements.button.classList.add(this.classes.buttonActive),
                this.element.classList.add(this.classes.active),
                this.timeline.play()
            }
        }, {
            key: "hide",
            value: function() {
                this.elements.button.classList.remove(this.classes.buttonActive),
                this.element.classList.remove(this.classes.active),
                this.timeline.reverse()
            }
        }, {
            key: "onToggle",
            value: function() {
                this.element.classList.contains(this.classes.active) ? this.hide() : this.show()
            }
        }, {
            key: "addEventListeners",
            value: function() {
                this.elements.button.addEventListener("click", this.onToggle, {
                    passive: !0
                })
            }
        }]) && xa(n.prototype, r),
        i && xa(n, i),
        e
    }(ya);
    function Ea(t) {
        return (Ea = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Ta(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Aa(t, e) {
        return !e || "object" !== Ea(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Pa(t) {
        return (Pa = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function La(t, e) {
        return (La = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Oa = function(t) {
        function e() {
            var t;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (t = Aa(this, Pa(e).call(this, {
                element: ".navigation",
                elements: {
                    links: ".navigation__logo__wrapper, .navigation__link__text__wrapper",
                    button: ".navigation__button"
                }
            }))).timeline = _i.timeline({
                delay: .5,
                paused: !0
            }),
            t.timeline.fromTo(t.elements.links, {
                y: "120%"
            }, {
                duration: 1.5,
                ease: "expo.out",
                y: "0%"
            }),
            t.timeline.fromTo(t.elements.button, {
                autoAlpha: 0,
                scale: 1.1
            }, {
                autoAlpha: 1,
                duration: 1.5,
                ease: "expo.out",
                scale: 1
            }, 0),
            t
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && La(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "show",
            value: function() {
                this.timeline.play()
            }
        }]) && Ta(n.prototype, r),
        i && Ta(n, i),
        e
    }(ya)
      , Ra = function() {
        this.logging = {
            enabled: !1,
            debug: !1
        };
        var t = this;
        this.callbacks = {
            onProgress: function(e) {
                t._onProgress(e)
            },
            onAssetAvailable: function(e) {
                t._onAssetAvailable(e)
            },
            onError: function(e) {
                t._onError(e)
            },
            onLoad: function(e, n) {
                t._onLoad(e, n)
            }
        },
        this.contentRef = null,
        this.legacyMode = !1,
        this.materials = {},
        this.materialPerSmoothingGroup = !1,
        this.useOAsMesh = !1,
        this.useIndices = !1,
        this.disregardNormals = !1,
        this.vertices = [],
        this.colors = [],
        this.normals = [],
        this.uvs = [],
        this.rawMesh = {
            objectName: "",
            groupName: "",
            activeMtlName: "",
            mtllibName: "",
            faceType: -1,
            subGroups: [],
            subGroupInUse: null,
            smoothingGroup: {
                splitMaterials: !1,
                normalized: -1,
                real: -1
            },
            counts: {
                doubleIndicesCount: 0,
                faceCount: 0,
                mtlCount: 0,
                smoothingGroupCount: 0
            }
        },
        this.inputObjectCount = 1,
        this.outputObjectCount = 1,
        this.globalCounts = {
            vertices: 0,
            faces: 0,
            doubleIndicesCount: 0,
            lineByte: 0,
            currentByte: 0,
            totalBytes: 0
        }
    };
    Ra.prototype = {
        constructor: Ra,
        _resetRawMesh: function() {
            this.rawMesh.subGroups = [],
            this.rawMesh.subGroupInUse = null,
            this.rawMesh.smoothingGroup.normalized = -1,
            this.rawMesh.smoothingGroup.real = -1,
            this._pushSmoothingGroup(1),
            this.rawMesh.counts.doubleIndicesCount = 0,
            this.rawMesh.counts.faceCount = 0,
            this.rawMesh.counts.mtlCount = 0,
            this.rawMesh.counts.smoothingGroupCount = 0
        },
        setMaterialPerSmoothingGroup: function(t) {
            return this.materialPerSmoothingGroup = !0 === t,
            this
        },
        setUseOAsMesh: function(t) {
            return this.useOAsMesh = !0 === t,
            this
        },
        setUseIndices: function(t) {
            return this.useIndices = !0 === t,
            this
        },
        setDisregardNormals: function(t) {
            return this.disregardNormals = !0 === t,
            this
        },
        setMaterials: function(t) {
            this.materials = Object.assign({}, t)
        },
        setCallbackOnAssetAvailable: function(t) {
            return null != t && t instanceof Function && (this.callbacks.onAssetAvailable = t),
            this
        },
        setCallbackOnProgress: function(t) {
            return null != t && t instanceof Function && (this.callbacks.onProgress = t),
            this
        },
        setCallbackOnError: function(t) {
            return null != t && t instanceof Function && (this.callbacks.onError = t),
            this
        },
        setCallbackOnLoad: function(t) {
            return null != t && t instanceof Function && (this.callbacks.onLoad = t),
            this
        },
        _onProgress: function(t) {
            var e = t || "";
            this.logging.enabled && this.logging.debug && console.log(e)
        },
        _onError: function(t) {
            this.logging.enabled && this.logging.debug && console.error(t)
        },
        _onAssetAvailable: function(t) {
            var e = "OBJLoader2Parser does not provide implementation for onAssetAvailable. Aborting...";
            throw this.callbacks.onError(e),
            e
        },
        _onLoad: function(t, e) {
            console.log("You reached parser default onLoad callback: " + e)
        },
        setLogging: function(t, e) {
            return this.logging.enabled = !0 === t,
            this.logging.debug = !0 === e,
            this
        },
        _configure: function() {
            if (this._pushSmoothingGroup(1),
            this.logging.enabled) {
                var t = Object.keys(this.materials)
                  , e = "OBJLoader.Parser configuration:" + (t.length > 0 ? "\n\tmaterialNames:\n\t\t- " + t.join("\n\t\t- ") : "\n\tmaterialNames: None") + "\n\tmaterialPerSmoothingGroup: " + this.materialPerSmoothingGroup + "\n\tuseOAsMesh: " + this.useOAsMesh + "\n\tuseIndices: " + this.useIndices + "\n\tdisregardNormals: " + this.disregardNormals;
                e += "\n\tcallbacks.onProgress: " + this.callbacks.onProgress.name,
                e += "\n\tcallbacks.onAssetAvailable: " + this.callbacks.onAssetAvailable.name,
                e += "\n\tcallbacks.onError: " + this.callbacks.onError.name,
                console.info(e)
            }
        },
        execute: function(t) {
            this.logging.enabled && console.time("OBJLoader2Parser.execute"),
            this._configure();
            var e = new Uint8Array(t);
            this.contentRef = e;
            var n = e.byteLength;
            this.globalCounts.totalBytes = n;
            for (var r, i = new Array(128), o = "", a = 0, s = 0, u = 0; u < n; u++)
                switch (r = e[u]) {
                case 32:
                    o.length > 0 && (i[a++] = o),
                    o = "";
                    break;
                case 47:
                    o.length > 0 && (i[a++] = o),
                    s++,
                    o = "";
                    break;
                case 10:
                    o.length > 0 && (i[a++] = o),
                    o = "",
                    this.globalCounts.lineByte = this.globalCounts.currentByte,
                    this.globalCounts.currentByte = u,
                    this._processLine(i, a, s),
                    a = 0,
                    s = 0;
                    break;
                case 13:
                    break;
                default:
                    o += String.fromCharCode(r)
                }
            this._finalizeParsing(),
            this.logging.enabled && console.timeEnd("OBJLoader2Parser.execute")
        },
        executeLegacy: function(t) {
            this.logging.enabled && console.time("OBJLoader2Parser.executeLegacy"),
            this._configure(),
            this.legacyMode = !0,
            this.contentRef = t;
            var e = t.length;
            this.globalCounts.totalBytes = e;
            for (var n, r = new Array(128), i = "", o = 0, a = 0, s = 0; s < e; s++)
                switch (n = t[s]) {
                case " ":
                    i.length > 0 && (r[o++] = i),
                    i = "";
                    break;
                case "/":
                    i.length > 0 && (r[o++] = i),
                    a++,
                    i = "";
                    break;
                case "\n":
                    i.length > 0 && (r[o++] = i),
                    i = "",
                    this.globalCounts.lineByte = this.globalCounts.currentByte,
                    this.globalCounts.currentByte = s,
                    this._processLine(r, o, a),
                    o = 0,
                    a = 0;
                    break;
                case "\r":
                    break;
                default:
                    i += n
                }
            this._finalizeParsing(),
            this.logging.enabled && console.timeEnd("OBJLoader2Parser.executeLegacy")
        },
        _processLine: function(t, e, n) {
            if (!(e < 1)) {
                var r, i, o, a, s = function(t, e, n, r) {
                    var i = "";
                    if (r > n) {
                        var o;
                        if (e)
                            for (o = n; o < r; o++)
                                i += t[o];
                        else
                            for (o = n; o < r; o++)
                                i += String.fromCharCode(t[o]);
                        i = i.trim()
                    }
                    return i
                };
                switch (a = t[0]) {
                case "v":
                    this.vertices.push(parseFloat(t[1])),
                    this.vertices.push(parseFloat(t[2])),
                    this.vertices.push(parseFloat(t[3])),
                    e > 4 && (this.colors.push(parseFloat(t[4])),
                    this.colors.push(parseFloat(t[5])),
                    this.colors.push(parseFloat(t[6])));
                    break;
                case "vt":
                    this.uvs.push(parseFloat(t[1])),
                    this.uvs.push(parseFloat(t[2]));
                    break;
                case "vn":
                    this.normals.push(parseFloat(t[1])),
                    this.normals.push(parseFloat(t[2])),
                    this.normals.push(parseFloat(t[3]));
                    break;
                case "f":
                    if (r = e - 1,
                    0 === n)
                        for (this._checkFaceType(0),
                        o = 2,
                        i = r; o < i; o++)
                            this._buildFace(t[1]),
                            this._buildFace(t[o]),
                            this._buildFace(t[o + 1]);
                    else if (r === 2 * n)
                        for (this._checkFaceType(1),
                        o = 3,
                        i = r - 2; o < i; o += 2)
                            this._buildFace(t[1], t[2]),
                            this._buildFace(t[o], t[o + 1]),
                            this._buildFace(t[o + 2], t[o + 3]);
                    else if (2 * r == 3 * n)
                        for (this._checkFaceType(2),
                        o = 4,
                        i = r - 3; o < i; o += 3)
                            this._buildFace(t[1], t[2], t[3]),
                            this._buildFace(t[o], t[o + 1], t[o + 2]),
                            this._buildFace(t[o + 3], t[o + 4], t[o + 5]);
                    else
                        for (this._checkFaceType(3),
                        o = 3,
                        i = r - 2; o < i; o += 2)
                            this._buildFace(t[1], void 0, t[2]),
                            this._buildFace(t[o], void 0, t[o + 1]),
                            this._buildFace(t[o + 2], void 0, t[o + 3]);
                    break;
                case "l":
                case "p":
                    if ((r = e - 1) === 2 * n)
                        for (this._checkFaceType(4),
                        o = 1,
                        i = r + 1; o < i; o += 2)
                            this._buildFace(t[o], t[o + 1]);
                    else
                        for (this._checkFaceType("l" === a ? 5 : 6),
                        o = 1,
                        i = r + 1; o < i; o++)
                            this._buildFace(t[o]);
                    break;
                case "s":
                    this._pushSmoothingGroup(t[1]);
                    break;
                case "g":
                    this._processCompletedMesh(),
                    this.rawMesh.groupName = s(this.contentRef, this.legacyMode, this.globalCounts.lineByte + 2, this.globalCounts.currentByte);
                    break;
                case "o":
                    this.useOAsMesh && this._processCompletedMesh(),
                    this.rawMesh.objectName = s(this.contentRef, this.legacyMode, this.globalCounts.lineByte + 2, this.globalCounts.currentByte);
                    break;
                case "mtllib":
                    this.rawMesh.mtllibName = s(this.contentRef, this.legacyMode, this.globalCounts.lineByte + 7, this.globalCounts.currentByte);
                    break;
                case "usemtl":
                    var u = s(this.contentRef, this.legacyMode, this.globalCounts.lineByte + 7, this.globalCounts.currentByte);
                    "" !== u && this.rawMesh.activeMtlName !== u && (this.rawMesh.activeMtlName = u,
                    this.rawMesh.counts.mtlCount++,
                    this._checkSubGroup())
                }
            }
        },
        _pushSmoothingGroup: function(t) {
            var e = parseInt(t);
            isNaN(e) && (e = "off" === t ? 0 : 1);
            var n = this.rawMesh.smoothingGroup.normalized;
            this.rawMesh.smoothingGroup.normalized = this.rawMesh.smoothingGroup.splitMaterials ? e : 0 === e ? 0 : 1,
            this.rawMesh.smoothingGroup.real = e,
            n !== e && (this.rawMesh.counts.smoothingGroupCount++,
            this._checkSubGroup())
        },
        _checkFaceType: function(t) {
            this.rawMesh.faceType !== t && (this._processCompletedMesh(),
            this.rawMesh.faceType = t,
            this._checkSubGroup())
        },
        _checkSubGroup: function() {
            var t = this.rawMesh.activeMtlName + "|" + this.rawMesh.smoothingGroup.normalized;
            this.rawMesh.subGroupInUse = this.rawMesh.subGroups[t],
            void 0 !== this.rawMesh.subGroupInUse && null !== this.rawMesh.subGroupInUse || (this.rawMesh.subGroupInUse = {
                index: t,
                objectName: this.rawMesh.objectName,
                groupName: this.rawMesh.groupName,
                materialName: this.rawMesh.activeMtlName,
                smoothingGroup: this.rawMesh.smoothingGroup.normalized,
                vertices: [],
                indexMappingsCount: 0,
                indexMappings: [],
                indices: [],
                colors: [],
                uvs: [],
                normals: []
            },
            this.rawMesh.subGroups[t] = this.rawMesh.subGroupInUse)
        },
        _buildFace: function(t, e, n) {
            var r = this.rawMesh.subGroupInUse
              , i = this
              , o = function() {
                var o = parseInt(t)
                  , a = 3 * (o > 0 ? o - 1 : o + i.vertices.length / 3)
                  , s = i.colors.length > 0 ? a : null
                  , u = r.vertices;
                if (u.push(i.vertices[a++]),
                u.push(i.vertices[a++]),
                u.push(i.vertices[a]),
                null !== s) {
                    var c = r.colors;
                    c.push(i.colors[s++]),
                    c.push(i.colors[s++]),
                    c.push(i.colors[s])
                }
                if (e) {
                    var l = parseInt(e)
                      , h = 2 * (l > 0 ? l - 1 : l + i.uvs.length / 2)
                      , f = r.uvs;
                    f.push(i.uvs[h++]),
                    f.push(i.uvs[h])
                }
                if (n && !i.disregardNormals) {
                    var p = parseInt(n)
                      , d = 3 * (p > 0 ? p - 1 : p + i.normals.length / 3)
                      , m = r.normals;
                    m.push(i.normals[d++]),
                    m.push(i.normals[d++]),
                    m.push(i.normals[d])
                }
            };
            if (this.useIndices) {
                this.disregardNormals && (n = void 0);
                var a = t + (e ? "_" + e : "_n") + (n ? "_" + n : "_n")
                  , s = r.indexMappings[a];
                null == s ? (s = this.rawMesh.subGroupInUse.vertices.length / 3,
                o(),
                r.indexMappings[a] = s,
                r.indexMappingsCount++) : this.rawMesh.counts.doubleIndicesCount++,
                r.indices.push(s)
            } else
                o();
            this.rawMesh.counts.faceCount++
        },
        _createRawMeshReport: function(t) {
            return "Input Object number: " + t + "\n\tObject name: " + this.rawMesh.objectName + "\n\tGroup name: " + this.rawMesh.groupName + "\n\tMtllib name: " + this.rawMesh.mtllibName + "\n\tVertex count: " + this.vertices.length / 3 + "\n\tNormal count: " + this.normals.length / 3 + "\n\tUV count: " + this.uvs.length / 2 + "\n\tSmoothingGroup count: " + this.rawMesh.counts.smoothingGroupCount + "\n\tMaterial count: " + this.rawMesh.counts.mtlCount + "\n\tReal MeshOutputGroup count: " + this.rawMesh.subGroups.length
        },
        _finalizeRawMesh: function() {
            var t, e, n = [], r = 0, i = 0, o = 0, a = 0, s = 0, u = 0;
            for (var c in this.rawMesh.subGroups)
                if ((t = this.rawMesh.subGroups[c]).vertices.length > 0) {
                    if ((e = t.indices).length > 0 && i > 0)
                        for (var l = 0; l < e.length; l++)
                            e[l] = e[l] + i;
                    n.push(t),
                    r += t.vertices.length,
                    i += t.indexMappingsCount,
                    o += t.indices.length,
                    a += t.colors.length,
                    u += t.uvs.length,
                    s += t.normals.length
                }
            var h = null;
            return n.length > 0 && (h = {
                name: "" !== this.rawMesh.groupName ? this.rawMesh.groupName : this.rawMesh.objectName,
                subGroups: n,
                absoluteVertexCount: r,
                absoluteIndexCount: o,
                absoluteColorCount: a,
                absoluteNormalCount: s,
                absoluteUvCount: u,
                faceCount: this.rawMesh.counts.faceCount,
                doubleIndicesCount: this.rawMesh.counts.doubleIndicesCount
            }),
            h
        },
        _processCompletedMesh: function() {
            var t = this._finalizeRawMesh()
              , e = null !== t;
            if (e) {
                this.colors.length > 0 && this.colors.length !== this.vertices.length && this.callbacks.onError("Vertex Colors were detected, but vertex count and color count do not match!"),
                this.logging.enabled && this.logging.debug && console.debug(this._createRawMeshReport(this.inputObjectCount)),
                this.inputObjectCount++,
                this._buildMesh(t);
                var n = this.globalCounts.currentByte / this.globalCounts.totalBytes;
                this._onProgress("Completed [o: " + this.rawMesh.objectName + " g:" + this.rawMesh.groupName + "] Total progress: " + (100 * n).toFixed(2) + "%"),
                this._resetRawMesh()
            }
            return e
        },
        _buildMesh: function(t) {
            var e = t.subGroups
              , n = new Float32Array(t.absoluteVertexCount);
            this.globalCounts.vertices += t.absoluteVertexCount / 3,
            this.globalCounts.faces += t.faceCount,
            this.globalCounts.doubleIndicesCount += t.doubleIndicesCount;
            var r, i, o, a, s, u, c, l = t.absoluteIndexCount > 0 ? new Uint32Array(t.absoluteIndexCount) : null, h = t.absoluteColorCount > 0 ? new Float32Array(t.absoluteColorCount) : null, f = t.absoluteNormalCount > 0 ? new Float32Array(t.absoluteNormalCount) : null, p = t.absoluteUvCount > 0 ? new Float32Array(t.absoluteUvCount) : null, d = null !== h, m = [], v = e.length > 1, g = 0, y = [], b = [], x = 0, _ = 0, w = 0, M = 0, S = 0, E = 0, T = 0;
            for (var A in e)
                if (e.hasOwnProperty(A)) {
                    if (c = (r = e[A]).materialName,
                    u = this.rawMesh.faceType < 4 ? c + (d ? "_vertexColor" : "") + (0 === r.smoothingGroup ? "_flat" : "") : 6 === this.rawMesh.faceType ? "defaultPointMaterial" : "defaultLineMaterial",
                    a = this.materials[c],
                    s = this.materials[u],
                    null == a && null == s && (u = d ? "defaultVertexColorMaterial" : "defaultMaterial",
                    s = this.materials[u],
                    this.logging.enabled && console.info('object_group "' + r.objectName + "_" + r.groupName + '" was defined with unresolvable material "' + c + '"! Assigning "' + u + '".')),
                    null == s) {
                        var P = {
                            materialNameOrg: c,
                            materialName: u,
                            materialProperties: {
                                vertexColors: d ? 2 : 0,
                                flatShading: 0 === r.smoothingGroup
                            }
                        }
                          , L = {
                            cmd: "assetAvailable",
                            type: "material",
                            materials: {
                                materialCloneInstructions: P
                            }
                        };
                        this.callbacks.onAssetAvailable(L);
                        var O = this.materials[u];
                        null == O && (this.materials[u] = P)
                    }
                    if (v ? ((i = y[u]) || (i = g,
                    y[u] = g,
                    m.push(u),
                    g++),
                    o = {
                        start: E,
                        count: T = this.useIndices ? r.indices.length : r.vertices.length / 3,
                        index: i
                    },
                    b.push(o),
                    E += T) : m.push(u),
                    n.set(r.vertices, x),
                    x += r.vertices.length,
                    l && (l.set(r.indices, _),
                    _ += r.indices.length),
                    h && (h.set(r.colors, w),
                    w += r.colors.length),
                    f && (f.set(r.normals, M),
                    M += r.normals.length),
                    p && (p.set(r.uvs, S),
                    S += r.uvs.length),
                    this.logging.enabled && this.logging.debug) {
                        var R = null == i ? "" : "\n\t\tmaterialIndex: " + i
                          , C = "\tOutput Object no.: " + this.outputObjectCount + "\n\t\tgroupName: " + r.groupName + "\n\t\tIndex: " + r.index + "\n\t\tfaceType: " + this.rawMesh.faceType + "\n\t\tmaterialName: " + r.materialName + "\n\t\tsmoothingGroup: " + r.smoothingGroup + R + "\n\t\tobjectName: " + r.objectName + "\n\t\t#vertices: " + r.vertices.length / 3 + "\n\t\t#indices: " + r.indices.length + "\n\t\t#colors: " + r.colors.length / 3 + "\n\t\t#uvs: " + r.uvs.length / 2 + "\n\t\t#normals: " + r.normals.length / 3;
                        console.debug(C)
                    }
                }
            this.outputObjectCount++,
            this.callbacks.onAssetAvailable({
                cmd: "assetAvailable",
                type: "mesh",
                progress: {
                    numericalValue: this.globalCounts.currentByte / this.globalCounts.totalBytes
                },
                params: {
                    meshName: t.name
                },
                materials: {
                    multiMaterial: v,
                    materialNames: m,
                    materialGroups: b
                },
                buffers: {
                    vertices: n,
                    indices: l,
                    colors: h,
                    normals: f,
                    uvs: p
                },
                geometryType: this.rawMesh.faceType < 4 ? 0 : 6 === this.rawMesh.faceType ? 2 : 1
            }, [n.buffer], null !== l ? [l.buffer] : null, null !== h ? [h.buffer] : null, null !== f ? [f.buffer] : null, null !== p ? [p.buffer] : null)
        },
        _finalizeParsing: function() {
            if (this.logging.enabled && console.info("Global output object count: " + this.outputObjectCount),
            this._processCompletedMesh() && this.logging.enabled) {
                var t = "Overall counts: \n\tVertices: " + this.globalCounts.vertices + "\n\tFaces: " + this.globalCounts.faces + "\n\tMultiple definitions: " + this.globalCounts.doubleIndicesCount;
                console.info(t)
            }
        }
    };
    var Ca = function(t) {
        this.logging = {
            enabled: !1,
            debug: !1
        },
        this.callbacks = {
            onProgress: null,
            onMeshAlter: null
        },
        this.materialHandler = t
    };
    Ca.prototype = {
        constructor: Ca,
        setLogging: function(t, e) {
            this.logging.enabled = !0 === t,
            this.logging.debug = !0 === e
        },
        _setCallbacks: function(t, e) {
            null != t && t instanceof Function && (this.callbacks.onProgress = t),
            null != e && e instanceof Function && (this.callbacks.onMeshAlter = e)
        },
        buildMeshes: function(t) {
            var e, n, r, i = t.params.meshName, o = t.buffers, a = new Y.BufferGeometry;
            void 0 !== o.vertices && null !== o.vertices && a.setAttribute("position", new Y.BufferAttribute(new Float32Array(o.vertices),3)),
            void 0 !== o.indices && null !== o.indices && a.setIndex(new Y.BufferAttribute(new Uint32Array(o.indices),1)),
            void 0 !== o.colors && null !== o.colors && a.setAttribute("color", new Y.BufferAttribute(new Float32Array(o.colors),3)),
            void 0 !== o.normals && null !== o.normals ? a.setAttribute("normal", new Y.BufferAttribute(new Float32Array(o.normals),3)) : a.computeVertexNormals(),
            void 0 !== o.uvs && null !== o.uvs && a.setAttribute("uv", new Y.BufferAttribute(new Float32Array(o.uvs),2)),
            void 0 !== o.skinIndex && null !== o.skinIndex && a.setAttribute("skinIndex", new Y.BufferAttribute(new Uint16Array(o.skinIndex),4)),
            void 0 !== o.skinWeight && null !== o.skinWeight && a.setAttribute("skinWeight", new Y.BufferAttribute(new Float32Array(o.skinWeight),4));
            var s = t.materials.materialNames
              , u = t.materials.multiMaterial
              , c = [];
            for (r in s)
                n = s[r],
                e = this.materialHandler.getMaterial(n),
                u && c.push(e);
            if (u) {
                e = c;
                var l, h = t.materials.materialGroups;
                for (r in h)
                    l = h[r],
                    a.addGroup(l.start, l.count, l.index)
            }
            var f, p, d = [], m = !0, v = null === t.geometryType ? 0 : t.geometryType;
            if (this.callbacks.onMeshAlter && (p = this.callbacks.onMeshAlter({
                detail: {
                    meshName: i,
                    bufferGeometry: a,
                    material: e,
                    geometryType: v
                }
            })),
            p)
                if (p.isDisregardMesh())
                    m = !1;
                else if (p.providesAlteredMeshes()) {
                    for (var g in p.meshes)
                        d.push(p.meshes[g]);
                    m = !1
                }
            m && (t.computeBoundingSphere && a.computeBoundingSphere(),
            (f = 0 === v ? new Y.Mesh(a,e) : 1 === v ? new Y.LineSegments(a,e) : new Y.Points(a,e)).name = i,
            d.push(f));
            var y = t.params.meshName;
            if (d.length > 0) {
                var b = [];
                for (var x in d)
                    f = d[x],
                    b[x] = f.name;
                y += ": Adding mesh(es) (" + b.length + ": " + b + ") from input mesh: " + i,
                y += " (" + (100 * t.progress.numericalValue).toFixed(2) + "%)"
            } else
                y += ": Not adding mesh: " + i,
                y += " (" + (100 * t.progress.numericalValue).toFixed(2) + "%)";
            return this.callbacks.onProgress && this.callbacks.onProgress("progress", y, t.progress.numericalValue),
            d
        }
    };
    var Ia = function(t, e) {
        this.disregardMesh = !0 === t,
        this.alteredMesh = !0 === e,
        this.meshes = []
    };
    Ia.prototype = {
        constructor: Ia,
        addMesh: function(t) {
            this.meshes.push(t),
            this.alteredMesh = !0
        },
        isDisregardMesh: function() {
            return this.disregardMesh
        },
        providesAlteredMeshes: function() {
            return this.alteredMesh
        }
    };
    var Da = function() {
        this.logging = {
            enabled: !1,
            debug: !1
        },
        this.callbacks = {
            onLoadMaterials: null
        },
        this.materials = {}
    };
    Da.prototype = {
        constructor: Da,
        setLogging: function(t, e) {
            this.logging.enabled = !0 === t,
            this.logging.debug = !0 === e
        },
        _setCallbacks: function(t) {
            null != t && t instanceof Function && (this.callbacks.onLoadMaterials = t)
        },
        createDefaultMaterials: function(t) {
            var e = new Y.MeshStandardMaterial({
                color: 14479871
            });
            e.name = "defaultMaterial";
            var n = new Y.MeshStandardMaterial({
                color: 14479871
            });
            n.name = "defaultVertexColorMaterial",
            n.vertexColors = Y.VertexColors;
            var r = new Y.LineBasicMaterial;
            r.name = "defaultLineMaterial";
            var i = new Y.PointsMaterial({
                size: .1
            });
            i.name = "defaultPointMaterial";
            var o = {};
            o[e.name] = e,
            o[n.name] = n,
            o[r.name] = r,
            o[i.name] = i,
            this.addMaterials(o, t)
        },
        addPayloadMaterials: function(t) {
            var e, n, r = t.materials.materialCloneInstructions, i = {};
            if (null != r) {
                var o = r.materialNameOrg;
                o = null != o ? o : "";
                var a = this.materials[o];
                a ? (e = a.clone(),
                n = r.materialName,
                e.name = n,
                Object.assign(e, r.materialProperties),
                this.materials[n] = e,
                i[n] = e) : this.logging.enabled && console.info('Requested material "' + o + '" is not available!')
            }
            var s = t.materials.serializedMaterials;
            if (null != s && Object.keys(s).length > 0) {
                var u, c = new Y.MaterialLoader;
                for (n in s)
                    null != (u = s[n]) && (e = c.parse(u),
                    this.logging.enabled && console.info('De-serialized material with name "' + n + '" will be added.'),
                    this.materials[n] = e,
                    i[n] = e)
            }
            return s = t.materials.runtimeMaterials,
            i = this.addMaterials(s, !0, i)
        },
        addMaterials: function(t, e, n) {
            var r, i;
            if (null == n && (n = {}),
            null != t && Object.keys(t).length > 0)
                for (var o in t)
                    r = t[o],
                    (i = !0 === e) || (i = null == this.materials[o]),
                    i && (this.materials[o] = r,
                    n[o] = r),
                    this.logging.enabled && this.logging.debug && console.info('Material with name "' + o + '" was added.');
            return this.callbacks.onLoadMaterials && this.callbacks.onLoadMaterials(n),
            n
        },
        getMaterials: function() {
            return this.materials
        },
        getMaterial: function(t) {
            return this.materials[t]
        },
        getMaterialsJSON: function() {
            var t, e = {};
            for (var n in this.materials)
                t = this.materials[n],
                e[n] = t.toJSON();
            return e
        },
        clearMaterials: function() {
            this.materials = {}
        }
    };
    var ka = function(t) {
        Y.Loader.call(this, t),
        this.parser = new Ra,
        this.modelName = "",
        this.instanceNo = 0,
        this.baseObject3d = new Y.Object3D,
        this.materialHandler = new Da,
        this.meshReceiver = new Ca(this.materialHandler);
        var e = this;
        this.parser.setCallbackOnAssetAvailable((function(t) {
            e._onAssetAvailable(t)
        }
        ))
    };
    function Na(t) {
        return (Na = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function za(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function ja(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Fa(t) {
        return (Fa = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Ba(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function Ua(t, e) {
        return (Ua = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    ka.OBJLOADER2_VERSION = "3.1.1",
    console.info("Using OBJLoader2 version: " + ka.OBJLOADER2_VERSION),
    ka.prototype = Object.assign(Object.create(Y.Loader.prototype), {
        constructor: ka,
        setLogging: function(t, e) {
            return this.parser.setLogging(t, e),
            this
        },
        setMaterialPerSmoothingGroup: function(t) {
            return this.parser.setMaterialPerSmoothingGroup(t),
            this
        },
        setUseOAsMesh: function(t) {
            return this.parser.setUseOAsMesh(t),
            this
        },
        setUseIndices: function(t) {
            return this.parser.setUseIndices(t),
            this
        },
        setDisregardNormals: function(t) {
            return this.parser.setDisregardNormals(t),
            this
        },
        setModelName: function(t) {
            return this.modelName = t || this.modelName,
            this
        },
        setBaseObject3d: function(t) {
            return this.baseObject3d = null == t ? this.baseObject3d : t,
            this
        },
        addMaterials: function(t, e) {
            return this.materialHandler.addMaterials(t, e),
            this
        },
        setCallbackOnAssetAvailable: function(t) {
            return this.parser.setCallbackOnAssetAvailable(t),
            this
        },
        setCallbackOnProgress: function(t) {
            return this.parser.setCallbackOnProgress(t),
            this
        },
        setCallbackOnError: function(t) {
            return this.parser.setCallbackOnError(t),
            this
        },
        setCallbackOnLoad: function(t) {
            return this.parser.setCallbackOnLoad(t),
            this
        },
        setCallbackOnMeshAlter: function(t) {
            return this.meshReceiver._setCallbacks(this.parser.callbacks.onProgress, t),
            this
        },
        setCallbackOnLoadMaterials: function(t) {
            return this.materialHandler._setCallbacks(t),
            this
        },
        load: function(t, e, n, r, i) {
            var o = this;
            if (!(null != e && e instanceof Function)) {
                var a = "onLoad is not a function! Aborting...";
                throw o.parser.callbacks.onError(a),
                a
            }
            this.parser.setCallbackOnLoad(e),
            null != r && r instanceof Function || (r = function(t) {
                var e = t;
                t.currentTarget && null !== t.currentTarget.statusText && (e = "Error occurred while downloading!\nurl: " + t.currentTarget.responseURL + "\nstatus: " + t.currentTarget.statusText),
                o.parser.callbacks.onError(e)
            }
            ),
            t || r("An invalid url was provided. Unable to continue!");
            var s = new URL(t,window.location.href).href
              , u = s
              , c = s.split("/");
            if (c.length > 2) {
                u = c[c.length - 1];
                var l = c.slice(0, c.length - 1).join("/") + "/";
                null != l && (this.path = l)
            }
            if (null == n || !(n instanceof Function)) {
                var h = 0
                  , f = 0;
                n = function(e) {
                    if (e.lengthComputable && (f = e.loaded / e.total) > h) {
                        h = f;
                        var n = 'Download of "' + t + '": ' + (100 * f).toFixed(2) + "%";
                        o.parser.callbacks.onProgress("progressLoad", n, f)
                    }
                }
            }
            this.setCallbackOnMeshAlter(i);
            var p = new Y.FileLoader(this.manager);
            p.setPath(this.path || this.resourcePath),
            p.setResponseType("arraybuffer"),
            p.load(u, (function(t) {
                o.parser.callbacks.onLoad(o.parse(t), "OBJLoader2#load: Parsing completed")
            }
            ), n, r)
        },
        parse: function(t) {
            if (null == t)
                throw "Provided content is not a valid ArrayBuffer or String. Unable to continue parsing";
            return this.parser.logging.enabled && console.time("OBJLoader parse: " + this.modelName),
            this.materialHandler.createDefaultMaterials(!1),
            this.parser.setMaterials(this.materialHandler.getMaterials()),
            t instanceof ArrayBuffer || t instanceof Uint8Array ? (this.parser.logging.enabled && console.info("Parsing arrayBuffer..."),
            this.parser.execute(t)) : "string" == typeof t || t instanceof String ? (this.parser.logging.enabled && console.info("Parsing text..."),
            this.parser.executeLegacy(t)) : this.parser.callbacks.onError("Provided content was neither of type String nor Uint8Array! Aborting..."),
            this.parser.logging.enabled && console.timeEnd("OBJLoader parse: " + this.modelName),
            this.baseObject3d
        },
        _onAssetAvailable: function(t) {
            if ("assetAvailable" === t.cmd)
                if ("mesh" === t.type) {
                    var e = this.meshReceiver.buildMeshes(t)
                      , n = !0
                      , r = !1
                      , i = void 0;
                    try {
                        for (var o, a = e[Symbol.iterator](); !(n = (o = a.next()).done); n = !0) {
                            var s = o.value;
                            this.baseObject3d.add(s)
                        }
                    } catch (t) {
                        r = !0,
                        i = t
                    } finally {
                        try {
                            n || null == a.return || a.return()
                        } finally {
                            if (r)
                                throw i
                        }
                    }
                } else
                    "material" === t.type && this.materialHandler.addPayloadMaterials(t)
        }
    });
    var Ga = function(t) {
        function e(t) {
            var n, r = t.wheel;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = function(t, e) {
                return !e || "object" !== Na(e) && "function" != typeof e ? Ba(t) : e
            }(this, Fa(e).call(this, {
                element: ".preloader",
                elements: {}
            }))).assets = window.APP.PRELOADER,
            n.wheel = r,
            n.images = [],
            n.models = [],
            n.textureLoader = new Y.TextureLoader,
            A()(Ba(n)),
            n
        }
        var n, r, i, o, a;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Ua(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "load",
            value: function() {
                var t = this;
                Yi()(this.assets, (function(e) {
                    return "image" === e.category ? t.loadImage(e) : "model" === e.category ? t.loadObject(e) : void 0
                }
                ))
            }
        }, {
            key: "loadImage",
            value: function(t) {
                var e = this
                  , n = t.asset
                  , r = t.category
                  , i = t.uid;
                return new Promise((function(t) {
                    e.textureLoader.load(n, (function(n) {
                        n.category = r,
                        n.uid = i,
                        e.images.push(n),
                        e.onProgress({
                            asset: n,
                            category: r,
                            uid: i
                        }),
                        t()
                    }
                    ))
                }
                ))
            }
        }, {
            key: "loadObject",
            value: function(t) {
                var e = this
                  , n = t.asset
                  , r = t.category
                  , i = t.uid;
                return new Promise((function(t) {
                    e.objectLoader = new ka,
                    e.objectLoader.load(n, (function(t) {
                        e.models.push(t),
                        e.onProgress({
                            asset: t,
                            category: r,
                            uid: i
                        })
                    }
                    )),
                    t()
                }
                ))
            }
        }, {
            key: "onProgress",
            value: function(t) {
                var e = ((this.images.length + this.models.length) / this.assets.length * 100).toFixed();
                this.element.innerHTML = e,
                this.emit("load", t),
                e >= 100 && this.onComplete()
            }
        }, {
            key: "onComplete",
            value: (o = regeneratorRuntime.mark((function t() {
                var e = this;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return _i.to(this.element, {
                                autoAlpha: .4,
                                onComplete: function() {
                                    document.body.removeChild(e.element)
                                }
                            }),
                            t.next = 3,
                            this.wheel.hide();
                        case 3:
                            this.emit("complete", {
                                images: this.images,
                                models: this.models
                            });
                        case 4:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            )),
            a = function() {
                var t = this
                  , e = arguments;
                return new Promise((function(n, r) {
                    var i = o.apply(t, e);
                    function a(t) {
                        za(i, n, r, a, s, "next", t)
                    }
                    function s(t) {
                        za(i, n, r, a, s, "throw", t)
                    }
                    a(void 0)
                }
                ))
            }
            ,
            function() {
                return a.apply(this, arguments)
            }
            )
        }]) && ja(n.prototype, r),
        i && ja(n, i),
        e
    }(ya)
      , Ha = n(55)
      , Va = n.n(Ha);
    function Wa(t) {
        return (Wa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function qa(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Xa(t) {
        return (Xa = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Ya(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function Za(t, e) {
        return (Za = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Ja = function(t) {
        function e(t) {
            var n, r = t.responsive;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = function(t, e) {
                return !e || "object" !== Wa(e) && "function" != typeof e ? Ya(t) : e
            }(this, Xa(e).call(this, {
                classes: {
                    elementActive: "wheel--active",
                    elementLoaded: "wheel--loaded"
                },
                element: ".wheel",
                elements: {
                    icon: ".wheel__icon",
                    wrapper: ".wheel__wrapper"
                }
            }))).responsive = r,
            n.rotation = {
                target: 0,
                value: 0
            },
            n.wheel = 0,
            n.transform = Va()("transform"),
            A()(Ya(n)),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Za(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "hide",
            value: function() {
                var t = this;
                return new Promise((function(e) {
                    t.elements.icon.addEventListener("animationiteration", (function() {
                        t.element.classList.add(t.classes.elementLoaded)
                    }
                    ));
                    var n = window.innerWidth <= 767 ? 25 : 45;
                    _i.to(t.element, {
                        duration: 1.5,
                        ease: "expo.inOut",
                        onComplete: function() {
                            e()
                        },
                        scale: .5,
                        transformOrigin: "0% 100%",
                        x: n * t.responsive.scale,
                        xPercent: 0,
                        y: window.innerHeight - t.element.clientHeight - n * t.responsive.scale,
                        yPercent: 0
                    })
                }
                ))
            }
        }, {
            key: "onMouseEnter",
            value: function() {
                this.element.classList.add(this.classes.elementActive),
                window.APP.cursor && window.APP.cursor.hide()
            }
        }, {
            key: "onMouseLeave",
            value: function() {
                this.element.classList.remove(this.classes.elementActive),
                window.APP.cursor && window.APP.cursor.show()
            }
        }, {
            key: "onMouseWheel",
            value: function(t) {
                t.deltaY,
                this.wheel += .005
            }
        }, {
            key: "onResize",
            value: function() {
                if (this.element.classList.contains(this.classes.elementLoaded)) {
                    var t = window.innerWidth <= 767 ? 25 : 45;
                    _i.set(this.element, {
                        transformOrigin: "0% 100%",
                        x: t * this.responsive.scale,
                        xPercent: 0,
                        y: window.innerHeight - this.element.clientHeight - t * this.responsive.scale,
                        yPercent: 0
                    })
                } else
                    _i.set(this.element, {
                        x: .5 * window.innerWidth,
                        xPercent: -50,
                        y: .5 * window.innerHeight,
                        yPercent: -50
                    })
            }
        }, {
            key: "onWheel",
            value: function(t) {
                this.rotation.target += .01 * t
            }
        }, {
            key: "update",
            value: function() {
                if (this.rotation.value = _i.utils.interpolate(this.rotation.value, this.rotation.target, .1),
                this.elements.wrapper.style[this.transform] = "rotate(".concat(this.rotation.value, "deg)"),
                this.wheel *= .9,
                this.wheel < .001)
                    this.wheel = 0,
                    document.body.style.textShadow = "none";
                else {
                    var t = 100 * this.wheel;
                    document.body.style.textShadow = "0 -".concat(t, "px 0 #f00, -").concat(t, "px 0 0 #0f0, 0 ").concat(t, "px 0 #00f")
                }
            }
        }, {
            key: "addEventListeners",
            value: function() {
                this.element.addEventListener("mouseenter", this.onMouseEnter, {
                    passive: !0
                }),
                this.element.addEventListener("mouseleave", this.onMouseLeave, {
                    passive: !0
                }),
                this.element.addEventListener("mousewheel", this.onMouseWheel, {
                    passive: !0
                }),
                this.element.addEventListener("wheel", this.onMouseWheel, {
                    passive: !0
                })
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                this.element.removeEventListener("mouseenter", this.onMouseEnter),
                this.element.removeEventListener("mouseleave", this.onMouseLeave),
                this.element.removeEventListener("mousewheel", this.onMouseWheel),
                this.element.removeEventListener("wheel", this.onMouseWheel)
            }
        }]) && qa(n.prototype, r),
        i && qa(n, i),
        e
    }(ya)
      , Qa = n(185);
    function Ka(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function $a(t) {
        var e = t.element
          , n = t.expression
          , r = void 0 === n ? " " : n
          , i = t.append
          , o = void 0 === i || i
          , a = function(t, e) {
            var n = t.split("<br>")
              , r = [];
            return Object(la.each)(n, (function(t, n) {
                n > 0 && r.push("<br>"),
                r = r.concat(t.split(e));
                var i = !1
                  , o = ""
                  , a = [];
                Object(la.each)(r, (function(t) {
                    i || !t.includes("<a") && !t.includes("<strong") || (o = "",
                    i = !0),
                    i && (o += " ".concat(t)),
                    i && (t.includes("/a>") || t.includes("/strong>")) && (a.push(o),
                    o = ""),
                    i || "" !== o || a.push(t),
                    i && (t.includes("/a>") || t.includes("/strong>")) && (i = !1)
                }
                )),
                r = a
            }
            )),
            r
        }(e.innerHTML.toString().trim(), r)
          , s = "";
        Object(la.each)(a, (function(t) {
            if (t.indexOf("<br>") > -1) {
                var e = t.split("<br>");
                Object(la.each)(e, (function(t, e) {
                    s += e > 0 ? "<br>" + ts(t) : ts(t)
                }
                ))
            } else
                s += ts(t)
        }
        )),
        e.innerHTML = s;
        var u = e.querySelectorAll("span");
        return o && Object(la.each)(u, (function(t) {
            var e = 1 === t.textContent.length
              , n = "" !== t.innerHTML.trim()
              , r = "&" !== t.textContent
              , i = "-" !== t.textContent;
            e && n && r && i && (t.innerHTML = "".concat(t.textContent, "&nbsp;"))
        }
        )),
        u
    }
    function ts(t) {
        return "" === (t = t.trim()) || " " === t ? t : "<br>" === t ? "<br>" : "<span>".concat(t, "</span>") + (t.length > 1 ? " " : "")
    }
    function es(t) {
        return (es = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function ns(t) {
        return function(t) {
            if (Array.isArray(t)) {
                for (var e = 0, n = new Array(t.length); e < t.length; e++)
                    n[e] = t[e];
                return n
            }
        }(t) || function(t) {
            if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t))
                return Array.from(t)
        }(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }
    function rs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function is(t, e) {
        return !e || "object" !== es(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function os(t, e, n) {
        return (os = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var r = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = as(t)); )
                    ;
                return t
            }(t, e);
            if (r) {
                var i = Object.getOwnPropertyDescriptor(r, e);
                return i.get ? i.get.call(n) : i.value
            }
        }
        )(t, e, n || t)
    }
    function as(t) {
        return (as = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function ss(t, e) {
        return (ss = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var us = function(t) {
        function e(t) {
            var n = t.element;
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var r = []
              , i = n.querySelectorAll("h1, h2, p");
            return 0 !== i.length ? R()(i, (function(t) {
                $a({
                    element: t
                }),
                $a({
                    element: t
                }),
                r.push.apply(r, ns(t.querySelectorAll("span span")))
            }
            )) : ($a({
                element: n
            }),
            $a({
                element: n
            }),
            r.push.apply(r, ns(n.querySelectorAll("span span")))),
            is(this, as(e).call(this, {
                element: n,
                elements: {
                    lines: r
                }
            }))
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && ss(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "animateIn",
            value: function() {
                var t = this;
                this.isAnimatingIn || (this.isAnimatingIn = !0,
                this.timelineIn = _i.timeline({
                    delay: this.delay,
                    paused: !0
                }),
                this.timelineIn.set(this.element, {
                    autoAlpha: 1
                }),
                R()(this.lines, (function(e, n) {
                    t.timelineIn.fromTo(e, 1.5, {
                        y: "100%"
                    }, {
                        delay: .1 * n,
                        ease: "expo.out",
                        y: "0%"
                    }, "lines")
                }
                )),
                this.timelineIn.call((function() {
                    t.isAnimatingIn = !1
                }
                )),
                os(as(e.prototype), "animateIn", this).call(this, this.timelineIn))
            }
        }, {
            key: "animateOut",
            value: function() {
                _i.set(this.element, {
                    autoAlpha: 0,
                    overflow: "hidden"
                }),
                os(as(e.prototype), "animateOut", this).call(this)
            }
        }, {
            key: "show",
            value: function() {
                this.animateIn()
            }
        }, {
            key: "hide",
            value: function() {
                _i.to(this.element, {
                    autoAlpha: 0,
                    duration: .4
                })
            }
        }, {
            key: "onResize",
            value: function() {
                var t, n, r, i;
                os(as(e.prototype), "onResize", this).call(this),
                this.lines = (t = this.elements.lines,
                n = [],
                r = [],
                i = t[0].offsetTop,
                Object(la.each)(t, (function(e, o) {
                    e.offsetTop === i && r.push(e),
                    e.offsetTop !== i && (n.push(r),
                    (r = []).push(e),
                    i = e.offsetTop),
                    o + 1 === t.length && n.push(r)
                }
                )),
                n)
            }
        }]) && rs(n.prototype, r),
        i && rs(n, i),
        e
    }(function() {
        function t(e) {
            var n = e.element
              , r = e.elements;
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var i = n.dataset
              , o = i.animationDelay
              , a = i.animationTarget;
            this.delay = o,
            this.element = n,
            this.elements = r,
            this.target = a ? n.closest(a) : n,
            this.isVisible = !1,
            this.onResize(!0),
            this.animateOut()
        }
        var e, n, r;
        return e = t,
        (n = [{
            key: "animateIn",
            value: function(t) {
                var e = this;
                t.call((function() {
                    e.isVisible = !0
                }
                )),
                t.play()
            }
        }, {
            key: "animateOut",
            value: function() {
                this.isVisible = !1
            }
        }, {
            key: "show",
            value: function() {}
        }, {
            key: "hide",
            value: function() {}
        }, {
            key: "onResize",
            value: function() {
                var t = window
                  , e = t.innerHeight
                  , n = t.innerWidth
                  , r = this.element.dataset.animationThreshold;
                this.offset = Zi(this.target).top,
                this.threshold = void 0 !== r ? r : n >= 768 ? .75 : 1,
                this.positionHide = e,
                this.positionShow = e * this.threshold
            }
        }, {
            key: "onScroll",
            value: function(t) {
                var e = t + this.positionHide
                  , n = t + this.positionShow;
                !this.isVisible && n >= this.offset ? this.animateIn() : this.isVisible && e < this.offset && this.animateOut()
            }
        }]) && Ka(e.prototype, n),
        r && Ka(e, r),
        t
    }());
    function cs(t) {
        return (cs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function ls(t) {
        return function(t) {
            if (Array.isArray(t)) {
                for (var e = 0, n = new Array(t.length); e < t.length; e++)
                    n[e] = t[e];
                return n
            }
        }(t) || function(t) {
            if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t))
                return Array.from(t)
        }(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }
    function hs(t, e) {
        var n = Object.keys(t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(t);
            e && (r = r.filter((function(e) {
                return Object.getOwnPropertyDescriptor(t, e).enumerable
            }
            ))),
            n.push.apply(n, r)
        }
        return n
    }
    function fs(t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2 ? hs(Object(n), !0).forEach((function(e) {
                ps(t, e, n[e])
            }
            )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : hs(Object(n)).forEach((function(e) {
                Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
            }
            ))
        }
        return t
    }
    function ps(t, e, n) {
        return e in t ? Object.defineProperty(t, e, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[e] = n,
        t
    }
    function ds(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function ms(t) {
        return (ms = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function vs(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    function gs(t, e) {
        return (gs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var ys = function(t) {
        function e(t) {
            var n, r = t.classes, i = t.element, o = t.elements, a = t.isScrollable, s = void 0 === a || a;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            n = function(t, e) {
                return !e || "object" !== cs(e) && "function" != typeof e ? vs(t) : e
            }(this, ms(e).call(this)),
            A()(vs(n)),
            n.classes = fs({}, r),
            n.selectors = {
                element: i,
                elements: fs({
                    animationsParagraphs: '[data-animation="paragraph"]'
                }, o)
            },
            n.isScrollable = s,
            n.transform = Va()("transform"),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && gs(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "create",
            value: function(t) {
                var e = this
                  , n = t.canvas
                  , r = t.responsive
                  , i = t.wheel;
                this.animations = [],
                this.element = document.querySelector(this.selectors.element),
                this.elements = {},
                R()(this.selectors.elements, (function(t, n) {
                    t instanceof window.HTMLElement || t instanceof window.NodeList || Array.isArray(t) ? e.elements[n] = t : (e.elements[n] = e.element.querySelectorAll(t),
                    0 === e.elements[n].length ? e.elements[n] = null : 1 === e.elements[n].length && (e.elements[n] = e.element.querySelector(t)))
                }
                )),
                this.content = I.isMobile() ? document.querySelector(".content") : window,
                this.wrapper = I.isMobile() ? document.querySelector(".content__wrapper") : document.body,
                this.scroll = {
                    current: 0,
                    ease: .05,
                    last: 0
                },
                this.canvas = n,
                this.responsive = r,
                this.wheel = i,
                this.createAnimations(),
                this.isScrollable ? (this.createScrollHeight(),
                this.createScrollStyles(),
                this.createScrollObserver()) : document.documentElement.style.overflow = "hidden"
            }
        }, {
            key: "createAnimations",
            value: function() {
                var t;
                this.paragraphs = function(t, e) {
                    return t instanceof window.HTMLElement ? [e(t)] : Yi()(t, e)
                }(this.elements.animationsParagraphs, (function(t) {
                    return new us({
                        element: t
                    })
                }
                )),
                (t = this.animations).push.apply(t, ls(this.paragraphs))
            }
        }, {
            key: "createScrollStyles",
            value: function() {
                Object.assign(this.element.style, {
                    left: 0,
                    pointerEvents: "none",
                    position: "fixed",
                    top: 0,
                    width: "100%"
                }),
                I.isMobile() ? this.content.scrollTop = 0 : window.scrollTo(0, 0)
            }
        }, {
            key: "createScrollHeight",
            value: function() {
                this.wrapper.style.height = "".concat(this.element.offsetHeight, "px"),
                this.scroll.length = this.element.offsetHeight
            }
        }, {
            key: "createScrollObserver",
            value: function() {
                var t = this;
                this.resizeObserver = new Qa.a((function(e, n) {
                    var r = !0
                      , i = !1
                      , o = void 0;
                    try {
                        for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done); r = !0)
                            a.value.target === t.element && t.createScrollHeight()
                    } catch (t) {
                        i = !0,
                        o = t
                    } finally {
                        try {
                            r || null == s.return || s.return()
                        } finally {
                            if (i)
                                throw o
                        }
                    }
                }
                )),
                this.resizeObserver.observe(this.element)
            }
        }, {
            key: "show",
            value: function(t) {
                var e = this;
                return new Promise((function(n) {
                    t.call((function() {
                        n(),
                        e.isVisible = !0
                    }
                    )),
                    e.addEventListeners()
                }
                ))
            }
        }, {
            key: "hide",
            value: function(t) {
                var e = this;
                return new Promise((function(n) {
                    e.isVisible = !1,
                    e.removeEventListeners(),
                    t.call((function() {
                        e.destroy(),
                        n()
                    }
                    ))
                }
                ))
            }
        }, {
            key: "onResize",
            value: function() {
                this.createScrollHeight(),
                R()(this.animations, (function(t) {
                    t.onResize()
                }
                ))
            }
        }, {
            key: "onScroll",
            value: function() {
                this.scroll.current = I.isMobile() ? this.content.scrollTop : window.pageYOffset
            }
        }, {
            key: "update",
            value: function() {
                var t = this;
                this.isScrollable && (this.scroll.last = _i.utils.interpolate(this.scroll.last, this.scroll.current, this.scroll.ease),
                this.scroll.last < .1 && (this.scroll.last = 0),
                this.element.style[this.transform] = "translate3d(0, -".concat(this.scroll.last, "px, 0)"),
                this.isVisible && R()(this.animations, (function(e) {
                    e.onScroll(t.scroll.last)
                }
                )))
            }
        }, {
            key: "addEventListeners",
            value: function() {
                this.content.addEventListener("scroll", this.onScroll, {
                    passive: !0
                })
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                this.content.removeEventListener("scroll", this.onScroll, {
                    passive: !0
                })
            }
        }, {
            key: "destroy",
            value: function() {
                this.removeEventListeners()
            }
        }]) && ds(n.prototype, r),
        i && ds(n, i),
        e
    }(H.a);
    function bs(t) {
        return (bs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function xs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function _s(t, e) {
        return !e || "object" !== bs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function ws(t, e, n) {
        return (ws = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var r = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Ms(t)); )
                    ;
                return t
            }(t, e);
            if (r) {
                var i = Object.getOwnPropertyDescriptor(r, e);
                return i.get ? i.get.call(n) : i.value
            }
        }
        )(t, e, n || t)
    }
    function Ms(t) {
        return (Ms = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Ss(t, e) {
        return (Ss = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Es = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            _s(this, Ms(e).call(this, {
                element: ".about",
                elements: {
                    title: ".about__title"
                }
            }))
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Ss(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "create",
            value: function(t) {
                var n = t.canvas
                  , r = t.responsive
                  , i = t.wheel;
                ws(Ms(e.prototype), "create", this).call(this, {
                    canvas: n,
                    responsive: r,
                    wheel: i
                }),
                this.createTitle()
            }
        }, {
            key: "createTitle",
            value: function() {
                $a({
                    element: this.elements.title
                }),
                $a({
                    element: this.elements.title
                }),
                this.elements.titleSpans = this.elements.title.querySelectorAll("span span")
            }
        }, {
            key: "show",
            value: function() {
                return this.timelineIn = _i.timeline(),
                this.timelineIn.set(this.element, {
                    autoAlpha: 1,
                    delay: .5
                }),
                R()(this.elements.titleSpans, (function(t, e) {
                    _i.fromTo(t, 1.5, {
                        y: "100%"
                    }, {
                        delay: .5 + .1 * e,
                        ease: "expo.out",
                        y: "0%"
                    })
                }
                )),
                ws(Ms(e.prototype), "show", this).call(this, this.timelineIn)
            }
        }, {
            key: "hide",
            value: function() {
                return this.timelineOut = _i.timeline(),
                this.timelineOut.to(this.element, {
                    autoAlpha: 0,
                    duration: 1
                }),
                ws(Ms(e.prototype), "hide", this).call(this, this.timelineOut)
            }
        }, {
            key: "update",
            value: function() {
                ws(Ms(e.prototype), "update", this).call(this);
                var t = this.scroll.last - this.scroll.current;
                this.wheel.onWheel(t)
            }
        }, {
            key: "destroy",
            value: function() {
                ws(Ms(e.prototype), "destroy", this).call(this)
            }
        }]) && xs(n.prototype, r),
        i && xs(n, i),
        e
    }(ys);
    function Ts(t) {
        return (Ts = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function As(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Ps(t, e) {
        return !e || "object" !== Ts(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Ls(t, e, n) {
        return (Ls = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var r = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Os(t)); )
                    ;
                return t
            }(t, e);
            if (r) {
                var i = Object.getOwnPropertyDescriptor(r, e);
                return i.get ? i.get.call(n) : i.value
            }
        }
        )(t, e, n || t)
    }
    function Os(t) {
        return (Os = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Rs(t, e) {
        return (Rs = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Cs = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            Ps(this, Os(e).call(this, {
                classes: {
                    buttonActive: "home__button--active"
                },
                element: ".home",
                elements: {
                    items: ".home__item",
                    links: ".home__link",
                    texts: ".home__link__text",
                    textsSpans: [],
                    buttons: ".home__button",
                    buttonsProgressLengths: ".home__button__progress__length"
                },
                isScrollable: !1
            }))
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Rs(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "create",
            value: function(t) {
                var n = t.canvas
                  , r = t.responsive
                  , i = t.wheel;
                Ls(Os(e.prototype), "create", this).call(this, {
                    canvas: n,
                    responsive: r,
                    wheel: i
                }),
                this.elements.textsSpans = Yi()(this.elements.texts, (function(t) {
                    return $a({
                        append: !1,
                        element: t,
                        expression: ""
                    })
                }
                )),
                this.index = null,
                this.x = {
                    start: 0,
                    end: 0
                }
            }
        }, {
            key: "startCounter",
            value: function(t) {
                var e = this;
                this.stopCounter(),
                _i.killTweensOf(this.elements.buttonsProgressLengths),
                _i.to(this.elements.buttonsProgressLengths, {
                    duration: .4,
                    strokeDashoffset: 99.94916534423828
                }),
                this.elements.buttonsProgressLengths[t] && _i.to(this.elements.buttonsProgressLengths[t], {
                    duration: 10,
                    ease: "none",
                    strokeDashoffset: 0
                }),
                this.timeout = setTimeout((function() {
                    e.canvas.page.next(),
                    e.startCounter()
                }
                ), 1e4)
            }
        }, {
            key: "stopCounter",
            value: function() {
                clearTimeout(this.timeout)
            }
        }, {
            key: "show",
            value: function() {
                return this.timelineIn = _i.timeline(),
                this.timelineIn.to(this.element, {
                    autoAlpha: 1,
                    duration: .5
                }),
                Ls(Os(e.prototype), "show", this).call(this, this.timelineIn)
            }
        }, {
            key: "hide",
            value: function() {
                var t = this;
                return this.timelineOut = _i.timeline(),
                this.timelineOut.call((function() {
                    t.stopCounter()
                }
                )),
                this.timelineOut.to(this.element, {
                    autoAlpha: 0,
                    duration: 1
                }),
                Ls(Os(e.prototype), "hide", this).call(this, this.timelineOut)
            }
        }, {
            key: "onBlur",
            value: function() {
                this.stopCounter()
            }
        }, {
            key: "onFocus",
            value: function() {
                _i.set(this.elements.buttonsProgressLengths, {
                    duration: .4,
                    strokeDashoffset: 99.94916534423828
                }),
                this.startCounter(this.index)
            }
        }, {
            key: "onChange",
            value: function(t) {
                this.startCounter(t);
                var e = this.responsive.sizes.width <= 767 ? 25 : 50
                  , n = t < this.index ? -1 : 1;
                _i.killTweensOf([this.elements.items[this.index], this.elements.textsSpans[this.index], this.elements.items[t], this.elements.textsSpans[t]]),
                this.timelineChange = _i.timeline(),
                this.elements.textsSpans[this.index] && (this.timelineChange.set(this.elements.items[this.index], {
                    autoAlpha: 1
                }, 0),
                this.timelineChange.to(this.elements.textsSpans[this.index], {
                    autoAlpha: 0,
                    duration: 1,
                    ease: "power4.out",
                    rotateX: -90,
                    transformOrigin: "50% 50% -".concat(e * this.responsive.scale, "%"),
                    stagger: .05 * n
                }, 0)),
                this.timelineChange.set(this.elements.items[t], {
                    autoAlpha: 1
                }, 0),
                this.timelineChange.fromTo(this.elements.textsSpans[t], {
                    autoAlpha: 0,
                    rotateX: 90,
                    transformOrigin: "50% 50% -".concat(e * this.responsive.scale, "%")
                }, {
                    autoAlpha: 1,
                    duration: 1,
                    ease: "power4.out",
                    rotateX: 0,
                    stagger: .05 * n
                }, this.elements.textsSpans[this.index] ? "-=1" : 0),
                this.index = t
            }
        }, {
            key: "onTouchDown",
            value: function(t, e) {
                var n = e.x;
                "home__view" === t.target.className && (this.isDown = !0,
                this.x.start = n,
                this.x.end = n)
            }
        }, {
            key: "onTouchMove",
            value: function(t, e) {
                var n = e.x;
                this.isDown && (this.x.end = n)
            }
        }, {
            key: "onTouchUp",
            value: function(t, e) {
                if (e.x,
                this.isDown) {
                    this.isDown = !1;
                    var n = this.x.start - this.x.end;
                    W()(n, -20, 20) && this.elements.links[this.index].click()
                }
            }
        }, {
            key: "update",
            value: function() {
                var t = this;
                if (this.canvas.page) {
                    R()(this.elements.buttons, (function(e, n) {
                        n === t.canvas.page.index ? e.classList.add(t.classes.buttonActive) : e.classList.remove(t.classes.buttonActive)
                    }
                    )),
                    this.isVisible && this.canvas.page.index !== this.index && this.onChange(this.canvas.page.index || 0);
                    var e = 10 * (this.canvas.page.position.current - this.canvas.page.scroll.values.target);
                    this.wheel.onWheel(e)
                }
            }
        }, {
            key: "addEventListeners",
            value: function() {
                window.addEventListener("blur", this.onBlur, {
                    passive: !0
                }),
                window.addEventListener("focus", this.onFocus, {
                    passive: !0
                })
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                window.removeEventListener("blur", this.onBlur),
                window.removeEventListener("focus", this.onFocus)
            }
        }, {
            key: "destroy",
            value: function() {
                Ls(Os(e.prototype), "destroy", this).call(this)
            }
        }]) && As(n.prototype, r),
        i && As(n, i),
        e
    }(ys)
      , Is = n(186)
      , Ds = n.n(Is);
    function ks(t) {
        return (ks = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Ns(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function zs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function js(t, e) {
        return !e || "object" !== ks(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function Fs(t, e, n) {
        return (Fs = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var r = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Bs(t)); )
                    ;
                return t
            }(t, e);
            if (r) {
                var i = Object.getOwnPropertyDescriptor(r, e);
                return i.get ? i.get.call(n) : i.value
            }
        }
        )(t, e, n || t)
    }
    function Bs(t) {
        return (Bs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Us(t, e) {
        return (Us = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Gs = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            js(this, Bs(e).call(this, {
                element: ".order",
                elements: {
                    fields: ".order__fields",
                    fieldsButton: ".order__fields__button",
                    fieldsSteps: ".order__field",
                    fieldsStepsInputs: ".order__field__input",
                    fieldsProduct: '[name="product"]',
                    fieldsQuestion: '[name="question"]',
                    feedback: ".order__feedback",
                    feedbackTitle: ".order__feedback__title"
                }
            }))
        }
        var n, r, i, o, a;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Us(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "create",
            value: function(t) {
                var n = t.canvas
                  , r = t.responsive
                  , i = t.wheel;
                Fs(Bs(e.prototype), "create", this).call(this, {
                    canvas: n,
                    responsive: r,
                    wheel: i
                });
                var o = Ds.a.parse(window.location.search).product;
                o && (this.elements.fieldsProduct.value = o),
                this.index = 0
            }
        }, {
            key: "show",
            value: function() {
                return this.timelineIn = _i.timeline(),
                this.timelineIn.set(this.element, {
                    autoAlpha: 1
                }),
                this.timelineIn.set(this.elements.fieldsSteps[0], {
                    autoAlpha: 1
                }),
                this.timelineIn.to(this.elements.fields, {
                    autoAlpha: 1,
                    duration: 1
                }),
                Fs(Bs(e.prototype), "show", this).call(this, this.timelineIn)
            }
        }, {
            key: "hide",
            value: function() {
                return this.timelineOut = _i.timeline(),
                this.timelineOut.to(this.element, {
                    autoAlpha: 0,
                    duration: 1
                }),
                Fs(Bs(e.prototype), "hide", this).call(this, this.timelineOut)
            }
        }, {
            key: "onInput",
            value: function(t) {
                if (!this.isAnimating) {
                    var e = this.elements.fieldsStepsInputs[this.index]
                      , n = 13 === t.keyCode || "BUTTON" === t.target.tagName
                      , r = !e.required || "" !== e.value;
                    n && t.preventDefault(),
                    r && n && this.onNext(this.index + 1)
                }
            }
        }, {
            key: "onInputTextarea",
            value: function() {
                this.elements.fieldsQuestion.style.height = "auto",
                this.elements.fieldsQuestion.style.height = "".concat(this.elements.fieldsQuestion.scrollHeight, "px")
            }
        }, {
            key: "onNext",
            value: function(t) {
                var e = this;
                this.isAnimating = !0,
                this.timelineChange = _i.timeline({
                    onComplete: function() {
                        return e.isAnimating = !1
                    }
                }),
                this.timelineChange.to(this.elements.fieldsSteps[this.index], {
                    autoAlpha: 0,
                    duration: .4
                }),
                this.elements.fieldsSteps[t] ? (this.timelineChange.to(this.elements.fieldsSteps[t], {
                    autoAlpha: 1,
                    duration: .4
                }),
                this.timelineChange.call((function() {
                    e.elements.fieldsStepsInputs[t].focus()
                }
                ))) : this.onFinish(),
                this.index = t
            }
        }, {
            key: "onFinish",
            value: (o = regeneratorRuntime.mark((function t() {
                var e, n, r;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            return this.timelineFeedback = _i.timeline(),
                            this.timelineFeedback.to(this.elements.fields, {
                                autoAlpha: 0,
                                duration: .4
                            }),
                            this.timelineFeedback.set(this.elements.feedback, {
                                autoAlpha: 1
                            }),
                            this.timelineFeedback.to(this.elements.feedbackTitle, {
                                autoAlpha: 1,
                                duration: 1
                            }),
                            e = new window.FormData(this.element),
                            n = {},
                            e.forEach((function(t, e) {
                                n[e] = t
                            }
                            )),
                            t.next = 9,
                            window.fetch("/order", {
                                body: JSON.stringify(n),
                                headers: {
                                    "Content-Type": "application/json"
                                },
                                method: "POST"
                            });
                        case 9:
                            return r = t.sent,
                            t.next = 12,
                            r.json();
                        case 12:
                            t.sent;
                        case 13:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            )),
            a = function() {
                var t = this
                  , e = arguments;
                return new Promise((function(n, r) {
                    var i = o.apply(t, e);
                    function a(t) {
                        Ns(i, n, r, a, s, "next", t)
                    }
                    function s(t) {
                        Ns(i, n, r, a, s, "throw", t)
                    }
                    a(void 0)
                }
                ))
            }
            ,
            function() {
                return a.apply(this, arguments)
            }
            )
        }, {
            key: "addEventListeners",
            value: function() {
                var t = this;
                R()(this.elements.fieldsStepsInputs, (function(e) {
                    e.addEventListener("keydown", t.onInput, {
                        passive: !0
                    })
                }
                )),
                this.elements.fieldsButton && this.elements.fieldsButton.addEventListener("click", this.onInput, {
                    passive: !0
                }),
                this.elements.fieldsQuestion.addEventListener("input", this.onInputTextarea, {
                    passive: !0
                })
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                var t = this;
                R()(this.elements.fieldsStepsInputs, (function(e) {
                    e.removeEventListener("keydown", t.onInput)
                }
                )),
                this.elements.fieldsButton && this.elements.fieldsButton.removeEventListener("click", this.onInput),
                this.elements.fieldsQuestion.removeEventListener("input", this.onInputTextarea)
            }
        }, {
            key: "destroy",
            value: function() {
                Fs(Bs(e.prototype), "destroy", this).call(this)
            }
        }]) && zs(n.prototype, r),
        i && zs(n, i),
        e
    }(ys);
    function Hs(t) {
        return (Hs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Vs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Ws(t, e) {
        return !e || "object" !== Hs(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function qs(t, e, n) {
        return (qs = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var r = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = Xs(t)); )
                    ;
                return t
            }(t, e);
            if (r) {
                var i = Object.getOwnPropertyDescriptor(r, e);
                return i.get ? i.get.call(n) : i.value
            }
        }
        )(t, e, n || t)
    }
    function Xs(t) {
        return (Xs = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function Ys(t, e) {
        return (Ys = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var Zs = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            Ws(this, Xs(e).call(this, {
                classes: {
                    informationActive: "project__information--active"
                },
                element: ".project",
                elements: {
                    linkPrevious: ".project__link--previous",
                    linkNext: ".project__link--next",
                    information: ".project__information",
                    content: ".project__information__content",
                    contentWrapper: ".project__information__content__wrapper",
                    contentButton: ".project__information__toggle"
                }
            }))
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && Ys(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "create",
            value: function(t) {
                var n = t.canvas
                  , r = t.responsive
                  , i = t.wheel;
                qs(Xs(e.prototype), "create", this).call(this, {
                    canvas: n,
                    responsive: r,
                    wheel: i
                }),
                this.back = 0
            }
        }, {
            key: "show",
            value: function() {
                return this.timelineIn = _i.timeline(),
                this.timelineIn.set(this.element, {
                    autoAlpha: 1,
                    delay: this.isProject ? 0 : 2
                }),
                this.isProject = !1,
                qs(Xs(e.prototype), "show", this).call(this, this.timelineIn)
            }
        }, {
            key: "hide",
            value: function() {
                return this.timelineOut = _i.timeline(),
                this.timelineOut.to(this.element, {
                    autoAlpha: 0,
                    duration: this.isProject ? .5 : 1
                }),
                qs(Xs(e.prototype), "hide", this).call(this, this.timelineOut)
            }
        }, {
            key: "update",
            value: function() {
                qs(Xs(e.prototype), "update", this).call(this),
                Math.round(this.scroll.current + this.responsive.sizes.height) !== this.scroll.length || this.isProject || (this.canvas && this.canvas.page && (this.canvas.page.isProject = !0),
                this.isProject = !0,
                this.elements.linkNext.click());
                var t = this.scroll.last - this.scroll.current;
                this.wheel.onWheel(t)
            }
        }, {
            key: "onResize",
            value: function() {
                var t = this;
                this.elements.information.classList.contains(this.classes.informationActive) && (this.elements.information.classList.add(this.classes.informationActive),
                _i.set(this.elements.content, {
                    height: this.elements.contentWrapper.clientHeight,
                    onUpdate: function() {
                        return t.canvas.onResizeHeight(t.elements.contentWrapper.clientHeight)
                    }
                }))
            }
        }, {
            key: "onToggle",
            value: function() {
                this.elements.information.classList.contains(this.classes.informationActive) ? (this.elements.information.classList.remove(this.classes.informationActive),
                _i.to(this.elements.content, {
                    duration: 1,
                    ease: "expo.inOut",
                    height: 0
                }),
                this.canvas.onResizeHeight(0)) : (this.elements.information.classList.add(this.classes.informationActive),
                _i.to(this.elements.content, {
                    duration: 1,
                    ease: "expo.inOut",
                    height: this.elements.contentWrapper.clientHeight
                }),
                this.canvas.onResizeHeight(this.elements.contentWrapper.clientHeight))
            }
        }, {
            key: "onWheel",
            value: function(t) {
                var e = t.deltaY;
                this.isVisible && !this.isProject && (0 === this.scroll.current && e < 0 ? (this.back += 10,
                this.back > 100 && (this.isProject = !0,
                this.elements.linkPrevious.click())) : this.back = 0)
            }
        }, {
            key: "addEventListeners",
            value: function() {
                qs(Xs(e.prototype), "addEventListeners", this).call(this),
                this.elements.contentButton.addEventListener("click", this.onToggle, {
                    passive: !0
                })
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                qs(Xs(e.prototype), "removeEventListeners", this).call(this),
                this.elements.contentButton.removeEventListener("click", this.onToggle)
            }
        }, {
            key: "destroy",
            value: function() {
                qs(Xs(e.prototype), "destroy", this).call(this)
            }
        }]) && Vs(n.prototype, r),
        i && Vs(n, i),
        e
    }(ys);
    function Js(t) {
        return (Js = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function Qs(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function Ks(t, e) {
        return !e || "object" !== Js(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function $s(t, e, n) {
        return ($s = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var r = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = tu(t)); )
                    ;
                return t
            }(t, e);
            if (r) {
                var i = Object.getOwnPropertyDescriptor(r, e);
                return i.get ? i.get.call(n) : i.value
            }
        }
        )(t, e, n || t)
    }
    function tu(t) {
        return (tu = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function eu(t, e) {
        return (eu = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var nu = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            Ks(this, tu(e).call(this, {
                element: ".terms",
                elements: {
                    title: ".terms__title"
                }
            }))
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && eu(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "create",
            value: function(t) {
                var n = t.canvas
                  , r = t.responsive
                  , i = t.wheel;
                $s(tu(e.prototype), "create", this).call(this, {
                    canvas: n,
                    responsive: r,
                    wheel: i
                }),
                this.createTitle()
            }
        }, {
            key: "createTitle",
            value: function() {
                $a({
                    element: this.elements.title
                }),
                $a({
                    element: this.elements.title
                }),
                this.elements.titleSpans = this.elements.title.querySelectorAll("span span")
            }
        }, {
            key: "show",
            value: function() {
                return this.timelineIn = _i.timeline(),
                this.timelineIn.set(this.element, {
                    autoAlpha: 1,
                    delay: .5
                }),
                R()(this.elements.titleSpans, (function(t, e) {
                    _i.fromTo(t, 1.5, {
                        y: "100%"
                    }, {
                        delay: .5 + .1 * e,
                        ease: "expo.out",
                        y: "0%"
                    })
                }
                )),
                $s(tu(e.prototype), "show", this).call(this, this.timelineIn)
            }
        }, {
            key: "hide",
            value: function() {
                return this.timelineOut = _i.timeline(),
                this.timelineOut.to(this.element, {
                    autoAlpha: 0,
                    duration: 1
                }),
                $s(tu(e.prototype), "hide", this).call(this, this.timelineOut)
            }
        }, {
            key: "update",
            value: function() {
                $s(tu(e.prototype), "update", this).call(this);
                var t = this.scroll.last - this.scroll.current;
                this.wheel.onWheel(t)
            }
        }, {
            key: "destroy",
            value: function() {
                $s(tu(e.prototype), "destroy", this).call(this)
            }
        }]) && Qs(n.prototype, r),
        i && Qs(n, i),
        e
    }(ys);
    function ru(t) {
        return (ru = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function iu(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function ou(t, e) {
        return !e || "object" !== ru(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function au(t) {
        return (au = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function su(t, e) {
        return (su = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var uu = function(t) {
        function e(t) {
            var n, r = t.element, i = t.elements;
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            (n = ou(this, au(e).call(this, {
                element: r,
                elements: i
            }))).transformPrefix = Va()("transform"),
            n.distance = 0,
            n.scroll = {
                position: 0,
                current: 0,
                target: 0,
                last: 0
            },
            R()(n.elements.buttons, (function(t) {
                var e = Zi(t);
                t.height = e.height,
                t.offset = e.top,
                t.position = 0
            }
            )),
            n.length = n.elements.buttons.length,
            n.height = n.elements.buttons[0].height,
            n.heightTotal = n.elements.list.getBoundingClientRect().height,
            n.windowHalf = .5 * window.innerHeight,
            n.addEventListeners(),
            n
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && su(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "enable",
            value: function() {
                this.isEnabled = !0
            }
        }, {
            key: "disable",
            value: function() {
                this.isEnabled = !1
            }
        }, {
            key: "onDown",
            value: function(t) {
                this.isDown = !0,
                this.scroll.position = this.scroll.current,
                this.start = t.touches ? t.touches[0].clientY : t.clientY
            }
        }, {
            key: "onMove",
            value: function(t) {
                if (this.isDown) {
                    var e = t.touches ? t.touches[0].clientY : t.clientY
                      , n = 2 * (this.start - e);
                    this.scroll.target = this.scroll.position + n
                }
            }
        }, {
            key: "onUp",
            value: function(t) {
                this.isDown = !1
            }
        }, {
            key: "previous",
            value: function() {
                this.scroll.target -= this.height
            }
        }, {
            key: "next",
            value: function() {
                this.scroll.target += this.height
            }
        }, {
            key: "onWheel",
            value: function(t) {
                var e = 25;
                (-t.wheelDeltaY || t.deltaY) < 0 && (e *= -1),
                this.scroll.target += e
            }
        }, {
            key: "transform",
            value: function(t, e) {
                t.style[this.transformPrefix] = "translate3d(0, ".concat(e, "px, 0)")
            }
        }, {
            key: "update",
            value: function() {
                var t = this;
                if (this.isEnabled) {
                    this.scroll.current = _i.utils.interpolate(this.scroll.current, this.scroll.target, .1);
                    var e = Math.round((this.scroll.current + this.windowHalf) % this.heightTotal) / this.heightTotal
                      , n = Math.floor(e * this.length);
                    n < 0 && (n = (this.length - Math.abs(n % this.length)) % this.length),
                    this.index !== n && (this.index = n,
                    this.emit("change", n)),
                    R()(this.elements.items, (function(e) {
                        t.transform(e, -t.scroll.current)
                    }
                    )),
                    this.scroll.current < this.scroll.last ? this.direction = "down" : this.direction = "up",
                    R()(this.elements.buttons, (function(e) {
                        var n = e.offset + e.position + e.height - t.scroll.current;
                        e.isBefore = n < 0,
                        e.isAfter = n > t.heightTotal,
                        "up" === t.direction && e.isBefore && (e.position = e.position + t.heightTotal,
                        e.isBefore = !1,
                        e.isAfter = !1),
                        "down" === t.direction && e.isAfter && (e.position = e.position - t.heightTotal,
                        e.isBefore = !1,
                        e.isAfter = !1),
                        t.transform(e, e.position)
                    }
                    )),
                    this.distance = this.scroll.current - this.scroll.target,
                    this.scroll.last = this.scroll.current
                }
            }
        }, {
            key: "onResize",
            value: function() {
                var t = this;
                this.scroll = {
                    position: 0,
                    current: 0,
                    target: 0,
                    last: 0
                },
                R()(this.elements.buttons, (function(e) {
                    e.style[t.transform] = "";
                    var n = Zi(e);
                    e.height = n.height,
                    e.offset = n.top,
                    e.position = 0
                }
                )),
                R()(this.elements.items, (function(e) {
                    e.style[t.transform] = ""
                }
                )),
                this.height = this.elements.buttons[0].getBoundingClientRect().height,
                this.heightTotal = this.elements.list.getBoundingClientRect().height,
                this.windowHalf = .5 * window.innerHeight
            }
        }, {
            key: "addEventListeners",
            value: function() {
                this.element.addEventListener("mousedown", this.onDown, {
                    passive: !0
                }),
                this.element.addEventListener("mousemove", this.onMove, {
                    passive: !0
                }),
                this.element.addEventListener("mouseup", this.onUp, {
                    passive: !0
                }),
                this.element.addEventListener("touchstart", this.onDown, {
                    passive: !0
                }),
                this.element.addEventListener("touchmove", this.onMove, {
                    passive: !0
                }),
                this.element.addEventListener("touchend", this.onUp, {
                    passive: !0
                }),
                this.element.addEventListener("DOMMouseScroll", this.onWheel, {
                    passive: !0
                }),
                this.element.addEventListener("mousewheel", this.onWheel, {
                    passive: !0
                }),
                this.element.addEventListener("wheel", this.onWheel, {
                    passive: !0
                })
            }
        }, {
            key: "removeEventListeners",
            value: function() {
                this.element.removeEventListener("mousedown", this.onDown),
                this.element.removeEventListener("mousemove", this.onMove),
                this.element.removeEventListener("mouseup", this.onUp),
                this.element.removeEventListener("touchstart", this.onDown),
                this.element.removeEventListener("touchmove", this.onMove),
                this.element.removeEventListener("touchend", this.onUp),
                this.element.removeEventListener("DOMMouseScroll", this.onWheel),
                this.element.removeEventListener("mousewheel", this.onWheel),
                this.element.removeEventListener("wheel", this.onWheel)
            }
        }, {
            key: "destroy",
            value: function() {
                this.removeEventListeners()
            }
        }]) && iu(n.prototype, r),
        i && iu(n, i),
        e
    }(ya);
    function cu(t) {
        return (cu = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
        )(t)
    }
    function lu(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    function hu(t, e) {
        return !e || "object" !== cu(e) && "function" != typeof e ? function(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }(t) : e
    }
    function fu(t, e, n) {
        return (fu = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t, e, n) {
            var r = function(t, e) {
                for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = pu(t)); )
                    ;
                return t
            }(t, e);
            if (r) {
                var i = Object.getOwnPropertyDescriptor(r, e);
                return i.get ? i.get.call(n) : i.value
            }
        }
        )(t, e, n || t)
    }
    function pu(t) {
        return (pu = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        }
        )(t)
    }
    function du(t, e) {
        return (du = Object.setPrototypeOf || function(t, e) {
            return t.__proto__ = e,
            t
        }
        )(t, e)
    }
    var mu = function(t) {
        function e() {
            return function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            hu(this, pu(e).call(this, {
                element: ".work",
                elements: {
                    list: ".work__list",
                    listItems: ".work__item",
                    listLinks: ".work__link",
                    titles: ".work__title",
                    titlesSpans: []
                },
                isScrollable: !1
            }))
        }
        var n, r, i;
        return function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function");
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && du(t, e)
        }(e, t),
        n = e,
        (r = [{
            key: "create",
            value: function(t) {
                var n = t.canvas
                  , r = t.responsive
                  , i = t.wheel;
                fu(pu(e.prototype), "create", this).call(this, {
                    canvas: n,
                    responsive: r,
                    wheel: i
                }),
                this.elements.titlesSpans = Yi()(this.elements.titles, (function(t) {
                    return $a({
                        append: !1,
                        element: t,
                        expression: ""
                    })
                }
                )),
                this.createList(),
                this.index = null
            }
        }, {
            key: "createList",
            value: function() {
                this.list = new uu({
                    element: document.body,
                    elements: {
                        list: this.elements.list,
                        items: this.elements.listItems,
                        buttons: this.elements.listLinks
                    }
                })
            }
        }, {
            key: "show",
            value: function() {
                var t = this;
                return this.timelineIn = _i.timeline(),
                this.timelineIn.set(this.element, {
                    autoAlpha: 1
                }),
                _i.fromTo(this.elements.listLinks, {
                    autoAlpha: 0,
                    y: "100%"
                }, {
                    autoAlpha: 1,
                    duration: 1,
                    ease: "expo.easeOut",
                    stagger: .01,
                    y: "0%"
                }),
                _i.delayedCall(.5, (function() {
                    t.list.enable()
                }
                )),
                fu(pu(e.prototype), "show", this).call(this, this.timelineIn)
            }
        }, {
            key: "hide",
            value: function() {
                return this.timelineOut = _i.timeline(),
                this.timelineOut.to(this.elements.list, {
                    autoAlpha: 0,
                    duration: .5
                }),
                this.timelineOut.to(this.element, {
                    autoAlpha: 0,
                    duration: .5
                }),
                fu(pu(e.prototype), "hide", this).call(this, this.timelineOut)
            }
        }, {
            key: "onChange",
            value: function(t) {
                var e = t < this.index ? -1 : 1;
                _i.killTweensOf([this.elements.titles[this.index], this.elements.titlesSpans[this.index], this.elements.titles[t], this.elements.titlesSpans[t]]),
                this.timelineChange = _i.timeline(),
                this.elements.titles[this.index] && this.timelineChange.set(this.elements.titles[this.index], {
                    autoAlpha: 1
                }, 0),
                this.elements.titlesSpans[this.index] && this.timelineChange.to(this.elements.titlesSpans[this.index], {
                    autoAlpha: 0,
                    duration: 1,
                    ease: "power4.out",
                    rotateX: -90,
                    transformOrigin: "50% 50% -".concat(150 * this.responsive.scale, "%"),
                    stagger: .05 * e
                }, 0),
                this.elements.titles[t] && this.timelineChange.set(this.elements.titles[t], {
                    autoAlpha: 1
                }, 0),
                this.elements.titlesSpans[t] && this.timelineChange.fromTo(this.elements.titlesSpans[t], {
                    autoAlpha: 0,
                    rotateX: 90,
                    transformOrigin: "50% 50% -".concat(150 * this.responsive.scale, "%")
                }, {
                    autoAlpha: 1,
                    duration: 1,
                    ease: "power4.out",
                    rotateX: 0,
                    stagger: .05 * e
                }, 0),
                this.index = t
            }
        }, {
            key: "onResize",
            value: function() {
                this.list && this.list.onResize()
            }
        }, {
            key: "update",
            value: function() {
                this.list.isEnabled && this.canvas.page.index !== this.index && this.onChange(this.canvas.page.index);
                var t = this.list.scroll.current - this.list.scroll.target;
                this.wheel.onWheel(t),
                this.list.update()
            }
        }, {
            key: "destroyList",
            value: function() {
                this.list.destroy()
            }
        }, {
            key: "destroy",
            value: function() {
                this.destroyList(),
                fu(pu(e.prototype), "destroy", this).call(this)
            }
        }]) && lu(n.prototype, r),
        i && lu(n, i),
        e
    }(ys);
    function vu(t, e, n, r, i, o, a) {
        try {
            var s = t[o](a)
              , u = s.value
        } catch (t) {
            return void n(t)
        }
        s.done ? e(u) : Promise.resolve(u).then(r, i)
    }
    function gu(t) {
        return function() {
            var e = this
              , n = arguments;
            return new Promise((function(r, i) {
                var o = t.apply(e, n);
                function a(t) {
                    vu(o, r, i, a, s, "next", t)
                }
                function s(t) {
                    vu(o, r, i, a, s, "throw", t)
                }
                a(void 0)
            }
            ))
        }
    }
    function yu(t, e) {
        for (var n = 0; n < e.length; n++) {
            var r = e[n];
            r.enumerable = r.enumerable || !1,
            r.configurable = !0,
            "value"in r && (r.writable = !0),
            Object.defineProperty(t, r.key, r)
        }
    }
    var bu = function() {
        function t() {
            !function(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }(this, t),
            this.mouse = {
                x: window.innerWidth / 2,
                y: window.innerHeight / 2
            },
            this.content = document.querySelector(".content"),
            this.template = this.content.dataset.template,
            A()(this),
            this.createResponsive(),
            this.createCanvas(),
            this.createCursor(),
            this.createMenu(),
            this.createNavigation(),
            this.createSprites(),
            this.createWheel(),
            this.createPreloader(),
            this.addEventListeners(),
            this.update()
        }
        var e, n, r, i, o;
        return e = t,
        (n = [{
            key: "createPreloader",
            value: function() {
                this.preloader = new Ga({
                    wheel: this.wheel
                }),
                this.preloader.on("load", this.onPreloaderLoad),
                this.preloader.on("complete", this.onPreloadComplete),
                this.preloader.load()
            }
        }, {
            key: "onPreloaderLoad",
            value: function(t) {
                "image" === t.category ? this.canvas.onPreloadTexture(t) : "model" === t.category && this.canvas.onPreloadModel(t)
            }
        }, {
            key: "onPreloadComplete",
            value: function(t) {
                this.createPages(),
                this.canvas.onPreloadComplete(t),
                this.canvas.show(this.template),
                this.cursor && this.cursor.onPreloadComplete()
            }
        }, {
            key: "createCanvas",
            value: function() {
                this.canvas = new ca({
                    responsive: this.responsive,
                    template: this.template
                })
            }
        }, {
            key: "createCursor",
            value: function() {
                I.isMobile() || (this.cursor = new fa({
                    responsive: this.responsive
                }))
            }
        }, {
            key: "createMenu",
            value: function() {
                this.menu = new Sa
            }
        }, {
            key: "createNavigation",
            value: function() {
                this.navigation = new Oa
            }
        }, {
            key: "createResponsive",
            value: function() {
                this.responsive = new j
            }
        }, {
            key: "createSprites",
            value: function() {
                this.sprites = new U("/spritemap.svg")
            }
        }, {
            key: "createStats",
            value: function() {
                this.stats = new L.a,
                document.body.appendChild(this.stats.dom)
            }
        }, {
            key: "createWheel",
            value: function() {
                this.wheel = new Ja({
                    responsive: this.responsive
                })
            }
        }, {
            key: "createPages",
            value: function() {
                this.pages = new Map,
                this.pages.set("about", new Es),
                this.pages.set("home", new Cs),
                this.pages.set("order", new Gs),
                this.pages.set("project", new Zs),
                this.pages.set("terms-and-conditions", new nu),
                this.pages.set("work", new mu),
                this.page = this.pages.get(this.template),
                this.page.create({
                    canvas: this.canvas,
                    responsive: this.responsive,
                    wheel: this.wheel
                }),
                this.page.show(),
                this.navigation && this.navigation.show(),
                this.addLinksEventsListeners()
            }
        }, {
            key: "onChange",
            value: (o = gu(regeneratorRuntime.mark((function t(e) {
                var n, r, i, o, a, s;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            if (n = e.push,
                            r = void 0 === n || n,
                            i = e.url,
                            o = void 0 === i ? null : i,
                            !this.isLoading && this.url !== o) {
                                t.next = 3;
                                break
                            }
                            return t.abrupt("return");
                        case 3:
                            return this.cursor && this.cursor.onNavigationStart(),
                            document.documentElement.style.overflow = "hidden",
                            document.body.style.pointerEvents = "none",
                            this.url = o,
                            this.isLoading = !0,
                            t.next = 10,
                            window.fetch(o, {
                                headers: {
                                    "X-Requested-With": "XMLHttpRequest"
                                }
                            });
                        case 10:
                            return a = t.sent,
                            t.next = 13,
                            a.text();
                        case 13:
                            s = t.sent,
                            this.onRequest({
                                push: r,
                                response: s,
                                url: o
                            });
                        case 15:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function(t) {
                return o.apply(this, arguments)
            }
            )
        }, {
            key: "onRequest",
            value: (i = gu(regeneratorRuntime.mark((function t(e) {
                var n, r, i, o, a, s;
                return regeneratorRuntime.wrap((function(t) {
                    for (; ; )
                        switch (t.prev = t.next) {
                        case 0:
                            if (n = e.push,
                            r = e.response,
                            i = e.url,
                            (o = document.createElement("div")).innerHTML = r,
                            a = o.querySelector(".content"),
                            !this.page) {
                                t.next = 7;
                                break
                            }
                            return t.next = 7,
                            Promise.all([this.canvas.hide(a.dataset.template), this.menu.hide(a.dataset.template), this.page.hide(a.dataset.template)]);
                        case 7:
                            return I.isMobile() ? this.content.scrollTop = 0 : window.scrollTo(0, 0),
                            document.title = o.querySelector("title").textContent,
                            n && window.history.pushState({}, document.title, i),
                            this.content.innerHTML = a.innerHTML,
                            this.content.dataset.template = a.dataset.template,
                            this.template = a.dataset.template,
                            this.canvas.show(this.template),
                            s = this.pages.get(this.template),
                            this.page = s,
                            this.page.create({
                                canvas: this.canvas,
                                responsive: this.responsive,
                                wheel: this.wheel
                            }),
                            this.addLinksEventsListeners(),
                            t.next = 20,
                            this.page.show();
                        case 20:
                            this.page.isScrollable && (document.documentElement.style.overflow = ""),
                            document.body.style.pointerEvents = "",
                            this.cursor && this.cursor.onNavigationEnd(),
                            this.isLoading = !1;
                        case 24:
                        case "end":
                            return t.stop()
                        }
                }
                ), t, this)
            }
            ))),
            function(t) {
                return i.apply(this, arguments)
            }
            )
        }, {
            key: "update",
            value: function() {
                this.stats && this.stats.begin(),
                this.canvas && this.canvas.update(this.page && this.page.scroll),
                this.cursor && this.cursor.update(),
                this.page && this.page.update(),
                this.wheel && this.wheel.update(),
                this.stats && this.stats.end(),
                window.requestAnimationFrame(this.update)
            }
        }, {
            key: "onContextMenu",
            value: function(t) {
                return t.preventDefault(),
                t.stopPropagation(),
                !1
            }
        }, {
            key: "onPopState",
            value: function() {
                this.onChange({
                    url: window.location.pathname,
                    push: !1
                })
            }
        }, {
            key: "onResize",
            value: function() {
                this.responsive.onResize(),
                this.canvas && this.canvas.onResize(this.responsive),
                this.cursor && this.cursor.onResize(this.responsive),
                this.page && this.page.onResize && this.page.onResize(this.responsive),
                this.wheel.onResize()
            }
        }, {
            key: "onTouchDown",
            value: function(t) {
                t.stopPropagation(),
                this.mouse.x = t.touches ? t.touches[0].clientX : t.clientX,
                this.mouse.y = t.touches ? t.touches[0].clientY : t.clientY,
                this.canvas && this.canvas.onTouchDown(this.mouse),
                this.cursor && this.cursor.onTouchDown(this.mouse),
                this.page && this.page.onTouchDown && this.page.onTouchDown(t, this.mouse)
            }
        }, {
            key: "onTouchMove",
            value: function(t) {
                t.stopPropagation(),
                this.mouse.x = t.touches ? t.touches[0].clientX : t.clientX,
                this.mouse.y = t.touches ? t.touches[0].clientY : t.clientY,
                this.canvas && this.canvas.onTouchMove(this.mouse),
                this.cursor && this.cursor.onTouchMove(this.mouse),
                this.page && this.page.onTouchMove && this.page.onTouchMove(t, this.mouse)
            }
        }, {
            key: "onTouchUp",
            value: function(t) {
                t.stopPropagation(),
                this.mouse.x = t.changedTouches ? t.changedTouches[0].clientX : t.clientX,
                this.mouse.y = t.changedTouches ? t.changedTouches[0].clientY : t.clientY,
                this.canvas && this.canvas.onTouchUp(this.mouse),
                this.cursor && this.cursor.onTouchUp(this.mouse),
                this.page && this.page.onTouchUp && this.page.onTouchUp(t, this.mouse)
            }
        }, {
            key: "onWheel",
            value: function(t) {
                this.page && this.page.onWheel && this.page.onWheel(t)
            }
        }, {
            key: "addEventListeners",
            value: function() {
                window.addEventListener("popstate", this.onPopState, {
                    passive: !0
                }),
                window.addEventListener("resize", this.onResize, {
                    passive: !0
                }),
                window.addEventListener("mousedown", this.onTouchDown, {
                    passive: !0
                }),
                window.addEventListener("mousemove", this.onTouchMove, {
                    passive: !0
                }),
                window.addEventListener("mouseup", this.onTouchUp, {
                    passive: !0
                }),
                window.addEventListener("touchstart", this.onTouchDown, {
                    passive: !0
                }),
                window.addEventListener("touchmove", this.onTouchMove, {
                    passive: !0
                }),
                window.addEventListener("touchend", this.onTouchUp, {
                    passive: !0
                }),
                window.addEventListener("DOMMouseScroll", this.onWheel, {
                    passive: !0
                }),
                window.addEventListener("mousewheel", this.onWheel, {
                    passive: !0
                }),
                window.addEventListener("wheel", this.onWheel, {
                    passive: !0
                }),
                window.oncontextmenu = this.onContextMenu
            }
        }, {
            key: "addLinksEventsListeners",
            value: function() {
                var t = this
                  , e = document.querySelectorAll("a");
                R()(e, (function(e) {
                    e.href.indexOf(window.location.origin) > -1 ? e.onclick = function(n) {
                        n.preventDefault(),
                        t.onChange({
                            url: e.href
                        })
                    }
                    : -1 === e.href.indexOf("mailto") && -1 === e.href.indexOf("tel") && (e.rel = "noopener",
                    e.target = "_blank")
                }
                ))
            }
        }]) && yu(e.prototype, n),
        r && yu(e, r),
        t
    }();
    window.APP = new bu
}
]);
